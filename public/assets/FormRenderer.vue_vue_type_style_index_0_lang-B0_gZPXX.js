import{i as ce,L as te,M as he,V as Le,r as A,w as ne,c as Re,n as t,D as P,G as z,y as _,f as i,v as a,H as J,P as le,q as T,m as ye,A as x,x as K,F as p,k as Ue,z as Ke,a1 as ke,O as Oe,E as el,$ as Ee,b as ll,a6 as tl,p as ze,d as je,ad as al,ar as qe,aO as nl,u as ul,aP as sl,l as ol,aQ as Pe}from"./index-CmkZvSgH.js";import{F as se}from"./form-Cqw16b_M.js";import{S as il}from"./submission-DAi9v6uc.js";import{u as xe}from"./useModel-NvPgpzdX.js";import{s as Te}from"./index-fwfMqYug.js";import{V as pe,b as _e,a as me,c as Ve,d as De}from"./VList-DX2T0RkJ.js";import{V as j,a as Y}from"./VRow-Csx6cuaM.js";import{V as be}from"./VCheckbox-DkURkqKG.js";import{V as Ae,c as rl,d as Me,e as dl,f as vl}from"./VSelect-DacQ6mmz.js";import{T as ml}from"./ticket-DqurB3v3.js";import{c as Ce,s as Be}from"./sorted-PYsDa1V2.js";import{d as Se,V as Q,o as cl,u as Qe}from"./VGrid-DEcN9gmW.js";import{c as fl}from"./copyToClipboard-BtcEYe2-.js";import{a as pl,l as fe,_ as He}from"./SaveButton.vue_vue_type_script_setup_true_lang-BouPr-R4.js";import{u as Ze}from"./useStoreAPI-niUUcimf.js";import{V as Ge}from"./forwardRefs-CaEMho-5.js";import{a as $e,V as Ie,m as hl,b as gl}from"./VTextField-DBtI4-Zo.js";import{V as Ye}from"./VTooltip-CGPdPIud.js";import{V as bl}from"./VFileInput-f5-CdsWD.js";import{V as Ne}from"./VForm-BK6BOMxF.js";import{_ as yl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Ul}from"./VTextarea-BzPpzK72.js";import{V as Xe}from"./VAutocomplete-BP6KqA3b.js";import{G as Il}from"./userData-Ci8TGkug.js";import{v as we}from"./v4-CtRu48qb.js";import{V as Dl}from"./VContainer-HBhpwNUe.js";import{e as Tl,a as Vl,b as kl,c as Cl}from"./VCard-BOi-UBij.js";var ae=(m=>(m.ACCOMMODATION="ACCOMMODATION",m.AGE="AGE",m.BADGE_IMAGE="BADGE_IMAGE",m.CHECKBOX="CHECKBOX",m.DATE="DATE",m.EXTRAS="EXTRAS",m.HTML="HTML",m.INTERESTS="INTERESTS",m.RADIO="RADIO",m.SELECT="SELECT",m.TEXT="TEXT",m.TEXTAREA="TEXTAREA",m.TICKET="TICKET",m.NUMBER="NUMBER",m))(ae||{});const Ot=[{title:"Accommodation",value:"ACCOMMODATION"},{title:"Additional Purchase",value:"EXTRAS"},{title:"Age Check",value:"AGE"},{title:"Badge Image",value:"BADGE_IMAGE"},{title:"Button",value:"RADIO"},{title:"Checkbox",value:"CHECKBOX"},{title:"Date",value:"DATE"},{title:"Dropdown",value:"SELECT"},{title:"HTML",value:"HTML"},{title:"Interests",value:"INTERESTS"},{title:"Text",value:"TEXT"},{title:"Textarea",value:"TEXTAREA"},{title:"Ticket",value:"TICKET"},{title:"Number",value:"NUMBER"}],Sl={class:"extrasList"},wl=ce({__name:"Extras",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(m,{emit:q}){const V=m,{admin:w=!1,convention:L,disabled:h=!1}=V,E=he(m,"modelValue"),U=q,B=Le.getInstance(),O=A({});try{O.value=JSON.parse(E.value)}catch{}const I=A([]),l=A([]);ne(V,()=>{R()}),ne(O.value,d=>{for(const S in d)if(d[S].checked){const n=I.value.map(s=>{var g;return(g=s.Options)==null?void 0:g.find(f=>f.OptionUUID===S)});if(n&&n.length>0)try{const s=n[0];d[S].choiceId===""&&s&&s.Choices&&s.Choices.length>0&&(d[S].choiceId=s.Choices[0].TagUUID),d[S].price=s==null?void 0:s.Price}catch{}}else d[S].choiceId="",d[S].price=0;E.value=JSON.stringify(d),o()});const y=Re({get:()=>I.value.map(d=>d.ExtraUUID),set:()=>{}}),R=()=>{var S;const d=((S=V.items.find(n=>n.Title==="SelectedExtras"))==null?void 0:S.Value)||"[]";try{const n=JSON.parse(d);I.value=l.value.filter(s=>n.find(g=>g===s.ExtraUUID))||[],y.value=[...I.value.map(s=>s.ExtraUUID)],I.value.forEach(s=>{var g;(g=s.Options)==null||g.forEach(f=>{O.value[f.OptionUUID]||(O.value[f.OptionUUID]={choiceId:"",checked:!1})})})}catch{}};"Extras"in L&&L.Extras.length?(l.value=L.Extras,R()):"ConventionUUID"in L&&(w?B==null||B.getConventionExtras(L.ConventionUUID).then(d=>{d&&(l.value=d,R())}):B==null||B.getAvailableConventionExtras(L.ConventionUUID).then(d=>{d&&(l.value=d,R())}));const o=(d=void 0)=>{setTimeout(()=>U("change",d),100)};return(d,S)=>(t(),P("div",Sl,[z("h4",null,_(d.label),1),i(pe,{opened:y.value,"onUpdate:opened":S[0]||(S[0]=n=>y.value=n)},{default:a(()=>[(t(!0),P(J,null,le(I.value,n=>(t(),T(_e,{key:n.ExtraUUID,value:n.ExtraUUID},{activator:a(({props:s})=>[i(me,ye({"prepend-icon":"mdi:mdi-group","append-icon":"",ref_for:!0},s),{default:a(()=>[n.Name?(t(),T(Ve,{key:0},{default:a(()=>[z("strong",null,_(n.Name),1)]),_:2},1024)):x("",!0),n.Description?(t(),T(De,{key:1,class:"mt-2 d-inline"},{default:a(()=>[K(_(n.Description),1)]),_:2},1024)):x("",!0)]),_:2},1040)]),default:a(()=>[n.Options?(t(!0),P(J,{key:0},le(n.Options,s=>(t(),T(me,{key:s.OptionUUID,class:"override-pl"},{default:a(()=>[i(j,null,{default:a(()=>[i(Y,{cols:"12",sm:"6"},{default:a(()=>[i(be,{label:`${s.Name} ${s.Price&&s.Price!==0?`(${p(Te).currencySymbol}${s.Price})`:""}`,modelValue:O.value[s.OptionUUID].checked,"onUpdate:modelValue":g=>O.value[s.OptionUUID].checked=g,disabled:p(h),"hide-details":"",onChange:o},null,8,["label","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024),s.Choices&&s.Choices.length>1&&O.value[s.OptionUUID].checked?(t(),T(Y,{key:0,cols:"12",sm:"6"},{default:a(()=>[i(Ae,{items:s.Choices.sort((g,f)=>g.Title.localeCompare(f.Title)).map(g=>({value:g.TagUUID,title:g.Title})),modelValue:O.value[s.OptionUUID].choiceId,"onUpdate:modelValue":g=>O.value[s.OptionUUID].choiceId=g,"item-value":"value","item-title":"title",variant:"outlined",disabled:p(h),"hide-details":"",onChange:o},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)):x("",!0)]),_:2},1024)]),_:2},1024))),128)):x("",!0)]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]))}}),El=["innerHTML"],Al=ce({__name:"HTML",props:{data:{}},setup(m){const q=m,V=A({html:""}),w=()=>{try{const L=JSON.parse(q.data);L&&(V.value=L)}catch{}};return w(),ne(q,()=>{w()}),(L,h)=>(t(),P("div",{innerHTML:V.value.html},null,8,El))}}),Ml={class:"interestList"},$l=ce({__name:"Interests",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(m,{emit:q}){const V=m,{admin:w=!1,convention:L,disabled:h=!1}=V,E=he(m,"modelValue"),U=q,B=Le.getInstance(),O=A({});try{O.value=JSON.parse(E.value)}catch{}const I=A([]),l=A([]);ne(O.value,d=>{E.value=JSON.stringify(d)});const y=A([]),R=()=>{var S;const d=((S=V.items.find(n=>n.Title==="SelectedInterests"))==null?void 0:S.Value)||"[]";try{const n=JSON.parse(d);I.value=l.value.filter(s=>n.find(g=>g===s.InterestUUID))||[],y.value=[...I.value.map(s=>s.InterestUUID)]}catch{}};"ConventionUUID"in L&&(w?B==null||B.getConventionInterests(L.ConventionUUID).then(d=>{d&&(l.value=d,R())}):B==null||B.getConventionInterests(L.ConventionUUID).then(d=>{d&&(l.value=d,R())})),ne(V,()=>{R()});const o=(d=void 0)=>{setTimeout(()=>U("change",d),100)};return(d,S)=>(t(),P("div",Ml,[z("h4",null,_(d.label),1),i(pe,{opened:y.value,"onUpdate:opened":S[0]||(S[0]=n=>y.value=n)},{default:a(()=>[(t(!0),P(J,null,le(I.value.sort((n,s)=>n.Order>s.Order?1:n.Order==s.Order?0:-1),n=>(t(),T(me,{key:n.InterestUUID},{default:a(()=>[i(j,null,{default:a(()=>[i(Y,null,{default:a(()=>[i(be,{label:`${n.Name} ${n.Price&&n.Price>0?`(${p(Te).currencySymbol}${n.Price})`:""}`,modelValue:O.value[n.InterestUUID],"onUpdate:modelValue":s=>O.value[n.InterestUUID]=s,disabled:p(h),messages:n.Description,onChange:o},null,8,["label","modelValue","onUpdate:modelValue","disabled","messages"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["opened"])]))}}),Fe=(m,q,V)=>{if(V>=m.length){let w=V-m.length+1;for(;w--;)m.push(void 0)}m.splice(V,0,m.splice(q,1)[0])},Ll={class:"ticketList"},Rl={key:0,class:"text-orange-darken-1"},Ol=ce({__name:"Tickets",props:te({admin:{type:Boolean},convention:{},disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change"],["update:modelValue"]),setup(m,{emit:q}){const V=m,{admin:w=!1,convention:L,disabled:h=!1,registrationGroup:E=void 0}=V,U=he(m,"modelValue"),B=q,O=Le.getInstance(),I=A({Ticket:[],AddonsChecked:[],ComponentsChecked:[]});try{I.value=JSON.parse(U.value),"ticket"in I.value&&(I.value.Ticket=I.value.ticket),"addonsChecked"in I.value&&(I.value.AddonsChecked=I.value.addonsChecked),"componentsChecked"in I.value&&(I.value.ComponentsChecked=I.value.componentsChecked)}catch{}const l=A([]),y=A([]),R=A([]),o=A({required:(g,f=void 0)=>()=>{if(h||!(E!=null&&E.Registration.Leader))return!0;if(f==null){if(I.value.Ticket.length===0&&V.required)return"Must select at least one ticket option.";if(g&&g.ComponentsRequired>0&&I.value.Ticket.includes(g.TicketUUID||"")){let G=0;if(g.TicketComponents.forEach(F=>{I.value.ComponentsChecked.forEach(W=>{F.TicketUUID===W&&(G+=1)})}),G<g.ComponentsRequired)return`Must select ticket ${g.ComponentsRequired} component${g.ComponentsRequired===1?"":"s"}`}}return!0}}),d=()=>{var f;const g=((f=V.items.find(G=>G.Title==="SelectedTickets"))==null?void 0:f.Value)||"[]";try{const G=JSON.parse(g);l.value=y.value.filter(F=>F.Type==="TICKET_TYPE_GROUP"&&G.find(W=>W===F.TicketUUID))||[],R.value=[...l.value.filter(F=>F.Type==="TICKET_TYPE_GROUP").map(F=>F.TicketUUID)]}catch{}};if("ConventionUUID"in L)if(w)O==null||O.getConventionTickets(L.ConventionUUID).then(g=>{g&&(y.value=g,d())});else{const g=V.items.find(f=>f.Title==="SelectedTickets");g&&(O==null||O.getFieldTickets(g.FieldUUID).then(f=>{f&&(y.value=f,d())}))}ne(V,()=>{d()});const S=g=>{I.value.Ticket.length>1&&I.value.Ticket.shift(),I.value.ComponentsChecked=[];const f=[];l.value.forEach(G=>{(I.value.Ticket.includes(G.TicketUUID)||I.value.ComponentsChecked.includes(G.TicketUUID))&&f.push(...G.AddonTickets.map(F=>F.TicketUUID))}),I.value.AddonsChecked=I.value.AddonsChecked.filter(G=>f.includes(G)),s(g)},n=g=>{const f=y.value.find(G=>G.TicketUUID===I.value.Ticket[0]);if(f)for(;I.value.ComponentsChecked.length>f.ComponentsRequired;)I.value.ComponentsChecked.shift();s(g)},s=(g=void 0)=>{U.value=JSON.stringify(I.value),setTimeout(()=>B("change",g),100)};try{E!=null&&E.TicketData&&(I.value=JSON.parse(E.TicketData),"ticket"in I.value&&(I.value.Ticket=I.value.ticket),"addonsChecked"in I.value&&(I.value.AddonsChecked=I.value.addonsChecked),"componentsChecked"in I.value&&(I.value.ComponentsChecked=I.value.componentsChecked),s())}catch{}return(g,f)=>{var G;return t(),P("div",Ll,[z("h4",null,[K(_(g.label)+" ",1),(G=p(E))!=null&&G.Registration.Leader?x("",!0):(t(),P("small",Rl,"(controlled by group leader)"))]),i(pe,{opened:R.value,"onUpdate:opened":f[4]||(f[4]=F=>R.value=F)},{default:a(()=>[(t(!0),P(J,null,le(p(Ce)(l.value.filter(F=>F.Type===p(ml).TICKET_TYPE_GROUP)),F=>(t(),P(J,{key:F.TicketUUID},[F.Tickets.length>0?(t(),T(_e,{key:0,value:F.TicketUUID},{activator:a(({props:W})=>[i(me,ye({ref_for:!0},W,{"prepend-icon":"mdi:mdi-group"}),{default:a(()=>[i(Ve,null,{default:a(()=>[z("strong",null,_(F.Name),1)]),_:2},1024),i(De,{class:"d-inline"},{default:a(()=>[K(_(F.Description),1)]),_:2},1024)]),_:2},1040)]),default:a(()=>[(t(!0),P(J,null,le(F.Tickets,W=>(t(),T(me,{key:W.TicketUUID,class:"override-pl"},{default:a(()=>{var C;return[i(De,{class:"d-inline"},{default:a(()=>[K(_(W.Description),1)]),_:2},1024),i(be,{modelValue:I.value.Ticket,"onUpdate:modelValue":f[0]||(f[0]=r=>I.value.Ticket=r),value:W.TicketUUID,onChange:S,rules:[o.value.required(W)],"validate-on":"submit",disabled:p(h)||!((C=p(E))!=null&&C.Registration.Leader)},{label:a(()=>[i(Se,{icon:W.RequiresAccommodation?"mdi:mdi-home":W.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${W.Name} ${W.Price>0?`(${p(Te).currencySymbol}${W.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"]),I.value.Ticket.length>0&&W.TicketUUID===I.value.Ticket[0]?(t(),P(J,{key:0},[W.AddonTickets.length?(t(),T(pe,{key:0},{default:a(()=>[(t(!0),P(J,null,le(p(Ce)(W.AddonTickets),r=>(t(),P(J,{key:r==null?void 0:r.TicketUUID},[r?(t(),T(me,{key:0},{default:a(()=>[i(Ve,null,{default:a(()=>{var M;return[i(be,{modelValue:I.value.AddonsChecked,"onUpdate:modelValue":f[1]||(f[1]=k=>I.value.AddonsChecked=k),value:r.TicketUUID,onChange:f[2]||(f[2]=k=>{I.value.ComponentsChecked=[],s(k)}),disabled:p(h)||!((M=p(E))!=null&&M.Registration.Leader)},{label:a(()=>[i(Se,{icon:r.RequiresAccommodation?"mdi:mdi-home-plus":r.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${r.Name} ${r.Price>0?`(${p(Te).currencySymbol}${r.Price})`:""}`),1)]),_:2},1032,["modelValue","value","disabled"])]}),_:2},1024),i(De,{class:"d-inline"},{default:a(()=>[K(_(r.Description),1)]),_:2},1024)]),_:2},1024)):x("",!0)],64))),128))]),_:2},1024)):x("",!0),W.TicketComponents.length?(t(),T(pe,{key:1},{default:a(()=>[(t(!0),P(J,null,le(p(Ce)(W.TicketComponents),r=>(t(),P(J,{key:r==null?void 0:r.TicketUUID},[r?(t(),T(me,{key:0},{default:a(()=>[i(Ve,null,{default:a(()=>{var M;return[i(be,{modelValue:I.value.ComponentsChecked,"onUpdate:modelValue":f[3]||(f[3]=k=>I.value.ComponentsChecked=k),value:r.TicketUUID,onChange:n,rules:[o.value.required(W,r)],"validate-on":"submit",disabled:p(h)||!((M=p(E))!=null&&M.Registration.Leader)},{label:a(()=>[i(Se,{icon:r.RequiresAccommodation?"mdi:mdi-home-plus":r.ComponentsRequired>0?"mdi:mdi-ticket-confirmation":"mdi:mdi-ticket",class:"mx-2"},null,8,["icon"]),K(" "+_(`${r.Name} ${r.Price>0?`(${p(Te).currencySymbol}${r.Price})`:""}`),1)]),_:2},1032,["modelValue","value","rules","disabled"])]}),_:2},1024),i(De,null,{default:a(()=>[K(_(r.Description),1)]),_:2},1024)]),_:2},1024)):x("",!0)],64))),128))]),_:2},1024)):x("",!0)],64)):x("",!0)]}),_:2},1024))),128))]),_:2},1032,["value"])):x("",!0)],64))),128))]),_:1},8,["opened"])])}}}),xl={key:0},ql={class:"d-flex flex-wrap my-2"},Pl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1 align-content-center"},Bl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Hl={class:"v-col-12 v-col-sm-10 v-col-md-11 pa-1"},Gl={class:"d-inline-block position-relative ml-4",style:{top:"-5px"}},Yl=["href"],Xl=ce({__name:"Accommodation",props:te({admin:{type:Boolean},convention:{},data:{},disabled:{type:Boolean},hint:{},items:{},label:{},name:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","update:items"],["update:modelValue"]),setup(m,{emit:q}){const V=m,{admin:w=!1,convention:L,disabled:h}=V,E=q,U=he(m,"modelValue"),B=xe(V,E,void 0,void 0,"items"),O=Oe(),I=Ze(),l=el.getInstance(),y=A(Ue(U.value)),R=A([]),o=A(),d=A({sharing:!1}),S=()=>{try{const u=JSON.parse(V.data);u&&(d.value=u)}catch{}};S(),ne(V,()=>{S(),V.registrationGroup&&(R.value=V.registrationGroup.Members,o.value=V.registrationGroup.Registration)}),ne(y,u=>{U.value=Ue(u)},{deep:!0});const n=A(""),s=A(!1),g=()=>{var u;(u=o.value)!=null&&u.Leader&&O.getRegistrationInvite(L.ConventionUUID).then(D=>{if(D){const oe=new URL(location.href);oe.searchParams.set("token",D),n.value=oe.toString()}})},f=()=>{fl(n.value),g(),s.value=!0,setTimeout(()=>s.value=!1,2200)},G=(u=void 0)=>{setTimeout(()=>E("change",u),100)},F=A({required:u=>!V.required||u.length>0||"Selections Required"}),W=u=>u?`${u.Reference?`#${u.Reference}`:"(not registered)"} ${u.Name}`:"",C=()=>{var u;l.emit("registration.group.leave",(u=o.value)==null?void 0:u.RegistrationUUID)},r=u=>{l.emit("registration.group.remove.member",u)},M=A([]);ne(B,()=>{k()});const k=()=>{w?O.getConventionAccommodation(L.ConventionUUID).then(u=>{M.value=u.filter(D=>!!(B!=null&&B.value.find(oe=>oe.Value===D.AccommodationUUID)))||[]}):B.value.length>0&&O.getFieldAccommodation(B.value[0].FieldUUID).then(u=>{M.value=u.filter(D=>!!(B!=null&&B.value.find(oe=>oe.Value===D.AccommodationUUID)))||[]})};k(),(()=>{var u;if(V.registrationGroup)if(R.value=V.registrationGroup.Members,o.value=V.registrationGroup.Registration,(u=o.value)!=null&&u.Leader)g();else try{y.value=JSON.parse(V.registrationGroup.AccommodationData),G()}catch{}})();const X=A({column:0,id:""}),re=()=>{!h&&!y.value.includes(X.value.id)&&(X.value.column===0&&X.value.id!==""&&y.value.push(X.value.id),G())},de=()=>{const u=y.value.findIndex(D=>D===X.value.id);!h&&u>=0&&(y.value.splice(u,1),G())},ge=()=>{if(h||X.value.column!==1)return;const u=y.value.findIndex(D=>D===X.value.id);u<=0||(Fe(y.value,u,u-1),G())},Z=()=>{if(h||X.value.column!==1)return;const u=y.value.findIndex(D=>D===X.value.id);u>=y.value.length-1||(Fe(y.value,u,u+1),G())};return(u,D)=>{var oe;return t(),P(J,null,[z("h4",null,_(u.label),1),i(j,null,{default:a(()=>[i(Y,{cols:"12"},{default:a(()=>{var H,ee;return[R.value&&o.value&&d.value.sharing?(t(),P("div",xl,[D[16]||(D[16]=z("strong",null,"Your Sharing Group",-1)),!p(h)&&((H=R.value.find(N=>N.IsLeader))==null?void 0:H.UUID)!==o.value.RegistrationUUID?(t(),T(Q,{key:0,color:"red",variant:"text",onClick:C},{default:a(()=>D[10]||(D[10]=[K("(leave group)")])),_:1})):x("",!0),z("dl",ql,[D[12]||(D[12]=z("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 font-weight-bold pa-1 pt-4"}," Leader: ",-1)),z("dd",Pl,[i(Ge,{class:"rounded-circle d-inline-block",src:p(I).GetProfileImageURL(((ee=R.value.find(N=>N.IsLeader))==null?void 0:ee.UserUUID)||""),height:"32",width:"32"},null,8,["src"]),z("div",Bl,_(W(R.value.find(N=>N.IsLeader))),1)]),(t(!0),P(J,null,le(R.value,N=>(t(),P(J,{key:N.UUID},[N.IsLeader?x("",!0):(t(),P(J,{key:0},[D[11]||(D[11]=z("dt",{class:"v-col-12 v-col-sm-2 v-col-md-1 pa-1 pt-4"}," Member: ",-1)),z("dd",Hl,[i(Ge,{class:"rounded-circle d-inline-block",src:p(I).GetProfileImageURL(N.UserUUID),height:"32",width:"32"},null,8,["src"]),z("div",Gl,[K(_(W(N))+" ",1),o.value.Leader?(t(),T(Q,{key:0,variant:"text",class:"ml-4",icon:"mdi:mdi-close-circle",color:"red",size:"xs",title:"Remove Member",onClick:e=>r(N.UUID),disabled:p(h)},null,8,["onClick","disabled"])):x("",!0)])])],64))],64))),128))]),i(pl,{modelValue:s.value,"onUpdate:modelValue":D[0]||(D[0]=N=>s.value=N),message:"Invite Link Copied",timeout:2e3},null,8,["modelValue"]),n.value&&o.value.Leader&&!p(h)?(t(),P(J,{key:1},[z("a",{href:n.value,onClick:Ke(f,["prevent"]),class:"text-white text-decoration-none"},[i(Q,{color:"blue",class:"mb-2"},{default:a(()=>D[13]||(D[13]=[K("Get Invite Link")])),_:1})],8,Yl),D[14]||(D[14]=z("br",null,null,-1)),D[15]||(D[15]=z("small",null,"Link will be copied to clipboard for you to paste (ctrl+v) in to message or email",-1))],64)):x("",!0)])):x("",!0)]}),_:1})]),_:1}),o.value&&!o.value.Leader?(t(),T(j,{key:0},{default:a(()=>[i(Y,{cols:"10",md:"5"},{default:a(()=>[D[17]||(D[17]=z("strong",null,"Your Groups Accommodation",-1)),D[18]||(D[18]=z("br",null,null,-1)),D[19]||(D[19]=z("small",null,"(in order of preference, controlled by group leader)",-1)),i(pe,null,{default:a(()=>[(t(!0),P(J,null,le(y.value.map(H=>M.value.find(ee=>ee.AccommodationUUID==H)).filter(H=>H!==void 0),(H,ee)=>(t(),P(J,null,[H?(t(),T(me,{key:H.AccommodationUUID,title:`${ee+1}. ${H.Name}`,class:ke(X.value.column===1&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border")},null,8,["title","class"])):x("",!0)],64))),256))]),_:1})]),_:1})]),_:1})):(t(),T(j,{key:1},{default:a(()=>[i(Y,{cols:"12",md:"5"},{default:a(()=>[D[20]||(D[20]=z("strong",null,"Accommodation Options",-1)),D[21]||(D[21]=z("br",null,null,-1)),i(pe,null,{default:a(()=>[(t(!0),P(J,null,le(M.value,H=>(t(),T(me,{key:H.AccommodationUUID,title:H.Name,class:ke(X.value.column===0&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:ee=>X.value={column:0,id:H.AccommodationUUID},"append-icon":p(h)?"":"mdi:mdi-gesture-tap",onDblclick:D[1]||(D[1]=ee=>re())},null,8,["title","class","onClick","append-icon"]))),128))]),_:1})]),_:1}),p(h)?x("",!0):(t(),T(Y,{key:0,cols:"12",md:"1"},{default:a(()=>[i(j,{class:"d-md-none"},{default:a(()=>[i(Y,{cols:"12",class:"text-center"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:D[2]||(D[2]=H=>re()),color:"primary",title:"Select"}),D[22]||(D[22]=K(" Â  ")),i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:D[3]||(D[3]=H=>de()),color:"secondary",title:"Remove"})]),_:1})]),_:1}),i(j,{class:"d-none d-md-flex h-100 align-content-center"},{default:a(()=>[i(Y,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-right",size:"small",onClick:D[4]||(D[4]=H=>re()),color:"primary",title:"Select"})]),_:1}),i(Y,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-left",size:"small",onClick:D[5]||(D[5]=H=>de()),color:"secondary",title:"Remove"})]),_:1})]),_:1})]),_:1})),i(Y,{cols:"10",md:"5"},{default:a(()=>[D[23]||(D[23]=z("strong",null,"Your Chosen Accommodation",-1)),i(pe,null,{default:a(()=>[(t(!0),P(J,null,le(y.value.map(H=>M.value.find(ee=>ee.AccommodationUUID==H)).filter(H=>H!==void 0),(H,ee)=>(t(),P(J,null,[H?(t(),T(me,{key:H.AccommodationUUID,title:`${ee+1}. ${H.Name}`,class:ke(X.value.column===1&&X.value.id===H.AccommodationUUID?"bg-blue-accent-3":"border-dashed border"),onClick:N=>X.value={column:1,id:(H==null?void 0:H.AccommodationUUID)||""},"append-icon":p(h)?"":"mdi:mdi-gesture-tap",onDblclick:D[6]||(D[6]=N=>de())},null,8,["title","class","onClick","append-icon"])):x("",!0)],64))),256))]),_:1}),D[24]||(D[24]=z("small",null,"(in order of preference)",-1))]),_:1}),p(h)?x("",!0):(t(),T(Y,{key:1,cols:"2",md:"1"},{default:a(()=>[i(j,{class:"d-flex h-100 align-content-center mt-3"},{default:a(()=>[i(Y,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-up",size:"small",onClick:D[7]||(D[7]=H=>ge()),color:"primary",title:"Higher Priority"})]),_:1}),i(Y,{cols:"12"},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-down",size:"small",onClick:D[8]||(D[8]=H=>Z()),color:"secondary",title:"Lower Priority"})]),_:1})]),_:1})]),_:1}))]),_:1})),(oe=o.value)!=null&&oe.Leader?(t(),T($e,{key:2,modelValue:U.value,"onUpdate:modelValue":D[9]||(D[9]=H=>U.value=H),disabled:p(h)||!1,"persistent-hint":u.persistentHint||!1,"error-messages":u.errorMessages||"",rules:[F.value.required],class:"accommodation-field-warning"},null,8,["modelValue","disabled","persistent-hint","error-messages","rules"])):x("",!0)],64)}}}),Fl=ce({__name:"AgeCheck",props:te({disabled:{type:Boolean},hint:{},label:{},name:{},items:{},persistentHint:{type:Boolean},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(m,{emit:q}){const V=q,w=m,L=xe(w,V,void 0,void 0,"items"),h=he(m,"modelValue"),E=A({required:l=>!w.required||!!l||"Required.",min:l=>{var g,f;const y=new Date,R=y.getFullYear(),o=(y.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2}),d=y.getDate().toLocaleString("en-US",{minimumIntegerDigits:2}),S=((g=L.value.find(G=>G.Title=="MIN_AGE"))==null?void 0:g.Value)||"18",n=((f=L.value.find(G=>G.Title=="BEFORE_DATE"))==null?void 0:f.Value)||`${R}-${o}-${d}`,s=O(n);return B(l,n,parseInt(S))||`You must be at least ${S} years old by ${s.toLocaleDateString(navigator.language,{timeZone:"UTC"})}.`}}),U=()=>(V("blur"),!(E.value.min(h.value||"")!==!0||E.value.required(h.value||"")!==!0)),B=(l,y,R)=>{if(l>=y)return!1;const o=O(l),S=O(y).getTime()-o.getTime(),n=1e3*60*60*24*365.25;return S/n>=R},O=l=>{const[y,R,o]=l.split("-");return new Date(parseInt(y),parseInt(R)-1,parseInt(o))},I=(l=void 0)=>{setTimeout(()=>V("change",l),100)};return(l,y)=>(t(),T(Ie,{modelValue:h.value,"onUpdate:modelValue":y[0]||(y[0]=R=>h.value=R),type:"date",hint:l.hint||"",label:l.label||"",name:l.name||"",variant:"outlined",disabled:l.disabled||!1,"persistent-hint":l.persistentHint||!1,"error-messages":l.errorMessages||"",rules:[E.value.required,E.value.min],onBlur:U,onChange:I},null,8,["modelValue","hint","label","name","disabled","persistent-hint","error-messages","rules"]))}});function Je(m){const q=JSON.parse(m),V={charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0};return q&&(q.charge&&fe.isNumber(q.charge)&&(V.charge=q.charge),q.free&&fe.isNumber(q.free)&&(V.free=q.free),q.height&&fe.isNumber(q.height)&&(V.height=q.height),q.label&&fe.isBoolean(q.label)&&(V.label=q.label),q.maximum&&fe.isNumber(q.maximum)&&(V.maximum=q.maximum),q.tags&&Array.isArray(q.tags)&&(V.tags=q.tags),q.width&&fe.isNumber(q.width)&&(V.width=q.width)),V}const Jl={class:"text-center"},Wl={key:0},Kl={key:0,class:"image-progress my-auto mx-auto"},zl=["onMousemove","onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend"],jl=["src","onLoad","onDragstart","onKeydown","onKeyup"],_l={key:0},Ql={key:1},Zl=ce({__name:"BadgeImage",props:te({disabled:{type:Boolean},hint:{},field:{},label:{},name:{},items:{},persistentHint:{type:Boolean},registration:{},required:{type:Boolean},errorMessages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["blur","change","update:items"],["update:modelValue"]),setup(m,{emit:q}){var N;const V=q,w=m,L=he(m,"modelValue"),h=A([]),E=A({charge:0,free:0,height:0,label:!1,maximum:0,tags:[],width:0}),U=A(1),B=Oe(),O=Ze(),I=Ee("badgeImageForm"),l=A(""),y=A([]),R=Ee("imageFileInput"),o=A([]),d=A([]),S=A([]),n=A(0),s=A(),g=A({imageNo:0,imageX:0,imageY:0,mouseDown:!1,mouseX:0,mouseY:0}),f=A(280),G=A(280),F=e=>{if(!o.value||e+1>o.value.length||!o.value[e])return;const b=o.value[e],v=h.value[e];v.left=parseInt(getComputedStyle(b).left),v.top=parseInt(getComputedStyle(b).top),v.height=b.height,v.width=b.width,L.value=JSON.stringify(h.value)},W=Re(()=>({"--preview-width":`${G.value}px`,"--preview-height":`${f.value}px`})),C=A([!1]);try{h.value=JSON.parse(L.value||"[]"),fe.isArray(h.value)||(fe.isObject(h.value)?h.value=[h.value]:h.value=[]),h.value.forEach((e,b)=>{e.fileUUID&&(d.value[b]=O.GetBadgeImageURL(e.fileUUID)),e.values||(w.field&&w.field.Values?e.values=w.field.Values.map(v=>({key:v.Value,value:""})):e.values=[]),w.field&&w.field.Values&&w.field.Values.forEach(v=>{e.values.find(c=>{if(c.key==v.Value)return!0})||e.values.push({key:v.Value,value:""})})}),U.value=h.value.length,w.field&&"Data"in w.field&&(E.value=Je(((N=w.field)==null?void 0:N.Data)||"")),U.value===0&&E.value.maximum===1&&(U.value=1)}catch{}w.registration&&B.getConBadgeDisplayName(w.registration.RegistrationUUID).then(e=>{e&&(l.value=e)}).catch(()=>{});const r=(e,b)=>{o.value[e]=b},M=e=>{var b;try{e.field&&"Data"in e.field&&(E.value=Je(((b=e.field)==null?void 0:b.Data)||"")),E.value.height&&(f.value=E.value.height),E.value.width&&(G.value=E.value.width)}catch{}k()},k=()=>{if(U.value>h.value.length)for(let e=0;e<U.value-h.value.length;e+=1){let b=[];w.field&&w.field.Values&&(b=w.field.Values.map(v=>({key:v.Value,value:""}))),h.value.push({fileUUID:"",height:0,label:"",left:0,top:0,values:b,width:0})}else U.value<h.value.length&&U.value>=0&&(h.value=h.value.slice(0,U.value));if(U.value>y.value.length){const e=y.value.length;for(let b=0;b<U.value-e;b+=1)y.value.push(!0)}else U.value<y.value.length&&U.value>=0&&(y.value=y.value.slice(0,U.value));if(U.value>d.value.length){const e=d.value.length;for(let b=0;b<U.value-e;b+=1)d.value.push("")}else U.value<d.value.length&&U.value>=0&&(d.value=d.value.slice(0,U.value));if(U.value>S.value.length){const e=S.value.length;for(let b=0;b<U.value-e;b+=1)S.value.push(!1)}else U.value<S.value.length&&U.value>=0&&(S.value=S.value.slice(0,U.value));if(U.value>C.value.length){const e=C.value.length;for(let b=0;b<U.value-e;b+=1)C.value.push(!1)}else U.value<C.value.length&&U.value>=0&&(C.value=C.value.slice(0,U.value));L.value=JSON.stringify(h.value)};ne(w,e=>{M(e)}),M(w),ne(U,()=>{k()});const $=A({required:e=>!w.required||!!e||"Required.",saved:e=>!y.value[e]||"File not uploaded."}),X=()=>(V("blur"),$.value.required(L.value||"")!==!0),re=(e,b=void 0)=>{h.value[e].top=0,h.value[e].left=0,h.value[e].width=0,h.value[e].height=0,ge(e).then(()=>{setTimeout(()=>{de(e)},100),setTimeout(()=>V("change",b),200)}).catch(()=>{})},de=e=>{if(!R.value)return;const v=R.value[e].$el.getElementsByTagName("input")[0];v&&v.files.length>0&&(d.value[e]=URL.createObjectURL(v.files[0]))},ge=async e=>{if(!I.value||!I.value[e])return;const b=new FormData(I.value[e].$el);y.value[e]=!1,S.value[e]=!0;const v=await O.SaveFormFile(b);v.Saved&&(S.value[e]=!1,y.value[e]=!0,h.value[e].fileUUID=v.FileUUID,C.value[e]=!0)},Z=(e,b)=>{const v=b.target;v.style.left="0px",v.style.top="0px",v.width>v.height?v.width=G.value*(v.width/v.height):v.width=G.value,v.classList.remove("d-none"),e>=0&&e<U.value&&F(e)},u=(e,b,v=0,ie=void 0)=>{if(ie&&ie.type)switch(ie.type){case"touchstart":case"touchend":ie.preventDefault();break}let c=500;if(!n.value)n.value=Date.now();else{const ve=Date.now()-n.value;ve>=3e3?c=1:ve>=2500?c=2:ve>=2e3?c=5:ve>=1500?c=12:ve>=1e3?c=25:ve>=500?c=50:ve>=250&&(c=100)}if(v!==c&&(clearInterval(s.value),s.value=setInterval(()=>{u(e,b,c)},c)),!o.value)return;const ue=o.value[e];switch(b){case 0:n.value=0,clearInterval(s.value),F(e);break;case 6:o.value&&o.value[e]&&(ue.width-=1);break;case 5:o.value&&o.value[e]&&(ue.width+=1);break;case 1:o.value&&o.value[e]&&(ue.style.top=`${(parseInt(getComputedStyle(ue).top)||0)-1}px`);break;case 2:o.value&&o.value[e]&&(ue.style.left=`${(parseInt(getComputedStyle(ue).left)||0)+1}px`);break;case 3:o.value&&o.value[e]&&(ue.style.top=`${(parseInt(getComputedStyle(ue).top)||0)+1}px`);break;case 4:o.value&&o.value[e]&&(ue.style.left=`${(parseInt(getComputedStyle(ue).left)||0)-1}px`);break}oe(e)},D=(e,b)=>{e===-1&&(e=g.value.imageNo);const v=o.value[e];switch(b.type){case"touchstart":b.preventDefault(),o.value&&o.value[e]&&(g.value.imageX=parseInt(getComputedStyle(o.value[e]).left)),o.value&&o.value[e]&&(g.value.imageY=parseInt(getComputedStyle(o.value[e]).top)),g.value.mouseX=b.touches[0].clientX,g.value.mouseY=b.touches[0].clientY,g.value.mouseDown=!0;break;case"mousedown":g.value.imageNo=e,o.value&&o.value[e]&&(g.value.imageX=parseInt(getComputedStyle(o.value[e]).left)),o.value&&o.value[e]&&(g.value.imageY=parseInt(getComputedStyle(o.value[e]).top)),g.value.mouseX=b.clientX,g.value.mouseY=b.clientY,g.value.mouseDown=!0;break;case"touchend":b.preventDefault();case"mouseup":g.value.mouseDown=!1,F(e);break;case"touchmove":if(!g.value.mouseDown)return;o.value&&o.value[e]&&(v.style.left=`${g.value.imageX+(b.touches[0].clientX-g.value.mouseX)}px`),o.value&&o.value[e]&&(v.style.top=`${g.value.imageY+(b.touches[0].clientY-g.value.mouseY)}px`);break;case"mousemove":if(!g.value.mouseDown)return;o.value&&o.value[e]&&(v.style.left=`${g.value.imageX+(b.clientX-g.value.mouseX)}px`),o.value&&o.value[e]&&(v.style.top=`${g.value.imageY+(b.clientY-g.value.mouseY)}px`);break;case"dragstart":b.preventDefault();break;case"keydown":switch(b.key){case"ArrowUp":b.preventDefault(),u(e,1);break;case"ArrowRight":b.preventDefault(),u(e,2);break;case"ArrowDown":b.preventDefault(),u(e,3);break;case"ArrowLeft":b.preventDefault(),u(e,4);break;case"+":b.preventDefault(),u(e,5);break;case"-":b.preventDefault(),u(e,6);break}break;case"keyup":u(e,0),F(e);break}oe(e)},oe=e=>{if(o.value&&o.value[e]){if(e+1>o.value.length)return;const b=o.value[e];if(b.width<G.value&&(b.width=G.value),b.height<f.value){const v=f.value-b.height,ie=b.width/b.height;b.width+=Math.ceil(v*ie)}(parseInt(getComputedStyle(o.value[e]).left)||0)>0&&(b.style.left="0px"),(parseInt(getComputedStyle(o.value[e]).top)||0)>0&&(b.style.top="0px"),(parseInt(getComputedStyle(o.value[e]).left)||0)<0-(b.width-G.value)&&(b.style.left=`${0-(b.width-G.value)}px`),(parseInt(getComputedStyle(o.value[e]).top)||0)<0-(b.height-f.value)&&(b.style.top=`${0-(b.height-f.value)}px`)}},H=e=>{try{clearInterval(s.value)}catch{}g.value.mouseDown=!1,n.value=0,F(g.value.imageNo)},ee=e=>{D(-1,e)};return window.addEventListener("mouseup",H),window.addEventListener("mousemove",ee),window.addEventListener("touchend",H),window.addEventListener("touchmove",ee),ll(()=>{window.removeEventListener("mouseup",H),window.removeEventListener("mousemove",ee),window.removeEventListener("touchend",H),window.removeEventListener("touchmove",ee)}),(e,b)=>(t(),P("div",null,[(t(!0),P(J,null,le(U.value,v=>(t(),P("div",{style:tl(W.value),key:v},[i(Ne,{ref_for:!0,ref:"badgeImageForm",enctype:"multipart/form-data"},{default:a(()=>{var ie;return[i(j,null,{default:a(()=>[i(Y,null,{default:a(()=>[i(bl,{label:e.label||"",hint:e.hint||"",name:e.name?"name":"badgeFile",variant:"outlined",ref_for:!0,ref:"imageFileInput",accept:"image/avif, image/bmp, image/gif, image/jpeg, image/png, image/webp",rules:[$.value.required],"error-messages":e.errorMessages||"","persistent-hint":e.persistentHint||!1,disabled:!y.value[v-1]||e.disabled||!1,"hide-details":"",onChange:c=>re(v-1,c),onBlur:X},null,8,["label","hint","name","rules","error-messages","persistent-hint","disabled","onChange"]),z("p",Jl,[y.value[v-1]?x("",!0):(t(),P("small",Wl,"File Uploading"))])]),_:2},1024)]),_:2},1024),E.value.label?(t(),T(j,{key:0},{default:a(()=>[i(Y,null,{default:a(()=>[i(Ie,{label:"Display Name",variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:h.value[v-1].label,"onUpdate:modelValue":c=>h.value[v-1].label=c,onInput:c=>F(v-1),onChange:c=>F(v-1)},null,8,["modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024)]),_:2},1024)):x("",!0),(ie=e.field)!=null&&ie.Multiple&&e.field.Values.length>0?(t(),T(j,{key:1},{default:a(()=>[(t(!0),P(J,null,le(e.field.Values,(c,ue)=>(t(),T(Y,{cols:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"2",key:c.FieldValueUUID},{default:a(()=>[i(Ie,{label:c.Title,variant:"outlined","prepend-icon":"mdi:mdi-label-outline","hide-details":"",modelValue:h.value[v-1].values[ue].value,"onUpdate:modelValue":ve=>h.value[v-1].values[ue].value=ve,onInput:ve=>F(v-1),onChange:ve=>F(v-1)},null,8,["label","modelValue","onUpdate:modelValue","onInput","onChange"])]),_:2},1024))),128))]),_:2},1024)):x("",!0),i(j,{class:"justify-center scale-down"},{default:a(()=>[i(Y,{cols:"12",class:"text-center"},{default:a(()=>[b[3]||(b[3]=K(" Preview ")),S.value[v-1]?(t(),P("div",Kl,[i(cl,{indeterminate:"",color:"primary",size:128,width:10},{default:a(()=>b[2]||(b[2]=[K("Uploading")])),_:1})])):(t(),P(J,{key:1},[z("div",{class:"image-preview my-auto mx-auto",onMousemove:c=>D(v-1,c),onMousedown:c=>D(v-1,c),onMouseup:c=>D(v-1,c),onTouchstart:c=>D(v-1,c),onTouchmove:c=>D(v-1,c),onTouchend:c=>D(v-1,c)},[z("img",{src:d.value[v-1],ref_for:!0,ref:c=>r(v-1,c),alt:"Your badge image",onLoad:c=>Z(v-1,c),onDragstart:c=>D(v-1,c),onKeydown:c=>D(v-1,c),onKeyup:c=>D(v-1,c),tabindex:"0",class:"d-none"},null,40,jl)],40,zl),E.value.label?(t(),P("h3",_l,_(h.value[v-1].label),1)):(t(),P("h3",Ql,_(l.value),1))],64))]),_:2},1024)]),_:2},1024),C.value[v-1]?(t(),T(j,{key:2,class:"justify-center"},{default:a(()=>[i(Y,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[i(Q,{icon:"mdi:mdi-arrow-left",color:"primary",onMousedown:c=>u(v-1,4,0,c),onMouseup:c=>u(v-1,0,0,c),onTouchstart:c=>u(v-1,4,0,c),onTouchend:c=>u(v-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-up",color:"secondary",onMousedown:c=>u(v-1,1,0,c),onMouseup:c=>u(v-1,0,0,c),onTouchstart:c=>u(v-1,1,0,c),onTouchend:c=>u(v-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-down",color:"secondary",onMousedown:c=>u(v-1,3,0,c),onMouseup:c=>u(v-1,0,0,c),onTouchstart:c=>u(v-1,3,0,c),onTouchend:c=>u(v-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-arrow-right",color:"primary",onMousedown:c=>u(v-1,2,0,c),onMouseup:c=>u(v-1,0,0,c),onTouchstart:c=>u(v-1,2,0,c),onTouchend:c=>u(v-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):x("",!0),C.value[v-1]?(t(),T(j,{key:3,class:"justify-center"},{default:a(()=>[i(Y,{cols:"12",class:"d-flex justify-space-between",style:{"max-width":"280px"}},{default:a(()=>[i(Q,{icon:"mdi:mdi-plus",color:"primary",onMousedown:c=>u(v-1,5,0,c),onMouseup:c=>u(v-1,0,0,c),onTouchstart:c=>u(v-1,5,0,c),onTouchend:c=>u(v-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"]),i(Q,{icon:"mdi:mdi-minus",color:"secondary",onMousedown:c=>u(v-1,6,0,c),onMouseup:c=>u(v-1,0,0,c),onTouchstart:c=>u(v-1,6,0,c),onTouchend:c=>u(v-1,0,0,c)},null,8,["onMousedown","onMouseup","onTouchstart","onTouchend"])]),_:2},1024)]),_:2},1024)):x("",!0)]}),_:2},1024)],4))),128)),E.value.maximum===0||E.value.maximum>1?(t(),T(j,{key:0},{default:a(()=>[i(Y,{class:"text-right"},{default:a(()=>[i(Ye,{text:"Add Badge",location:"top"},{activator:a(({props:v})=>[i(Q,ye({color:"success",icon:"mdi:mdi-plus",size:"xs",variant:"flat",disabled:e.disabled||U.value>=E.value.maximum&&E.value.maximum>0||!1},v,{onClick:b[0]||(b[0]=ie=>U.value<E.value.maximum||E.value.maximum===0?U.value+=1:null)}),null,16,["disabled"])]),_:1})]),_:1}),i(Y,null,{default:a(()=>[i(Ye,{text:"Remove Badge",location:"top"},{activator:a(({props:v})=>[i(Q,ye({color:"error",icon:"mdi:mdi-minus",size:"xs",variant:"flat",disabled:e.disabled||U.value==0||!1},v,{onClick:b[1]||(b[1]=ie=>U.value>=1?U.value-=1:null)}),null,16,["disabled"])]),_:1})]),_:1})]),_:1})):x("",!0)]))}}),Nl=yl(Zl,[["__scopeId","data-v-21b43760"]]),et=ze({...rl({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),lt=je()({name:"VRadio",props:et(),setup(m,q){let{slots:V}=q;return Qe(()=>{const w=Me.filterProps(m);return i(Me,ye(w,{class:["v-radio",m.class],style:m.style,type:"radio"}),V)}),{}}}),tt=ze({height:{type:[Number,String],default:"auto"},...hl(),...al(dl(),["multiple"]),trueIcon:{type:qe,default:"$radioOn"},falseIcon:{type:qe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),at=je()({name:"VRadioGroup",inheritAttrs:!1,props:tt(),emits:{"update:modelValue":m=>!0},setup(m,q){let{attrs:V,slots:w}=q;const L=nl(),h=Re(()=>m.id||`radio-group-${L}`),E=ul(m,"modelValue");return Qe(()=>{const[U,B]=sl(V),O=$e.filterProps(m),I=Me.filterProps(m),l=w.label?w.label({label:m.label,props:{for:h.value}}):m.label;return i($e,ye({class:["v-radio-group",m.class],style:m.style},U,O,{modelValue:E.value,"onUpdate:modelValue":y=>E.value=y,id:h.value}),{...w,default:y=>{let{id:R,messagesId:o,isDisabled:d,isReadonly:S}=y;return i(J,null,[l&&i(gl,{id:R.value},{default:()=>[l]}),i(vl,ye(I,{id:R.value,"aria-describedby":o.value,defaultsTarget:"VRadio",trueIcon:m.trueIcon,falseIcon:m.falseIcon,type:m.type,disabled:d.value,readonly:S.value,"aria-labelledby":l?R.value:void 0,multiple:!1},B,{modelValue:E.value,"onUpdate:modelValue":n=>E.value=n}),w)])}})}),{}}}),We=ce({__name:"FormField",props:te({admin:{type:Boolean},convention:{},name:{},field:{},disabled:{type:Boolean},maxLength:{},minLength:{},persistentHint:{type:Boolean},registrationGroup:{},required:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["change","input","update:field"],["update:modelValue"]),setup(m,{emit:q}){const V=m,{admin:w=!1,disabled:L=!1,persistentHint:h=!1,required:E=!1}=V,U=A(""),B=he(m,"modelValue"),O=q,I=xe(V,O,void 0,void 0,"field"),l=A(Ue(I.value)),y=A({maxlength:n=>!V.maxLength||n.length<=V.maxLength||`Maximum length is ${V.maxLength} characters. (Current length: ${n.length})`,minlength:n=>!V.minLength||n.length>=V.minLength||`Minimum length is ${V.minLength} characters. (Current length: ${n.length})`,required:n=>!V.required||!!n.replace(/\s/g,"")||"Required field."}),R=A(!1),o=A([]),d=A("");try{const n=JSON.parse(B.value);Array.isArray(n)?o.value=n:o.value=[],typeof n=="boolean"?R.value=n:R.value=!1,d.value=B.value}catch{R.value=!1,o.value=[],d.value=B.value}ne(R,()=>{B.value=JSON.stringify(R.value),O("input"),O("change")}),ne(o,()=>{B.value=JSON.stringify(o.value),O("input"),O("change")},{deep:!0}),ne(d,()=>{B.value=d.value,O("input"),O("change")}),ne(I.value,()=>{l.value.Type!==I.value.Type?(l.value=Ue(I.value),R.value=!1,o.value=[],d.value=""):l.value=Ue(I.value)});const S=(n=void 0)=>{O("change",n)};return(n,s)=>{var g;return l.value.Type===p(ae).TEXT?(t(),T(Ie,{key:0,modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=f=>d.value=f),name:n.name||"",hint:l.value.Hint,label:`${l.value.Label}${p(E)?"*":""}`,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).DATE?(t(),T(Ie,{key:1,modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=f=>d.value=f),type:"date",name:n.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).NUMBER?(t(),T(Ie,{key:2,modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=f=>d.value=f),type:"number",name:n.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).TEXTAREA?(t(),T(Ul,{key:3,modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=f=>d.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,placeholder:l.value.Placeholder,variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.maxlength,y.value.minlength,y.value.required],onChange:S,autocomplete:"off"},null,8,["modelValue","name","hint","label","placeholder","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).CHECKBOX?(t(),P(J,{key:4},[l.value.Multiple?(t(!0),P(J,{key:0},le(l.value.Values,f=>(t(),T(be,{key:f.ID,modelValue:o.value,"onUpdate:modelValue":s[4]||(s[4]=G=>o.value=G),name:n.name||"",hint:l.value.Hint,label:f.Title,value:f.Value,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,rules:[y.value.required],onChange:S},null,8,["modelValue","name","hint","label","value","disabled","persistent-hint","error-messages","rules"]))),128)):(t(),T(be,{key:1,modelValue:R.value,"onUpdate:modelValue":s[5]||(s[5]=f=>R.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,required:p(E),rules:[f=>!p(E)||!!f||"You must tick to continue!"],onChange:S},null,8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","required","rules"]))],64)):l.value.Type===p(ae).SELECT?(t(),P(J,{key:5},[!l.value.Autofill&&l.value.Multiple?(t(),T(Ae,{key:0,modelValue:o.value,"onUpdate:modelValue":s[6]||(s[6]=f=>o.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill&&l.value.Multiple?(t(),T(Xe,{key:1,modelValue:o.value,"onUpdate:modelValue":s[7]||(s[7]=f=>o.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,multiple:"",items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):l.value.Autofill?l.value.Autofill?(t(),T(Xe,{key:3,modelValue:d.value,"onUpdate:modelValue":s[9]||(s[9]=f=>d.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"])):x("",!0):(t(),T(Ae,{key:2,modelValue:d.value,"onUpdate:modelValue":s[8]||(s[8]=f=>d.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,items:l.value.Values,"item-title":"Title","item-value":"Value",variant:"outlined",disabled:p(L)||!1,"persistent-hint":p(h)||!1,"error-messages":U.value,rules:[y.value.required]},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages","rules"]))],64)):l.value.Type===p(ae).RADIO?(t(),T(at,{key:6,modelValue:d.value,"onUpdate:modelValue":s[10]||(s[10]=f=>d.value=f),name:n.name||"",hint:l.value.Hint,label:l.value.Label,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,rules:[y.value.required],onChange:S},{default:a(()=>[(t(!0),P(J,null,le(l.value.Values,f=>(t(),T(lt,{key:f.Value,label:f.Title,value:f.Value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","name","hint","label","disabled","persistent-hint","error-messages","rules"])):l.value.Type===p(ae).ACCOMMODATION?(t(),T(Xl,{key:7,modelValue:o.value,"onUpdate:modelValue":s[11]||(s[11]=f=>o.value=f),name:n.name,admin:p(w),convention:n.convention,"registration-group":n.registrationGroup,data:n.field.Data,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,required:p(E),onChange:S},null,8,["modelValue","name","admin","convention","registration-group","data","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).AGE?(t(),T(Fl,{key:8,modelValue:d.value,"onUpdate:modelValue":s[12]||(s[12]=f=>d.value=f),name:n.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,onChange:S},null,8,["modelValue","name","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===p(ae).BADGE_IMAGE?(t(),T(Nl,{key:9,modelValue:d.value,"onUpdate:modelValue":s[13]||(s[13]=f=>d.value=f),name:n.name,field:l.value,registration:(g=n.registrationGroup)==null?void 0:g.Registration,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,onChange:S},null,8,["modelValue","name","field","registration","hint","label","items","disabled","persistent-hint","error-messages"])):l.value.Type===p(ae).EXTRAS?(t(),T(wl,{key:10,modelValue:d.value,"onUpdate:modelValue":s[14]||(s[14]=f=>d.value=f),admin:p(w),convention:n.convention,name:n.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,required:p(E),onChange:S},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).INTERESTS?(t(),T($l,{key:11,modelValue:d.value,"onUpdate:modelValue":s[15]||(s[15]=f=>d.value=f),admin:p(w),convention:n.convention,name:n.name,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,required:p(E),onChange:S},null,8,["modelValue","admin","convention","name","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).TICKET?(t(),T(Ol,{key:12,modelValue:d.value,"onUpdate:modelValue":s[16]||(s[16]=f=>d.value=f),admin:p(w),convention:n.convention,name:n.name,"registration-group":n.registrationGroup,hint:l.value.Hint,label:l.value.Label,items:l.value.Values,disabled:p(L)||!1,"persistent-hint":p(h),"error-messages":U.value,required:p(E),onChange:S},null,8,["modelValue","admin","convention","name","registration-group","hint","label","items","disabled","persistent-hint","error-messages","required"])):l.value.Type===p(ae).HTML?(t(),T(Al,{key:13,data:n.field.Data},null,8,["data"])):x("",!0)}}}),nt={key:0,class:"my-2 text-white text-center"},ut={key:1,class:"admin-header my-2 text-white text-center"},st=["innerHTML"],ot=["innerHTML"],xt=ce({__name:"FormRenderer",props:te({admin:{type:Boolean},convention:{},data:{},editable:{type:Boolean},preview:{type:Boolean},registrationGroup:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:te(["close"],["update:modelValue"]),setup(m,{emit:q}){const V=q,w=he(m,"modelValue");Be(w.value.Sections),w.value.Sections.forEach(C=>{C.Fields&&Be(C.Fields)});const L=Ee("formValidator"),h=Il(),E=Oe(),U=A(!1),B=A(!1),O=A(!1),I=A(!1),l=A(!1),y=A(!1),R=A(!1),o=A(!1),d=A(!1),S=A(!1),n=A(!1),s=A((()=>{if(m.data!==void 0){const r=Ue(m.data);return w.value.Sections.forEach(M=>{M.Fields&&M.Fields.forEach(k=>{const $=m.data.Data.find(X=>X.SectionFieldUUID===k.SectionFieldUUID&&X.SectionFieldUUID==k.SectionFieldUUID);if($)k.Value=$.Data;else{const X={ID:0,SubmissionDataUUID:we(),SubmissionID:m.data.ID,SubmissionUUID:m.data.SubmissionUUID,SectionID:M.ID,SectionUUID:M.SectionUUID,SectionFieldID:k.ID,SectionFieldUUID:k.SectionFieldUUID,Data:k.Value,CreatedAt:"",DeletedAt:"",UpdatedAt:""};r.Data.push(X),k.Value=""}})}),r}const C={ID:0,SubmissionUUID:we(),FormID:w.value.ID,FormUUID:w.value.FormUUID,UserID:(h==null?void 0:h.ID)||0,UserUUID:(h==null?void 0:h.UserUUID)||"",Data:[],Status:il.SUBMISSION_STATUS_OPEN};return C.Data=w.value.Sections.map(r=>r.Fields?r.Fields.map(M=>({ID:0,SubmissionDataUUID:we(),SubmissionID:C.ID,SubmissionUUID:C.SubmissionUUID,SectionID:r.ID,SectionUUID:r.SectionUUID,SectionFieldID:M.ID,SectionFieldUUID:M.SectionFieldUUID,Data:""})):[]).flat(),C})()),g=(C,r,M)=>{const k=s.value.Data.find($=>$.SectionUUID===C&&$.SectionFieldUUID===r);k&&(k.Data=M)},f=(C,r,M,k,$)=>C!=null&&C.State.Independent?"/":C&&C.Type===se.FORM_TYPE_REGISTRATION?r&&!r.State.Independent&&(r.State.New||r.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/accommodation`:M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/dealer`:k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/badge`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/additional`:"/":C&&C.Type===se.FORM_TYPE_ACCOMMODATION?M&&!M.State.Independent&&(M.State.New||M.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/dealer`:k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/badge`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/additional`:"/":C&&C.Type===se.FORM_TYPE_DEALER?k&&!k.State.Independent&&(k.State.New||k.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/badge`:$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/additional`:"/":C&&C.Type===se.FORM_TYPE_BADGE?$&&!$.State.Independent&&($.State.New||$.State.Edit)?`/register/${m.convention.Slug||m.convention.ConventionUUID}/additional`:"/":(C&&C.Type===se.FORM_TYPE_ADDITIONAL,"/"),G=({callback:C})=>{E.getRegistrationByConvention(m.convention.ConventionUUID).then(r=>{C&&C("Loading"),E.getAvailableConventionForms(m.convention.ConventionUUID).then(M=>{r.Submissions.forEach((Z,u)=>{Z.Form||(r.Submissions[u].Form=M.find(D=>D.FormUUID===Z.FormUUID))});const k=r.Submissions.find(Z=>Z.FormUUID===s.value.FormUUID),$=r.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_ACCOMMODATION}),X=r.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_ADDITIONAL}),re=r.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_DEALER}),de=r.Submissions.find(Z=>{var u;return((u=Z.Form)==null?void 0:u.Type)===se.FORM_TYPE_BADGE}),ge=f(k==null?void 0:k.Form,$==null?void 0:$.Form,re==null?void 0:re.Form,de==null?void 0:de.Form,X==null?void 0:X.Form);Pe.push(ge)})})},F=({callback:C})=>{var r;(r=L.value)==null||r.validate().then(M=>{M.valid?E.saveSubmission(s.value).then(k=>{k?setTimeout(()=>{W(k,C,1)},1e3):C&&C("Failed to process request")}).catch(()=>{C&&C("Failed to process request")}):C&&C("Errors in form detected, please review and try again.")})},W=(C,r,M=1)=>{E.checkSubmission(C).then(k=>{if(k)if(k.Ready&&k.Submission){if(U.value=!1,s.value=k.Submission,r&&r("Saved"),m.admin)V("close");else if(k.Forms&&k.Forms.length>0){const $=k.Forms.find(u=>u.FormUUID===s.value.FormUUID),X=k.Forms.find(u=>u.Type===se.FORM_TYPE_ACCOMMODATION),re=k.Forms.find(u=>u.Type===se.FORM_TYPE_DEALER),de=k.Forms.find(u=>u.Type===se.FORM_TYPE_BADGE),ge=k.Forms.find(u=>u.Type===se.FORM_TYPE_ADDITIONAL),Z=f($,X,re,de,ge);Pe.push(Z)}}else{if(M>5&&(U.value=!0),M>10&&(B.value=!0),M>20&&(O.value=!0),M>30&&(I.value=!0),M>40&&(l.value=!0),M>50&&(y.value=!0),M>60&&(R.value=!0),M>70&&(o.value=!0),M>80&&(d.value=!0),M>90&&(S.value=!0),M>100&&(n.value=!0),M>200){r&&(U.value=!1,B.value=!1,O.value=!1,I.value=!1,l.value=!1,y.value=!1,R.value=!1,o.value=!1,d.value=!1,S.value=!1,n.value=!1,r("A problem was encountered during saving, please check form and try again."));return}setTimeout(()=>{W(C,r,M+1)},M<20?1e3*M:2e4)}else r&&(U.value=!1,B.value=!1,O.value=!1,I.value=!1,l.value=!1,y.value=!1,R.value=!1,o.value=!1,d.value=!1,S.value=!1,n.value=!1,r("A problem was encountered during saving, please check form and try again."))}).catch(()=>{r&&(U.value=!1,B.value=!1,O.value=!1,I.value=!1,l.value=!1,y.value=!1,R.value=!1,o.value=!1,d.value=!1,S.value=!1,n.value=!1,r("A problem was encountered during saving, please check form and try again."))})};return(C,r)=>{const M=ol("router-link");return t(),T(Dl,null,{default:a(()=>[i(Ne,{ref:"formValidator",autocomplete:"off",onSubmit:r[1]||(r[1]=Ke(()=>{},["prevent"]))},{default:a(()=>[w.value.Heading?(t(),P("h1",nt,_(w.value.Heading),1)):x("",!0),C.admin?(t(),P("h2",ut," (Admin Mode) ")):x("",!0),w.value.Description?(t(),P("div",{key:2,class:"my-2 form-description-container pa-5 border rounded-lg text-black",innerHTML:w.value.Description},null,8,st)):x("",!0),(t(!0),P(J,null,le(w.value.Sections,k=>(t(),T(Tl,{key:`section_${w.value.ID}.${k.ID}`,class:"my-4 section-container rounded-lg",elevation:"4"},{default:a(()=>[k.Heading?(t(),T(Vl,{key:0},{default:a(()=>[K(_(k.Heading),1)]),_:2},1024)):x("",!0),k.Description?(t(),T(kl,{key:1,class:"text-wrap"},{default:a(()=>[z("div",{innerHTML:k.Description},null,8,ot)]),_:2},1024)):x("",!0),k.Fields?(t(),T(Cl,{key:2},{default:a(()=>[(t(!0),P(J,null,le(k.Fields,$=>(t(),P(J,{key:`field_${w.value.ID}.${k.ID}.${$.ID}`},[$.Field?(t(),T(j,{key:0},{default:a(()=>[i(Y,null,{default:a(()=>[C.editable?(t(),T(We,{key:0,name:$.SectionFieldUUID,field:$.Field,modelValue:$.Value,"onUpdate:modelValue":X=>$.Value=X,admin:C.admin,convention:C.convention,"registration-group":C.registrationGroup,required:$.Required,"min-length":$.MinLength,"max-length":$.MaxLength,"persistent-hint":!0,onChange:X=>g(k.SectionUUID,$.SectionFieldUUID,$.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"])):(t(),T(We,{key:1,name:$.SectionFieldUUID,field:$.Field,modelValue:$.Value,"onUpdate:modelValue":X=>$.Value=X,admin:C.admin,convention:C.convention,"registration-group":C.registrationGroup,required:$.Required,"min-length":$.MinLength,"max-length":$.MaxLength,"persistent-hint":!0,disabled:"",onChange:X=>g(k.SectionUUID,$.SectionFieldUUID,$.Value)},null,8,["name","field","modelValue","onUpdate:modelValue","admin","convention","registration-group","required","min-length","max-length","onChange"]))]),_:2},1024)]),_:2},1024)):x("",!0)],64))),128))]),_:2},1024)):x("",!0)]),_:2},1024))),128)),C.preview?x("",!0):(t(),P(J,{key:3},[i(j,null,{default:a(()=>[C.admin?(t(),T(Y,{key:1,class:"text-right"},{default:a(()=>[i(Q,{color:"red",onClick:r[0]||(r[0]=k=>V("close"))},{default:a(()=>r[3]||(r[3]=[K("Cancel")])),_:1})]),_:1})):(t(),T(Y,{key:0,class:"text-right"},{default:a(()=>[i(M,{to:{name:"Home"},class:"text-decoration-none text-white"},{default:a(()=>[i(Q,{color:"red"},{default:a(()=>r[2]||(r[2]=[K("Close")])),_:1})]),_:1})]),_:1})),C.admin||C.editable?(t(),T(Y,{key:2,class:"text-left"},{default:a(()=>[i(He,{onClick:F,type:"submit"})]),_:1})):(t(),T(Y,{key:3,class:"text-left"},{default:a(()=>[i(He,{onClick:G,type:"submit",label:"Next",color:"green"})]),_:1}))]),_:1}),U.value?(t(),T(j,{key:0},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[4]||(r[4]=[K(" Your request is currently queued for processing. We have received your data, you do not need to resubmit it or refresh. The next page will load once the system has processed your details. Please be patient as this may take a while. ")])),_:1})]),_:1})):x("",!0),B.value?(t(),T(j,{key:1},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[5]||(r[5]=[K(" Honestly! It really is being handled by our systems, the web browser window will continue, to monitor progress whilst it remains open. ")])),_:1})]),_:1})):x("",!0),O.value?(t(),T(j,{key:2},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[6]||(r[6]=[K(" There seems to be a bit of Jam, don't worry because we have a fine selection of Jams at breakfast. Keep holding on in there, we'll get you on your way soon. ")])),_:1})]),_:1})):x("",!0),I.value?(t(),T(j,{key:3},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[7]||(r[7]=[K(" Reticulating splines ")])),_:1})]),_:1})):x("",!0),l.value?(t(),T(j,{key:4},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[8]||(r[8]=[K(" Downloading more RAM to process your registration. ")])),_:1})]),_:1})):x("",!0),y.value?(t(),T(j,{key:5},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[9]||(r[9]=[K(" Ever seen a loading screen with a jump scare? ")])),_:1})]),_:1})):x("",!0),R.value?(t(),T(j,{key:6},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[10]||(r[10]=[K(" We are not liable for any broken screens as a result of waiting. ")])),_:1})]),_:1})):x("",!0),o.value?(t(),T(j,{key:7},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[11]||(r[11]=[K(" At this point we're blaming your Wi-Fi. ")])),_:1})]),_:1})):x("",!0),d.value?(t(),T(j,{key:8},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[12]||(r[12]=[K(" Hold tight! The hamsters powering this are on a break. ")])),_:1})]),_:1})):x("",!0),S.value?(t(),T(j,{key:9},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[13]||(r[13]=[K(" Preparing an elaborate excuse for the delay. ")])),_:1})]),_:1})):x("",!0),n.value?(t(),T(j,{key:10},{default:a(()=>[i(Y,{class:"bg-red-accent-4 border rounded-lg text-center mb-2"},{default:a(()=>r[14]||(r[14]=[K(" We've run out of silly things to say, but if the save button is still spinning then the registration request is still queued for processing. ")])),_:1})]),_:1})):x("",!0)],64))]),_:1})]),_:1})}}});export{Ot as F,We as _,ae as a,xt as b,Je as p};
