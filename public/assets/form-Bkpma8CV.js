import{p as F,u as M,c as u,s as R,r as c,w,aa as B,ba as k,t as D,ai as E}from"./index-C_Kfw1G7.js";const m=Symbol.for("vuetify:form"),x=F({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function P(t){const i=M(t,"modelValue"),f=u(()=>t.disabled),v=u(()=>t.readonly),o=R(!1),a=c([]),n=c([]);async function y(){const e=[];let l=!0;n.value=[],o.value=!0;for(const r of a.value){const s=await r.validate();if(s.length>0&&(l=!1,e.push({id:r.id,errorMessages:s})),!l&&t.fastFail)break}return n.value=e,o.value=!1,{valid:l,errors:n.value}}function g(){a.value.forEach(e=>e.reset())}function V(){a.value.forEach(e=>e.resetValidation())}return w(a,()=>{let e=0,l=0;const r=[];for(const s of a.value)s.isValid===!1?(l++,r.push({id:s.id,errorMessages:s.errorMessages})):s.isValid===!0&&e++;n.value=r,i.value=l>0?!1:e===a.value.length?!0:null},{deep:!0,flush:"post"}),B(m,{register:e=>{let{id:l,vm:r,validate:s,reset:d,resetValidation:h}=e;a.value.some(b=>b.id===l),a.value.push({id:l,validate:s,reset:d,resetValidation:h,vm:k(r),isValid:null,errorMessages:[]})},unregister:e=>{a.value=a.value.filter(l=>l.id!==e)},update:(e,l,r)=>{const s=a.value.find(d=>d.id===e);s&&(s.isValid=l,s.errorMessages=r)},isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validateOn:D(t,"validateOn")}),{errors:n,isDisabled:f,isReadonly:v,isValidating:o,isValid:i,items:a,validate:y,reset:g,resetValidation:V}}function S(t){const i=E(m,null);return{...i,isReadonly:u(()=>!!((t==null?void 0:t.readonly)??(i==null?void 0:i.isReadonly.value))),isDisabled:u(()=>!!((t==null?void 0:t.disabled)??(i==null?void 0:i.isDisabled.value)))}}export{P as c,x as m,S as u};
