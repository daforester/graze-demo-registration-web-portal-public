import{i as ne}from"./VGrid-XcZ0p89F.js";import{ai as V,p as E,c as d,r as ae,bg as $,t as O,J as R,ay as j,s as U,o as se,aP as ue,aJ as le,aI as ie,b as re,ab as X,bi as ce,bj as ve}from"./index-Bbv8XZUK.js";const D=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),J=1e3,me=E({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ge=E({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ie(){const n=V(D);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function be(n){const o=V(D);if(!o)throw new Error("[Vuetify] Could not find injected layout");const u=n.id??`layout-item-${ue()}`,i=j("useLayoutItem");X(q,{id:u});const a=U(!1);le(()=>a.value=!0),ie(()=>a.value=!1);const{layoutItemStyles:c,layoutItemScrimStyles:l}=o.register(i,{...n,active:d(()=>a.value?!1:n.active.value),id:u});return re(()=>o.unregister(u)),{layoutItemStyles:c,layoutRect:o.layoutRect,layoutItemScrimStyles:l}}const de=(n,o,u,i)=>{let a={top:0,left:0,right:0,bottom:0};const c=[{id:"",layer:{...a}}];for(const l of n){const p=o.get(l),m=u.get(l),z=i.get(l);if(!p||!m||!z)continue;const I={...a,[p.value]:parseInt(a[p.value],10)+(z.value?parseInt(m.value,10):0)};c.push({id:l,layer:I}),a=I}return c};function he(n){const o=V(D,null),u=d(()=>o?o.rootZIndex.value-100:J),i=ae([]),a=$(new Map),c=$(new Map),l=$(new Map),p=$(new Map),m=$(new Map),{resizeRef:z,contentRect:I}=ne(),F=d(()=>{const t=new Map,v=n.overlaps??[];for(const e of v.filter(r=>r.includes(":"))){const[r,s]=e.split(":");if(!i.value.includes(r)||!i.value.includes(s))continue;const y=a.get(r),g=a.get(s),S=c.get(r),w=c.get(s);!y||!g||!S||!w||(t.set(s,{position:y.value,amount:parseInt(S.value,10)}),t.set(r,{position:g.value,amount:-parseInt(w.value,10)}))}return t}),b=d(()=>{const t=[...new Set([...l.values()].map(e=>e.value))].sort((e,r)=>e-r),v=[];for(const e of t){const r=i.value.filter(s=>{var y;return((y=l.get(s))==null?void 0:y.value)===e});v.push(...r)}return de(v,a,c,p)}),H=d(()=>!Array.from(m.values()).some(t=>t.value)),h=d(()=>b.value[b.value.length-1].layer),W=O(()=>({"--v-layout-left":R(h.value.left),"--v-layout-right":R(h.value.right),"--v-layout-top":R(h.value.top),"--v-layout-bottom":R(h.value.bottom),...H.value?void 0:{transition:"none"}})),x=d(()=>b.value.slice(1).map((t,v)=>{let{id:e}=t;const{layer:r}=b.value[v],s=c.get(e),y=a.get(e);return{id:e,...r,size:Number(s.value),position:y.value}})),T=t=>x.value.find(v=>v.id===t),P=j("createLayout"),k=U(!1);se(()=>{k.value=!0}),X(D,{register:(t,v)=>{let{id:e,order:r,position:s,layoutSize:y,elementSize:g,active:S,disableTransitions:w,absolute:G}=v;l.set(e,r),a.set(e,s),c.set(e,y),p.set(e,S),w&&m.set(e,w);const B=ce(q,P==null?void 0:P.vnode).indexOf(t);B>-1?i.value.splice(B,0,e):i.value.push(e);const K=d(()=>x.value.findIndex(L=>L.id===e)),M=d(()=>u.value+b.value.length*2-K.value*2),Q=d(()=>{const L=s.value==="left"||s.value==="right",C=s.value==="right",te=s.value==="bottom",A=g.value??y.value,oe=A===0?"%":"px",Z={[s.value]:0,zIndex:M.value,transform:`translate${L?"X":"Y"}(${(S.value?0:-(A===0?100:A))*(C||te?-1:1)}${oe})`,position:G.value||u.value!==J?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!k.value)return Z;const f=x.value[K.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const N=F.value.get(e);return N&&(f[N.position]+=N.amount),{...Z,height:L?`calc(100% - ${f.top}px - ${f.bottom}px)`:g.value?`${g.value}px`:void 0,left:C?void 0:`${f.left}px`,right:C?`${f.right}px`:void 0,top:s.value!=="bottom"?`${f.top}px`:void 0,bottom:s.value!=="top"?`${f.bottom}px`:void 0,width:L?g.value?`${g.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),ee=d(()=>({zIndex:M.value-1}));return{layoutItemStyles:Q,layoutItemScrimStyles:ee,zIndex:M}},unregister:t=>{l.delete(t),a.delete(t),c.delete(t),p.delete(t),m.delete(t),i.value=i.value.filter(v=>v!==t)},mainRect:h,mainStyles:W,getLayoutItem:T,items:x,layoutRect:I,rootZIndex:u});const Y=O(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),_=O(()=>({zIndex:o?u.value:void 0,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:Y,layoutStyles:_,getLayoutItem:T,items:x,layoutRect:I,layoutRef:z}}const xe=E({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Se(n,o){let u=()=>{};function i(l){u==null||u();const p=Number(l?n.openDelay:n.closeDelay);return new Promise(m=>{u=ve(p,()=>{o==null||o(l),m(l)})})}function a(){return i(!0)}function c(){return i(!1)}return{clearDelay:u,runOpenDelay:a,runCloseDelay:c}}function we(){const o=j("useScopeId").vnode.scopeId;return{scopeId:o?{[o]:""}:void 0}}export{D as V,me as a,we as b,he as c,Ie as d,Se as e,xe as f,ge as m,be as u};
