import{P as Hq}from"./permission-Ba-8wP-4.js";import{w as gP,i as yP,a9 as $q,r as D3,W as wF,o as Vq,b as Uq,aI as jq,aJ as Zq,ac as CF,N as xP,R as Wq,M as hP,$ as d9,l as u9,n as bP,F as f9,L as qq,C as SF,D as Gq,H as Kq,h as Td,A as Yq,q as Vu,G as E1,v as EF,x as sR,m as zF}from"./index-Dmd_xIty.js";import{u as Xq}from"./useConventionForms-BkhO0S-z.js";import{b as Jq}from"./sorted-PYsDa1V2.js";import{V as fP,a as R3}from"./VRow-Dh_OAgsi.js";import{V as TF}from"./VSelect-CrFBHoRc.js";import{a as OF}from"./VList-Dx26jl9_.js";import{V as AF,d as NF}from"./VGrid-D-DRmGdG.js";var Rf=(Tt=>(Tt.TARGET_TYPE_SYSTEM="SYSTEM",Tt.TARGET_TYPE_ORGANISATION="ORGANISATION",Tt.TARGET_TYPE_CONVENTION="CONVENTION",Tt))(Rf||{});const nK=[{title:"Convention",value:"CONVENTION"},{title:"Organisation",value:"ORGANISATION"},{title:"System",value:"SYSTEM"}];var mP={exports:{}},RF;function Qq(){return RF||(RF=1,function(Tt){(function(){var zo=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},No=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Yo=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},Co=function(e,t){return Dt(function(n,r){return e.eq(t(n),t(r))})},Dt=function(e){return{eq:e}},Ro=Dt(function(e,t){return e===t}),To=Ro,Po=function(e){return Dt(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e.eq(t[i],n[i]))return!1;return!0})},lo=function(e,t){return Co(Po(e),function(n){return Yo(n,t)})},Cn=function(e){return Dt(function(t,n){var r=Object.keys(t),i=Object.keys(n);if(!lo(To).eq(r,i))return!1;for(var c=r.length,u=0;u<c;u++){var g=r[u];if(!e.eq(t[g],n[g]))return!1}return!0})},pr=Dt(function(e,t){if(e===t)return!0;var n=zo(e),r=zo(t);return n!==r?!1:No(n)?e===t:n==="array"?Po(pr).eq(e,t):n==="object"?Cn(pr).eq(e,t):!1});const jr=Object.getPrototypeOf,$t=(e,t,n)=>{var r;return n(e,t.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===t.name},Kt=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&$t(e,String,(n,r)=>r.isPrototypeOf(n))?"string":t},Go=e=>t=>Kt(t)===e,Lo=e=>t=>typeof t===e,qe=e=>t=>e===t,Bt=(e,t)=>ue(e)&&$t(e,t,(n,r)=>jr(n)===r),pt=Go("string"),ue=Go("object"),Et=e=>Bt(e,Object),ve=Go("array"),ht=qe(null),gs=Lo("boolean"),Nr=qe(void 0),Io=e=>e==null,Ie=e=>!Io(e),jt=Lo("function"),O=Lo("number"),Eo=(e,t)=>{if(ve(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},ao=()=>{},Do=(e,t)=>(...n)=>e(t.apply(null,n)),Zr=(e,t)=>n=>e(t(n)),Je=e=>()=>e,fn=e=>e,Bi=(e,t)=>e===t;function De(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const Se=e=>t=>!e(t),tt=e=>()=>{throw new Error(e)},Uo=e=>e(),So=e=>{e()},ho=Je(!1),uo=Je(!0);class H{constructor(t,n){this.tag=t,this.value=n}static some(t){return new H(!0,t)}static none(){return H.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?H.some(t(this.value)):H.none()}bind(t){return this.tag?t(this.value):H.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:H.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Ie(t)?H.some(t):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const as=Array.prototype.slice,sr=Array.prototype.indexOf,Xo=Array.prototype.push,mi=(e,t)=>sr.call(e,t),ll=(e,t)=>{const n=mi(e,t);return n===-1?H.none():H.some(n)},on=(e,t)=>mi(e,t)>-1,Sn=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];if(t(i,n))return!0}return!1},Jo=(e,t)=>{const n=e.length,r=new Array(n);for(let i=0;i<n;i++){const c=e[i];r[i]=t(c,i)}return r},Ne=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];t(i,n)}},yt=(e,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];t(r,n)}},at=(e,t)=>{const n=[],r=[];for(let i=0,c=e.length;i<c;i++){const u=e[i];(t(u,i)?n:r).push(u)}return{pass:n,fail:r}},Ke=(e,t)=>{const n=[];for(let r=0,i=e.length;r<i;r++){const c=e[r];t(c,r)&&n.push(c)}return n},eo=(e,t,n)=>(yt(e,(r,i)=>{n=t(n,r,i)}),n),fo=(e,t,n)=>(Ne(e,(r,i)=>{n=t(n,r,i)}),n),qo=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++){const c=e[r];if(t(c,r))return H.some(c);if(n(c,r))break}return H.none()},Tn=(e,t)=>qo(e,t,ho),Qn=(e,t)=>{for(let n=0,r=e.length;n<r;n++){const i=e[n];if(t(i,n))return H.some(n)}return H.none()},Rn=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!ve(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Xo.apply(t,e[n])}return t},Kn=(e,t)=>Rn(Jo(e,t)),Qr=(e,t)=>{for(let n=0,r=e.length;n<r;++n){const i=e[n];if(t(i,n)!==!0)return!1}return!0},Hs=e=>{const t=as.call(e,0);return t.reverse(),t},Fn=(e,t)=>Ke(e,n=>!on(t,n)),Hr=(e,t)=>{const n={};for(let r=0,i=e.length;r<i;r++){const c=e[r];n[String(c)]=t(c,r)}return n},Qo=(e,t)=>{const n=as.call(e,0);return n.sort(t),n},Gs=(e,t)=>t>=0&&t<e.length?H.some(e[t]):H.none(),dt=e=>Gs(e,0),_o=e=>Gs(e,e.length-1),Fo=jt(Array.from)?Array.from:e=>as.call(e),Ks=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return H.none()},pi=(e,t)=>{const n=[],r=jt(t)?i=>Sn(n,c=>t(c,i)):i=>on(n,i);for(let i=0,c=e.length;i<c;i++){const u=e[i];r(u)||n.push(u)}return n},nt=Object.keys,qa=Object.hasOwnProperty,Ho=(e,t)=>{const n=nt(e);for(let r=0,i=n.length;r<i;r++){const c=n[r],u=e[c];t(u,c)}},Pi=(e,t)=>Zn(e,(n,r)=>({k:r,v:t(n,r)})),Zn=(e,t)=>{const n={};return Ho(e,(r,i)=>{const c=t(r,i);n[c.k]=c.v}),n},hs=e=>(t,n)=>{e[n]=t},Cl=(e,t,n,r)=>{Ho(e,(i,c)=>{(t(i,c)?n:r)(i,c)})},Sl=(e,t)=>{const n={},r={};return Cl(e,t,hs(n),hs(r)),{t:n,f:r}},Yi=(e,t)=>{const n={};return Cl(e,t,hs(n),ao),n},za=(e,t)=>{const n=[];return Ho(e,(r,i)=>{n.push(t(r,i))}),n},El=e=>za(e,fn),Hn=(e,t)=>po(e,t)?H.from(e[t]):H.none(),po=(e,t)=>qa.call(e,t),Ga=(e,t)=>po(e,t)&&e[t]!==void 0&&e[t]!==null,Ts=(e,t,n=pr)=>Cn(n).eq(e,t),vc=e=>{const t={};return Ne(e,n=>{t[n]={}}),nt(t)},_t=e=>e.length!==void 0,Xi=Array.isArray,Ka=e=>{if(Xi(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},Rr=(e,t,n)=>{if(!e)return!1;if(n=n||e,_t(e)){for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(po(e,r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},Od=(e,t)=>{const n=[];return Rr(e,(r,i)=>{n.push(t(r,i,e))}),n},Pa=(e,t)=>{const n=[];return Rr(e,(r,i)=>{(!t||t(r,i,e))&&n.push(r)}),n},gi=(e,t)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},Li=(e,t,n,r)=>{let i=Nr(n)?e[0]:n;for(let c=0;c<e.length;c++)i=t.call(r,i,e[c],c);return i},lr=(e,t,n)=>{for(let r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},ua=e=>e[e.length-1],Ya=e=>{let t=!1,n;return(...r)=>(t||(t=!0,n=e.apply(null,r)),n)},nu=(e,t,n,r)=>{const i=e.isiOS()&&/ipad/i.test(n)===!0,c=e.isiOS()&&!i,u=e.isiOS()||e.isAndroid(),g=u||r("(pointer:coarse)"),x=i||!c&&u&&r("(min-device-width:768px)"),C=c||u&&!x,R=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,B=!C&&!x&&!R;return{isiPad:Je(i),isiPhone:Je(c),isTablet:Je(x),isPhone:Je(C),isTouch:Je(g),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:Je(R),isDesktop:Je(B)}},Wl=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(t))return r}},Ii=(e,t)=>{const n=Wl(e,t);if(!n)return{major:0,minor:0};const r=i=>Number(t.replace(n,"$"+i));return yn(r(1),r(2))},Ad=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Nd():Ii(e,n)},Nd=()=>yn(0,0),yn=(e,t)=>({major:e,minor:t}),bs={nu:yn,detect:Ad,unknown:Nd},fa=(e,t)=>Ks(t.brands,n=>{const r=n.brand.toLowerCase();return Tn(e,i=>{var c;return r===((c=i.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(i=>({current:i.name,version:bs.nu(parseInt(n.version,10),0)}))}),Rd=(e,t)=>{const n=String(t).toLowerCase();return Tn(e,r=>r.search(n))},Uu=(e,t)=>Rd(e,t).map(n=>{const r=bs.detect(n.versionRegexes,t);return{current:n.name,version:r}}),Dd=(e,t)=>Rd(e,t).map(n=>{const r=bs.detect(n.versionRegexes,t);return{current:n.name,version:r}}),es=(e,t)=>e.substring(t),hi=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,bi=(e,t)=>cr(e,t)?es(e,t.length):e,gr=(e,t,n=0,r)=>{const i=e.indexOf(t,n);return i!==-1?Nr(r)?!0:i+t.length<=r:!1},cr=(e,t)=>hi(e,t,0),Fi=(e,t)=>hi(e,t,e.length-t.length),Xa=e=>t=>t.replace(e,""),ma=Xa(/^\s+|\s+$/g),Ji=Xa(/^\s+/g),is=Xa(/\s+$/g),hr=e=>e.length>0,yi=e=>!hr(e),$s=(e,t)=>t<=0?"":new Array(t+1).join(e),Wn=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?H.none():H.some(n)},pa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ja=e=>t=>gr(t,e),ru=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>gr(e,"edge/")&&gr(e,"chrome")&&gr(e,"safari")&&gr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pa],search:e=>gr(e,"chrome")&&!gr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>gr(e,"msie")||gr(e,"trident")},{name:"Opera",versionRegexes:[pa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ja("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ja("firefox")},{name:"Safari",versionRegexes:[pa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(gr(e,"safari")||gr(e,"mobile/"))&&gr(e,"applewebkit")}],io=[{name:"Windows",search:Ja("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>gr(e,"iphone")||gr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ja("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ja("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ja("linux"),versionRegexes:[]},{name:"Solaris",search:Ja("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ja("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ja("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ks={browsers:Je(ru),oses:Je(io)},ls="Edge",cs="Chromium",su="IE",$r="Opera",ql="Firefox",zl="Safari",Zt=()=>Qa({current:void 0,version:bs.unknown()}),Qa=e=>{const t=e.current,n=e.version,r=i=>()=>t===i;return{current:t,version:n,isEdge:r(ls),isChromium:r(cs),isIE:r(su),isOpera:r($r),isFirefox:r(ql),isSafari:r(zl)}},xi={unknown:Zt,nu:Qa},Vs="Windows",_c="iOS",_r="Android",Hi="Linux",vi="macOS",ln="Solaris",cl="FreeBSD",Tl="ChromeOS",Md=()=>kr({current:void 0,version:bs.unknown()}),kr=e=>{const t=e.current,n=e.version,r=i=>()=>t===i;return{current:t,version:n,isWindows:r(Vs),isiOS:r(_c),isAndroid:r(_r),isMacOS:r(vi),isLinux:r(Hi),isSolaris:r(ln),isFreeBSD:r(cl),isChromeOS:r(Tl)}},Ta={unknown:Md,nu:kr},Dn={detect:(e,t,n)=>{const r=ks.browsers(),i=ks.oses(),c=t.bind(x=>fa(r,x)).orThunk(()=>Uu(r,e)).fold(xi.unknown,xi.nu),u=Dd(i,e).fold(Ta.unknown,Ta.nu),g=nu(u,c,e,n);return{browser:c,os:u,deviceType:g}}},Gl=e=>window.matchMedia(e).matches;let Wr=Ya(()=>Dn.detect(window.navigator.userAgent,H.from(window.navigator.userAgentData),Gl));const Us=()=>Wr(),q=window.navigator.userAgent,ae=Us(),_e=ae.browser,He=ae.os,ct=ae.deviceType,Ft=q.indexOf("Windows Phone")!==-1,Nt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:_e.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!_e.isIE(),windowsPhone:Ft,browser:{current:_e.current,version:_e.version,isChromium:_e.isChromium,isEdge:_e.isEdge,isFirefox:_e.isFirefox,isIE:_e.isIE,isOpera:_e.isOpera,isSafari:_e.isSafari},os:{current:He.current,version:He.version,isAndroid:He.isAndroid,isChromeOS:He.isChromeOS,isFreeBSD:He.isFreeBSD,isiOS:He.isiOS,isLinux:He.isLinux,isMacOS:He.isMacOS,isSolaris:He.isSolaris,isWindows:He.isWindows},deviceType:{isDesktop:ct.isDesktop,isiPad:ct.isiPad,isiPhone:ct.isiPhone,isPhone:ct.isPhone,isTablet:ct.isTablet,isTouch:ct.isTouch,isWebView:ct.isWebView}},wr=/^\s*|\s*$/g,mn=e=>Io(e)?"":(""+e).replace(wr,""),br=(e,t)=>t?t==="array"&&Xi(e)?!0:typeof e===t:e!==void 0,dr=(e,t,n={})=>{const r=pt(e)?e.split(t||","):e||[];let i=r.length;for(;i--;)n[r[i]]={};return n},Kc=po,ei=(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(po(r,i)){const c=r[i];c!==void 0&&(e[i]=c)}}return e},au=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Rr(e,(i,c)=>t.call(r,i,c,n)===!1?!1:(au(i,t,n,r),!0)))},gt={trim:mn,isArray:Xi,is:br,toArray:Ka,makeMap:dr,each:Rr,map:Od,grep:Pa,inArray:gi,hasOwn:Kc,extend:ei,walk:au,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,i=n.length;r<i&&(t=t[n[r]],!!t);r++);return t},explode:(e,t)=>ve(e)?e:e===""?[]:Od(e.split(t||","),mn),_addCacheSuffix:e=>{const t=Nt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Bd=(e,t,n=Bi)=>e.exists(r=>n(r,t)),Yc=(e,t,n=Bi)=>ga(e,t,n).getOr(e.isNone()&&t.isNone()),Mf=e=>{const t=[],n=r=>{t.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return t},ga=(e,t,n)=>e.isSome()&&t.isSome()?H.some(n(e.getOrDie(),t.getOrDie())):H.none(),Pd=(e,t,n,r)=>e.isSome()&&t.isSome()&&n.isSome()?H.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):H.none(),iu=(e,t)=>e?H.some(t):H.none(),jg=typeof window<"u"?window:Function("return this;")(),Gp=(e,t)=>{let n=t??jg;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},Zg=(e,t)=>{const n=e.split(".");return Gp(n,t)},yb=(e,t)=>Zg(e,t),Wg=(e,t)=>{const n=yb(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},qg=Object.getPrototypeOf,Bf=e=>Wg("HTMLElement",e),kc=e=>{const t=Zg("ownerDocument.defaultView",e);return ue(e)&&(Bf(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(qg(e).constructor.name))},Ld=8,Zu=9,Ys=11,Xc=1,Kl=3,pn=e=>e.dom.nodeName.toLowerCase(),La=e=>e.dom.nodeType,lu=e=>t=>La(t)===e,Tm=e=>La(e)===Ld||pn(e)==="#comment",ha=e=>ti(e)&&kc(e.dom),ti=lu(Xc),js=lu(Kl),Ol=lu(Zu),ys=lu(Ys),sa=e=>t=>ti(t)&&pn(t)===e,_i=(e,t,n)=>{if(pt(n)||gs(n)||O(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},On=(e,t,n)=>{_i(e.dom,t,n)},dl=(e,t)=>{const n=e.dom;Ho(t,(r,i)=>{_i(n,i,r)})},ba=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},Os=(e,t)=>H.from(ba(e,t)),Qi=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},En=(e,t)=>{e.dom.removeAttribute(t)},As=e=>{const t=e.dom.attributes;return t==null||t.length===0},Al=e=>fo(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Ns=(e,t)=>{const n=ba(e,t);return n===void 0||n===""?[]:n.split(" ")},ws=(e,t,n)=>{const i=Ns(e,t).concat([n]);return On(e,t,i.join(" ")),!0},Mt=(e,t,n)=>{const r=Ke(Ns(e,t),i=>i!==n);return r.length>0?On(e,t,r.join(" ")):En(e,t),!1},Nl=e=>e.dom.classList!==void 0,Jc=e=>Ns(e,"class"),dn=(e,t)=>ws(e,"class",t),Qc=(e,t)=>Mt(e,"class",t),cu=(e,t)=>on(Jc(e),t)?Qc(e,t):dn(e,t),Yl=(e,t)=>{Nl(e)?e.dom.classList.add(t):dn(e,t)},Wu=e=>{(Nl(e)?e.dom.classList:Jc(e)).length===0&&En(e,"class")},Ia=(e,t)=>{Nl(e)?e.dom.classList.remove(t):Qc(e,t),Wu(e)},Om=(e,t)=>{const n=Nl(e)?e.dom.classList.toggle(t):cu(e,t);return Wu(e),n},Id=(e,t)=>Nl(e)&&e.dom.classList.contains(t),$n=(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const i="HTML does not have a single root node";throw console.error(i,e),new Error(i)}return wc(r.childNodes[0])},$i=(e,t)=>{const r=(t||document).createElement(e);return wc(r)},Fd=(e,t)=>{const r=(t||document).createTextNode(e);return wc(r)},wc=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},re={fromHtml:$n,fromTag:$i,fromText:Fd,fromDom:wc,fromPoint:(e,t,n)=>H.from(e.dom.elementFromPoint(t,n)).map(wc)},ya=(e,t)=>{const n=[],r=c=>(n.push(c),t(c));let i=t(e);do i=i.bind(r);while(i.isSome());return n},Fa=(e,t)=>{const n=e.dom;if(n.nodeType!==Xc)return!1;{const r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Am=e=>e.nodeType!==Xc&&e.nodeType!==Zu&&e.nodeType!==Ys||e.childElementCount===0,Nm=(e,t)=>{const n=t===void 0?document:t.dom;return Am(n)?[]:Jo(n.querySelectorAll(e),re.fromDom)},ki=(e,t)=>{const n=t===void 0?document:t.dom;return Am(n)?H.none():H.from(n.querySelector(e)).map(re.fromDom)},en=(e,t)=>e.dom===t.dom,Ha=(e,t)=>{const n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},el=e=>re.fromDom(e.dom.ownerDocument),Rl=e=>Ol(e)?e:el(e),du=e=>re.fromDom(Rl(e).dom.documentElement),Cr=e=>re.fromDom(Rl(e).dom.defaultView),oi=e=>H.from(e.dom.parentNode).map(re.fromDom),Xl=e=>H.from(e.dom.parentElement).map(re.fromDom),Jl=(e,t)=>{const n=jt(t)?t:ho;let r=e.dom;const i=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const c=r.parentNode,u=re.fromDom(c);if(i.push(u),n(u)===!0)break;r=c}return i},ed=e=>{const t=n=>Ke(n,r=>!en(e,r));return oi(e).map(xa).map(t).getOr([])},ul=e=>H.from(e.dom.previousSibling).map(re.fromDom),Hd=e=>H.from(e.dom.nextSibling).map(re.fromDom),uu=e=>Hs(ya(e,ul)),Ql=e=>ya(e,Hd),xa=e=>Jo(e.dom.childNodes,re.fromDom),$d=(e,t)=>{const n=e.dom.childNodes;return H.from(n[t]).map(re.fromDom)},Rm=e=>$d(e,0),fu=e=>$d(e,e.dom.childNodes.length-1),mu=e=>e.dom.childNodes.length,wi=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return re.fromDom(t)},oo=e=>ys(e)&&Ie(e.dom.host),Ci=e=>re.fromDom(e.dom.getRootNode()),td=e=>oo(e)?e:wi(Rl(e)),pu=e=>oo(e)?e:re.fromDom(Rl(e).dom.body),gu=e=>{const t=Ci(e);return oo(t)?H.some(t):H.none()},Vi=e=>re.fromDom(e.dom.host),od=e=>{if(Ie(e.target)){const t=re.fromDom(e.target);if(ti(t)&&hu(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return dt(n)}}return H.from(e.target)},hu=e=>Ie(e.dom.shadowRoot),Dr=e=>{const t=js(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return gu(re.fromDom(t)).fold(()=>n.body.contains(t),Zr(Dr,Vi))};var bu=(e,t,n,r,i)=>e(n,r)?H.some(n):jt(i)&&i(n)?H.none():t(n,r,i);const fl=(e,t,n)=>{let r=e.dom;const i=jt(n)?n:ho;for(;r.parentNode;){r=r.parentNode;const c=re.fromDom(r);if(t(c))return H.some(c);if(i(c))break}return H.none()},Cc=(e,t,n)=>bu((i,c)=>c(i),fl,e,t,n),Pf=(e,t)=>{const n=e.dom;return n.parentNode?ec(re.fromDom(n.parentNode),r=>!en(e,r)&&t(r)):H.none()},ec=(e,t)=>{const n=i=>t(re.fromDom(i));return Tn(e.dom.childNodes,n).map(re.fromDom)},tc=(e,t)=>{const n=r=>{for(let i=0;i<r.childNodes.length;i++){const c=re.fromDom(r.childNodes[i]);if(t(c))return H.some(c);const u=n(r.childNodes[i]);if(u.isSome())return u}return H.none()};return n(e.dom)},nd=(e,t,n)=>fl(e,r=>Fa(r,t),n),er=(e,t)=>ki(t,e),aa=(e,t,n)=>bu((i,c)=>Fa(i,c),nd,e,t,n),va=e=>aa(e,"[contenteditable]"),ni=(e,t=!1)=>Dr(e)?e.dom.isContentEditable:va(e).fold(Je(t),n=>$a(n)==="true"),$a=e=>e.dom.contentEditable,Sc=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Cs=e=>e.style!==void 0&&jt(e.style.getPropertyValue),ia=(e,t,n)=>{if(!pt(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Cs(e)&&e.style.setProperty(t,n)},Lf=(e,t)=>{Cs(e)&&e.style.removeProperty(t)},Ge=(e,t,n)=>{const r=e.dom;ia(r,t,n)},Xs=(e,t)=>{const n=e.dom;Ho(t,(r,i)=>{ia(n,i,r)})},Si=(e,t)=>{const n=e.dom,i=window.getComputedStyle(n).getPropertyValue(t);return i===""&&!Dr(e)?us(n,t):i},us=(e,t)=>Cs(e)?e.style.getPropertyValue(t):"",Zs=(e,t)=>{const n=e.dom,r=us(n,t);return H.from(r).filter(i=>i.length>0)},Ei=e=>{const t={},n=e.dom;if(Cs(n))for(let r=0;r<n.style.length;r++){const i=n.style.item(r);t[i]=n.style[i]}return t},ml=(e,t)=>{const n=e.dom;Lf(n,t),Bd(Os(e,"style").map(ma),"")&&En(e,"style")},If=e=>e.dom.offsetWidth,Vr=(e,t)=>{oi(e).each(r=>{r.dom.insertBefore(t.dom,e.dom)})},tn=(e,t)=>{Hd(e).fold(()=>{oi(e).each(i=>{Mr(i,t)})},r=>{Vr(r,t)})},Ui=(e,t)=>{Rm(e).fold(()=>{Mr(e,t)},r=>{e.dom.insertBefore(t.dom,r.dom)})},Mr=(e,t)=>{e.dom.appendChild(t.dom)},Ur=(e,t)=>{Vr(e,t),Mr(t,e)},Dm=(e,t)=>{Ne(t,(n,r)=>{const i=r===0?e:t[r-1];tn(i,n)})},Oa=(e,t)=>{Ne(t,n=>{Mr(e,n)})},oc=e=>{e.dom.textContent="",Ne(xa(e),t=>{un(t)})},un=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Ee=e=>{const t=xa(e);t.length>0&&Dm(e,t),un(e)},_a=(e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,xa(re.fromDom(r))},Aa=e=>Jo(e,re.fromDom),tr=e=>e.dom.innerHTML,ka=(e,t)=>{const r=el(e).dom,i=re.fromDom(r.createDocumentFragment()),c=_a(t,r);Oa(i,c),oc(e),Mr(e,i)},Js=e=>{const t=re.fromTag("div"),n=re.fromDom(e.dom.cloneNode(!0));return Mr(t,n),tr(t)},Yn=(e,t,n,r,i,c,u)=>({target:e,x:t,y:n,stop:r,prevent:i,kill:c,raw:u}),nc=e=>{const t=re.fromDom(od(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),i=Do(r,n);return Yn(t,e.clientX,e.clientY,n,r,i,e)},Ff=(e,t)=>n=>{e(n)&&t(nc(n))},S=(e,t,n,r,i)=>{const c=Ff(n,r);return e.dom.addEventListener(t,c,i),{unbind:De(U,e,t,c,i)}},M=(e,t,n,r)=>S(e,t,n,r,!1),U=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},le=(e,t)=>({left:e,top:t,translate:(r,i)=>le(e+r,t+i)}),pe=le,ot=e=>{const t=e.getBoundingClientRect();return pe(t.left,t.top)},no=(e,t)=>e!==void 0?e:t!==void 0?t:0,$o=e=>{const t=e.dom.ownerDocument,n=t.body,r=t.defaultView,i=t.documentElement;if(n===e.dom)return pe(n.offsetLeft,n.offsetTop);const c=no(r==null?void 0:r.pageYOffset,i.scrollTop),u=no(r==null?void 0:r.pageXOffset,i.scrollLeft),g=no(i.clientTop,n.clientTop),x=no(i.clientLeft,n.clientLeft);return vo(e).translate(u-x,c-g)},vo=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?pe(r.offsetLeft,r.offsetTop):Dr(e)?ot(t):pe(0,0)},Rt=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return pe(n,r)},Ln=(e,t,n)=>{const i=(n!==void 0?n.dom:document).defaultView;i&&i.scrollTo(e,t)},ts=(e,t)=>{Us().browser.isSafari()&&jt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},ji=e=>{const t=e===void 0?window:e;return Us().browser.isFirefox()?H.none():H.from(t.visualViewport)},ri=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Na=e=>{const t=e===void 0?window:e,n=t.document,r=Rt(re.fromDom(n));return ji(t).fold(()=>{const i=t.document.documentElement,c=i.clientWidth,u=i.clientHeight;return ri(r.left,r.top,c,u)},i=>ri(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height))},Mm=(e,t)=>Ke(xa(e),t),Vd=(e,t)=>{let n=[];return Ne(xa(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(Vd(r,t))}),n},Rs=(e,t)=>Nm(t,e),zi=(e,t,n)=>fl(e,t,n).isSome(),pl=(e,t)=>Pf(e,t).isSome(),Kp=(e,t)=>tc(e,t).isSome();class qr{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,i){if(t){if(!i&&t[n])return t[n];if(t!==this.rootNode){let c=t[r];if(c)return c;for(let u=t.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(c=u[r],c)return c}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let c=r.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return r}const i=t.parentNode;if(i&&i!==this.rootNode)return i}}}const Bm="\uFEFF",os=" ",Ec=e=>e===Bm,zc=e=>e.replace(/\uFEFF/g,""),xb=/^[ \t\r\n]*$/,Tc=e=>xb.test(e),Yp=e=>{for(const t of e)if(!Ec(t))return!1;return!0},vb=e=>" \f	\v".indexOf(e)!==-1,fs=e=>e===`
`||e==="\r",z1=(e,t)=>t<e.length&&t>=0?fs(e[t]):!1,Oc=(e,t=4,n=!0,r=!0)=>{const i=$s(" ",t),c=e.replace(/\t/g,i);return fo(c,(g,x)=>vb(x)||x===os?g.pcIsSpace||g.str===""&&n||g.str.length===c.length-1&&r||z1(c,g.str.length+1)?{pcIsSpace:!1,str:g.str+os}:{pcIsSpace:!0,str:g.str+" "}:{pcIsSpace:fs(x),str:g.str+x},{pcIsSpace:!1,str:""}).str},gl=e=>t=>!!t&&t.nodeType===e,Hf=e=>!!e&&!Object.getPrototypeOf(e),Ot=gl(1),Qs=e=>Ot(e)&&ha(re.fromDom(e)),Pm=e=>Ot(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",rd=e=>{const t=e.toLowerCase();return n=>Ie(n)&&n.nodeName.toLowerCase()===t},Dl=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return on(t,r)}return!1}},Ud=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(Ot(r)){const i=r.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const u=i.getComputedStyle(r,null);if((u?u.getPropertyValue(e):null)===n[c])return!0}}return!1}},$f=e=>t=>Ot(t)&&t.hasAttribute(e),rc=e=>Ot(e)&&e.hasAttribute("data-mce-bogus"),_b=e=>Ot(e)&&e.getAttribute("data-mce-bogus")==="all",sd=e=>Ot(e)&&e.tagName==="TABLE",Lm=e=>t=>!!(Qs(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),yu=Dl(["textarea","input"]),it=gl(3),ad=gl(4),Gu=gl(7),sc=gl(8),id=gl(9),Ku=gl(11),ns=rd("br"),jd=rd("img"),Ti=Lm("true"),yr=Lm("false"),Im=e=>Qs(e)&&e.isContentEditable&&Ie(e.parentElement)&&!e.parentElement.isContentEditable,Vo=Dl(["td","th"]),Vt=Dl(["td","th","caption"]),Zi=Dl(["video","audio","object","embed"]),Yu=rd("li"),Vf=rd("details"),Gg=rd("summary"),ur={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},kb=(e,t,n)=>{const r=re.fromDom(t),i=re.fromDom(e),c=n.getWhitespaceElements();return zi(i,g=>po(c,pn(g)),De(en,r))},T1=e=>Ot(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),je=(e,t)=>Ot(e)&&po(t.getNonEmptyElements(),e.nodeName),Xu=$f("data-mce-bookmark"),Fm=e=>Xl(re.fromDom(e)).exists(t=>!ni(t)),Ju=(e,t,n)=>Tc(e.data)&&!kb(e,t,n),Qu=(e,t,n,r)=>it(e)&&!Ju(e,t,n)&&(!r.includeZwsp||!Yp(e.data)),ac=(e,t,n,r)=>jt(r.isContent)&&r.isContent(t)||je(t,e)||Xu(t)||T1(t)||Qu(t,n,e,r)||yr(t)||Ti(t)&&Fm(t),Ml=(e,t,n)=>{const r={...ur,...n};if(r.checkRootAsContent&&ac(e,t,t,r))return!1;let i=t.firstChild,c=0;if(!i)return!0;const u=new qr(i,t);do{if(r.skipBogus&&Ot(i)){const g=i.getAttribute("data-mce-bogus");if(g){i=u.next(g==="all");continue}}if(sc(i)){i=u.next(!0);continue}if(ns(i)){c++,i=u.next();continue}if(ac(e,i,t,r))return!1;i=u.next()}while(i);return c<=1},Ss=(e,t,n)=>Ml(e,t.dom,{checkRootAsContent:!0,...n}),Xn=(e,t,n)=>ac(e,t,t,{includeZwsp:ur.includeZwsp,...n}),Sr=e=>{let t=e;return{get:()=>t,set:i=>{t=i}}},ef=e=>{const t=Sr(H.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(H.some(g))}}},Zd=e=>{const t=Sr(H.none()),n=()=>t.get().each(g=>clearInterval(g));return{clear:()=>{n(),t.set(H.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:g=>{n(),t.set(H.some(setInterval(g,e)))}}},ic=()=>{const e=ef(ao);return{...e,on:n=>e.get().each(n)}},Uf=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},k=e=>Uf(e)!=="html",T=e=>k(e.nodeName),$=e=>Uf(e.nodeName),Q=["svg","math"],be=()=>{const e=ic(),t=()=>e.get().map($).getOr("html");return{track:i=>(T(i)?e.set(i):e.get().exists(c=>!c.contains(i))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Le="data-mce-block",ye=e=>Ke(nt(e),t=>!/[A-Z]/.test(t)),Pt=e=>Jo(ye(e),t=>{const n=CSS.escape(t);return`${n}:`+Jo(Q,r=>`not(${r} ${n})`).join(":")}).join(","),qt=(e,t)=>Ie(t.querySelector(e))?(t.setAttribute(Le,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Le),!1),Mo=(e,t)=>{const n=Pt(e.getTransparentElements()),r=Pt(e.getBlockElements());return Ke(t.querySelectorAll(n),i=>qt(r,i))},or=(e,t,n)=>{var r;const i=n?"lastChild":"firstChild";for(let c=t[i];c;c=c[i])if(Ml(e,c,{checkRootAsContent:!0})){(r=c.parentNode)===null||r===void 0||r.removeChild(c);return}},nr=(e,t,n)=>{const r=document.createRange(),i=t.parentNode;if(i){r.setStartBefore(t),r.setEndBefore(n);const c=r.extractContents();or(e,c,!0),r.setStartAfter(n),r.setEndAfter(t);const u=r.extractContents();or(e,u,!1),Ml(e,c,{checkRootAsContent:!0})||i.insertBefore(c,t),Ml(e,n,{checkRootAsContent:!0})||i.insertBefore(n,t),Ml(e,u,{checkRootAsContent:!0})||i.insertBefore(u,t),i.removeChild(t)}},Br=(e,t,n)=>{const r=e.getBlockElements(),i=re.fromDom(t),c=g=>pn(g)in r,u=g=>en(g,i);Ne(Aa(n),g=>{fl(g,c,u).each(x=>{const C=Mm(g,R=>c(R)&&!e.isValidChild(pn(x),pn(R)));if(C.length>0){const R=Xl(x);Ne(C,B=>{fl(B,c,u).each(L=>{nr(e,L.dom,B.dom)})}),R.each(B=>Mo(e,B.dom))}})})},Va=(e,t,n)=>{Ne([...n,...ir(e,t)?[t]:[]],r=>Ne(Rs(re.fromDom(r),r.nodeName.toLowerCase()),i=>{hl(e,i.dom)&&Ee(i)}))},si=(e,t)=>{const n=Mo(e,t);Br(e,t,n),Va(e,t,n)},lc=(e,t)=>{if(ar(e,t)){const n=Pt(e.getBlockElements());qt(n,t)}},ld=(e,t,n)=>{const r=c=>en(c,re.fromDom(t)),i=Jl(re.fromDom(n),r);Gs(i,i.length-2).filter(ti).fold(()=>si(e,t),c=>si(e,c.dom))},Er=e=>e.hasAttribute(Le),Es=(e,t)=>po(e.getTransparentElements(),t),ar=(e,t)=>Ot(t)&&Es(e,t.nodeName),ir=(e,t)=>ar(e,t)&&Er(t),hl=(e,t)=>ar(e,t)&&!Er(t),ai=(e,t)=>t.type===1&&Es(e,t.name)&&pt(t.attr(Le)),jf=Us().browser,bl=e=>Tn(e,ti),Kg=e=>jf.isFirefox()&&pn(e)==="table"?bl(xa(e)).filter(t=>pn(t)==="caption").bind(t=>bl(Ql(t)).map(n=>{const r=n.dom.offsetTop,i=t.dom.offsetTop,c=t.dom.offsetHeight;return r<=i?-c:0})).getOr(0):0,gn=(e,t)=>e.children&&on(e.children,t),rs=(e,t,n)=>{let r=0,i=0;const c=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Si(re.fromDom(e),"position")==="static"){const g=t.getBoundingClientRect();return r=g.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,i=g.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:r,y:i}}let u=t;for(;u&&u!==n&&u.nodeType&&!gn(u,n);){const g=u;r+=g.offsetLeft||0,i+=g.offsetTop||0,u=g.offsetParent}for(u=t.parentNode;u&&u!==n&&u.nodeType&&!gn(u,n);)r-=u.scrollLeft||0,i-=u.scrollTop||0,u=u.parentNode;i+=Kg(re.fromDom(t))}return{x:r,y:i}},ii=(e,t={})=>{let n=0;const r={},i=re.fromDom(e),c=Rl(i),u=me=>{t.referrerPolicy=me},g=me=>{t.contentCssCors=me},x=me=>{Mr(td(i),me)},C=me=>{const Ce=td(i);er(Ce,"#"+me).each(un)},R=me=>Hn(r,me).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),B=me=>new Promise((Ce,ze)=>{let Re;const Xe=gt._addCacheSuffix(me),mt=R(Xe);r[Xe]=mt,mt.count++;const At=(St,Jt)=>{Ne(St,So),mt.status=Jt,mt.passed=[],mt.failed=[],Re&&(Re.onload=null,Re.onerror=null,Re=null)},Ze=()=>At(mt.passed,2),Pe=()=>At(mt.failed,3);if(Ce&&mt.passed.push(Ce),ze&&mt.failed.push(ze),mt.status===1)return;if(mt.status===2){Ze();return}if(mt.status===3){Pe();return}mt.status=1;const et=re.fromTag("link",c.dom);dl(et,{rel:"stylesheet",type:"text/css",id:mt.id}),t.contentCssCors&&On(et,"crossOrigin","anonymous"),t.referrerPolicy&&On(et,"referrerpolicy",t.referrerPolicy),Re=et.dom,Re.onload=Ze,Re.onerror=Pe,x(et),On(et,"href",Xe)}),L=(me,Ce)=>{const ze=R(me);r[me]=ze,ze.count++;const Re=re.fromTag("style",c.dom);dl(Re,{rel:"stylesheet",type:"text/css",id:ze.id,"data-mce-key":me}),Re.dom.innerHTML=Ce,x(Re)},W=me=>Promise.allSettled(Jo(me,ze=>B(ze).then(Je(ze)))).then(ze=>{const Re=at(ze,Xe=>Xe.status==="fulfilled");return Re.fail.length>0?Promise.reject(Jo(Re.fail,Xe=>Xe.reason)):Jo(Re.pass,Xe=>Xe.value)}),ee=me=>{const Ce=gt._addCacheSuffix(me);Hn(r,Ce).each(ze=>{--ze.count===0&&(delete r[Ce],C(ze.id))})};return{load:B,loadRawCss:L,loadAll:W,unload:ee,unloadRawCss:me=>{Hn(r,me).each(Ce=>{--Ce.count===0&&(delete r[me],C(Ce.id))})},unloadAll:me=>{Ne(me,Ce=>{ee(Ce)})},_setReferrerPolicy:u,_setContentCssCors:g}},Yg=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const c=Ci(n).dom;return H.from(e.get(c)).getOrThunk(()=>{const u=ii(c,r);return e.set(c,u),u})}}})(),wb=e=>e.nodeName.toLowerCase()==="span",Ac=(e,t)=>Ie(e)&&(Xn(t,e)||t.isInline(e.nodeName.toLowerCase())),Zf=(e,t,n)=>{const r=new qr(e,t).prev(!1),i=new qr(e,t).next(!1),c=Nr(r)||Ac(r,n),u=Nr(i)||Ac(i,n);return c&&u},Xg=e=>wb(e)&&e.getAttribute("data-mce-type")==="bookmark",Cb=(e,t,n)=>it(e)&&e.data.length>0&&Zf(e,t,n),O1=e=>Ot(e)?e.childNodes.length>0:!1,A1=e=>Ku(e)||id(e),Xp=(e,t,n,r)=>{var i;const c=r||t;if(Ot(t)&&Xg(t))return t;const u=t.childNodes;for(let g=u.length-1;g>=0;g--)Xp(e,u[g],n,c);if(Ot(t)){const g=t.childNodes;g.length===1&&Xg(g[0])&&((i=t.parentNode)===null||i===void 0||i.insertBefore(g[0],t))}return!A1(t)&&!Xn(n,t)&&!O1(t)&&!Cb(t,c,n)&&e.remove(t),t},mv=gt.makeMap,Jp=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hm=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sb=/[<>&\"\']/g,N1=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Jg={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},tf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Wf={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Qp=e=>{const t=re.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Eb=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let i=0;i<r.length;i+=2){const c=String.fromCharCode(parseInt(r[i],t));if(!tf[c]){const u="&"+r[i+1]+";";n[c]=u,n[u]=c}}return n}else return},Qg=Eb("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),R1=(e,t)=>e.replace(t?Jp:Hm,n=>tf[n]||n),eg=e=>(""+e).replace(Sb,t=>tf[t]||t),eh=(e,t)=>e.replace(t?Jp:Hm,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":tf[n]||"&#"+n.charCodeAt(0)+";"),of=(e,t,n)=>{const r=n||Qg;return e.replace(t?Jp:Hm,i=>tf[i]||r[i]||i)},Nc={encodeRaw:R1,encodeAllRaw:eg,encodeNumeric:eh,encodeNamed:of,getEncodeFunc:(e,t)=>{const n=Eb(t)||Qg,r=(u,g)=>u.replace(g?Jp:Hm,x=>tf[x]!==void 0?tf[x]:n[x]!==void 0?n[x]:x.length>1?"&#"+((x.charCodeAt(0)-55296)*1024+(x.charCodeAt(1)-56320)+65536)+";":"&#"+x.charCodeAt(0)+";"),i=(u,g)=>of(u,g,n),c=mv(e.replace(/\+/g,","));return c.named&&c.numeric?r:c.named?t?i:of:c.numeric?eh:R1},decode:e=>e.replace(N1,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Jg[n]||String.fromCharCode(n)):Wf[t]||Qg[t]||Qp(t))},ds=(e,t)=>(e=gt.trim(e),e?e.split(t||" "):[]),D1=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),zb=e=>ue(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",Hw=e=>{const t=n=>ve(n)?Jo(n,t):zb(n)?new RegExp(n.source,n.flags):ue(n)?Pi(n,t):n;return t(e)},Tb=e=>{const t=/^(~)?(.+)$/;return Kn(ds(e,","),n=>{const r=t.exec(n);if(r){const c=r[1]==="~"?"span":"div",u=r[2];return[{cloneName:c,name:u}]}else return[]})},tg=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),gv=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const r=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:r}},M1=e=>{const{blockContent:t,phrasingContent:n,flowContent:r}=gv(e),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(t),phrasingContent:i(n),flowContent:i(r)})},th={html4:Ya(()=>M1("html4")),html5:Ya(()=>M1("html5")),"html5-strict":Ya(()=>M1("html5-strict"))},nf=(e,t)=>{const{blockContent:n,phrasingContent:r,flowContent:i}=th[e]();return t==="blocks"?H.some(n):t==="phrasing"?H.some(r):t==="flow"?H.some(i):H.none()},Vm=e=>{const t=tg(e),{phrasingContent:n,flowContent:r}=gv(e),i={},c=(x,C,R)=>{i[x]={attributes:Hr(C,Je({})),attributesOrder:C,children:Hr(R,Je({}))}},u=(x,C="",R="")=>{const B=ds(R),L=ds(x);let W=L.length;const ee=[...t,...ds(C)];for(;W--;)c(L[W],ee.slice(),B)},g=(x,C)=>{const R=ds(x),B=ds(C);let L=R.length;for(;L--;){const W=i[R[L]];for(let ee=0,K=B.length;ee<K;ee++)W.attributes[B[ee]]={},W.attributesOrder.push(B[ee])}};return e!=="html5-strict"&&(Ne(ds("acronym applet basefont big font strike tt"),R=>{u(R,"",n)}),Ne(ds("center dir isindex noframes"),R=>{u(R,"",r)})),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),u("dd div","",r),u("address dt caption","",e==="html4"?n:r),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),u("blockquote","cite",r),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",r),u("dl","","dt dd"),u("a","href target rel media hreflang type",e==="html4"?n:r),u("q","cite",n),u("ins del","cite datetime",r),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",r),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),u("param","name value"),u("map","name",[r,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",r),u("th","colspan rowspan headers scope abbr",r),u("form","accept-charset action autocomplete enctype method name novalidate target",r),u("fieldset","disabled form name",[r,"legend"].join(" ")),u("label","form for",n),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:n),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[r,"li"].join(" ")),u("noscript","",r),e!=="html4"&&(u("wbr"),u("ruby","",[n,"rt rp"].join(" ")),u("figcaption","",r),u("mark rt rp bdi","",n),u("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),u("canvas","width height",r),u("data","value",n),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[n,"option"].join(" ")),u("article section nav aside main header footer","",r),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[r,"figcaption"].join(" ")),u("time","datetime",n),u("dialog","open",r),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",n),u("progress","value max",n),u("meter","value min max low high optimum",n),u("details","open",[r,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name"),c("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(g("script","language xml:space"),g("style","xml:space"),g("object","declare classid code codebase codetype archive standby align border hspace vspace"),g("embed","align name hspace vspace"),g("param","valuetype type"),g("a","charset name rev shape coords"),g("br","clear"),g("applet","codebase archive code object alt name width height align hspace vspace"),g("img","name longdesc align border hspace vspace"),g("iframe","longdesc frameborder marginwidth marginheight scrolling align"),g("font basefont","size color face"),g("input","usemap align"),g("select"),g("textarea"),g("h1 h2 h3 h4 h5 h6 div p legend caption","align"),g("ul","type compact"),g("li","type"),g("ol dl menu dir","compact"),g("pre","width xml:space"),g("hr","align noshade size width"),g("isindex","prompt"),g("table","summary width frame rules cellspacing cellpadding align bgcolor"),g("col","width align char charoff valign"),g("colgroup","width align char charoff valign"),g("thead","align char charoff valign"),g("tr","align char charoff valign bgcolor"),g("th","axis align char charoff valign nowrap bgcolor width height"),g("form","accept"),g("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),g("tfoot","align char charoff valign"),g("tbody","align char charoff valign"),g("area","nohref"),g("body","background bgcolor text link vlink alink")),e!=="html4"&&(g("input button select textarea","autofocus"),g("input textarea","placeholder"),g("a","download"),g("link script img","crossorigin"),g("img","loading"),g("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&Ne([i.video,i.audio],x=>{delete x.children.audio,delete x.children.video}),Ne(ds("a form meter progress dfn"),x=>{i[x]&&delete i[x].children[x]}),delete i.caption.children.table,delete i.script,i},Bo=e=>e==="-"?"remove":"add",li=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return H.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},rf=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Kn(ds(e,","),n=>{const r=t.exec(n);if(r){const i=r[1],c=i?Bo(i):"replace",u=r[2],g=Kn(ds(r[3],"|"),x=>li(x).toArray());return[{operation:c,name:u,validChildren:g}]}else return[]})},B1=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:i,attributesOrder:c}=t;return Ne(ds(e,"|"),u=>{const g=n.exec(u);if(g){const x={},C=g[1],R=g[2].replace(/[\\:]:/g,":"),B=g[3],L=g[4];if(C==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(R),x.required=!0),C==="-"){delete i[R],c.splice(gt.inArray(c,R),1);return}if(B&&(B==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:R,value:L}),x.defaultValue=L):B==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:R,value:L}),x.forcedValue=L):B==="<"&&(x.validValues=gt.makeMap(L,"?"))),r.test(R)){const W=x;t.attributePatterns=t.attributePatterns||[],W.pattern=D1(R),t.attributePatterns.push(W)}else i[R]||c.push(R),i[R]=x}})},Gr=(e,t)=>{Ho(e.attributes,(n,r)=>{t.attributes[r]=n}),t.attributesOrder.push(...e.attributesOrder)},hv=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Kn(ds(t,","),r=>{const i=n.exec(r);if(i){const c=i[1],u=i[2],g=i[3],x=i[4],C=i[5],R={attributes:{},attributesOrder:[]};if(e.each(B=>Gr(B,R)),c==="#"?R.paddEmpty=!0:c==="-"&&(R.removeEmpty=!0),x==="!"&&(R.removeEmptyAttrs=!0),C&&B1(C,R),g&&(R.outputName=u),u==="@")if(e.isNone())e=H.some(R);else return[];return[g?{name:u,element:R,aliasName:g}:{name:u,element:R}]}else return[]})},qf={},Um=gt.makeMap,Mn=gt.each,P1=gt.extend,L1=gt.explode,Gf=(e,t={})=>{const n=Um(e," ",Um(e.toUpperCase()," "));return P1(n,t)},cc=e=>Gf("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),oh=(e,t)=>{if(e){const n={};return pt(e)&&(e={"*":e}),Mn(e,(r,i)=>{n[i]=n[i.toUpperCase()]=t==="map"?Um(r,/[, ]/):L1(r,/[, ]/)}),n}else return},wt=(e={})=>{var t;const n={},r={};let i=[];const c={},u={},g=(so,zn,na)=>{const ui=e[so];if(ui)return Um(ui,/[, ]/,Um(ui.toUpperCase(),/[, ]/));{let Mi=qf[so];return Mi||(Mi=Gf(zn,na),qf[so]=Mi),Mi}},x=(t=e.schema)!==null&&t!==void 0?t:"html5",C=Vm(x);e.verify_html===!1&&(e.valid_elements="*[*]");const R=oh(e.valid_styles),B=oh(e.invalid_styles,"map"),L=oh(e.valid_classes,"map"),W=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ee=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),K=g("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ne=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),me="td th iframe video audio object script code",Ce=g("non_empty_elements",me+" pre svg textarea summary",K),ze=g("move_caret_before_on_enter_elements",me+" table",K),Re="h1 h2 h3 h4 h5 h6",Xe=g("text_block_elements",Re+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),mt=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",Xe),At=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ze=g("transparent_elements","a ins del canvas map"),Pe=g("wrap_block_elements","pre "+Re);Mn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),so=>{u[so]=new RegExp("</"+so+"[^>]*>","gi")});const et=so=>{const zn=H.from(n["@"]),na=/[*?+]/;Ne(hv(zn,so??""),({name:ui,element:Mi,aliasName:Wa})=>{if(Wa&&(n[Wa]=Mi),na.test(ui)){const Is=Mi;Is.pattern=D1(ui),i.push(Is)}else n[ui]=Mi})},St=so=>{i=[],Ne(nt(n),zn=>{delete n[zn]}),et(so)},Jt=(so,zn)=>{var na,ui;delete qf.text_block_elements,delete qf.block_elements;const Mi=zn.extends?!yc(zn.extends):!1,Wa=zn.extends;if(r[so]=Wa?r[Wa]:{},c[so]=Wa??so,Ce[so.toUpperCase()]={},Ce[so]={},Mi||(mt[so.toUpperCase()]={},mt[so]={}),Wa&&!n[so]&&n[Wa]){const Is=Hw(n[Wa]);delete Is.removeEmptyAttrs,delete Is.removeEmpty,n[so]=Is}else n[so]={attributesOrder:[],attributes:{}};if(ve(zn.attributes)){const Is=qc=>{Fs.attributesOrder.push(qc),Fs.attributes[qc]={}},Fs=(na=n[so])!==null&&na!==void 0?na:{};delete Fs.attributesDefault,delete Fs.attributesForced,delete Fs.attributePatterns,delete Fs.attributesRequired,Fs.attributesOrder=[],Fs.attributes={},Ne(zn.attributes,qc=>{const Sm=tg(x);li(qc).each(({preset:Fg,name:Wp})=>{Fg?Wp==="global"&&Ne(Sm,Is):Is(Wp)})}),n[so]=Fs}if(gs(zn.padEmpty)){const Is=(ui=n[so])!==null&&ui!==void 0?ui:{};Is.paddEmpty=zn.padEmpty,n[so]=Is}if(ve(zn.children)){const Is={},Fs=Sm=>{Is[Sm]={}},qc=Sm=>{nf(x,Sm).each(Fg=>{Ne(Fg,Fs)})};Ne(zn.children,Sm=>{li(Sm).each(({preset:Fg,name:Wp})=>{Fg?qc(Wp):Fs(Wp)})}),r[so]=Is}Wa&&Ho(r,(Is,Fs)=>{Is[Wa]&&(r[Fs]=Is=P1({},r[Fs]),Is[so]=Is[Wa])})},rn=so=>{Ne(Tb(so??""),({name:zn,cloneName:na})=>{Jt(zn,{extends:na})})},an=so=>{ue(so)?Ho(so,(zn,na)=>Jt(na,zn)):pt(so)&&rn(so)},jn=so=>{Ne(rf(so??""),({operation:zn,name:na,validChildren:ui})=>{const Mi=zn==="replace"?{"#comment":{}}:r[na],Wa=Fs=>{zn==="remove"?delete Mi[Fs]:Mi[Fs]={}},Is=Fs=>{nf(x,Fs).each(qc=>{Ne(qc,Wa)})};Ne(ui,({preset:Fs,name:qc})=>{Fs?Is(qc):Wa(qc)}),r[na]=Mi})},vr=so=>{const zn=n[so];if(zn)return zn;let na=i.length;for(;na--;){const ui=i[na];if(ui.pattern.test(so))return ui}},da=()=>{e.valid_elements?(St(e.valid_elements),Mn(C,(so,zn)=>{r[zn]=so.children})):(Mn(C,(so,zn)=>{n[zn]={attributes:so.attributes,attributesOrder:so.attributesOrder},r[zn]=so.children}),Mn(ds("strong/b em/i"),so=>{const zn=ds(so,"/");n[zn[1]].outputName=zn[0]}),Mn(At,(so,zn)=>{n[zn]&&(e.padd_empty_block_inline_children&&(n[zn].paddInEmptyBlock=!0),n[zn].removeEmpty=!0)}),Mn(ds("ol ul blockquote a table tbody"),so=>{n[so]&&(n[so].removeEmpty=!0)}),Mn(ds("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),so=>{n[so]&&(n[so].paddEmpty=!0)}),Mn(ds("span"),so=>{n[so].removeEmptyAttrs=!0})),delete n.svg,an(e.custom_elements),jn(e.valid_children),et(e.extended_valid_elements),jn("+ol[ul|ol],+ul[ul|ol]"),Mn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(so,zn)=>{n[zn]&&(n[zn].parentsRequired=ds(so))}),e.invalid_elements&&Mn(L1(e.invalid_elements),so=>{n[so]&&delete n[so]}),vr("span")||et("span[!data-mce-type|*]")},Ri=Je(R),Di=Je(B),kt=Je(L),Qt=Je(ne),In=Je(mt),zt=Je(Xe),st=Je(At),Ct=Je(Object.seal(K)),wo=Je(ee),Ar=Je(Ce),hn=Je(ze),il=Je(W),Af=Je(Ze),Ig=Je(Pe),Zc=Je(Object.seal(u)),Cm=(so,zn)=>{const na=r[so.toLowerCase()];return!!(na&&na[zn.toLowerCase()])},Hu=(so,zn)=>{const na=vr(so);if(na)if(zn){if(na.attributes[zn])return!0;const ui=na.attributePatterns;if(ui){let Mi=ui.length;for(;Mi--;)if(ui[Mi].pattern.test(zn))return!0}}else return!0;return!1},yc=so=>po(In(),so),Wc=so=>!cr(so,"#")&&Hu(so)&&!yc(so),Nf=so=>po(Ig(),so)||Wc(so),w1=Je(c);return da(),{type:x,children:r,elements:n,getValidStyles:Ri,getValidClasses:kt,getBlockElements:In,getInvalidStyles:Di,getVoidElements:Ct,getTextBlockElements:zt,getTextInlineElements:st,getBoolAttrs:Qt,getElementRule:vr,getSelfClosingElements:wo,getNonEmptyElements:Ar,getMoveCaretBeforeOnEnterElements:hn,getWhitespaceElements:il,getTransparentElements:Af,getSpecialElements:Zc,isValidChild:Cm,isValid:Hu,isBlock:yc,isInline:Wc,isWrapper:Nf,getCustomElements:w1,addValidElements:et,setValidElements:St,addCustomElements:an,addValidChildren:jn}},Ob=e=>({value:$w(e)}),$w=e=>bi(e,"#").toUpperCase(),I1=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},bv=e=>{const t=I1(e.red)+I1(e.green)+I1(e.blue);return Ob(t)},Ab=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,og=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ng=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),yv=(e,t,n,r)=>{const i=parseInt(e,10),c=parseInt(t,10),u=parseInt(n,10),g=parseFloat(r);return ng(i,c,u,g)},Nb=e=>Ab.test(e)?"rgb":og.test(e)?"rgba":"other",xv=e=>{const t=Ab.exec(e);if(t!==null)return H.some(yv(t[1],t[2],t[3],"1"));const n=og.exec(e);return n!==null?H.some(yv(n[1],n[2],n[3],n[4])):H.none()},Rb=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,rg=e=>xv(e).map(bv).map(t=>"#"+t.value).getOr(e),Db=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let u,g;const x=Bm;t&&(u=t.getValidStyles(),g=t.getInvalidStyles());const C=(`\\" \\' \\; \\: ; : `+x).split(" ");for(let B=0;B<C.length;B++)c[C[B]]=x+B,c[x+B]=C[B];const R={parse:B=>{const L={};let W=!1;const ee=e.url_converter,K=e.url_converter_scope||R,ne=(Ze,Pe,et)=>{const St=L[Ze+"-top"+Pe];if(!St)return;const Jt=L[Ze+"-right"+Pe];if(!Jt)return;const rn=L[Ze+"-bottom"+Pe];if(!rn)return;const an=L[Ze+"-left"+Pe];if(!an)return;const jn=[St,Jt,rn,an];let vr=jn.length-1;for(;vr--&&jn[vr]===jn[vr+1];);vr>-1&&et||(L[Ze+Pe]=vr===-1?jn[0]:jn.join(" "),delete L[Ze+"-top"+Pe],delete L[Ze+"-right"+Pe],delete L[Ze+"-bottom"+Pe],delete L[Ze+"-left"+Pe])},me=Ze=>{const Pe=L[Ze];if(!Pe)return;const et=Pe.indexOf(",")>-1?[Pe]:Pe.split(" ");let St=et.length;for(;St--;)if(et[St]!==et[0])return!1;return L[Ze]=et[0],!0},Ce=(Ze,Pe,et,St)=>{me(Pe)&&me(et)&&me(St)&&(L[Ze]=L[Pe]+" "+L[et]+" "+L[St],delete L[Pe],delete L[et],delete L[St])},ze=Ze=>(W=!0,c[Ze]),Re=(Ze,Pe)=>(W&&(Ze=Ze.replace(/\uFEFF[0-9]/g,et=>c[et])),Pe||(Ze=Ze.replace(/\\([\'\";:])/g,"$1")),Ze),Xe=Ze=>String.fromCharCode(parseInt(Ze.slice(1),16)),mt=Ze=>Ze.replace(/\\[0-9a-f]+/gi,Xe),At=(Ze,Pe,et,St,Jt,rn)=>{if(Jt=Jt||rn,Jt)return Jt=Re(Jt),"'"+Jt.replace(/\'/g,"\\'")+"'";if(Pe=Re(Pe||et||St||""),!e.allow_script_urls){const an=Pe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(an)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(an))return""}return ee&&(Pe=ee.call(K,Pe,"style")),"url('"+Pe.replace(/\'/g,"\\'")+"')"};if(B){B=B.replace(/[\u0000-\u001F]/g,""),B=B.replace(/\\[\"\';:\uFEFF]/g,ze).replace(/\"[^\"]+\"|\'[^\']+\'/g,Pe=>Pe.replace(/[;:]/g,ze));let Ze;for(;Ze=r.exec(B);){r.lastIndex=Ze.index+Ze[0].length;let Pe=Ze[1].replace(i,"").toLowerCase(),et=Ze[2].replace(i,"");if(Pe&&et){if(Pe=mt(Pe),et=mt(et),Pe.indexOf(x)!==-1||Pe.indexOf('"')!==-1||!e.allow_script_urls&&(Pe==="behavior"||/expression\s*\(|\/\*|\*\//.test(et)))continue;Pe==="font-weight"&&et==="700"?et="bold":(Pe==="color"||Pe==="background-color")&&(et=et.toLowerCase()),Nb(et)==="rgb"&&xv(et).each(St=>{et=rg(Rb(St)).toLowerCase()}),et=et.replace(n,At),L[Pe]=W?Re(et,!0):et}}ne("border","",!0),ne("border","-width"),ne("border","-color"),ne("border","-style"),ne("padding",""),ne("margin",""),Ce("border","border-width","border-style","border-color"),L.border==="medium none"&&delete L.border,L["border-image"]==="none"&&delete L["border-image"]}return L},serialize:(B,L)=>{let W="";const ee=(ne,me)=>{const Ce=me[ne];if(Ce)for(let ze=0,Re=Ce.length;ze<Re;ze++){const Xe=Ce[ze],mt=B[Xe];mt&&(W+=(W.length>0?" ":"")+Xe+": "+mt+";")}},K=(ne,me)=>{if(!g||!me)return!0;let Ce=g["*"];return Ce&&Ce[ne]?!1:(Ce=g[me],!(Ce&&Ce[ne]))};return L&&u?(ee("*",u),ee(L,u)):Ho(B,(ne,me)=>{ne&&K(me,L)&&(W+=(W.length>0?" ":"")+me+": "+ne+";")}),W}};return R},Mb={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},vv=e=>e instanceof Event||jt(e.initEvent),F1=e=>e.isDefaultPrevented===uo||e.isDefaultPrevented===ho,Vw=e=>Io(e.preventDefault)||vv(e),_v=(e,t)=>{const n=t??{};for(const r in e)po(Mb,r)||(n[r]=e[r]);return Ie(e.composedPath)&&(n.composedPath=()=>e.composedPath()),Ie(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),Ie(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},H1=(e,t,n,r)=>{var i;const c=_v(t,r);return c.type=e,Io(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),Vw(t)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=uo,jt(t.preventDefault)&&t.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=uo,jt(t.stopPropagation)&&t.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=uo,c.stopPropagation()},F1(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?uo:ho,c.isPropagationStopped=c.cancelBubble===!0?uo:ho,c.isImmediatePropagationStopped=ho)),c},Uw="mce-data-",jm=/^(?:mouse|contextmenu)|click/,$1=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Bb=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},sf=e=>Ie(e)&&jm.test(e.type),cd=(e,t)=>{const n=H1(e.type,e,document,t);if(sf(e)&&Nr(e.pageX)&&!Nr(e.clientX)){const r=n.target.ownerDocument||document,i=r.documentElement,c=r.body,u=n;u.pageX=e.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),u.pageY=e.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},V1=(e,t,n)=>{const r=e.document,i={type:"ready"};if(n.domLoaded){t(i);return}const c=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,u=()=>{Bb(e,"DOMContentLoaded",u),Bb(e,"load",u),n.domLoaded||(n.domLoaded=!0,t(i)),e=null};c()?u():$1(e,"DOMContentLoaded",u),n.domLoaded||$1(e,"load",u)};class dc{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Uw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,i){const c=this;let u;const g=window,x=L=>{c.executeHandlers(cd(L||g.event),C)};if(!t||it(t)||sc(t))return r;let C;t[c.expando]?C=t[c.expando]:(C=c.count++,t[c.expando]=C,c.events[C]={}),i=i||t;const R=n.split(" ");let B=R.length;for(;B--;){let L=R[B],W=x,ee=!1,K=!1;if(L==="DOMContentLoaded"&&(L="ready"),c.domLoaded&&L==="ready"&&t.readyState==="complete"){r.call(i,cd({type:L}));continue}!c.hasFocusIn&&(L==="focusin"||L==="focusout")&&(ee=!0,K=L==="focusin"?"focus":"blur",W=ne=>{const me=cd(ne||g.event);me.type=me.type==="focus"?"focusin":"focusout",c.executeHandlers(me,C)}),u=c.events[C][L],u?L==="ready"&&c.domLoaded?r(cd({type:L})):u.push({func:r,scope:i}):(c.events[C][L]=u=[{func:r,scope:i}],u.fakeName=K,u.capture=ee,u.nativeHandler=W,L==="ready"?V1(t,W,c):$1(t,K||L,W,ee))}return t=u=null,r}unbind(t,n,r){if(!t||it(t)||sc(t))return this;const i=t[this.expando];if(i){let c=this.events[i];if(n){const u=n.split(" ");let g=u.length;for(;g--;){const x=u[g],C=c[x];if(C){if(r){let R=C.length;for(;R--;)if(C[R].func===r){const B=C.nativeHandler,L=C.fakeName,W=C.capture,ee=C.slice(0,R).concat(C.slice(R+1));ee.nativeHandler=B,ee.fakeName=L,ee.capture=W,c[x]=ee}}(!r||C.length===0)&&(delete c[x],Bb(t,C.fakeName||x,C.nativeHandler,C.capture))}}}else Ho(c,(u,g)=>{Bb(t,u.fakeName||g,u.nativeHandler,u.capture)}),c={};for(const u in c)if(po(c,u))return this;delete this.events[i];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||it(t)||sc(t))return this;const i=cd({type:n,target:t},r);do{const c=t[this.expando];c&&this.executeHandlers(i,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return this}clean(t){if(!t||it(t)||sc(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)t=n[r],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],i=r&&r[t.type];if(i)for(let c=0,u=i.length;c<u;c++){const g=i[c];if(g&&g.func.call(g.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}dc.Event=new dc;const Zm=gt.each,Ra=gt.grep,U1="data-mce-style",kv=gt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),nh=(e,t,n)=>{Io(n)||n===""?En(e,t):On(e,t,n)},zr=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Kf=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,i=e.previousSibling;i;i=i.previousSibling){const c=i.nodeType;t&&it(i)&&(c===r||!i.data.length)||(n++,r=c)}return n},sg=(e,t)=>{const n=ba(t,"style"),r=e.serialize(e.parse(n),pn(t));nh(t,U1,r)},Pb=(e,t)=>O(e)?po(kv,t)?e+"":e+"px":e,Ws=(e,t,n)=>{const r=zr(t);Io(n)||n===""?ml(e,r):Ge(e,r,Pb(n,r))},Bl=(e,t,n)=>{const r=t.keep_values,i={set:(u,g,x)=>{const C=re.fromDom(u);jt(t.url_converter)&&Ie(g)&&(g=t.url_converter.call(t.url_converter_scope||n(),String(g),x,u));const R="data-mce-"+x;nh(C,R,g),nh(C,x,g)},get:(u,g)=>{const x=re.fromDom(u);return ba(x,"data-mce-"+g)||ba(x,g)}},c={style:{set:(u,g)=>{const x=re.fromDom(u);r&&nh(x,U1,g),En(x,"style"),pt(g)&&Xs(x,e.parse(g))},get:u=>{const g=re.fromDom(u),x=ba(g,U1)||ba(g,"style");return e.serialize(e.parse(x),pn(g))}}};return r&&(c.href=c.src=i),c},Tr=(e,t={})=>{const n={},r=window,i={};let c=0;const u=!0,g=!0,x=Yg.forElement(re.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),C=[],R=t.schema?t.schema:wt({}),B=Db({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),L=t.ownEvents?new dc:dc.Event,W=R.getBlockElements(),ee=Oe=>pt(Oe)?po(W,Oe):Ot(Oe)&&(po(W,Oe.nodeName)||ir(R,Oe)),K=Oe=>Oe&&e&&pt(Oe)?e.getElementById(Oe):Oe,ne=Oe=>{const Me=K(Oe);return Ie(Me)?re.fromDom(Me):null},me=(Oe,Me,vt="")=>{let bt;const mo=ne(Oe);if(Ie(mo)&&ti(mo)){const Pn=rR[Me];Pn&&Pn.get?bt=Pn.get(mo.dom,Me):bt=ba(mo,Me)}return Ie(bt)?bt:vt},Ce=Oe=>{const Me=K(Oe);return Io(Me)?[]:Me.attributes},ze=(Oe,Me,vt)=>{Qt(Oe,bt=>{if(Ot(bt)){const mo=re.fromDom(bt),Pn=vt===""?null:vt,ra=ba(mo,Me),qp=rR[Me];qp&&qp.set?qp.set(mo.dom,Pn,Me):nh(mo,Me,Pn),ra!==Pn&&t.onSetAttrib&&t.onSetAttrib({attrElm:mo.dom,attrName:Me,attrValue:Pn})}})},Re=(Oe,Me)=>Oe.cloneNode(Me),Xe=()=>t.root_element||e.body,mt=Oe=>{const Me=Na(Oe);return{x:Me.x,y:Me.y,w:Me.width,h:Me.height}},At=(Oe,Me)=>rs(e.body,K(Oe),Me),Ze=(Oe,Me,vt)=>{Qt(Oe,bt=>{const mo=re.fromDom(bt);Ws(mo,Me,vt),t.update_styles&&sg(B,mo)})},Pe=(Oe,Me)=>{Qt(Oe,vt=>{const bt=re.fromDom(vt);Ho(Me,(mo,Pn)=>{Ws(bt,Pn,mo)}),t.update_styles&&sg(B,bt)})},et=(Oe,Me,vt)=>{const bt=K(Oe);if(!(Io(bt)||!Qs(bt)&&!Pm(bt)))return vt?Si(re.fromDom(bt),zr(Me)):(Me=Me.replace(/-(\D)/g,(mo,Pn)=>Pn.toUpperCase()),Me==="float"&&(Me="cssFloat"),bt.style?bt.style[Me]:void 0)},St=Oe=>{const Me=K(Oe);if(!Me)return{w:0,h:0};let vt=et(Me,"width"),bt=et(Me,"height");return(!vt||vt.indexOf("px")===-1)&&(vt="0"),(!bt||bt.indexOf("px")===-1)&&(bt="0"),{w:parseInt(vt,10)||Me.offsetWidth||Me.clientWidth,h:parseInt(bt,10)||Me.offsetHeight||Me.clientHeight}},Jt=Oe=>{const Me=K(Oe),vt=At(Me),bt=St(Me);return{x:vt.x,y:vt.y,w:bt.w,h:bt.h}},rn=(Oe,Me)=>{if(!Oe)return!1;const vt=ve(Oe)?Oe:[Oe];return Sn(vt,bt=>Fa(re.fromDom(bt),Me))},an=(Oe,Me,vt,bt)=>{const mo=[];let Pn=K(Oe);bt=bt===void 0;const ra=vt||(Xe().nodeName!=="BODY"?Xe().parentNode:null);if(pt(Me))if(Me==="*")Me=Ot;else{const qp=Me;Me=zm=>rn(zm,qp)}for(;Pn&&!(Pn===ra||Io(Pn.nodeType)||id(Pn)||Ku(Pn));){if(!Me||Me(Pn))if(bt)mo.push(Pn);else return[Pn];Pn=Pn.parentNode}return bt?mo:null},jn=(Oe,Me,vt)=>{const bt=an(Oe,Me,vt,!1);return bt&&bt.length>0?bt[0]:null},vr=(Oe,Me,vt)=>{let bt=Me;if(Oe){pt(Me)&&(bt=mo=>rn(mo,Me));for(let mo=Oe[vt];mo;mo=mo[vt])if(jt(bt)&&bt(mo))return mo}return null},da=(Oe,Me)=>vr(Oe,Me,"nextSibling"),Ri=(Oe,Me)=>vr(Oe,Me,"previousSibling"),Di=Oe=>jt(Oe.querySelectorAll),kt=(Oe,Me)=>{var vt,bt;const mo=(bt=(vt=K(Me))!==null&&vt!==void 0?vt:t.root_element)!==null&&bt!==void 0?bt:e;return Di(mo)?Fo(mo.querySelectorAll(Oe)):[]},Qt=function(Oe,Me,vt){const bt=vt??this;if(ve(Oe)){const mo=[];return Zm(Oe,(Pn,ra)=>{const qp=K(Pn);qp&&mo.push(Me.call(bt,qp,ra))}),mo}else{const mo=K(Oe);return mo?Me.call(bt,mo):!1}},In=(Oe,Me)=>{Qt(Oe,vt=>{Ho(Me,(bt,mo)=>{ze(vt,mo,bt)})})},zt=(Oe,Me)=>{Qt(Oe,vt=>{const bt=re.fromDom(vt);ka(bt,Me)})},st=(Oe,Me,vt,bt,mo)=>Qt(Oe,Pn=>{const ra=pt(Me)?e.createElement(Me):Me;return Ie(vt)&&In(ra,vt),bt&&(!pt(bt)&&bt.nodeType?ra.appendChild(bt):pt(bt)&&zt(ra,bt)),mo?ra:Pn.appendChild(ra)}),Ct=(Oe,Me,vt)=>st(e.createElement(Oe),Oe,Me,vt,!0),wo=Nc.decode,Ar=Nc.encodeAllRaw,hn=(Oe,Me,vt="")=>{let bt="<"+Oe;for(const mo in Me)Ga(Me,mo)&&(bt+=" "+mo+'="'+Ar(Me[mo])+'"');return yi(vt)&&po(R.getVoidElements(),Oe)?bt+" />":bt+">"+vt+"</"+Oe+">"},il=Oe=>{const Me=e.createElement("div"),vt=e.createDocumentFragment();vt.appendChild(Me),Oe&&(Me.innerHTML=Oe);let bt;for(;bt=Me.firstChild;)vt.appendChild(bt);return vt.removeChild(Me),vt},Af=(Oe,Me)=>Qt(Oe,vt=>{const bt=re.fromDom(vt);return Me&&Ne(xa(bt),mo=>{js(mo)&&mo.dom.length===0?un(mo):Vr(bt,mo)}),un(bt),bt.dom}),Ig=Oe=>Qt(Oe,Me=>{const vt=Me.attributes;for(let bt=vt.length-1;bt>=0;bt--)Me.removeAttributeNode(vt.item(bt))}),Zc=Oe=>B.parse(Oe),Cm=(Oe,Me)=>B.serialize(Oe,Me),Hu=Oe=>{if(S1!==Tr.DOM&&e===document){if(n[Oe])return;n[Oe]=!0}let Me=e.getElementById("mceDefaultStyles");if(!Me){Me=e.createElement("style"),Me.id="mceDefaultStyles",Me.type="text/css";const vt=e.head;vt.firstChild?vt.insertBefore(Me,vt.firstChild):vt.appendChild(Me)}Me.styleSheet?Me.styleSheet.cssText+=Oe:Me.appendChild(e.createTextNode(Oe))},yc=Oe=>{Oe||(Oe=""),Ne(Oe.split(","),Me=>{i[Me]=!0,x.load(Me).catch(ao)})},Wc=(Oe,Me,vt)=>{Qt(Oe,bt=>{if(Ot(bt)){const mo=re.fromDom(bt),Pn=Me.split(" ");Ne(Pn,ra=>{Ie(vt)?(vt?Yl:Ia)(mo,ra):Om(mo,ra)})}})},Nf=(Oe,Me)=>{Wc(Oe,Me,!0)},w1=(Oe,Me)=>{Wc(Oe,Me,!1)},so=(Oe,Me)=>{const vt=ne(Oe),bt=Me.split(" ");return Ie(vt)&&Qr(bt,mo=>Id(vt,mo))},zn=Oe=>{Qt(Oe,Me=>ml(re.fromDom(Me),"display"))},na=Oe=>{Qt(Oe,Me=>Ge(re.fromDom(Me),"display","none"))},ui=Oe=>{const Me=ne(Oe);return Ie(Me)&&Bd(Zs(Me,"display"),"none")},Mi=Oe=>(Oe||"mce_")+c++,Wa=Oe=>{const Me=ne(Oe);return Ie(Me)?Ot(Me.dom)?Me.dom.outerHTML:Js(Me):""},Is=(Oe,Me)=>{Qt(Oe,vt=>{Ot(vt)&&(vt.outerHTML=Me)})},Fs=(Oe,Me)=>{const vt=K(Me);return Qt(Oe,bt=>{const mo=vt==null?void 0:vt.parentNode,Pn=vt==null?void 0:vt.nextSibling;return mo&&(Pn?mo.insertBefore(bt,Pn):mo.appendChild(bt)),bt})},qc=(Oe,Me,vt)=>Qt(Me,bt=>{var mo;const Pn=ve(Me)?Oe.cloneNode(!0):Oe;return vt&&Zm(Ra(bt.childNodes),ra=>{Pn.appendChild(ra)}),(mo=bt.parentNode)===null||mo===void 0||mo.replaceChild(Pn,bt),bt}),Sm=(Oe,Me)=>{if(Oe.nodeName!==Me.toUpperCase()){const vt=Ct(Me);return Zm(Ce(Oe),bt=>{ze(vt,bt.nodeName,me(Oe,bt.nodeName))}),qc(vt,Oe,!0),vt}else return Oe},Fg=(Oe,Me)=>{let vt=Oe;for(;vt;){let bt=Me;for(;bt&&vt!==bt;)bt=bt.parentNode;if(vt===bt)break;vt=vt.parentNode}return!vt&&Oe.ownerDocument?Oe.ownerDocument.documentElement:vt},Wp=(Oe,Me,vt)=>Et(Me)?Ml(R,Oe,{...vt,isContent:mo=>{const Pn=mo.nodeName.toLowerCase();return!!Me[Pn]}}):Ml(R,Oe,vt),Pw=()=>e.createRange(),Lw=(Oe,Me,vt)=>{let bt=Pw(),mo,Pn;if(Oe&&Me&&Oe.parentNode&&Me.parentNode){const ra=Oe.parentNode;return bt.setStart(ra,Kf(Oe)),bt.setEnd(Me.parentNode,Kf(Me)),mo=bt.extractContents(),bt=Pw(),bt.setStart(Me.parentNode,Kf(Me)+1),bt.setEnd(ra,Kf(Oe)+1),Pn=bt.extractContents(),ra.insertBefore(Xp(S1,mo,R),Oe),vt?ra.insertBefore(vt,Oe):ra.insertBefore(Me,Oe),ra.insertBefore(Xp(S1,Pn,R),Oe),Af(Oe),vt||Me}else return},uv=(Oe,Me,vt,bt)=>{if(ve(Oe)){let mo=Oe.length;const Pn=[];for(;mo--;)Pn[mo]=uv(Oe[mo],Me,vt,bt);return Pn}else return t.collect&&(Oe===e||Oe===r)&&C.push([Oe,Me,vt,bt]),L.bind(Oe,Me,vt,bt||S1)},Em=(Oe,Me,vt)=>{if(ve(Oe)){let bt=Oe.length;const mo=[];for(;bt--;)mo[bt]=Em(Oe[bt],Me,vt);return mo}else{if(C.length>0&&(Oe===e||Oe===r)){let bt=C.length;for(;bt--;){const[mo,Pn,ra]=C[bt];Oe===mo&&(!Me||Me===Pn)&&(!vt||vt===ra)&&L.unbind(mo,Pn,ra)}}return L.unbind(Oe,Me,vt)}},C1=(Oe,Me,vt)=>L.dispatch(Oe,Me,vt),z3=(Oe,Me,vt)=>L.dispatch(Oe,Me,vt),Iw=Oe=>{if(Oe&&Qs(Oe)){const Me=Oe.getAttribute("data-mce-contenteditable");return Me&&Me!=="inherit"?Me:Oe.contentEditable!=="inherit"?Oe.contentEditable:null}else return null},S1={doc:e,settings:t,win:r,files:i,stdMode:u,boxModel:g,styleSheetLoader:x,boundEvents:C,styles:B,schema:R,events:L,isBlock:ee,root:null,clone:Re,getRoot:Xe,getViewPort:mt,getRect:Jt,getSize:St,getParent:jn,getParents:an,get:K,getNext:da,getPrev:Ri,select:kt,is:rn,add:st,create:Ct,createHTML:hn,createFragment:il,remove:Af,setStyle:Ze,getStyle:et,setStyles:Pe,removeAllAttribs:Ig,setAttrib:ze,setAttribs:In,getAttrib:me,getPos:At,parseStyle:Zc,serializeStyle:Cm,addStyle:Hu,loadCSS:yc,addClass:Nf,removeClass:w1,hasClass:so,toggleClass:Wc,show:zn,hide:na,isHidden:ui,uniqueId:Mi,setHTML:zt,getOuterHTML:Wa,setOuterHTML:Is,decode:wo,encode:Ar,insertAfter:Fs,replace:qc,rename:Sm,findCommonAncestor:Fg,run:Qt,getAttribs:Ce,isEmpty:Wp,createRng:Pw,nodeIndex:Kf,split:Lw,bind:uv,unbind:Em,fire:z3,dispatch:C1,getContentEditable:Iw,getContentEditableParent:Oe=>{const Me=Xe();let vt=null;for(let bt=Oe;bt&&bt!==Me&&(vt=Iw(bt),vt===null);bt=bt.parentNode);return vt},isEditable:Oe=>{if(Ie(Oe)){const Me=Ot(Oe)?Oe:Oe.parentElement;return Ie(Me)&&Qs(Me)&&ni(re.fromDom(Me))}else return!1},destroy:()=>{if(C.length>0){let Oe=C.length;for(;Oe--;){const[Me,vt,bt]=C[Oe];L.unbind(Me,vt,bt)}}Ho(i,(Oe,Me)=>{x.unload(Me),delete i[Me]})},isChildOf:(Oe,Me)=>Oe===Me||Me.contains(Oe),dumpRng:Oe=>"startContainer: "+Oe.startContainer.nodeName+", startOffset: "+Oe.startOffset+", endContainer: "+Oe.endContainer.nodeName+", endOffset: "+Oe.endOffset},rR=Bl(B,t,Je(S1));return S1};Tr.DOM=Tr(document),Tr.nodeIndex=Kf;const rh=Tr.DOM,wv=0,Wm=1,ea=2,xu=3;class Rc{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const i=rh;let c;const u=()=>{i.remove(C),c&&(c.onerror=c.onload=c=null)},g=()=>{u(),n()},x=()=>{u(),r("Failed to load script: "+t)},C=i.uniqueId();c=document.createElement("script"),c.id=C,c.type="text/javascript",c.src=gt._addCacheSuffix(t),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=g,c.onerror=x,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(t){return this.states[t]===ea}markDone(t){this.states[t]=ea}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=wv),new Promise((i,c)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:i,reject:c})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(x,C)=>{Hn(n.scriptLoadedCallbacks,C).each(R=>{Ne(R,B=>B[x](C))}),delete n.scriptLoadedCallbacks[C]},i=x=>{const C=Ke(x,R=>R.status==="rejected");return C.length>0?Promise.reject(Kn(C,({reason:R})=>ve(R)?R:[R])):Promise.resolve()},c=x=>Promise.allSettled(Jo(x,C=>n.states[C]===ea?(r("resolve",C),Promise.resolve()):n.states[C]===xu?(r("reject",C),Promise.reject(C)):(n.states[C]=Wm,n.loadScript(C).then(()=>{n.states[C]=ea,r("resolve",C);const R=n.queue;return R.length>0?(n.queue=[],c(R).then(i)):Promise.resolve()},()=>(n.states[C]=xu,r("reject",C),Promise.reject(C)))))),u=x=>(n.loading=!0,c(x).then(C=>{n.loading=!1;const R=n.queueLoadedCallbacks.shift();return H.from(R).each(So),i(C)})),g=vc(t);return n.loading?new Promise((x,C)=>{n.queueLoadedCallbacks.push(()=>{u(g).then(x,C)})}):u(g)}}Rc.ScriptLoader=new Rc;const Lb=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},qm=e=>ue(e)&&po(e,"raw"),Gm=e=>ve(e)&&e.length>1,Yf={},sh=Sr("en"),j1=()=>Hn(Yf,sh.get()),uc={getData:()=>Pi(Yf,e=>({...e})),setCode:e=>{e&&sh.set(e)},getCode:()=>sh.get(),add:(e,t)=>{let n=Yf[e];n||(Yf[e]=n={});const r=Jo(nt(t),i=>i.toLowerCase());Ho(t,(i,c)=>{const u=c.toLowerCase();u!==c&&Lb(r,u)?(po(t,u)||(n[u]=i),n[c]=i):n[u]=i})},translate:e=>{const t=j1().getOr({}),n=u=>jt(u)?Object.prototype.toString.call(u):r(u)?"":""+u,r=u=>u===""||u===null||u===void 0,i=u=>{const g=n(u);return po(t,g)?n(t[g]):Hn(t,g.toLowerCase()).map(n).getOr(g)},c=u=>u.replace(/{context:\w+}$/,"");if(r(e))return"";if(qm(e))return n(e.raw);if(Gm(e)){const u=e.slice(1),g=i(e[0]).replace(/\{([0-9]+)\}/g,(x,C)=>po(u,C)?n(u[C]):x);return c(g)}return c(i(e))},isRtl:()=>j1().bind(e=>Hn(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>po(Yf,e)},ci=()=>{const e=[],t={},n={},r=[],i=(K,ne)=>{const me=Ke(r,Ce=>Ce.name===K&&Ce.state===ne);Ne(me,Ce=>Ce.resolve())},c=K=>po(t,K),u=K=>po(n,K),g=K=>{if(n[K])return n[K].instance},x=(K,ne)=>{const me=uc.getCode(),Ce=","+(ne||"")+",";!me||ne&&Ce.indexOf(","+me+",")===-1||Rc.ScriptLoader.add(t[K]+"/langs/"+me+".js")},C=(K,ne)=>{ci.languageLoad!==!1&&(c(K)?x(K,ne):ee(K,"loaded").then(()=>x(K,ne)))},R=(K,ne)=>(e.push(ne),n[K]={instance:ne},i(K,"added"),ne),B=K=>{delete t[K],delete n[K]},L=(K,ne)=>pt(ne)?pt(K)?{prefix:"",resource:ne,suffix:""}:{prefix:K.prefix,resource:ne,suffix:K.suffix}:ne,W=(K,ne)=>{if(t[K])return Promise.resolve();let me=pt(ne)?ne:ne.prefix+ne.resource+ne.suffix;me.indexOf("/")!==0&&me.indexOf("://")===-1&&(me=ci.baseURL+"/"+me),t[K]=me.substring(0,me.lastIndexOf("/"));const Ce=()=>(i(K,"loaded"),Promise.resolve());return n[K]?Ce():Rc.ScriptLoader.add(me).then(Ce)},ee=(K,ne="added")=>ne==="added"&&u(K)||ne==="loaded"&&c(K)?Promise.resolve():new Promise(me=>{r.push({name:K,state:ne,resolve:me})});return{items:e,urls:t,lookup:n,get:g,requireLangPack:C,add:R,remove:B,createUrl:L,load:W,waitFor:ee}};ci.languageLoad=!0,ci.baseURL="",ci.PluginManager=ci(),ci.ThemeManager=ci(),ci.ModelManager=ci();const zs=(e,t)=>{let n=null;return{cancel:()=>{ht(n)||(clearTimeout(n),n=null)},throttle:(...c)=>{ht(n)&&(n=setTimeout(()=>{n=null,e.apply(null,c)},t))}}},Ds=(e,t)=>{let n=null;const r=()=>{ht(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...c)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,c)},t)}}},Ua=(e,t,n)=>nd(e,t,n).isSome(),la=Je("mce-annotation"),xs=Je("data-mce-annotation"),ms=Je("data-mce-annotation-uid"),Ym=Je("data-mce-annotation-active"),af=Je("data-mce-annotation-classes"),ag=Je("data-mce-annotation-attrs"),ah=e=>t=>en(t,e),Ai=(e,t)=>{const n=e.selection.getRng(),r=re.fromDom(n.startContainer),i=re.fromDom(e.getBody()),c=t.fold(()=>"."+la(),x=>`[${xs()}="${x}"]`),u=$d(r,n.startOffset).getOr(r);return aa(u,c,ah(i)).bind(x=>Os(x,`${ms()}`).bind(C=>Os(x,`${xs()}`).map(R=>{const B=$b(e,C);return{uid:C,name:R,elements:B}})))},Xm=e=>ti(e)&&Id(e,la()),Hb=(e,t)=>Qi(e,"data-mce-bogus")||Ua(e,'[data-mce-bogus="all"]',ah(t)),$b=(e,t)=>{const n=re.fromDom(e.getBody()),r=Rs(n,`[${ms()}="${t}"]`);return Ke(r,i=>!Hb(i,n))},W1=(e,t)=>{const n=re.fromDom(e.getBody()),r=Rs(n,`[${xs()}="${t}"]`),i={};return Ne(r,c=>{if(!Hb(c,n)){const u=ba(c,ms()),g=Hn(i,u).getOr([]);i[u]=g.concat([c])}}),i},Ev=(e,t)=>{const n=Sr({}),r=()=>({listeners:[],previous:ic()}),i=(B,L)=>{c(B,W=>(L(W),W))},c=(B,L)=>{const W=n.get(),ee=Hn(W,B).getOrThunk(r),K=L(ee);W[B]=K,n.set(W)},u=(B,L,W)=>{i(B,ee=>{Ne(ee.listeners,K=>K(!0,B,{uid:L,nodes:Jo(W,ne=>ne.dom)}))})},g=B=>{i(B,L=>{Ne(L.listeners,W=>W(!1,B))})},x=(B,L)=>{Ne($b(e,B),W=>{L?On(W,Ym(),"true"):En(W,Ym())})},C=Ds(()=>{const B=Qo(t.getNames());Ne(B,L=>{c(L,W=>{const ee=W.previous.get();return Ai(e,H.some(L)).fold(()=>{ee.each(K=>{g(L),W.previous.clear(),x(K,!1)})},({uid:K,name:ne,elements:me})=>{Bd(ee,K)||(ee.each(Ce=>x(Ce,!1)),u(ne,K,me),W.previous.set(K),x(K,!0))}),{previous:W.previous,listeners:W.listeners}})})},30);return e.on("remove",()=>{C.cancel()}),e.on("NodeChange",()=>{C.throttle()}),{addListener:(B,L)=>{c(B,W=>({previous:W.previous,listeners:W.listeners.concat([L])}))}}},q1=(e,t)=>{const n=xs(),r=c=>H.from(c.attr(n)).bind(t.lookup),i=c=>{var u,g;c.attr(ms(),null),c.attr(xs(),null),c.attr(Ym(),null);const x=H.from(c.attr(ag())).map(L=>L.split(",")).getOr([]),C=H.from(c.attr(af())).map(L=>L.split(",")).getOr([]);Ne(x,L=>c.attr(L,null));const R=(g=(u=c.attr("class"))===null||u===void 0?void 0:u.split(" "))!==null&&g!==void 0?g:[],B=Fn(R,[la()].concat(C));c.attr("class",B.length>0?B.join(" "):null),c.attr(af(),null),c.attr(ag(),null)};e.serializer.addTempAttr(Ym()),e.serializer.addAttributeFilter(n,c=>{for(const u of c)r(u).each(g=>{g.persistent===!1&&(u.name==="span"?u.unwrap():i(u))})})},Pl=()=>{const e={};return{register:(i,c)=>{e[i]={name:i,settings:c}},lookup:i=>Hn(e,i).map(c=>c.settings),getNames:()=>nt(e)}},ih=(e,t,n)=>Math.min(Math.max(e,t),n),Da=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ig=0;const dd=e=>{const n=new Date().getTime(),r=Math.floor(Da()*1e9);return ig++,e+"_"+r+ig+String(n)},fc=(e,t)=>{Ne(t,n=>{Yl(e,n)})},Ni=(e,t)=>{Ne(t,n=>{Ia(e,n)})},lh=(e,t)=>re.fromDom(e.dom.cloneNode(t)),ud=e=>lh(e,!1),Vb=e=>lh(e,!0),Ub=(e,t)=>{const n=re.fromTag(t),r=Al(e);return dl(n,r),n},jb=(e,t)=>{const n=Ub(e,t);tn(e,n);const r=xa(e);return Oa(n,r),un(e),n},Jm=(e,t,n=ho)=>{const r=new qr(e,t),i=c=>{let u;do u=r[c]();while(u&&!it(u)&&!n(u));return H.from(u).filter(it)};return{current:()=>H.from(r.current()).filter(it),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},fd=(e,t)=>{const n=t||(u=>e.isBlock(u)||ns(u)||yr(u)),r=(u,g,x,C)=>{if(it(u)){const R=C(u,g,u.data);if(R!==-1)return H.some({container:u,offset:R})}return x().bind(R=>r(R.container,R.offset,x,C))};return{backwards:(u,g,x,C)=>{const R=Jm(u,C??e.getRoot(),n);return r(u,g,()=>R.prev().map(B=>({container:B,offset:B.length})),x).getOrNull()},forwards:(u,g,x,C)=>{const R=Jm(u,C??e.getRoot(),n);return r(u,g,()=>R.next().map(B=>({container:B,offset:0})),x).getOrNull()}}},Zb=((e,t)=>{const n=c=>{if(!e(c))throw new Error("Can only get "+t+" value of a "+t+" node");return r(c).getOr("")},r=c=>e(c)?H.from(c.dom.nodeValue):H.none();return{get:n,getOption:r,set:(c,u)=>{if(!e(c))throw new Error("Can only set raw "+t+" value of a "+t+" node");c.dom.nodeValue=u}}})(js,"text"),lf=e=>Zb.get(e),G1=e=>Zb.getOption(e),lg=(e,t)=>Zb.set(e,t),zv=["td","th"],ch=["thead","tbody","tfoot"],Wi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Wb=["li","dd","dt"],dh=["ul","ol","dl"],Tv=["pre","script","textarea","style"],mc=e=>{let t;return n=>(t=t||Hr(e,uo),po(t,pn(n)))},K1=e=>pn(e)==="table",vu=e=>ti(e)&&pn(e)==="br",Y1=mc(Wi),Wd=mc(dh),_u=mc(Wb),Ov=mc(ch),Xf=mc(zv),xl=mc(Tv),uh=e=>{const t=[];let n=e.dom;for(;n;)t.push(re.fromDom(n)),n=n.lastChild;return t},fh=e=>{const t=Rs(e,"br"),n=Ke(uh(e).slice(-1),vu);t.length===n.length&&Ne(n,un)},Ll=()=>{const e=re.fromTag("br");return On(e,"data-mce-bogus","1"),e},cf=e=>{oc(e),Mr(e,Ll())},df=(e,t)=>{fu(e).each(n=>{ul(n).each(r=>{t.isBlock(pn(e))&&vu(n)&&t.isBlock(pn(r))&&un(n)})})},qs=Bm,mh=Ec,wa=zc,qb=e=>e.insertContent(qs,{preserve_zwsp:!0}),X1=Ot,Qm=it,Jf=e=>(Qm(e)&&(e=e.parentNode),X1(e)&&e.hasAttribute("data-mce-caret")),Qf=e=>Qm(e)&&mh(e.data),pc=e=>Jf(e)||Qf(e),Gb=e=>e.firstChild!==e.lastChild||!ns(e.firstChild),Av=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(qs),c=e.parentNode;if(t){const u=e.previousSibling;if(Qm(u)){if(pc(u))return u;if(cg(u))return u.splitText(u.data.length-1)}c==null||c.insertBefore(i,e)}else{const u=e.nextSibling;if(Qm(u)){if(pc(u))return u;if(uf(u))return u.splitText(1),u}e.nextSibling?c==null||c.insertBefore(i,e.nextSibling):c==null||c.appendChild(i)}return i},J1=e=>{const t=e.container();return it(t)?t.data.charAt(e.offset())===qs||e.isAtStart()&&Qf(t.previousSibling):!1},Kb=e=>{const t=e.container();return it(t)?t.data.charAt(e.offset()-1)===qs||e.isAtEnd()&&Qf(t.nextSibling):!1},Yb=(e,t,n)=>{var r;const c=((r=t.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);c.setAttribute("data-mce-caret",n?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Ll().dom);const u=t.parentNode;return n?u==null||u.insertBefore(c,t):t.nextSibling?u==null||u.insertBefore(c,t.nextSibling):u==null||u.appendChild(c),c},uf=e=>Qm(e)&&e.data[0]===qs,cg=e=>Qm(e)&&e.data[e.data.length-1]===qs,jw=e=>{var t;const n=e.getElementsByTagName("br"),r=n[n.length-1];rc(r)&&((t=r.parentNode)===null||t===void 0||t.removeChild(r))},ep=e=>e&&e.hasAttribute("data-mce-caret")?(jw(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,ph=e=>Jf(e.startContainer),qd=Math.round,md=e=>e?{left:qd(e.left),top:qd(e.top),bottom:qd(e.bottom),right:qd(e.right),width:qd(e.width),height:qd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},ff=(e,t)=>(e=md(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),tp=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Q1=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,dg=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:Q1(t.top-e.bottom,e,t)},pd=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:Q1(t.bottom-e.top,e,t),op=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,gh=e=>fo(e,(t,n)=>t.fold(()=>H.some(n),r=>{const i=Math.min(n.left,r.left),c=Math.min(n.top,r.top),u=Math.max(n.right,r.right),g=Math.max(n.bottom,r.bottom);return H.some({top:c,right:u,bottom:g,left:i,width:u-i,height:g-c})}),H.none()),ug=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),i=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-i)*(n-i))},qi=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),np=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},mf=(e,t)=>{if(Ot(e)&&e.hasChildNodes()){const n=e.childNodes,r=ih(t,0,n.length-1);return n[r]}else return e},e0=(e,t)=>{if(!(t<0&&Ot(e)&&e.hasChildNodes()))return mf(e,t)},Nv=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),fg=e=>pt(e)&&e.charCodeAt(0)>=768&&Nv.test(e),Rv=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},Xb=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},Jb=Ti,Zw=yr,mg=ns,rp=it,t0=Dl(["script","style","textarea"]),hh=Dl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),o0=Dl(["table"]),Dv=pc,tl=e=>Dv(e)?!1:rp(e)?!t0(e.parentNode):hh(e)||mg(e)||o0(e)||ey(e),Qb=e=>Ot(e)&&e.getAttribute("unselectable")==="true",ey=e=>!Qb(e)&&Zw(e),Mv=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(ey(n))return!1;if(Jb(n))return!0}return!0},Bv=e=>ey(e)?!fo(Fo(e.getElementsByTagName("*")),(t,n)=>t||Jb(n),!1):!1,Pv=e=>hh(e)||Bv(e),Lv=(e,t)=>tl(e)&&Mv(e,t),Iv=Ot,pg=tl,gg=Ud("display","block table"),ty=Ud("float","left right"),bh=Xb(Iv,pg,Se(ty)),ps=Se(Ud("white-space","pre pre-line pre-wrap")),Dc=it,Gd=ns,hg=Tr.nodeIndex,sp=e0,yh=e=>e?e.createRange():Tr.DOM.createRng(),oy=e=>pt(e)&&/[\r\n\t ]/.test(e),em=e=>!!e.setStart&&!!e.setEnd,ny=e=>{const t=e.startContainer,n=e.startOffset;if(oy(e.toString())&&ps(t.parentNode)&&it(t)){const r=t.data;if(oy(r[n-1])||oy(r[n+1]))return!0}return!1},n0=e=>{const t=e.ownerDocument,n=yh(t),r=t.createTextNode(os),i=e.parentNode;i.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const c=md(n.getBoundingClientRect());return i.removeChild(r),c},ku=e=>{const t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;if(t===n&&it(n)&&r===0&&i===1){const c=e.cloneRange();return c.setEndAfter(n),Mc(c)}else return null},r0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Mc=e=>{var t;let n;const r=e.getClientRects();return r.length>0?n=md(r[0]):n=md(e.getBoundingClientRect()),!em(e)&&Gd(e)&&r0(n)?n0(e):r0(n)&&em(e)&&(t=ku(e))!==null&&t!==void 0?t:n},gd=(e,t)=>{const n=ff(e,t);return n.width=1,n.right=n.left+1,n},s0=e=>{const t=[],n=u=>{u.height!==0&&(t.length>0&&tp(u,t[t.length-1])||t.push(u))},r=(u,g)=>{const x=yh(u.ownerDocument);if(g<u.data.length){if(fg(u.data[g]))return;if(fg(u.data[g-1])&&(x.setStart(u,g),x.setEnd(u,g+1),!ny(x))){n(gd(Mc(x),!1));return}}g>0&&(x.setStart(u,g-1),x.setEnd(u,g),ny(x)||n(gd(Mc(x),!1))),g<u.data.length&&(x.setStart(u,g),x.setEnd(u,g+1),ny(x)||n(gd(Mc(x),!0)))},i=e.container(),c=e.offset();if(Dc(i))return r(i,c),t;if(Iv(i))if(e.isAtEnd()){const u=sp(i,c);Dc(u)&&r(u,u.data.length),bh(u)&&!Gd(u)&&n(gd(Mc(u),!1))}else{const u=sp(i,c);if(Dc(u)&&r(u,0),bh(u)&&e.isAtEnd())return n(gd(Mc(u),!1)),t;const g=sp(e.container(),e.offset()-1);bh(g)&&!Gd(g)&&(gg(g)||gg(u)||!bh(u))&&n(gd(Mc(g),!1)),bh(u)&&n(gd(Mc(u),!0))}return t},$e=(e,t,n)=>{const r=()=>(Dc(e),t===0),i=()=>Dc(e)?t>=e.data.length:t>=e.childNodes.length,c=()=>{const R=yh(e.ownerDocument);return R.setStart(e,t),R.setEnd(e,t),R},u=()=>(n||(n=s0($e(e,t))),n),g=()=>u().length>0,x=R=>R&&e===R.container()&&t===R.offset(),C=R=>sp(e,R?t-1:t);return{container:Je(e),offset:Je(t),toRange:c,getClientRects:u,isVisible:g,isAtStart:r,isAtEnd:i,isEqual:x,getNode:C}};$e.fromRangeStart=e=>$e(e.startContainer,e.startOffset),$e.fromRangeEnd=e=>$e(e.endContainer,e.endOffset),$e.after=e=>$e(e.parentNode,hg(e)+1),$e.before=e=>$e(e.parentNode,hg(e)),$e.isAbove=(e,t)=>ga(dt(t.getClientRects()),_o(e.getClientRects()),dg).getOr(!1),$e.isBelow=(e,t)=>ga(_o(t.getClientRects()),dt(e.getClientRects()),pd).getOr(!1),$e.isAtStart=e=>e?e.isAtStart():!1,$e.isAtEnd=e=>e?e.isAtEnd():!1,$e.isTextPosition=e=>e?it(e.container()):!1,$e.isElementPosition=e=>!$e.isTextPosition(e);const ap=(e,t)=>{it(t)&&t.data.length===0&&e.remove(t)},a0=(e,t,n)=>{t.insertNode(n),ap(e,n.previousSibling),ap(e,n.nextSibling)},Fv=(e,t,n)=>{const r=H.from(n.firstChild),i=H.from(n.lastChild);t.insertNode(n),r.each(c=>ap(e,c.previousSibling)),i.each(c=>ap(e,c.nextSibling))},bg=(e,t,n)=>{Ku(n)?Fv(e,t,n):a0(e,t,n)},Bc=it,i0=rc,Hv=Tr.nodeIndex,$v=e=>{const t=e.parentNode;return i0(t)?$v(t):t},l0=e=>e?Li(e.childNodes,(t,n)=>(i0(n)&&n.nodeName!=="BR"?t=t.concat(l0(n)):t.push(n),t),[]):[],Vv=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Bc(n);)t+=n.data.length;return t},xn=e=>t=>e===t,wu=e=>{let t,n;t=l0($v(e)),n=lr(t,xn(e),e),t=t.slice(0,n+1);const r=Li(t,(i,c,u)=>(Bc(c)&&Bc(t[u-1])&&i++,i),0);return t=Pa(t,Dl([e.nodeName])),n=lr(t,xn(e),e),n-r},pf=e=>(Bc(e)?"text()":e.nodeName.toLowerCase())+"["+wu(e)+"]",c0=(e,t,n)=>{const r=[];for(let i=t.parentNode;i&&i!==e;i=i.parentNode)r.push(i);return r},Uv=(e,t)=>{let n=[],r=t.container(),i=t.offset(),c;if(Bc(r))c=Vv(r,i);else{const g=r.childNodes;i>=g.length?(c="after",i=g.length-1):c="before",r=g[i]}n.push(pf(r));let u=c0(e,r);return u=Pa(u,Se(rc)),n=n.concat(Od(u,g=>pf(g))),n.reverse().join("/")+","+c},d0=(e,t,n)=>{let r=l0(e);return r=Pa(r,(i,c)=>!Bc(i)||!Bc(r[c-1])),r=Pa(r,Dl([t])),r[n]},m=(e,t)=>{let n=e,r=0;for(;Bc(n);){const i=n.data.length;if(t>=r&&t<=r+i){e=n,t=t-r;break}if(!Bc(n.nextSibling)){e=n,t=i;break}r+=i,n=n.nextSibling}return Bc(e)&&t>e.data.length&&(t=e.data.length),$e(e,t)},h=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),i=n.length>1?n[1]:"before",c=Li(r,(u,g)=>{const x=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(g);return x?(x[1]==="text()"&&(x[1]="#text"),d0(u,x[1],parseInt(x[2],10))):null},e);if(!c)return null;if(!Bc(c)&&c.parentNode){let u;return i==="after"?u=Hv(c)+1:u=Hv(c),$e(c.parentNode,u)}return m(c,parseInt(i,10))},v=yr,z=(e,t,n)=>{let r=e(t.data.slice(0,n)).length;for(let i=t.previousSibling;i&&it(i);i=i.previousSibling)r+=e(i.data).length;return r},N=(e,t,n,r,i)=>{const c=i?r.startContainer:r.endContainer;let u=i?r.startOffset:r.endOffset;const g=[],x=e.getRoot();if(it(c))g.push(n?z(t,c,u):u);else{let C=0;const R=c.childNodes;u>=R.length&&R.length&&(C=1,u=Math.max(0,R.length-1)),g.push(e.nodeIndex(R[u],n)+C)}for(let C=c;C&&C!==x;C=C.parentNode)g.push(e.nodeIndex(C,n));return g},D=(e,t,n,r)=>{const i=t.dom,c=N(i,e,n,r,!0),u=t.isForward(),g=ph(r)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:c,forward:u,...g};{const x=N(i,e,n,r,!1);return{start:c,end:x,forward:u,...g}}},F=(e,t,n)=>{let r=0;return gt.each(e.select(t),i=>{if(i.getAttribute("data-mce-bogus")!=="all"){if(i===n)return!1;r++;return}}),r},V=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(Ot(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},X=e=>(V(e,!0),V(e,!1),e),ie=(e,t)=>{if(Ot(e)&&(e=mf(e,t),v(e)))return e;if(pc(e)){it(e)&&Jf(e)&&(e=e.parentNode);let n=e.previousSibling;if(v(n)||(n=e.nextSibling,v(n)))return n}},xe=e=>ie(e.startContainer,e.startOffset)||ie(e.endContainer,e.endOffset),de=(e,t,n)=>{const r=n.getNode(),i=n.getRng();if(r.nodeName==="IMG"||v(r)){const u=r.nodeName;return{name:u,index:F(n.dom,u,r)}}const c=xe(i);if(c){const u=c.tagName;return{name:u,index:F(n.dom,u,c)}}return D(e,n,t,i)},ge=e=>{const t=e.getRng();return{start:Uv(e.dom.getRoot(),$e.fromRangeStart(t)),end:Uv(e.dom.getRoot(),$e.fromRangeEnd(t)),forward:e.isForward()}},fe=e=>({rng:e.getRng(),forward:e.isForward()}),se=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},ke=(e,t)=>{const n=e.dom;let r=e.getRng();const i=n.uniqueId(),c=e.isCollapsed(),u=e.getNode(),g=u.nodeName,x=e.isForward();if(g==="IMG")return{name:g,index:F(n,g,u)};const C=X(r.cloneRange());if(!c){C.collapse(!1);const B=se(n,i+"_end",t);bg(n,C,B)}r=X(r),r.collapse(!0);const R=se(n,i+"_start",t);return bg(n,r,R),e.moveToBookmark({id:i,keep:!0,forward:x}),{id:i,forward:x}},We=(e,t,n=!1)=>t===2?de(wa,n,e):t===3?ge(e):t?fe(e):ke(e,!1),Fe=De(de,fn,!0),Qe=e=>{const t=c=>c(e),n=Je(e),r=()=>i,i={tag:!0,inner:e,fold:(c,u)=>u(e),isValue:uo,isError:ho,map:c=>lt.value(c(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:c=>{c(e)},toOptional:()=>H.some(e)};return i},rt=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,i)=>r(e),isValue:ho,isError:uo,map:t,mapError:r=>lt.error(r(e)),bind:t,exists:ho,forall:uo,getOr:fn,or:fn,getOrThunk:Uo,orThunk:Uo,getOrDie:tt(String(e)),each:ao,toOptional:H.none};return n},lt={value:Qe,error:rt,fromOption:(e,t)=>e.fold(()=>rt(t),Qe)},Lt={generate:e=>{if(!ve(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return Ne(e,(r,i)=>{const c=nt(r);if(c.length!==1)throw new Error("one and only one name per case");const u=c[0],g=r[u];if(n[u]!==void 0)throw new Error("duplicate key detected:"+u);if(u==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ve(g))throw new Error("case arguments must be an array");t.push(u),n[u]=(...x)=>{const C=x.length;if(C!==g.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+g.length+" ("+g+"), got "+C);return{fold:(...B)=>{if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);return B[i].apply(null,x)},match:B=>{const L=nt(B);if(t.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+L.join(","));if(!Qr(t,ee=>on(L,ee)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+t.join(", "));return B[u].apply(null,x)},log:B=>{console.log(B,{constructors:t,constructor:u,params:x})}}}}),n}};Lt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const co=e=>{const t=[],n=[];return Ne(e,r=>{r.fold(i=>{t.push(i)},i=>{n.push(i)})}),{errors:t,values:n}},vn=e=>e.type==="inline-command"||e.type==="inline-format",Oo=e=>e.type==="block-command"||e.type==="block-format",Ko=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,Ao=e=>{var t;const n=i=>lt.error({message:i,pattern:e}),r=(i,c,u)=>{if(e.format!==void 0){let g;if(ve(e.format)){if(!Qr(e.format,pt))return n(i+" pattern has non-string items in the `format` array");g=e.format}else if(pt(e.format))g=[e.format];else return n(i+" pattern has non-string `format` parameter");return lt.value(c(g))}else return e.cmd!==void 0?pt(e.cmd)?lt.value(u(e.cmd,e.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!ue(e))return n("Raw pattern is not an object");if(!pt(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!pt(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=e.start,c=e.end;return c.length===0&&(c=i,i=""),r("Inline",u=>({type:"inline-format",start:i,end:c,format:u}),(u,g)=>({type:"inline-command",start:i,end:c,cmd:u,value:g}))}else{if(e.replacement!==void 0)return pt(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):lt.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):r("Block",c=>({type:"block-format",start:e.start,format:c[0],trigger:i}),(c,u)=>({type:"block-command",start:e.start,cmd:c,value:u,trigger:i}))}}},qn=e=>Ke(e,Oo),vs=e=>Ke(e,vn),ja=(e,t)=>({inlinePatterns:vs(e),blockPatterns:qn(e),dynamicPatternsLookup:t}),Ca=(e,t)=>({...e,blockPatterns:Ke(e.blockPatterns,n=>Ko(n,t))}),Gi=e=>{const t=co(Jo(e,Ao));return Ne(t.errors,n=>console.error(n.message,n.pattern)),t.values},Cu=e=>t=>{const n=e(t);return Gi(n)},vl=(e,t)=>e.dispatch("PreProcess",t),ip=(e,t)=>e.dispatch("PostProcess",t),ry=e=>{e.dispatch("remove")},sy=e=>{e.dispatch("detach")},ay=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},xh=(e,t,n,r,i)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:r,origin:i})},lp=(e,t,n,r,i)=>{e.dispatch("ObjectResized",{target:t,width:n,height:r,origin:i})},ol=e=>{e.dispatch("PreInit")},Su=e=>{e.dispatch("PostRender")},Kd=e=>{e.dispatch("Init")},jv=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},Zv=(e,t,n)=>{e.dispatch(t,n)},B3=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},Wv=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},Ww=(e,t)=>e.dispatch("BeforeSetContent",t),P3=(e,t)=>e.dispatch("SetContent",t),qw=(e,t)=>e.dispatch("BeforeGetContent",t),Gw=(e,t)=>e.dispatch("GetContent",t),L3=(e,t)=>{e.dispatch("AutocompleterStart",t)},Kw=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},u0=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},Pr=e=>{e.dispatch("AutocompleterEnd")},yg=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),I3=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),Yw=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),F3=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),Xw=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),qv=Us().deviceType,Jw=qv.isTouch(),iR=Tr.DOM,H3=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return fo(t,(n,r)=>{const i=r.split("="),c=i[0],u=i.length>1?i[1]:c;return n[ma(c)]=ma(u),n},{})},Gv=e=>Bt(e,RegExp),It=e=>t=>t.options.get(e),Kv=e=>pt(e)||ue(e),$3=(e,t="")=>n=>{const r=pt(n);if(r)if(n.indexOf("=")!==-1){const i=H3(n);return{value:Hn(i,e.id).getOr(t),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},hd=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:$3(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:$3(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const r=pt(n)&&hr(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const r=on(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>gs(n)?{valid:!0,value:n}:pt(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const r=n===!1||pt(n)||Eo(n,pt);return r?pt(n)?{value:Jo(n.split(","),ma),valid:r}:ve(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:b0(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const r=pt(n)||Eo(n,pt);return r?{value:ve(n)?n:Jo(n.split(","),ma),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const r=gs(n)||pt(n);return r?n===!1||qv.isiPhone()||qv.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!Jw}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:n=>n===!1||pt(n)||jt(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const r=n===!1||pt(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>gs(n)?(e.initialized&&wh(e)!==n&&Promise.resolve().then(()=>{Xw(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const r=Eo(n,pt);return r?{value:n,valid:r}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Kv}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Kv}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Kv}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Kv}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>pt(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Eo(n,ue)||n===!1?{value:Gi(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>jt(n)?{value:Cu(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Eo(n,Gv)?{value:n,valid:!0}:Gv(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const r=on(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const r=on(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:uc.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:iR.getAttrib(e.getElement(),"placeholder")})})},_l=It("iframe_attrs"),iy=It("doctype"),V3=It("document_base_url"),lR=It("body_id"),_n=It("body_class"),U3=It("content_security_policy"),j3=It("br_in_pre"),Ki=It("forced_root_block"),f0=It("forced_root_block_attrs"),cR=It("newline_behavior"),dR=It("br_newline_selector"),uR=It("no_newline_selector"),Qw=It("keep_styles"),e2=It("end_container_on_empty_block"),t2=It("automatic_uploads"),Z3=It("images_reuse_filename"),fR=It("images_replace_blob_uris"),W3=It("icons"),Wt=It("icons_url"),q3=It("images_upload_url"),m0=It("images_upload_base_path"),o2=It("images_upload_credentials"),G3=It("images_upload_handler"),K3=It("content_css_cors"),Yv=It("referrer_policy"),n2=It("language"),mR=It("language_url"),Y3=It("indent_use_margin"),Vn=It("indentation"),pR=It("content_css"),cp=It("content_style"),gf=It("font_css"),Xv=It("directionality"),Pc=It("inline_boundaries_selector"),p0=It("object_resizing"),g0=It("resize_img_proportional"),Jv=It("placeholder"),vh=It("event_root"),gR=It("service_message"),ly=It("theme"),hR=It("theme_url"),r2=It("model"),wn=It("model_url"),Lc=It("inline_boundaries"),_h=It("formats"),bR=It("preview_styles"),h0=It("format_empty_lines"),An=It("format_noneditable_selector"),X3=It("custom_ui_selector"),b0=It("inline"),yR=It("hidden_input"),xg=It("submit_patch"),kh=It("add_form_submit_trigger"),J3=It("add_unload_trigger"),xR=It("custom_undo_redo_levels"),vR=It("disable_nodechange"),cy=It("readonly"),dy=It("editable_root"),Q3=It("content_css_cors"),y0=It("plugins"),_R=It("external_plugins"),eE=It("block_unsupported_drop"),kR=It("visual"),tE=It("visual_table_class"),Qv=It("visual_anchor_class"),e_=It("iframe_aria_text"),s2=It("setup"),oE=It("init_instance_callback"),nE=It("urlconverter_callback"),rE=It("auto_focus"),t_=It("browser_spellcheck"),sE=It("protect"),aE=It("paste_block_drop"),x0=It("paste_data_images"),iE=It("paste_preprocess"),lE=It("paste_postprocess"),cE=It("newdocument_content"),wR=It("paste_webkit_styles"),CR=It("paste_remove_styles_if_webkit"),o_=It("paste_merge_formats"),dE=It("smart_paste"),uE=It("paste_as_text"),fE=It("paste_tab_spaces"),SR=It("allow_html_data_urls"),ER=It("text_patterns"),zR=It("text_patterns_lookup"),mE=It("noneditable_class"),TR=It("editable_class"),pE=It("noneditable_regexp"),gE=It("preserve_cdata"),n_=It("highlight_on_focus"),hE=It("xss_sanitization"),a2=It("init_content_sync"),OR=e=>e.options.isSet("text_patterns_lookup"),bE=e=>gt.explode(e.options.get("font_size_style_values")),yE=e=>gt.explode(e.options.get("font_size_classes")),xE=e=>e.options.get("encoding")==="xml",vE=e=>gt.explode(e.options.get("images_file_types")),AR=It("table_tab_navigation"),r_=It("details_initial_state"),_E=It("details_serialized_state"),i2=It("sandbox_iframes"),s_=e=>e.options.get("sandbox_iframes_exclusions"),kE=It("convert_unsafe_embeds"),NR=It("license_key"),RR=It("api_key"),wh=It("disabled"),wE=Ot,l2=it,CE=e=>{const t=e.parentNode;t&&t.removeChild(e)},SE=e=>{const t=wa(e);return{count:e.length-t.length,text:t}},EE=e=>{let t;for(;(t=e.data.lastIndexOf(qs))!==-1;)e.deleteData(t,1)},zE=(e,t)=>(vg(e),t),DR=(e,t)=>{const n=SE(e.data.substr(0,t.offset())),r=SE(e.data.substr(t.offset()));return(n.text+r.text).length>0?(EE(e),$e(e,t.offset()-n.count)):t},MR=(e,t)=>{const n=t.container(),r=ll(Fo(n.childNodes),e).map(i=>i<t.offset()?$e(n,t.offset()-1):t).getOr(t);return vg(e),r},TE=(e,t)=>l2(e)&&t.container()===e?DR(e,t):zE(e,t),BR=(e,t)=>t.container()===e.parentNode?MR(e,t):zE(e,t),OE=(e,t)=>$e.isTextPosition(t)?TE(e,t):BR(e,t),vg=e=>{wE(e)&&pc(e)&&(Gb(e)?e.removeAttribute("data-mce-caret"):CE(e)),l2(e)&&(EE(e),e.data.length===0&&CE(e))},PR=yr,LR=Zi,IR=Vo,FR="*[contentEditable=false],video,audio,embed,object",AE=(e,t,n)=>{const r=ff(t.getBoundingClientRect(),n);let i,c;if(e.tagName==="BODY"){const g=e.ownerDocument.documentElement;i=e.scrollLeft||g.scrollLeft,c=e.scrollTop||g.scrollTop}else{const g=e.getBoundingClientRect();i=e.scrollLeft-g.left,c=e.scrollTop-g.top}r.left+=i,r.right+=i,r.top+=c,r.bottom+=c,r.width=1;let u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},HR=e=>{var t,n;const r=Rs(re.fromDom(e),FR);for(let i=0;i<r.length;i++){const c=r[i].dom;let u=c.previousSibling;if(cg(u)){const g=u.data;g.length===1?(t=u.parentNode)===null||t===void 0||t.removeChild(u):u.deleteData(g.length-1,1)}u=c.nextSibling,uf(u)&&(u.data.length===1?(n=u.parentNode)===null||n===void 0||n.removeChild(u):u.deleteData(0,1))}},$R=(e,t,n,r)=>{const i=ic();let c,u;const g=Ki(e),x=e.dom,C=(K,ne)=>{let me;if(R(),IR(ne))return null;if(n(ne)){const Ce=Yb(g,ne,K),ze=AE(t,ne,K);x.setStyle(Ce,"top",ze.top),x.setStyle(Ce,"caret-color","transparent"),u=Ce;const Re=x.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});x.setStyles(Re,{...ze}),x.add(t,Re),i.set({caret:Re,element:ne,before:K}),K&&x.addClass(Re,"mce-visual-caret-before"),B(),me=ne.ownerDocument.createRange(),me.setStart(Ce,0),me.setEnd(Ce,0)}else return u=Av(ne,K),me=ne.ownerDocument.createRange(),v0(u.nextSibling)?(me.setStart(u,0),me.setEnd(u,0)):(me.setStart(u,1),me.setEnd(u,1)),me;return me},R=()=>{HR(t),u&&(vg(u),u=null),i.on(K=>{x.remove(K.caret),i.clear()}),c&&(clearInterval(c),c=void 0)},B=()=>{c=window.setInterval(()=>{i.on(K=>{r()?x.toggleClass(K.caret,"mce-visual-caret-hidden"):x.addClass(K.caret,"mce-visual-caret-hidden")})},500)};return{show:C,hide:R,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(K=>{const ne=AE(t,K.element,K.before);x.setStyles(K.caret,{...ne})})},destroy:()=>clearInterval(c)}},NE=()=>Nt.browser.isFirefox(),v0=e=>PR(e)||LR(e),_0=e=>(v0(e)||sd(e)&&NE())&&Xl(re.fromDom(e)).exists(ni),VR=Ti,c2=yr,UR=Zi,Gt=Ud("display","block table table-cell table-row table-caption list-item"),d2=pc,u2=Jf,jR=Ot,f2=it,ZR=tl,dp=e=>e===1,_g=e=>e===-1,a_=(e,t)=>{let n;for(;n=e(t);)if(!u2(n))return n;return null},bo=(e,t,n,r,i)=>{const c=new qr(e,r),u=c2(e)||u2(e);let g;if(_g(t)){if(u&&(g=a_(c.prev.bind(c),!0),n(g)))return g;for(;g=a_(c.prev.bind(c),i);)if(n(g))return g}if(dp(t)){if(u&&(g=a_(c.next.bind(c),!0),n(g)))return g;for(;g=a_(c.next.bind(c),i);)if(n(g))return g}return null},ko=(e,t)=>{const n=i=>VR(i.dom),r=i=>i.dom===t;return fl(re.fromDom(e),n,r).map(i=>i.dom).getOr(t)},up=(e,t)=>{for(;e&&e!==t;){if(Gt(e))return e;e=e.parentNode}return null},tm=(e,t,n)=>up(e.container(),n)===up(t.container(),n),m2=(e,t)=>{if(!t)return H.none();const n=t.container(),r=t.offset();return jR(n)?H.from(n.childNodes[r+e]):H.none()},RE=(e,t)=>{var n;const i=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),i},go=(e,t,n)=>up(t,e)===up(n,e),uy=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let i=n;for(;i&&i!==t;){let c=i[r];if(c&&d2(c)&&(c=c[r]),c2(c)||UR(c)){if(go(t,c,i))return c;break}if(ZR(c))break;i=i.parentNode}return null},fy=De(RE,!0),my=De(RE,!1),p2=(e,t,n)=>{let r;const i=De(uy,!0,t),c=De(uy,!1,t),u=n.startContainer,g=n.startOffset;if(Jf(u)){const x=f2(u)?u.parentNode:u,C=x.getAttribute("data-mce-caret");if(C==="before"&&(r=x.nextSibling,_0(r)))return fy(r);if(C==="after"&&(r=x.previousSibling,_0(r)))return my(r)}if(!n.collapsed)return n;if(it(u)){if(d2(u)){if(e===1){if(r=c(u),r)return fy(r);if(r=i(u),r)return my(r)}if(e===-1){if(r=i(u),r)return my(r);if(r=c(u),r)return fy(r)}return n}if(cg(u)&&g>=u.data.length-1)return e===1&&(r=c(u),r)?fy(r):n;if(uf(u)&&g<=1)return e===-1&&(r=i(u),r)?my(r):n;if(g===u.data.length)return r=c(u),r?fy(r):n;if(g===0)return r=i(u),r?my(r):n}return n},DE=(e,t)=>m2(e?0:-1,t).filter(c2),py=(e,t,n)=>{const r=p2(e,t,n);return e===-1?$e.fromRangeStart(r):$e.fromRangeEnd(r)},i_=e=>H.from(e.getNode()).map(re.fromDom),jo=e=>H.from(e.getNode(!0)).map(re.fromDom),k0=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},w0=(e,t)=>{const n=tm(e,t);return!n&&ns(e.getNode())?!0:n},l_=yr,hf=it,g2=Ot,c_=ns,Ch=tl,h2=Pv,C0=Lv,WR=(e,t)=>{const n=[];let r=e;for(;r&&r!==t;)n.push(r),r=r.parentNode;return n},ME=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,BE=(e,t)=>{if(dp(e)){if(Ch(t.previousSibling)&&!hf(t.previousSibling))return $e.before(t);if(hf(t))return $e(t,0)}if(_g(e)){if(Ch(t.nextSibling)&&!hf(t.nextSibling))return $e.after(t);if(hf(t))return $e(t,t.data.length)}return _g(e)?c_(t)?$e.before(t):$e.after(t):$e.before(t)},qR=(e,t)=>{const n=t.nextSibling;return n&&Ch(n)?hf(n)?$e(n,0):$e.before(n):b2(1,$e.after(t),e)},b2=(e,t,n)=>{let r,i,c,u;if(!g2(n)||!t)return null;if(t.isEqual($e.after(n))&&n.lastChild){if(u=$e.after(n.lastChild),_g(e)&&Ch(n.lastChild)&&g2(n.lastChild))return c_(n.lastChild)?$e.before(n.lastChild):u}else u=t;const g=u.container();let x=u.offset();if(hf(g)){if(_g(e)&&x>0)return $e(g,--x);if(dp(e)&&x<g.length)return $e(g,++x);r=g}else{if(_g(e)&&x>0&&(i=ME(g,x-1),Ch(i)))return!h2(i)&&(c=bo(i,e,C0,i),c)?hf(c)?$e(c,c.data.length):$e.after(c):hf(i)?$e(i,i.data.length):$e.before(i);if(dp(e)&&x<g.childNodes.length&&(i=ME(g,x),Ch(i)))return c_(i)?qR(n,i):!h2(i)&&(c=bo(i,e,C0,i),c)?hf(c)?$e(c,0):$e.before(c):hf(i)?$e(i,0):$e.after(i);r=i||u.getNode()}if(r&&(dp(e)&&u.isAtEnd()||_g(e)&&u.isAtStart())&&(r=bo(r,e,uo,n,!0),C0(r,n)))return BE(e,r);i=r&&bo(r,e,C0,n);const C=ua(Ke(WR(g,n),l_));return C&&(!i||!C.contains(i))?(dp(e)?u=$e.after(C):u=$e.before(C),u):i?BE(e,i):null},Eu=e=>({next:t=>b2(1,t,e),prev:t=>b2(-1,t,e)}),y2=(e,t,n)=>{const r=e?$e.before(n):$e.after(n);return bd(e,t,r)},GR=e=>ns(e)?$e.before(e):$e.after(e),PE=e=>$e.isTextPosition(e)?e.offset()===0:tl(e.getNode()),LE=e=>{if($e.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return tl(e.getNode(!0))},IE=(e,t)=>!$e.isTextPosition(e)&&!$e.isTextPosition(t)&&e.getNode()===t.getNode(!0),FE=e=>!$e.isTextPosition(e)&&ns(e.getNode()),fp=(e,t,n)=>e?!IE(t,n)&&!FE(t)&&LE(t)&&PE(n):!IE(n,t)&&PE(t)&&LE(n),bd=(e,t,n)=>{const r=Eu(t);return H.from(e?r.next(n):r.prev(n))},Sh=(e,t,n)=>bd(e,t,n).bind(r=>tm(n,r,t)&&fp(e,n,r)?bd(e,t,r):H.some(r)),HE=(e,t,n,r)=>Sh(e,t,n).bind(i=>r(i)?HE(e,t,i,r):H.some(i)),gy=(e,t)=>{const n=e?t.firstChild:t.lastChild;return it(n)?H.some($e(n,e?0:n.data.length)):n?tl(n)?H.some(e?$e.before(n):GR(n)):y2(e,t,n):H.none()},Il=De(bd,!0),gc=De(bd,!1),ss=De(gy,!0),zu=De(gy,!1),mp="_mce_caret",Gn=e=>Ot(e)&&e.id===mp,nl=(e,t)=>{let n=t;for(;n&&n!==e;){if(Gn(n))return n;n=n.parentNode}return null},S0=e=>pt(e.start),d_=e=>po(e,"rng"),E0=e=>po(e,"id"),$E=e=>po(e,"name"),Eh=e=>gt.isArray(e.start),Jn=e=>!$E(e)&&gs(e.forward)?e.forward:!0,hy=(e,t)=>(Ot(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),VE=(e,t)=>{const n=H.from(h(e.getRoot(),t.start)),r=H.from(h(e.getRoot(),t.end));return ga(n,r,(i,c)=>{const u=e.createRng();return u.setStart(i.container(),i.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:Jn(t)}})},UE=(e,t)=>{var n;const i=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(qs);e.appendChild(i),t.setStart(i,0),t.setEnd(i,0)},u_=e=>!e.hasChildNodes(),x2=(e,t)=>zu(e).fold(ho,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),f_=(e,t,n)=>u_(t)&&nl(e,t)?(UE(t,n),!0):!1,m_=(e,t,n,r)=>{const i=n[t?"start":"end"],c=e.getRoot();if(i){let u=c,g=i[0];for(let x=i.length-1;u&&x>=1;x--){const C=u.childNodes;if(f_(c,u,r))return!0;if(i[x]>C.length-1)return f_(c,u,r)?!0:x2(u,r);u=C[i[x]]}it(u)&&(g=Math.min(i[0],u.data.length)),Ot(u)&&(g=Math.min(i[0],u.childNodes.length)),t?r.setStart(u,g):r.setEnd(u,g)}return!0},z0=e=>it(e)&&e.data.length>0,T0=(e,t,n)=>{const r=e.get(n.id+"_"+t),i=r==null?void 0:r.parentNode,c=n.keep;if(r&&i){let u,g;if(t==="start"?c?r.hasChildNodes()?(u=r.firstChild,g=1):z0(r.nextSibling)?(u=r.nextSibling,g=0):z0(r.previousSibling)?(u=r.previousSibling,g=r.previousSibling.data.length):(u=i,g=e.nodeIndex(r)+1):(u=i,g=e.nodeIndex(r)):c?r.hasChildNodes()?(u=r.firstChild,g=1):z0(r.previousSibling)?(u=r.previousSibling,g=r.previousSibling.data.length):(u=i,g=e.nodeIndex(r)):(u=i,g=e.nodeIndex(r)),!c){const x=r.previousSibling,C=r.nextSibling;gt.each(gt.grep(r.childNodes),B=>{it(B)&&(B.data=B.data.replace(/\uFEFF/g,""))});let R;for(;R=e.get(n.id+"_"+t);)e.remove(R,!0);if(it(C)&&it(x)&&!Nt.browser.isOpera()){const B=x.data.length;x.appendData(C.data),e.remove(C),u=x,g=B}}return H.some($e(u,g))}else return H.none()},v2=(e,t)=>{const n=e.createRng();return m_(e,!0,t,n)&&m_(e,!1,t,n)?H.some({range:n,forward:Jn(t)}):H.none()},jE=(e,t)=>{const n=T0(e,"start",t),r=T0(e,"end",t);return ga(n,r.or(n),(i,c)=>{const u=e.createRng();return u.setStart(hy(e,i.container()),i.offset()),u.setEnd(hy(e,c.container()),c.offset()),{range:u,forward:Jn(t)}})},ZE=(e,t)=>H.from(e.select(t.name)[t.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),WE=(e,t)=>{const n=e.dom;if(t){if(Eh(t))return v2(n,t);if(S0(t))return VE(n,t);if(E0(t))return jE(n,t);if($E(t))return ZE(n,t);if(d_(t))return H.some({range:t.rng,forward:Jn(t)})}return H.none()},qE=(e,t,n)=>We(e,t,n),GE=(e,t)=>{WE(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},kl=e=>Ot(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",by=(e=>t=>e===t)(os),zh=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,_2=e=>!zh(e)&&!by(e)&&!Ec(e),p_=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},KE=e=>Kn(e,t=>{const n=np(t);return n?[re.fromDom(n)]:[]}),YE=e=>p_(e).length>1,g_=e=>Ke(KE(e),Xf),XE=e=>Rs(e,"td[data-mce-selected],th[data-mce-selected]"),k2=(e,t)=>{const n=XE(t);return n.length>0?n:g_(e)},Th=e=>k2(p_(e.selection.getSel()),re.fromDom(e.getBody())),yy=(e,t)=>nd(e,"table",t),JE=e=>{const t=e.startContainer,n=e.startOffset;return it(t)?n===0?H.some(re.fromDom(t)):H.none():H.from(t.childNodes[n]).map(re.fromDom)},QE=e=>{const t=e.endContainer,n=e.endOffset;return it(t)?n===t.data.length?H.some(re.fromDom(t)):H.none():H.from(t.childNodes[n-1]).map(re.fromDom)},w2=e=>Rm(e).fold(Je([e]),t=>[e].concat(w2(t))),h_=e=>fu(e).fold(Je([e]),t=>pn(t)==="br"?ul(t).map(n=>[e].concat(h_(n))).getOr([]):[e].concat(h_(t))),b_=(e,t)=>ga(JE(t),QE(t),(n,r)=>{const i=Tn(w2(e),De(en,n)),c=Tn(h_(e),De(en,r));return i.isSome()&&c.isSome()}).getOr(!1),y_=(e,t,n,r)=>{const i=n,c=new qr(n,i),u=Yi(e.schema.getMoveCaretBeforeOnEnterElements(),(x,C)=>!on(["td","th","table"],C.toLowerCase()));let g=n;do{if(it(g)&&gt.trim(g.data).length!==0){r?t.setStart(g,0):t.setEnd(g,g.data.length);return}if(u[g.nodeName]){r?t.setStartBefore(g):g.nodeName==="BR"?t.setEndBefore(g):t.setEndAfter(g);return}}while(g=r?c.next():c.prev());i.nodeName==="BODY"&&(r?t.setStart(i,0):t.setEnd(i,i.childNodes.length))},xy=e=>{const t=e.selection.getSel();return Ie(t)&&t.rangeCount>0},x_=(e,t)=>{const n=Th(e);n.length>0?Ne(n,r=>{const i=r.dom,c=e.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),t(c,!0)}):t(e.selection.getRng(),!1)},C2=(e,t,n)=>{const r=ke(e,t);n(r),e.moveToBookmark(r)},vy=e=>O(e==null?void 0:e.nodeType),v_=e=>Ot(e)&&!kl(e)&&!Gn(e)&&!rc(e),ez=(e,t)=>{if(v_(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},S2=(e,t,n)=>{const{selection:r,dom:i}=e,c=r.getNode(),u=yr(c);C2(r,!0,()=>{t()}),u&&yr(c)&&i.isChildOf(c,e.getBody())?e.selection.select(c):n(r.getStart())&&tz(i,r)},tz=(e,t)=>{var n,r;const i=t.getRng(),{startContainer:c,startOffset:u}=i,g=t.getNode();if(!ez(e,g)&&Ot(c)){const x=c.childNodes,C=e.getRoot();let R;if(u<x.length){const B=x[u];R=new qr(B,(n=e.getParent(B,e.isBlock))!==null&&n!==void 0?n:C)}else{const B=x[x.length-1];R=new qr(B,(r=e.getParent(B,e.isBlock))!==null&&r!==void 0?r:C),R.next(!0)}for(let B=R.current();B;B=R.next()){if(e.getContentEditable(B)==="false")return;if(it(B)&&!k_(B)){i.setStart(B,0),t.setRng(i);return}}}},__=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(Ot(e)||!k_(e))return e}},_y=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||ir(e,t),Oh=(e,t,n)=>e.schema.isValidChild(t,n),k_=(e,t=!1)=>{if(Ie(e)&&it(e)){const n=t?e.data.replace(/ /g," "):e.data;return Tc(n)}else return!1},w_=e=>Ie(e)&&it(e)&&e.length===0,E2=(e,t)=>{const n="[data-mce-cef-wrappable]",r=An(e),i=yi(r)?n:`${n},${r}`;return Fa(re.fromDom(t),i)},ky=(e,t)=>{const n=e.dom;return v_(t)&&n.getContentEditable(t)==="false"&&E2(e,t)&&n.select('[contenteditable="true"]',t).length===0},om=(e,t)=>jt(e)?e(t):(Ie(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),C_=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),kg=(e,t)=>{if(Io(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=rg(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},wy=(e,t,n)=>{const r=e.getStyle(t,n);return kg(r,n)},S_=(e,t)=>{let n;return e.getParent(t,r=>Ot(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},pp=(e,t,n)=>e.getParents(t,n,e.getRoot()),nm=(e,t,n)=>{const r=e.formatter.get(t);return Ie(r)&&Sn(r,n)},oz=(e,t)=>nm(e,t,r=>{const i=c=>jt(c)||c.length>1&&c.charAt(0)==="%";return Sn(["styles","attributes"],c=>Hn(r,c).exists(u=>{const g=ve(u)?u:El(u);return Sn(g,i)}))}),YR=(e,t,n)=>{const r=["inline","block","selector","attributes","styles","classes"],i=c=>Yi(c,(u,g)=>Sn(r,x=>x===g));return nm(e,t,c=>{const u=i(c);return nm(e,n,g=>{const x=i(g);return Ts(u,x)})})},rm=e=>Ga(e,"block"),nz=e=>rm(e)&&e.wrapper===!0,rz=e=>rm(e)&&e.wrapper!==!0,yd=e=>Ga(e,"selector"),Ms=e=>Ga(e,"inline"),Ah=e=>yd(e)&&Ms(e)&&Bd(Hn(e,"mixed"),!0),Za=e=>yd(e)&&e.expand!==!1&&!Ms(e),gp=e=>{const t=[];let n=e;for(;n;){if(it(n)&&n.data!==qs||n.childNodes.length>1)return[];Ot(n)&&t.push(n),n=n.firstChild}return t},Bn=e=>gp(e).length>0,z2=e=>Gn(e.dom)&&Bn(e.dom),Cy=kl,xr=pp,T2=k_,O0=_y,A0=e=>ns(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,Sy=(e,t)=>{let n=t;for(;n;){if(Ot(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},Ey=(e,t,n,r)=>{const i=t.data;if(e){for(let c=n;c>0;c--)if(r(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(r(i.charAt(c)))return c;return-1},sz=(e,t,n)=>Ey(e,t,n,r=>by(r)||zh(r)),XR=(e,t,n)=>Ey(e,t,n,_2),az=(e,t,n,r,i,c)=>{let u;const g=e.getParent(n,B=>Im(B)||e.isBlock(B)),x=Ie(g)?g:t,C=(B,L,W)=>{const ee=fd(e),K=i?ee.backwards:ee.forwards;return H.from(K(B,L,(ne,me)=>Cy(ne.parentNode)?-1:(u=ne,W(i,ne,me)),x))};return C(n,r,sz).bind(B=>c?C(B.container,B.offset+(i?-1:0),XR):H.some(B)).orThunk(()=>u?H.some({container:u,offset:i?0:u.length}):H.none())},iz=(e,t,n,r,i)=>{const c=r[i];it(r)&&yi(r.data)&&c&&(r=c);const u=xr(e,r);for(let g=0;g<u.length;g++)for(let x=0;x<t.length;x++){const C=t[x];if(!(Ie(C.collapsed)&&C.collapsed!==n.collapsed)&&yd(C)&&e.is(u[g],C.selector))return u[g]}return r},lz=(e,t,n,r)=>{var i;let c=n;const u=e.getRoot(),g=t[0];if(rm(g)&&(c=g.wrapper?null:e.getParent(n,g.block,u)),!c){const x=(i=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:u;c=e.getParent(it(n)?n.parentNode:n,C=>C!==u&&O0(e.schema,C),x)}if(c&&rm(g)&&g.wrapper&&(c=xr(e,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[r]&&!e.isBlock(c[r])&&(c=c[r],!C_(c,"br")););return c||n},Kr=(e,t,n,r)=>{const i=n.parentNode;return Ie(n[r])?!1:i===t||Io(i)||e.isBlock(i)?!0:Kr(e,t,i,r)},N0=(e,t,n,r,i,c)=>{let u=n;const g=i?"previousSibling":"nextSibling",x=e.getRoot();if(it(n)&&!T2(n)&&(i?r>0:r<n.data.length))return n;for(;u;){if(Im(u))return n;if(!t[0].block_expand&&e.isBlock(u))return c?u:n;for(let C=u[g];C;C=C[g]){const R=it(C)&&!Kr(e,x,C,g);if(!Cy(C)&&!A0(C)&&!T2(C,R))return u}if(u===x||u.parentNode===x){n=u;break}u=u.parentNode}return n},O2=e=>Cy(e.parentNode)||Cy(e),Nh=(e,t,n,r={})=>{const{includeTrailingSpace:i=!1,expandToBlock:c=!0}=r,u=e.getParent(t.commonAncestorContainer,W=>Im(W)),g=Ie(u)?u:e.getRoot();let{startContainer:x,startOffset:C,endContainer:R,endOffset:B}=t;const L=n[0];return Ot(x)&&x.hasChildNodes()&&(x=mf(x,C),it(x)&&(C=0)),Ot(R)&&R.hasChildNodes()&&(R=mf(R,t.collapsed?B:B-1),it(R)&&(B=R.data.length)),x=Sy(e,x),R=Sy(e,R),O2(x)&&(x=Cy(x)?x:x.parentNode,t.collapsed?x=x.previousSibling||x:x=x.nextSibling||x,it(x)&&(C=t.collapsed?x.length:0)),O2(R)&&(R=Cy(R)?R:R.parentNode,t.collapsed?R=R.nextSibling||R:R=R.previousSibling||R,it(R)&&(B=t.collapsed?0:R.length)),t.collapsed&&(az(e,g,x,C,!0,i).each(({container:K,offset:ne})=>{x=K,C=ne}),az(e,g,R,B,!1,i).each(({container:K,offset:ne})=>{R=K,B=ne})),(Ms(L)||L.block_expand)&&((!Ms(L)||!it(x)||C===0)&&(x=N0(e,n,x,C,!0,c)),(!Ms(L)||!it(R)||B===R.data.length)&&(R=N0(e,n,R,B,!1,c))),Za(L)&&(x=iz(e,n,t,x,"previousSibling"),R=iz(e,n,t,R,"nextSibling")),(rm(L)||yd(L))&&(x=lz(e,n,x,"previousSibling"),R=lz(e,n,R,"nextSibling"),rm(L)&&(e.isBlock(x)||(x=N0(e,n,x,C,!0,c),it(x)&&(C=0)),e.isBlock(R)||(R=N0(e,n,R,B,!1,c),it(R)&&(B=R.data.length)))),Ot(x)&&x.parentNode&&(C=e.nodeIndex(x),x=x.parentNode),Ot(R)&&R.parentNode&&(B=e.nodeIndex(R)+1,R=R.parentNode),{startContainer:x,startOffset:C,endContainer:R,endOffset:B}},R0=(e,t,n)=>{var r;const i=t.startOffset,c=mf(t.startContainer,i),u=t.endOffset,g=mf(t.endContainer,u-1),x=ne=>{const me=ne[0];it(me)&&me===c&&i>=me.data.length&&ne.splice(0,1);const Ce=ne[ne.length-1];return u===0&&ne.length>0&&Ce===g&&it(Ce)&&ne.splice(ne.length-1,1),ne},C=(ne,me,Ce)=>{const ze=[];for(;ne&&ne!==Ce;ne=ne[me])ze.push(ne);return ze},R=(ne,me)=>e.getParent(ne,Ce=>Ce.parentNode===me,me),B=(ne,me,Ce)=>{const ze=Ce?"nextSibling":"previousSibling";for(let Re=ne,Xe=Re.parentNode;Re&&Re!==me;Re=Xe){Xe=Re.parentNode;const mt=C(Re===ne?Re:Re[ze],ze);mt.length&&(Ce||mt.reverse(),n(x(mt)))}};if(c===g)return n(x([c]));const L=(r=e.findCommonAncestor(c,g))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(c,g))return B(c,L,!0);if(e.isChildOf(g,c))return B(g,L);const W=R(c,L)||c,ee=R(g,L)||g;B(c,W,!0);const K=C(W===c?W:W.nextSibling,"nextSibling",ee===g?ee.nextSibling:ee);K.length&&n(x(K)),B(g,ee)},JR=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],Ic=e=>js(e)&&lf(e)===qs,Tu=(e,t,n,r)=>Xl(t).fold(()=>"skipping",i=>r==="br"||Ic(t)?"valid":Xm(t)?"existing":Gn(t.dom)?"caret":Sn(JR,c=>Fa(t,c))?"valid-block":!Oh(e,n,r)||!Oh(e,pn(i),n)?"invalid-child":"valid"),cz=(e,t)=>{const n=Nh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},E_=(e,t,n,r,i,c)=>{const{uid:u=t,...g}=n;Yl(e,la()),On(e,`${ms()}`,u),On(e,`${xs()}`,r);const{attributes:x={},classes:C=[]}=i(u,g);if(dl(e,x),fc(e,C),c){C.length>0&&On(e,`${af()}`,C.join(","));const R=nt(x);R.length>0&&On(e,`${ag()}`,R.join(","))}},A2=e=>{Ia(e,la()),En(e,`${ms()}`),En(e,`${xs()}`),En(e,`${Ym()}`);const t=Os(e,`${ag()}`).map(r=>r.split(",")).getOr([]),n=Os(e,`${af()}`).map(r=>r.split(",")).getOr([]);Ne(t,r=>En(e,r)),Ni(e,n),En(e,`${af()}`),En(e,`${ag()}`)},D0=(e,t,n,r,i)=>{const c=re.fromTag("span",e);return E_(c,t,n,r,i,!1),c},QR=(e,t,n,r,i,c)=>{const u=[],g=D0(e.getDoc(),n,c,r,i),x=ic(),C=()=>{x.clear()},R=()=>x.get().getOrThunk(()=>{const ee=ud(g);return u.push(ee),x.set(ee),ee}),B=ee=>{Ne(ee,L)},L=ee=>{switch(Tu(e,ee,"span",pn(ee))){case"invalid-child":{C();const ne=xa(ee);B(ne),C();break}case"valid-block":{C(),E_(ee,n,c,r,i,!0);break}case"valid":{const ne=R();Ur(ee,ne);break}}},W=ee=>{const K=Jo(ee,re.fromDom);B(K)};return R0(e.dom,t,ee=>{C(),W(ee)}),u},dz=(e,t,n,r)=>{e.undoManager.transact(()=>{const i=e.selection,c=i.getRng(),u=Th(e).length>0,g=dd("mce-annotation");if(c.collapsed&&!u&&cz(e,c),i.getRng().collapsed&&!u){const x=D0(e.getDoc(),g,r,t,n.decorate);ka(x,os),i.getRng().insertNode(x.dom),i.select(x.dom)}else C2(i,!1,()=>{x_(e,x=>{QR(e,x,g,t,n.decorate,r)})})})},zy=e=>{const t=Pl();q1(e,t);const n=Ev(e,t),r=sa("span"),i=c=>{Ne(c,u=>{r(u)?Ee(u):A2(u)})};return{register:(c,u)=>{t.register(c,u)},annotate:(c,u)=>{t.lookup(c).each(g=>{dz(e,c,g,u)})},annotationChanged:(c,u)=>{n.addListener(c,u)},remove:c=>{Ai(e,H.some(c)).each(({elements:u})=>{const g=e.selection.getBookmark();i(u),e.selection.moveToBookmark(g)})},removeAll:c=>{const u=e.selection.getBookmark();Ho(W1(e,c),(g,x)=>{i(g)}),e.selection.moveToBookmark(u)},getAll:c=>{const u=W1(e,c);return Pi(u,g=>Jo(g,x=>x.dom))}}},M0=e=>({getBookmark:De(qE,e),moveToBookmark:De(GE,e)});M0.isBookmarkNode=kl;const B0=(e,t,n)=>n.collapsed?!1:Sn(n.getClientRects(),r=>op(r,e,t)),z_=()=>re.fromDom(document),N2=(e,t=!1)=>e.dom.focus({preventScroll:t}),Ty=e=>{const t=Ci(e).dom;return e.dom===t.activeElement},R2=(e=z_())=>H.from(e.dom.activeElement).map(re.fromDom),eD=e=>R2(Ci(e)).filter(t=>e.dom.contains(t.dom)),hc={create:(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r})},Rh=Lt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),uz=(e,t,n,r)=>e.fold(t,n,r),Fc=e=>e.fold(fn,fn,fn),Lr=Rh.before,tD=Rh.on,Dh=Rh.after,Yd={before:Lr,on:tD,after:Dh,cata:uz,getStart:Fc},P0=Lt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),D2=e=>P0.exact(e.start,e.soffset,e.finish,e.foffset),M2=e=>e.match({domRange:t=>re.fromDom(t.startContainer),relative:(t,n)=>Yd.getStart(t),exact:(t,n,r,i)=>t}),oD=P0.domRange,B2=P0.relative,nD=P0.exact,fz=e=>{const t=M2(e);return Cr(t)},mz=hc.create,wg={domRange:oD,relative:B2,exact:nD,exactFromRange:D2,getWin:fz,range:mz},P2=(e,t)=>{const n=js(t)?lf(t).length:xa(t).length+1;return e>n?n:e<0?0:e},T_=e=>wg.range(e.start,P2(e.soffset,e.start),e.finish,P2(e.foffset,e.finish)),pz=(e,t)=>!Hf(t.dom)&&(Ha(e,t)||en(e,t)),gz=e=>t=>pz(e,t.start)&&pz(e,t.finish),rD=e=>e.inline||Nt.browser.isFirefox(),sD=e=>wg.range(re.fromDom(e.startContainer),e.startOffset,re.fromDom(e.endContainer),e.endOffset),aD=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?H.none():H.from(t.getRangeAt(0))).map(sD)},hz=e=>{const t=Cr(e);return aD(t.dom).filter(gz(e))},iD=(e,t)=>H.from(t).filter(gz(e)).map(T_),lD=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),H.some(t)}catch{return H.none()}},L0=e=>{const t=rD(e)?hz(re.fromDom(e.getBody())):H.none();e.bookmark=t.isSome()?t:e.bookmark},L2=e=>(e.bookmark?e.bookmark:H.none()).bind(n=>iD(re.fromDom(e.getBody()),n)).bind(lD),bz=e=>{L2(e).each(t=>e.selection.setRng(t))},yz={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},xz=(e,t)=>(O(t)||(t=0),window.setTimeout(e,t)),Xd=(e,t)=>(O(t)||(t=0),window.setInterval(e,t)),Jd={setEditorTimeout:(e,t,n)=>xz(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const r=Xd(()=>{e.removed?window.clearInterval(r):t()},n);return r}},vz=e=>e.type==="nodechange"&&e.selectionChange,I2=(e,t)=>{const n=()=>{t.throttle()};Tr.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Tr.DOM.unbind(document,"mouseup",n)})},F2=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},_z=(e,t)=>{F2(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{vz(n)||L0(e)})},kz=e=>{const t=zs(()=>{L0(e)},0);e.on("init",()=>{e.inline&&I2(e,t),_z(e,t)}),e.on("remove",()=>{t.cancel()})};let Mh;const O_=Tr.DOM,xd=e=>Ot(e)&&yz.isEditorUIElement(e),H2=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Oy=(e,t)=>{const n=X3(e);return O_.getParent(t,i=>xd(i)||(n?e.dom.is(i,n):!1))!==null},$2=e=>{try{const t=Ci(re.fromDom(e.getElement()));return R2(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},V2=(e,t)=>{const n=t.editor;kz(n);const r=(i,c)=>{if(n_(i)&&i.inline!==!0){const u=re.fromDom(i.getContainer());c(u,"tox-edit-focus")}};n.on("focusin",()=>{const i=e.focusedEditor;H2($2(n))&&r(n,Yl),i!==n&&(i&&i.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:i}),n.focus(!0))}),n.on("focusout",()=>{Jd.setEditorTimeout(n,()=>{const i=e.focusedEditor;(!H2($2(n))||i!==n)&&r(n,Ia),!Oy(n,$2(n))&&i===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Mh||(Mh=i=>{const c=e.activeEditor;c&&od(i).each(u=>{const g=u;g.ownerDocument===document&&g!==document.body&&!Oy(c,g)&&e.focusedEditor===c&&(c.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},O_.bind(document,"focusin",Mh))},Ou=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Mh&&(O_.unbind(document,"focusin",Mh),Mh=null)},U2=e=>{e.on("AddEditor",De(V2,e)),e.on("RemoveEditor",De(Ou,e))},A_=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),wz=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,cD=e=>e.collapsed?H.from(mf(e.startContainer,e.startOffset)).map(re.fromDom):H.none(),j2=(e,t)=>cD(t).bind(n=>Ov(n)?H.some(n):Ha(e,n)?H.none():H.some(e)),Z2=(e,t)=>{j2(re.fromDom(e.getBody()),t).bind(n=>ss(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},Ay=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Cz=e=>Ty(e)||eD(e).isSome(),Bh=e=>Ie(e.iframeElement)&&Ty(re.fromDom(e.iframeElement)),Sz=e=>{const t=e.getBody();return t&&Cz(re.fromDom(t))},Ez=e=>{const t=Ci(re.fromDom(e.getElement()));return R2(t).filter(n=>!H2(n.dom)&&Oy(e,n.dom)).isSome()},Ph=e=>e.inline?Sz(e):Bh(e),W2=e=>Ph(e)||Ez(e),q2=e=>{const t=e.selection,n=e.getBody();let r=t.getRng();e.quirks.refreshContentEditable();const i=u=>{L2(u).each(g=>{u.selection.setRng(g),r=g})};!Ph(e)&&e.hasEditableRoot()&&i(e);const c=A_(e,t.getNode());if(c&&e.dom.isChildOf(c,n)){wz(e,c)||Ay(n),Ay(c),e.hasEditableRoot()||i(e),Z2(e,r),am(e);return}e.inline||(Nt.browser.isOpera()||Ay(n),e.getWin().focus()),(Nt.browser.isFirefox()||e.inline)&&(Ay(n),Z2(e,r)),am(e)},am=e=>e.editorManager.setActive(e),dD=(e,t)=>{e.removed||(t?am(e):q2(e))},Ht={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ht.metaKeyPressed(e),metaKeyPressed:e=>Nt.os.isMacOS()||Nt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},im="data-mce-selected",zz="table,img,figure.image,hr,video,span.mce-preview-object,details",G2=Math.abs,N_=Math.round,R_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},hp=e=>e.type==="longpress"||e.type.indexOf("touch")===0,K2=(e,t)=>{const n=t.dom,r=t.getDoc(),i=document,c=t.getBody();let u,g,x,C,R,B,L,W,ee,K,ne,me,Ce,ze,Re;const Xe=st=>Ie(st)&&(jd(st)||n.is(st,"figure.image")),mt=st=>Zi(st)||n.hasClass(st,"mce-preview-object"),At=(st,Ct)=>{if(hp(st)){const wo=st.touches[0];return Xe(st.target)&&!B0(wo.clientX,wo.clientY,Ct)}else return Xe(st.target)&&!B0(st.clientX,st.clientY,Ct)},Ze=st=>{const Ct=st.target;At(st,t.selection.getRng())&&!st.isDefaultPrevented()&&t.selection.select(Ct)},Pe=st=>n.hasClass(st,"mce-preview-object")&&Ie(st.firstElementChild)?[st,st.firstElementChild]:n.is(st,"figure.image")?[st.querySelector("img")]:[st],et=st=>{const Ct=p0(t);return!Ct||t.mode.isReadOnly()||st.getAttribute("data-mce-resize")==="false"||st===t.getBody()?!1:n.hasClass(st,"mce-preview-object")&&Ie(st.firstElementChild)?Fa(re.fromDom(st.firstElementChild),Ct):Fa(re.fromDom(st),Ct)},St=(st,Ct)=>{if(mt(Ct))return st.create("img",{src:Nt.transparentSrc});if(sd(Ct)){const Ar=cr(C.name,"n")?dt:_o,hn=Ct.cloneNode(!0);return Ar(st.select("tr",hn)).each(il=>{const Af=st.select("td,th",il);st.setStyle(il,"height",null),Ne(Af,Ig=>st.setStyle(Ig,"height",null))}),hn}else return Ct.cloneNode(!0)},Jt=(st,Ct,wo)=>{if(Ie(wo)){const Ar=Pe(st);Ne(Ar,hn=>{hn.style[Ct]||!t.schema.isValid(hn.nodeName.toLowerCase(),Ct)?n.setStyle(hn,Ct,wo):n.setAttrib(hn,Ct,""+wo)})}},rn=(st,Ct,wo)=>{Jt(st,"width",Ct),Jt(st,"height",wo)},an=st=>{let Ct,wo,Ar,hn,il;Ct=st.screenX-B,wo=st.screenY-L,me=Ct*C[2]+W,Ce=wo*C[3]+ee,me=me<5?5:me,Ce=Ce<5?5:Ce,(Xe(u)||mt(u))&&g0(t)!==!1?Ar=!Ht.modifierPressed(st):Ar=Ht.modifierPressed(st),Ar&&(G2(Ct)>G2(wo)?(Ce=N_(me*K),me=N_(Ce/K)):(me=N_(Ce/K),Ce=N_(me*K))),rn(g,me,Ce),hn=C.startPos.x+Ct,il=C.startPos.y+wo,hn=hn>0?hn:0,il=il>0?il:0,n.setStyles(x,{left:hn,top:il,display:"block"}),x.innerHTML=me+" &times; "+Ce,Ct=c.scrollWidth-ze,wo=c.scrollHeight-Re,Ct+wo!==0&&n.setStyles(x,{left:hn-Ct,top:il-wo}),ne||(xh(t,u,W,ee,"corner-"+C.name),ne=!0)},jn=()=>{const st=ne;ne=!1,st&&(Jt(u,"width",me),Jt(u,"height",Ce)),n.unbind(r,"mousemove",an),n.unbind(r,"mouseup",jn),i!==r&&(n.unbind(i,"mousemove",an),n.unbind(i,"mouseup",jn)),n.remove(g),n.remove(x),n.remove(R),vr(u),st&&(lp(t,u,me,Ce,"corner-"+C.name),n.setAttrib(u,"style",n.getAttrib(u,"style"))),t.nodeChanged()},vr=st=>{Qt();const Ct=n.getPos(st,c),wo=Ct.x,Ar=Ct.y,hn=st.getBoundingClientRect(),il=hn.width||hn.right-hn.left,Af=hn.height||hn.bottom-hn.top;u!==st&&(Ri(),u=st,me=Ce=0);const Ig=t.dispatch("ObjectSelected",{target:st});et(st)&&!Ig.isDefaultPrevented()?Ho(R_,(Zc,Cm)=>{const Hu=Wc=>{const Nf=Pe(u)[0];B=Wc.screenX,L=Wc.screenY,W=Nf.clientWidth,ee=Nf.clientHeight,K=ee/W,C=Zc,C.name=Cm,C.startPos={x:il*Zc[0]+wo,y:Af*Zc[1]+Ar},ze=c.scrollWidth,Re=c.scrollHeight,R=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=St(n,u),n.addClass(g,"mce-clonedresizable"),n.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",n.setStyles(g,{left:wo,top:Ar,margin:0}),rn(g,il,Af),g.removeAttribute(im),c.appendChild(g),n.bind(r,"mousemove",an),n.bind(r,"mouseup",jn),i!==r&&(n.bind(i,"mousemove",an),n.bind(i,"mouseup",jn)),x=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},W+" &times; "+ee)};let yc=n.get("mceResizeHandle"+Cm);yc&&n.remove(yc),yc=n.add(c,"div",{id:"mceResizeHandle"+Cm,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Cm+"-resize; margin:0; padding:0"}),n.bind(yc,"mousedown",Wc=>{Wc.stopImmediatePropagation(),Wc.preventDefault(),Hu(Wc)}),Zc.elm=yc,n.setStyles(yc,{left:il*Zc[0]+wo-yc.offsetWidth/2,top:Af*Zc[1]+Ar-yc.offsetHeight/2})}):Ri(!1)},da=zs(vr,0),Ri=(st=!0)=>{da.cancel(),Qt(),u&&st&&u.removeAttribute(im),Ho(R_,(Ct,wo)=>{const Ar=n.get("mceResizeHandle"+wo);Ar&&(n.unbind(Ar),n.remove(Ar))})},Di=(st,Ct)=>n.isChildOf(st,Ct),kt=st=>{if(ne||t.removed||t.composing)return;const Ct=st.type==="mousedown"?st.target:e.getNode(),wo=aa(re.fromDom(Ct),zz).map(hn=>hn.dom).filter(hn=>n.isEditable(hn.parentElement)||hn.nodeName==="IMG"&&n.isEditable(hn)).getOrUndefined(),Ar=Ie(wo)?n.getAttrib(wo,im,"1"):"1";if(Ne(n.select(`img[${im}],hr[${im}]`),hn=>{hn.removeAttribute(im)}),Ie(wo)&&Di(wo,c)&&W2(t)){In();const hn=e.getStart(!0);if(Di(hn,wo)&&Di(e.getEnd(!0),wo)){n.setAttrib(wo,im,Ar),da.throttle(wo);return}}Ri()},Qt=()=>{Ho(R_,st=>{st.elm&&(n.unbind(st.elm),delete st.elm)})},In=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{In(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",kt),t.on("keyup compositionend",st=>{u&&u.nodeName==="TABLE"&&kt(st)}),t.on("hide blur",Ri),t.on("contextmenu longpress",Ze,!0)}),t.on("remove",Qt),{isResizable:et,showResizeRect:vr,hideResizeRect:Ri,updateResizeRect:kt,destroy:()=>{da.cancel(),u=g=R=null}}},Tz=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},Oz=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},I0=(e,t,n)=>{const r=e.document.createRange();return Tz(r,t),Oz(r,n),r},D_=(e,t,n,r,i)=>{const c=e.document.createRange();return c.setStart(t.dom,n),c.setEnd(r.dom,i),c},Ny=Lt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Az=(e,t,n)=>t(re.fromDom(n.startContainer),n.startOffset,re.fromDom(n.endContainer),n.endOffset),M_=(e,t)=>t.match({domRange:n=>({ltr:Je(n),rtl:H.none}),relative:(n,r)=>({ltr:Ya(()=>I0(e,n,r)),rtl:Ya(()=>H.some(I0(e,r,n)))}),exact:(n,r,i,c)=>({ltr:Ya(()=>D_(e,n,r,i,c)),rtl:Ya(()=>H.some(D_(e,i,c,n,r)))})}),Nz=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(i=>i.collapsed===!1).map(i=>Ny.rtl(re.fromDom(i.endContainer),i.endOffset,re.fromDom(i.startContainer),i.startOffset)).getOrThunk(()=>Az(e,Ny.ltr,n)):Az(e,Ny.ltr,n)},B_=(e,t)=>{const n=M_(e,t);return Nz(e,n)};Ny.ltr,Ny.rtl;const Rz=(e,t,n)=>{var r;return H.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,t,n)).bind(i=>{if(i.offsetNode===null)return H.none();const c=e.createRange();return c.setStart(i.offsetNode,i.offset),c.collapse(),H.some(c)})},Y2=(e,t,n)=>{var r;return H.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,t,n))},Dz=(e,t,n)=>e.caretPositionFromPoint?Rz(e,t,n):e.caretRangeFromPoint?Y2(e,t,n):H.none(),F0=(e,t,n)=>{const r=e.document;return Dz(r,t,n).map(i=>hc.create(re.fromDom(i.startContainer),i.startOffset,re.fromDom(i.endContainer),i.endOffset))},vd=(e,t)=>{const n=pn(e);return n==="input"?Yd.after(e):on(["br","img"],n)?t===0?Yd.before(e):Yd.after(e):Yd.on(e,t)},uD=(e,t)=>{const n=e.fold(Yd.before,vd,Yd.after),r=t.fold(Yd.before,vd,Yd.after);return wg.relative(n,r)},P_=(e,t,n,r)=>{const i=vd(e,t),c=vd(n,r);return wg.relative(i,c)},Bs=e=>e.match({domRange:t=>{const n=re.fromDom(t.startContainer),r=re.fromDom(t.endContainer);return P_(n,t.startOffset,r,t.endOffset)},relative:uD,exact:P_}),H0=(e,t)=>{const r=document.createDocumentFragment();return Ne(e,i=>{r.appendChild(i.dom)}),re.fromDom(r)},L_=e=>{const t=wg.getWin(e).dom,n=(i,c,u,g)=>D_(t,i,c,u,g),r=Bs(e);return B_(t,r).match({ltr:n,rtl:n})},bp=(e,t,n)=>F0(e,t,n),X2=(e,t,n)=>{const r=Cr(re.fromDom(n));return bp(r.dom,e,t).map(i=>{const c=n.createRange();return c.setStart(i.start.dom,i.soffset),c.setEnd(i.finish.dom,i.foffset),c}).getOrUndefined()},$0=(e,t)=>Ie(e)&&Ie(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,fD=(e,t,n)=>{let r=e;for(;r&&r!==t;){if(n(r))return r;r=r.parentNode}return null},Lh=(e,t,n)=>fD(e,t,n)!==null,mD=(e,t,n)=>Lh(e,t,r=>r.nodeName===n),pD=(e,t)=>pc(e)&&!Lh(e,t,Gn),Ih=(e,t,n)=>{const r=t.parentNode;if(r){const i=new qr(t,e.getParent(r,e.isBlock)||e.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(ns(c))return!0}return!1},gD=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},Fh=(e,t)=>{let n=t;for(;n&&n!==e;){if(yr(n))return!0;n=n.parentNode}return!1},J2=(e,t,n,r,i)=>{const c=e.getRoot(),u=e.schema.getNonEmptyElements(),g=i.parentNode;let x,C;if(!g)return H.none();const R=e.getParent(g,e.isBlock)||c;if(r&&ns(i)&&t&&e.isEmpty(R))return H.some($e(g,e.nodeIndex(i)));const B=new qr(i,R);for(;C=B[r?"prev":"next"]();){if(e.getContentEditableParent(C)==="false"||pD(C,c))return H.none();if(it(C)&&C.data.length>0)return mD(C,c,"A")?H.none():H.some($e(C,r?C.data.length:0));if(e.isBlock(C)||u[C.nodeName.toLowerCase()])return H.none();x=C}return sc(x)?H.none():n&&x?H.some($e(x,0)):H.none()},yp=(e,t,n,r)=>{const i=e.getRoot();let c,u=!1,g=n?r.startContainer:r.endContainer,x=n?r.startOffset:r.endOffset;const C=Ot(g)&&x===g.childNodes.length,R=e.schema.getNonEmptyElements();let B=n;if(pc(g))return H.none();if(Ot(g)&&x>g.childNodes.length-1&&(B=!1),id(g)&&(g=i,x=0),g===i){if(B&&(c=g.childNodes[x>0?x-1:0],c&&(pc(c)||R[c.nodeName]||sd(c))))return H.none();if(g.hasChildNodes()){if(x=Math.min(!B&&x>0?x-1:x,g.childNodes.length-1),g=g.childNodes[x],x=it(g)&&C?g.data.length:0,!t&&g===i.lastChild&&sd(g)||Fh(i,g)||pc(g)||Vf(g))return H.none();if(g.hasChildNodes()&&!sd(g)){c=g;const L=new qr(g,i);do{if(yr(c)||pc(c)){u=!1;break}if(it(c)&&c.data.length>0){x=B?0:c.data.length,g=c,u=!0;break}if(R[c.nodeName.toLowerCase()]&&!Vt(c)){x=e.nodeIndex(c),g=c.parentNode,B||x++,u=!0;break}}while(c=B?L.next():L.prev())}}}return t&&(it(g)&&x===0&&J2(e,C,t,!0,g).each(L=>{g=L.container(),x=L.offset(),u=!0}),Ot(g)&&(c=g.childNodes[x],c||(c=g.childNodes[x-1]),c&&ns(c)&&!gD(c,"A")&&!Ih(e,c,!1)&&!Ih(e,c,!0)&&J2(e,C,t,!0,c).each(L=>{g=L.container(),x=L.offset(),u=!0}))),B&&!t&&it(g)&&x===g.data.length&&J2(e,C,t,!1,g).each(L=>{g=L.container(),x=L.offset(),u=!0}),u&&g?H.some($e(g,x)):H.none()},I_=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),i=$e.fromRangeStart(t);return yp(e,n,!0,r).each(c=>{(!n||!$e.isAbove(i,c))&&r.setStart(c.container(),c.offset())}),n||yp(e,n,!1,r).each(c=>{r.setEnd(c.container(),c.offset())}),n&&r.collapse(!0),$0(t,r)?H.none():H.some(r)},bc=(e,t)=>e.splitText(t),lm=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;if(t===r&&it(t)){if(n>0&&n<t.data.length)if(r=bc(t,n),t=r.previousSibling,i>n){i=i-n;const c=bc(r,i).previousSibling;t=r=c,i=c.data.length,n=0}else i=0}else if(it(t)&&n>0&&n<t.data.length&&(t=bc(t,n),n=0),it(r)&&i>0&&i<r.data.length){const c=bc(r,i).previousSibling;r=c,i=c.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:i}},bf=e=>({walk:(c,u)=>R0(e,c,u),split:lm,expand:(c,u={type:"word"})=>{if(u.type==="word"){const g=Nh(e,c,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),x=e.createRng();return x.setStart(g.startContainer,g.startOffset),x.setEnd(g.endContainer,g.endOffset),x}return c},normalize:c=>I_(e,c).fold(ho,u=>(c.setStart(u.startContainer,u.startOffset),c.setEnd(u.endContainer,u.endOffset),!0))});bf.compareRanges=$0,bf.getCaretRangeFromPoint=X2,bf.getSelectedNode=np,bf.getNode=mf;const hD=((e,t)=>{const n=(g,x)=>{if(!O(x)&&!x.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+x);const C=g.dom;Cs(C)&&(C.style[e]=x+"px")},r=g=>{const x=t(g);if(x<=0||x===null){const C=Si(g,e);return parseFloat(C)||0}return x},i=r,c=(g,x)=>fo(x,(C,R)=>{const B=Si(g,R),L=B===void 0?0:parseInt(B,10);return isNaN(L)?C:C+L},0);return{set:n,get:r,getOuter:i,aggregate:c,max:(g,x,C)=>{const R=c(g,C);return x>R?x-R:0}}})("height",e=>{const t=e.dom;return Dr(e)?t.getBoundingClientRect().height:t.offsetHeight}),Ry=e=>hD.get(e),Bz=(e,t)=>e.view(t).fold(Je([]),r=>{const i=e.owner(r),c=Bz(e,i);return[r].concat(c)}),Au=(e,t)=>{const n=t.owner(e);return Bz(t,n)};var eC=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?H.none():H.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(re.fromDom)},owner:e=>Rl(e)});const tC=e=>{const t=z_(),n=Rt(t),r=Au(e,eC),i=vo(e),c=eo(r,(u,g)=>{const x=vo(g);return{left:u.left+x.left,top:u.top+x.top}},{left:0,top:0});return pe(c.left+i.left+n.left,c.top+i.top+n.top)},xp=e=>pn(e)==="textarea",oC=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),Pz=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},yD=(e,t)=>{const n=xa(e);if(n.length===0||xp(e))return{element:e,offset:t};if(t<n.length&&!xp(n[t]))return{element:n[t],offset:0};{const r=n[n.length-1];return xp(r)?{element:e,offset:t}:pn(r)==="img"?{element:r,offset:1}:js(r)?{element:r,offset:lf(r).length}:{element:r,offset:xa(r).length}}},Hh=(e,t)=>{const n=$o(e),r=Ry(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},xD=(e,t)=>{const n=yD(e,t),r=re.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+qs+"</span>");return Vr(n.element,r),Hh(r,()=>un(r))},nC=e=>Hh(re.fromDom(e),ao),F_=(e,t,n,r)=>{vD(e,(i,c)=>Iz(e,t,n,r),n)},Lz=(e,t,n,r,i)=>{const c={elm:r.element.dom,alignToTop:i};if(oC(e,c))return;const u=Rt(t).top;n(e,t,u,r,i),Pz(e,c)},Iz=(e,t,n,r)=>{const i=re.fromDom(e.getBody()),c=re.fromDom(e.getDoc());If(i);const u=xD(re.fromDom(n.startContainer),n.startOffset);Lz(e,c,t,u,r),u.cleanup()},V0=(e,t,n,r)=>{const i=re.fromDom(e.getDoc());Lz(e,i,n,nC(t),r)},vD=(e,t,n)=>{const r=n.startContainer,i=n.startOffset,c=n.endContainer,u=n.endOffset;t(re.fromDom(r),re.fromDom(c));const g=e.dom.createRng();g.setStart(r,i),g.setEnd(c,u),e.selection.setRng(n)},rC=(e,t,n,r,i)=>{const c=t.pos,u=30;if(r)Ln(c.left,Math.max(0,c.top-u),i);else{const g=c.top-n+t.height+u;Ln(-e.getBody().getBoundingClientRect().left,g,i)}},Fz=(e,t,n,r,i,c)=>{const u=r+n,g=i.pos.top,x=i.bottom,C=x-g>=r;g<n?rC(e,i,r,c!==!1,t):g>u?rC(e,i,r,C?c!==!1:c===!0,t):x>u&&!C&&rC(e,i,r,c===!0,t)},Hz=(e,t,n,r,i)=>{const c=Cr(t).dom.innerHeight;Fz(e,t,n,c,r,i)},H_=(e,t,n,r,i)=>{const c=Cr(t).dom.innerHeight;Fz(e,t,n,c,r,i);const u=tC(r.element),g=Na(window);u.top<g.y?ts(r.element,i!==!1):u.top>g.bottom&&ts(r.element,i===!0)},_D=(e,t,n)=>F_(e,Hz,t,n),kD=(e,t,n)=>V0(e,t,Hz,n),wD=(e,t,n)=>F_(e,H_,t,n),CD=(e,t,n)=>V0(e,t,H_,n),SD=(e,t,n)=>{(e.inline?kD:CD)(e,t,n)},U0=(e,t,n)=>{(e.inline?_D:wD)(e,t,n)},$z=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),Vz=(e,t,n,r,i)=>{const c=n?t.startContainer:t.endContainer,u=n?t.startOffset:t.endOffset;return H.from(c).map(re.fromDom).map(g=>!r||!t.collapsed?$d(g,i(g,u)).getOr(g):g).bind(g=>ti(g)?H.some(g):oi(g).filter(ti)).map(g=>g.dom).getOr(e)},Uz=(e,t,n=!1)=>Vz(e,t,!0,n,(r,i)=>Math.min(mu(r),i)),jz=(e,t,n=!1)=>Vz(e,t,!1,n,(r,i)=>i>0?i-1:i),Zz=(e,t)=>{const n=e;for(;e&&it(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},Wz=(e,t)=>{if(!t)return e;let n=t.startContainer,r=t.endContainer;const i=t.startOffset,c=t.endOffset;let u=t.commonAncestorContainer;t.collapsed||(n===r&&c-i<2&&n.hasChildNodes()&&(u=n.childNodes[i]),it(n)&&it(r)&&(n.length===i?n=Zz(n.nextSibling,!0):n=n.parentNode,c===0?r=Zz(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(u=n)));const g=it(u)?u.parentNode:u;return Qs(g)?g:e},ED=(e,t,n,r)=>{const i=[],c=e.getRoot(),u=e.getParent(n||Uz(c,t,t.collapsed),e.isBlock),g=e.getParent(r||jz(c,t,t.collapsed),e.isBlock);if(u&&u!==c&&i.push(u),u&&g&&u!==g){let x;const C=new qr(u,c);for(;(x=C.next())&&x!==g;)e.isBlock(x)&&i.push(x)}return g&&u!==g&&g!==c&&i.push(g),i},Cg=(e,t,n)=>H.from(t).bind(r=>H.from(r.parentNode).map(i=>{const c=e.nodeIndex(r),u=e.createRng();return u.setStart(i,c),u.setEnd(i,c+1),n&&(y_(e,u,r,!0),y_(e,u,r,!1)),u})),sC=(e,t)=>Jo(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),zD={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Dy=(e,t,n)=>{const r=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[r])return e[r];if(e!==t){let c=e[i];if(c)return c;for(let u=e.parent;u&&u!==t;u=u.parent)if(c=u[i],c)return c}},TD=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Tc(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},qz=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Fl{static create(t,n){const r=new Fl(t,zD[t]||1);return n&&Ho(n,(i,c)=>{r.attr(c,i)}),r}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!pt(t))return Ie(t)&&Ho(t,(c,u)=>{r.attr(u,c)}),r;const i=r.attributes;if(i){if(n!==void 0){if(n===null){if(t in i.map){delete i.map[t];let c=i.length;for(;c--;)if(i[c].name===t)return i.splice(c,1),r}return r}if(t in i.map){let c=i.length;for(;c--;)if(i[c].name===t){i[c].value=n;break}}else i.push({name:t,value:n});return i.map[t]=n,r}return i.map[t]}}clone(){const t=this,n=new Fl(t.name,t.type),r=t.attributes;if(r){const i=[];i.map={};for(let c=0,u=r.length;c<u;c++){const g=r[c];g.name!=="id"&&(i[i.length]={name:g.name,value:g.value},i.map[g.name]=g.value)}n.attributes=i}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,i=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):i&&(i.next=r),n.lastChild===t?(n.lastChild=i,i&&(i.next=null)):r&&(r.prev=i),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const i=n.parent||this;return r?(n===i.firstChild?i.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===i.lastChild?i.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=i,t}getAll(t){const n=this,r=[];for(let i=n.firstChild;i;i=Dy(i,n))i.name===t&&r.push(i);return r}children(){const t=this,n=[];for(let r=t.firstChild;r;r=r.next)n.push(r);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let i=t.firstChild;i;i=Dy(i,t))n.push(i);let r=n.length;for(;r--;){const i=n[r];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var i;const c=this;let u=c.firstChild;if(qz(c))return!1;if(u)do{if(u.type===1){if(u.attr("data-mce-bogus"))continue;if(t[u.name]||qz(u))return!1}if(u.type===8||u.type===3&&!TD(u)||u.type===3&&u.parent&&n[u.parent.name]&&Tc((i=u.value)!==null&&i!==void 0?i:"")||r&&r(u))return!1}while(u=Dy(u,c));return!0}walk(t){return Dy(this,null,t)}}const OD=gt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Gz=e=>pt(e.nodeValue)&&e.nodeValue.includes(qs),Kz=e=>`${e.length===0?"":`${Jo(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,AD=(e,t)=>t.querySelectorAll(Kz(e)),Yz=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>Gz(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),Xz=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(Gz(t)){const n=t.parentNode;return n&&po(OD,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),aC=e=>Yz(e).nextNode()!==null,j0=e=>Xz(e).nextNode()!==null,Jz=(e,t)=>t.querySelector(Kz(e))!==null,Z0=(e,t)=>{Ne(AD(e,t),n=>{const r=re.fromDom(n);ba(r,"data-mce-bogus")==="all"?un(r):Ne(e,i=>{Qi(r,i)&&En(r,i)})})},iC=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},$_=Do(iC,Yz),W0=Do(iC,Xz),Nu=(e,t)=>{const n=[{condition:De(Jz,t),action:De(Z0,t)},{condition:aC,action:$_},{condition:j0,action:W0}];let r=e,i=!1;return Ne(n,({condition:c,action:u})=>{c(r)&&(i||(r=e.cloneNode(!0),i=!0),u(r))}),r},vp=e=>{const t=Rs(e,"[data-mce-bogus]");Ne(t,n=>{ba(n,"data-mce-bogus")==="all"?un(n):vu(n)?(Vr(n,re.fromText(Bm)),un(n)):Ee(n)})},V_=e=>{const t=Rs(e,"input");Ne(t,n=>{En(n,"name")})},Qz=(e,t)=>{const n=Ki(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},q0=(e,t)=>{const n=e.getDoc(),r=Ci(re.fromDom(e.getBody())),i=re.fromTag("div",n);On(i,"data-mce-bogus","all"),Xs(i,{position:"fixed",left:"-9999999px",top:"0"}),ka(i,t.innerHTML),vp(i),V_(i);const c=pu(r);Mr(c,i);const u=wa(i.dom.innerText);return un(i),u},eT=(e,t,n)=>{let r;return t.format==="raw"?r=gt.trim(wa(Nu(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?r=q0(e,n):t.format==="tree"?r=e.serializer.serialize(n,t):r=Qz(e,e.serializer.serialize(n,t)),t.format!=="text"&&!xl(re.fromDom(n))&&pt(r)?gt.trim(r):r},ND=(e,t)=>H.from(e.getBody()).fold(Je(t.format==="tree"?new Fl("body",11):""),n=>eT(e,t,n)),My=gt.makeMap,lC=e=>{const t=[];e=e||{};const n=e.indent,r=My(e.indent_before||""),i=My(e.indent_after||""),c=Nc.getEncodeFunc(e.entity_encoding||"raw",e.entities),u=e.element_format!=="xhtml";return{start:(g,x,C)=>{if(n&&r[g]&&t.length>0){const R=t[t.length-1];R.length>0&&R!==`
`&&t.push(`
`)}if(t.push("<",g),x)for(let R=0,B=x.length;R<B;R++){const L=x[R];t.push(" ",L.name,'="',c(L.value,!0),'"')}if(!C||u?t[t.length]=">":t[t.length]=" />",C&&n&&i[g]&&t.length>0){const R=t[t.length-1];R.length>0&&R!==`
`&&t.push(`
`)}},end:g=>{let x;t.push("</",g,">"),n&&i[g]&&t.length>0&&(x=t[t.length-1],x.length>0&&x!==`
`&&t.push(`
`))},text:(g,x)=>{g.length>0&&(t[t.length]=x?g:c(g))},cdata:g=>{t.push("<![CDATA[",g,"]]>")},comment:g=>{t.push("<!--",g,"-->")},pi:(g,x)=>{x?t.push("<?",g," ",c(x),"?>"):t.push("<?",g,"?>"),n&&t.push(`
`)},doctype:g=>{t.push("<!DOCTYPE",g,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Yr=(e={},t=wt())=>{const n=lC(e);return e.validate="validate"in e?e.validate:!0,{serialize:i=>{const c=e.validate,u={3:x=>{var C;n.text((C=x.value)!==null&&C!==void 0?C:"",x.raw)},8:x=>{var C;n.comment((C=x.value)!==null&&C!==void 0?C:"")},7:x=>{n.pi(x.name,x.value)},10:x=>{var C;n.doctype((C=x.value)!==null&&C!==void 0?C:"")},4:x=>{var C;n.cdata((C=x.value)!==null&&C!==void 0?C:"")},11:x=>{let C=x;if(C=C.firstChild)do g(C);while(C=C.next)}};n.reset();const g=x=>{var C;const R=u[x.type];if(R)R(x);else{const B=x.name,L=B in t.getVoidElements();let W=x.attributes;if(c&&W&&W.length>1){const ee=[];ee.map={};const K=t.getElementRule(x.name);if(K){for(let ne=0,me=K.attributesOrder.length;ne<me;ne++){const Ce=K.attributesOrder[ne];if(Ce in W.map){const ze=W.map[Ce];ee.map[Ce]=ze,ee.push({name:Ce,value:ze})}}for(let ne=0,me=W.length;ne<me;ne++){const Ce=W[ne].name;if(!(Ce in ee.map)){const ze=W.map[Ce];ee.map[Ce]=ze,ee.push({name:Ce,value:ze})}}W=ee}}if(n.start(B,W,L),k(B))pt(x.value)&&n.text(x.value,!0),n.end(B);else if(!L){let ee=x.firstChild;if(ee){(B==="pre"||B==="textarea")&&ee.type===3&&((C=ee.value)===null||C===void 0?void 0:C[0])===`
`&&n.text(`
`,!0);do g(ee);while(ee=ee.next)}n.end(B)}}};return i.type===1&&!e.inner?g(i):i.type===3?u[3](i):u[11](i),n.getContent()}}},tT=new Set;Ne(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{tT.add(t)});const oT=new Set;Ne(["background-color"],t=>{oT.add(t)});const $h=["font","text-decoration","text-emphasis"],Vh=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Ru=(e,t)=>nt(Vh(e,t)),nT=e=>tT.has(e),RD=e=>oT.has(e),U_=(e,t)=>Sn(Ru(e,t),n=>nT(n)),cC=(e,t)=>U_(e,t)&&Sn(Ru(e,t),n=>RD(n)),rT=e=>Ke(e,t=>Sn($h,n=>cr(t,n))),sT=(e,t,n)=>{const r=Ru(e,t),i=Ru(e,n),c=u=>{var g,x;const C=(g=e.getStyle(t,u))!==null&&g!==void 0?g:"",R=(x=e.getStyle(n,u))!==null&&x!==void 0?x:"";return hr(C)&&hr(R)&&C!==R};return Sn(r,u=>{const g=x=>Sn(x,C=>C===u);if(!g(i)&&g($h)){const x=rT(i);return Sn(x,c)}else return c(u)})},aT=(e,t,n)=>H.from(n.container()).filter(it).exists(r=>{const i=e?0:-1;return t(r.data.charAt(n.offset()+i))}),dC=De(aT,!0,zh),G0=De(aT,!1,zh),uC=e=>{const t=e.container();return it(t)&&(t.data.length===0||mh(t.data)&&M0.isBookmarkNode(t.parentNode))},_p=(e,t)=>n=>m2(e?0:-1,n).filter(t).isSome(),Uh=e=>jd(e)&&Si(re.fromDom(e),"display")==="block",fC=e=>yr(e)&&!_b(e),iT=_p(!0,Uh),lT=_p(!1,Uh),By=_p(!0,Zi),jh=_p(!1,Zi),mC=_p(!0,sd),j_=_p(!1,sd),kp=_p(!0,fC),wp=_p(!1,fC),cT=e=>e.slice(0,-1),pC=(e,t,n)=>Ha(t,e)?cT(Jl(e,r=>n(r)||en(r,t))):[],Py=(e,t)=>pC(e,t,ho),cm=(e,t)=>[e].concat(Py(e,t)),Z_=(e,t,n)=>HE(e,t,n,uC),W_=e=>t=>e.isBlock(pn(t)),dT=(e,t,n)=>Tn(cm(re.fromDom(t.container()),e),W_(n)),uT=(e,t,n,r)=>Z_(e,t.dom,n).forall(i=>dT(t,n,r).fold(()=>!tm(i,n,t.dom),c=>!tm(i,n,t.dom)&&Ha(c,re.fromDom(i.container())))),Sg=(e,t,n,r)=>dT(t,n,r).fold(()=>Z_(e,t.dom,n).forall(i=>!tm(i,n,t.dom)),i=>Z_(e,i.dom,n).isNone()),K0=De(Sg,!1),gC=De(Sg,!0),Y0=De(uT,!1),fT=De(uT,!0),hC=e=>i_(e).exists(vu),X0=(e,t,n,r)=>{const i=Ke(cm(re.fromDom(n.container()),t),u=>r.isBlock(pn(u))),c=dt(i).getOr(t);return bd(e,c.dom,n).filter(hC)},q_=(e,t,n)=>i_(t).exists(vu)||X0(!0,e,t,n).isSome(),Ly=(e,t,n)=>jo(t).exists(vu)||X0(!1,e,t,n).isSome(),bC=De(X0,!1),DD=De(X0,!0),yC=e=>$e.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),J0=(e,t,n)=>{const r=Ke(cm(re.fromDom(t.container()),e),i=>n.isBlock(pn(i)));return dt(r).getOr(e)},rl=(e,t,n)=>yC(t)?G0(t):G0(t)||gc(J0(e,t,n).dom,t).exists(G0),Q0=(e,t,n)=>yC(t)?dC(t):dC(t)||Il(J0(e,t,n).dom,t).exists(dC),Zh=e=>on(["pre","pre-wrap"],e),G_=e=>i_(e).bind(t=>Cc(t,ti)).exists(t=>Zh(Si(t,"white-space"))),Hc=(e,t)=>gc(e.dom,t).isNone(),Wh=(e,t)=>Il(e.dom,t).isNone(),mT=(e,t,n)=>Hc(e,t)||Wh(e,t)||K0(e,t,n)||gC(e,t,n)||Ly(e,t,n)||q_(e,t,n),pT=e=>Ie(e)&&yr(e)&&Gt(e),xC=(e,t)=>n=>pT(new qr(n,e)[t]()),ex=(e,t)=>{const n=Il(e.dom,t).getOr(t),r=xC(e.dom,"next");return t.isAtEnd()&&(r(t.container())||r(n.container()))},vC=(e,t)=>{const n=gc(e.dom,t).getOr(t),r=xC(e.dom,"prev");return t.isAtStart()&&(r(t.container())||r(n.container()))},_C=(e,t,n)=>G_(t)?!1:mT(e,t,n)||rl(e,t,n)||Q0(e,t,n),qh=(e,t,n)=>G_(t)?!1:K0(e,t,n)||Y0(e,t,n)||Ly(e,t,n)||rl(e,t,n)||vC(e,t),kC=e=>{const t=e.container(),n=e.offset();return it(t)&&n<t.data.length?$e(t,n+1):e},Iy=(e,t,n)=>G_(t)?!1:gC(e,t,n)||fT(e,t,n)||q_(e,t,n)||Q0(e,t,n)||ex(e,t),Qd=(e,t,n)=>qh(e,t,n)||Iy(e,kC(t),n),K_=(e,t)=>by(e.charAt(t)),tx=(e,t)=>zh(e.charAt(t)),wC=e=>{const t=e.container();return it(t)&&gr(t.data,os)},gT=e=>{const t=e.split("");return Jo(t,(n,r)=>by(n)&&r>0&&r<t.length-1&&_2(t[r-1])&&_2(t[r+1])?" ":n).join("")},CC=(e,t,n,r)=>{const i=t.data,c=$e(t,0);return!n&&K_(i,0)&&!Qd(e,c,r)?(t.data=" "+i.slice(1),!0):n&&tx(i,0)&&qh(e,c,r)?(t.data=os+i.slice(1),!0):!1},hT=e=>{const t=e.data,n=gT(t);return n!==t?(e.data=n,!0):!1},bT=(e,t,n,r)=>{const i=t.data,c=$e(t,i.length-1);return!n&&K_(i,i.length-1)&&!Qd(e,c,r)?(t.data=i.slice(0,-1)+" ",!0):n&&tx(i,i.length-1)&&Iy(e,c,r)?(t.data=i.slice(0,-1)+os,!0):!1},MD=(e,t,n)=>{const r=t.container();if(!it(r))return H.none();if(wC(t)){const i=CC(e,r,!1,n)||hT(r)||bT(e,r,!1,n);return iu(i,t)}else if(Qd(e,t,n)){const i=CC(e,r,!0,n)||bT(e,r,!0,n);return iu(i,t)}else return H.none()},yT=e=>{const t=re.fromDom(e.getBody());e.selection.isCollapsed()&&MD(t,$e.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},SC=(e,t,n,r)=>{if(n===0)return;const i=re.fromDom(e),c=fl(i,C=>r.isBlock(pn(C))).getOr(i),u=e.data.slice(t,t+n),g=t+n>=e.data.length&&Iy(c,$e(e,e.data.length),r),x=t===0&&qh(c,$e(e,0),r);e.replaceData(t,n,Oc(u,4,x,g))},Fy=(e,t,n)=>{const r=e.data.slice(t),i=r.length-Ji(r).length;SC(e,t,i,n)},ox=(e,t,n)=>{const r=e.data.slice(0,t),i=r.length-is(r).length;SC(e,t-i,i,n)},Y_=(e,t,n,r,i=!0)=>{const c=is(e.data).length,u=i?e:t,g=i?t:e;return i?u.appendData(g.data):u.insertData(0,g.data),un(re.fromDom(g)),r&&Fy(u,c,n),u},EC=(e,t)=>{const n=e.container(),r=e.offset();return!$e.isTextPosition(e)&&n===t.parentNode&&r>$e.before(t).offset()},xT=(e,t)=>EC(t,e)?$e(t.container(),t.offset()-1):t,vT=e=>it(e)?$e(e,0):$e.before(e),zC=e=>it(e)?$e(e,e.data.length):$e.after(e),TC=e=>tl(e.previousSibling)?H.some(zC(e.previousSibling)):e.previousSibling?zu(e.previousSibling):H.none(),OC=e=>tl(e.nextSibling)?H.some(vT(e.nextSibling)):e.nextSibling?ss(e.nextSibling):H.none(),_T=(e,t)=>H.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>gc(e,$e.before(n))).orThunk(()=>Il(e,$e.after(t))),X_=(e,t)=>Il(e,$e.after(t)).orThunk(()=>gc(e,$e.before(t))),BD=(e,t)=>TC(t).orThunk(()=>OC(t)).orThunk(()=>_T(e,t)),nx=(e,t)=>OC(t).orThunk(()=>TC(t)).orThunk(()=>X_(e,t)),kT=(e,t,n)=>e?nx(t,n):BD(t,n),wT=(e,t,n)=>kT(e,t,n).map(De(xT,n)),CT=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},PD=e=>t=>t.dom===e,ST=(e,t)=>t&&po(e.schema.getBlockElements(),pn(t)),LD=(e,t,n)=>{if(Ss(e,t)){const r=re.fromHtml('<br data-mce-bogus="1">');return n?Ne(xa(t),i=>{z2(i)||un(i)}):oc(t),Mr(t,r),H.some($e.before(r.dom))}else return H.none()},ET=(e,t,n,r)=>{const i=ul(e).filter(js),c=Hd(e).filter(js);return un(e),Pd(i,c,t,(u,g,x)=>{const C=u.dom,R=g.dom,B=C.data.length;return Y_(C,R,n,r),x.container()===R?$e(C,B):x}).orThunk(()=>(r&&(i.each(u=>ox(u.dom,u.dom.length,n)),c.each(u=>Fy(u.dom,0,n))),t))},ID=(e,t)=>po(e.schema.getTextInlineElements(),pn(t)),Gh=(e,t,n,r=!0,i=!1)=>{const c=wT(t,e.getBody(),n.dom),u=fl(n,De(ST,e),PD(e.getBody())),g=ET(n,c,e.schema,ID(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):u.bind(x=>LD(e.schema,x,i)).fold(()=>{r&&CT(e,t,g)},x=>{r&&CT(e,t,H.some(x))})},FD=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ps=e=>FD.test(e),Cp=(e,t)=>Fa(re.fromDom(t),Pc(e))&&!ir(e.schema,t)&&e.dom.isEditable(t),zT=e=>{var t;return Tr.DOM.getStyle(e,"direction",!0)==="rtl"||Ps((t=e.textContent)!==null&&t!==void 0?t:"")},HD=(e,t,n)=>Ke(Tr.DOM.getParents(n.container(),"*",t),e),eu=(e,t,n)=>{const r=HD(e,t,n);return H.from(r[r.length-1])},Eg=(e,t,n)=>{const r=up(t,e),i=up(n,e);return Ie(r)&&r===i},Sp=e=>J1(e)||Kb(e),_d=(e,t)=>{const n=t.container(),r=t.offset();return e?Qf(n)?it(n.nextSibling)?$e(n.nextSibling,0):$e.after(n):J1(t)?$e(n,r+1):t:Qf(n)?it(n.previousSibling)?$e(n.previousSibling,n.previousSibling.data.length):$e.before(n):Kb(t)?$e(n,r-1):t},AC=De(_d,!0),NC=De(_d,!1),rx=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},$D=e=>{e.execCommand("delete")},Hy=e=>rx(e,"Delete"),RC=e=>rx(e,"ForwardDelete"),TT=e=>t=>Bd(oi(t),e,en),DC=e=>Y1(e)||_u(e),sx=(e,t)=>Ha(e,t)?Cc(t,DC,TT(e)):H.none(),ax=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},OT=(e,t,n)=>ga(ss(n),zu(n),(r,i)=>{const c=_d(!0,r),u=_d(!1,i),g=_d(!1,t);return e?Il(n,g).exists(x=>x.isEqual(u)&&t.isEqual(c)):gc(n,g).exists(x=>x.isEqual(c)&&t.isEqual(u))}).getOr(!0),AT=e=>(Tm(e)?ul(e):fu(e)).bind(AT).orThunk(()=>H.some(e)),$c=(e,t,n,r=!0)=>{var i;t.deleteContents();const c=AT(n).getOr(n),u=re.fromDom((i=e.dom.getParent(c.dom,e.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(u.dom===e.getBody()?ax(e,r):Ss(e.schema,u,{checkRootAsContent:!1})&&(cf(u),r&&e.selection.setCursorLocation(u.dom,0)),!en(n,u)){const g=Bd(oi(u),n)?[]:ed(u);Ne(g.concat(xa(n)),x=>{!en(x,u)&&!Ha(x,u)&&Ss(e.schema,x)&&un(x)})}},NT=e=>t=>en(e,t),MC=e=>Rs(e,"td,th"),RT=(e,t)=>yy(re.fromDom(e),t),J_=e=>ga(e.startTable,e.endTable,(t,n)=>{const r=Kp(t,c=>en(c,n)),i=Kp(n,c=>en(c,t));return!r&&!i?e:{...e,startTable:r?H.none():e.startTable,endTable:i?H.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),VD=e=>J_(e),UD=(e,t)=>{const n=RT(e.startContainer,t),r=RT(e.endContainer,t),i=n.isSome(),c=r.isSome(),u=ga(n,r,en).getOr(!1);return VD({startTable:n,endTable:r,isStartInTable:i,isEndInTable:c,isSameTable:u,isMultiTable:!u&&i&&c})},Q_=(e,t)=>({start:e,end:t}),BC=(e,t,n)=>({rng:e,table:t,cells:n}),ix=Lt.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ek=(e,t)=>aa(re.fromDom(e),"td,th",t),$y=e=>!en(e.start,e.end),PC=(e,t)=>yy(e.start,t).bind(n=>yy(e.end,t).bind(r=>iu(en(n,r),n))),DT=(e,t)=>!$y(e)&&PC(e,t).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),jD=(e,t)=>{const n=ek(e.startContainer,t),r=ek(e.endContainer,t);return ga(n,r,Q_)},MT=e=>t=>yy(t,e).bind(n=>_o(MC(n)).map(r=>Q_(t,r))),lx=e=>t=>yy(t,e).bind(n=>dt(MC(n)).map(r=>Q_(r,t))),tk=e=>t=>PC(t,e).map(n=>BC(t,n,MC(n))),LC=(e,t,n,r)=>{if(n.collapsed||!e.forall($y))return H.none();if(t.isSameTable){const i=e.bind(tk(r));return H.some({start:i,end:i})}else{const i=ek(n.startContainer,r),c=ek(n.endContainer,r),u=i.bind(MT(r)).bind(tk(r)),g=c.bind(lx(r)).bind(tk(r));return H.some({start:u,end:g})}},IC=(e,t)=>Qn(e,n=>en(n,t)),FC=e=>ga(IC(e.cells,e.rng.start),IC(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),yf=(e,t,n)=>e.exists(r=>DT(r,n)&&b_(r.start,t)),ok=(e,t)=>{const{startTable:n,endTable:r}=t,i=e.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),r.each(c=>i.setEndBefore(c.dom)),i},ZD=(e,t,n,r)=>LC(e,t,n,r).bind(({start:i,end:c})=>i.or(c)).bind(i=>{const{isSameTable:c}=t,u=FC(i).getOr([]);if(c&&i.cells.length===u.length)return H.some(ix.fullTable(i.table));if(u.length>0){if(c)return H.some(ix.partialTable(u,H.none()));{const g=ok(n,t);return H.some(ix.partialTable(u,H.some({...t,rng:g})))}}else return H.none()}),WD=(e,t,n,r)=>LC(e,t,n,r).bind(({start:i,end:c})=>{const u=i.bind(FC).getOr([]),g=c.bind(FC).getOr([]);if(u.length>0&&g.length>0){const x=ok(n,t);return H.some(ix.multiTable(u,g,x))}else return H.none()}),nn=(e,t)=>{const n=NT(e),r=jD(t,n),i=UD(t,n);return yf(r,t,n)?r.map(c=>ix.singleCellTable(t,c.start)):i.isMultiTable?WD(r,i,t,n):ZD(r,i,t,n)},BT=e=>Ne(e,t=>{En(t,"contenteditable"),cf(t)}),cx=(e,t)=>H.from(e.dom.getParent(t,e.dom.isBlock)).map(re.fromDom),qD=(e,t,n)=>{n.each(r=>{t?un(r):(cf(r),e.selection.setCursorLocation(r.dom,0))})},nk=(e,t,n,r)=>{const i=n.cloneRange();r?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(t.dom.lastChild)):(i.setStartBefore(t.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),Kh(e,i,t,!1).each(c=>c())},Ep=e=>{const t=Th(e),n=re.fromDom(e.selection.getNode());Vo(n.dom)&&Ss(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Sn(t,r=>en(r,n))&&On(n,"data-mce-selected","1")},Hl=(e,t,n)=>H.some(()=>{const r=e.selection.getRng(),i=n.bind(({rng:c,isStartInTable:u})=>{const g=cx(e,u?c.endContainer:c.startContainer);c.deleteContents(),qD(e,u,g.filter(De(Ss,e.schema)));const x=u?t[0]:t[t.length-1];return nk(e,x,r,u),Ss(e.schema,x)?H.none():H.some(u?t.slice(1):t.slice(0,-1))}).getOr(t);BT(i),Ep(e)}),PT=(e,t,n,r)=>H.some(()=>{const i=e.selection.getRng(),c=t[0],u=n[n.length-1];nk(e,c,i,!0),nk(e,u,i,!1);const g=Ss(e.schema,c)?t:t.slice(1),x=Ss(e.schema,u)?n:n.slice(0,-1);BT(g.concat(x)),r.deleteContents(),Ep(e)}),Kh=(e,t,n,r=!0)=>H.some(()=>{$c(e,t,n,r)}),zg=(e,t)=>H.some(()=>Gh(e,!1,t)),dm=(e,t,n)=>nn(t,n).bind(r=>r.fold(De(Kh,e),De(zg,e),De(Hl,e),De(PT,e))),dx=(e,t)=>sk(e,t),HC=(e,t,n,r)=>rk(t,r).fold(()=>dm(e,t,n),i=>dx(e,i)),$C=(e,t,n)=>{const r=re.fromDom(e.getBody()),i=e.selection.getRng();return n.length!==0?Hl(e,n,H.none()):HC(e,r,i,t)},VC=(e,t)=>Tn(cm(t,e),Xf),rk=(e,t)=>Tn(cm(t,e),sa("caption")),GD=(e,t,n,r,i)=>Sh(n,e.getBody(),i).bind(c=>VC(t,re.fromDom(c.getNode())).bind(u=>en(u,r)?H.none():H.some(ao))),sk=(e,t)=>H.some(()=>{cf(t),e.selection.setCursorLocation(t.dom,0)}),LT=(e,t,n,r)=>ss(e.dom).bind(i=>zu(e.dom).map(c=>t?n.isEqual(i)&&r.isEqual(c):n.isEqual(c)&&r.isEqual(i))).getOr(!0),IT=(e,t)=>sk(e,t),FT=(e,t,n)=>rk(e,re.fromDom(n.getNode())).fold(()=>H.some(ao),r=>iu(!en(r,t),ao)),HT=(e,t,n,r,i)=>Sh(n,e.getBody(),i).fold(()=>H.some(ao),c=>LT(r,n,i,c)?IT(e,r):FT(t,r,c)),UC=(e,t,n,r)=>{const i=$e.fromRangeStart(e.selection.getRng());return VC(n,r).bind(c=>Ss(e.schema,c,{checkRootAsContent:!1})?sk(e,c):GD(e,n,t,c,i))},KD=(e,t,n,r)=>{const i=$e.fromRangeStart(e.selection.getRng());return Ss(e.schema,r)?sk(e,r):HT(e,n,t,r,i)},$T=(e,t)=>e?mC(t):j_(t),YD=(e,t)=>{const n=$e.fromRangeStart(e.selection.getRng());return $T(t,n)||bd(t,e.getBody(),n).exists(r=>$T(t,r))},um=(e,t,n)=>{const r=re.fromDom(e.getBody());return rk(r,n).fold(()=>UC(e,t,r,n).orThunk(()=>iu(YD(e,t),ao)),i=>KD(e,t,r,i))},Yh=(e,t)=>{const n=re.fromDom(e.selection.getStart(!0)),r=Th(e);return e.selection.isCollapsed()&&r.length===0?um(e,t,n):$C(e,n,r)},Tg=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ti(n)||yr(n))return n;n=n.parentNode}return null},VT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],UT=gt.each,jC=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(c,u)=>{if(c.nodeName!==u.nodeName||c.nodeType!==u.nodeType)return!1;const g=C=>{const R={};return UT(t.getAttribs(C),B=>{const L=B.nodeName.toLowerCase();L!=="style"&&!i(L)&&(R[L]=t.getAttrib(C,L))}),R},x=(C,R)=>{for(const B in C)if(po(C,B)){const L=R[B];if(Nr(L)||C[B]!==L)return!1;delete R[B]}for(const B in R)if(po(R,B))return!1;return!0};return Ot(c)&&Ot(u)&&(!x(g(c),g(u))||!x(t.parseStyle(t.getAttrib(c,"style")),t.parseStyle(t.getAttrib(u,"style"))))?!1:!kl(c)&&!kl(u)},i=c=>Sn(VT,u=>cr(c,u))||n.has(c);return{compare:r,isAttributeInternal:i}},zp=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),XD=e=>e.name==="summary",JD=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},jT=(e,t,n,r)=>{const i=n.name;for(let c=0,u=e.length;c<u;c++){const g=e[c];if(g.name===i){const x=r.nodes[i];x?x.nodes.push(n):r.nodes[i]={filter:g,nodes:[n]}}}if(n.attributes)for(let c=0,u=t.length;c<u;c++){const g=t[c],x=g.name;if(x in n.attributes.map){const C=r.attributes[x];C?C.nodes.push(n):r.attributes[x]={filter:g,nodes:[n]}}}},QD=(e,t,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&JD(n,i=>{jT(e,t,i,r)}),r},ZT=(e,t)=>{const n=(r,i)=>{Ho(r,c=>{const u=Fo(c.nodes);Ne(c.filter.callbacks,g=>{for(let x=u.length-1;x>=0;x--){const C=u[x];(!(i?C.attr(c.filter.name)!==void 0:C.name===c.filter.name)||Io(C.parent))&&u.splice(x,1)}u.length>0&&g(u,c.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},WT=(e,t,n,r={})=>{const i=QD(e,t,n);ZT(i,r)},ZC=(e,t,n,r)=>{if((e.pad_empty_with_br||t.insert)&&n(r)){const c=new Fl("br",1);t.insert&&c.attr("data-mce-bogus","1"),r.empty().append(c)}else r.empty().append(new Fl("#text",3)).value=os},e7=e=>{var t;return qT(e,"#text")&&((t=e==null?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===os},qT=(e,t)=>{const n=e==null?void 0:e.firstChild;return Ie(n)&&n===e.lastChild&&n.name===t},ak=(e,t)=>{const n=e.getElementRule(t.name);return(n==null?void 0:n.paddEmpty)===!0},ux=(e,t,n,r)=>r.isEmpty(t,n,i=>ak(e,i)),fx=(e,t)=>Ie(e)&&(t(e)||e.name==="br"),WC=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(t=n)}return H.from(t)},Tp=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const i of r)n&&!t.isValidChild(n.name,i.name)&&Tp(i,t,n);e.unwrap()}},Op=(e,t,n,r=ao)=>{const i=t.getTextBlockElements(),c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=gt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),x=new Set,C=R=>R!==n&&!g[R.name];for(let R=0;R<e.length;R++){const B=e[R];let L,W,ee;if(!B.parent||x.has(B))continue;if(i[B.name]&&B.parent.name==="li"){let ne=B.next;for(;ne&&i[ne.name];){ne.name="li",x.add(ne),B.parent.insert(ne,B.parent);ne=ne.next}B.unwrap();continue}const K=[B];for(L=B.parent;L&&!t.isValidChild(L.name,B.name)&&C(L);L=L.parent)K.push(L);if(L&&K.length>1)if(Vy(t,B,L))Tp(B,t);else{K.reverse(),W=K[0].clone(),r(W);let ne=W;for(let me=0;me<K.length-1;me++){t.isValidChild(ne.name,K[me].name)&&me>0?(ee=K[me].clone(),r(ee),ne.append(ee)):ee=ne;for(let Ce=K[me].firstChild;Ce&&Ce!==K[me+1];){const ze=Ce.next;ee.append(Ce),Ce=ze}ne=ee}ux(t,c,u,W)?L.insert(B,K[0],!0):(L.insert(W,K[0],!0),L.insert(B,W)),L=K[0],(ux(t,c,u,L)||qT(L,"br"))&&L.empty().remove()}else if(B.parent){if(B.name==="li"){let ne=B.prev;if(ne&&(ne.name==="ul"||ne.name==="ol")){ne.append(B);continue}if(ne=B.next,ne&&(ne.name==="ul"||ne.name==="ol")&&ne.firstChild){ne.insert(B,ne.firstChild,!0);continue}const me=new Fl("ul",1);r(me),B.wrap(me);continue}if(t.isValidChild(B.parent.name,"div")&&t.isValidChild("div",B.name)){const ne=new Fl("div",1);r(ne),B.wrap(ne)}else Tp(B,t)}}},ik=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},Vy=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&ik(n,"a")?!0:XD(n)&&zp(t)?!((n==null?void 0:n.firstChild)===t&&(n==null?void 0:n.lastChild)===t):!1:!1,Xh=(e,t,n,r)=>{const i=document.createRange();return i.setStart(e,t),i.setEnd(n,r),i},Jh=e=>{const t=$e.fromRangeStart(e),n=$e.fromRangeEnd(e),r=e.commonAncestorContainer;return bd(!1,r,n).map(i=>!tm(t,n,r)&&tm(t,i,r)?Xh(t.container(),t.offset(),i.container(),i.offset()):e).getOr(e)},Uy=e=>e.collapsed?e:Jh(e),lk=e=>Ie(e.firstChild)&&e.firstChild===e.lastChild,GT=e=>e.name==="br"||e.value===os,qC=(e,t)=>e.getBlockElements()[t.name]&&lk(t)&&GT(t.firstChild),GC=(e,t)=>{const n=e.getNonEmptyElements();return Ie(t)&&(t.isEmpty(n)||qC(e,t))},KT=(e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),GC(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},YT=e=>{var t,n;const r=e.firstChild,i=e.lastChild;return r&&r.nodeName==="META"&&((t=r.parentNode)===null||t===void 0||t.removeChild(r)),i&&i.id==="mce_marker"&&((n=i.parentNode)===null||n===void 0||n.removeChild(i)),e},jy=(e,t,n)=>{const r=t.serialize(n),i=e.createFragment(r);return YT(i)},XT=e=>{var t;return Ke((t=e==null?void 0:e.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},JT=e=>e.data===os||ns(e),QT=e=>Ie(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&JT(e.firstChild),ck=e=>!e.firstChild||QT(e),e5=e=>e.length>0&&ck(e[e.length-1])?e.slice(0,-1):e,dk=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},t5=(e,t)=>!!dk(e,t),o5=(e,t)=>{const n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Ap=(e,t)=>{const n=$e.before(e),i=Eu(t).next(n);return i?i.toRange():null},Np=(e,t)=>{const n=$e.after(e),i=Eu(t).prev(n);return i?i.toRange():null},Du=(e,t,n,r)=>{const i=o5(e,r),c=e.parentNode;return c&&(c.insertBefore(i[0],e),gt.each(t,u=>{c.insertBefore(u,e)}),c.insertBefore(i[1],e),c.removeChild(e)),Np(t[t.length-1],n)},KC=(e,t,n)=>{const r=e.parentNode;return r&&gt.each(t,i=>{r.insertBefore(i,e)}),Ap(e,n)},YC=(e,t,n,r)=>(r.insertAfter(t.reverse(),e),Np(t[0],n)),n5=(e,t,n,r)=>{const i=jy(t,e,r),c=dk(t,n.startContainer),u=e5(XT(i.firstChild)),g=1,x=2,C=t.getRoot(),R=B=>{const L=$e.fromRangeStart(n),W=Eu(t.getRoot()),ee=B===g?W.prev(L):W.next(L),K=ee==null?void 0:ee.getNode();return K?dk(t,K)!==c:!0};return c?R(g)?KC(c,u,C):R(x)?YC(c,u,C,t):Du(c,u,C,n):null},r5=["pre"],s5=(e,t,n,r)=>{var i;const c=t.firstChild,u=t.lastChild,g=u.attr("data-mce-type")==="bookmark"?u.prev:u,x=c===g,C=on(r5,c.name);if(x&&C){const R=c.attr("contenteditable")!=="false",B=((i=e.getParent(n,e.isBlock))===null||i===void 0?void 0:i.nodeName.toLowerCase())===c.name,L=H.from(Tg(r,n)).forall(Ti);return R&&B&&L}else return!1},mx=Vo,a5=(e,t,n)=>{if(Ie(n)){const r=e.getParent(t.endContainer,mx);return n===r&&b_(re.fromDom(n),t)}else return!1},i5=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&ns(n[0])||n.length===0}else return!1},XC=(e,t,n)=>{var r;n.getAttribute("data-mce-bogus")==="all"?(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(t),n):i5(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},fm=(e,t,n)=>{H.from(e.getParent(t,"td,th")).map(re.fromDom).each(r=>df(r,n))},Mu=(e,t)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(t){const i=e.getBody(),c=jC(e),u="*[data-mce-fragment]",g=r.select(u);gt.each(g,x=>{const C=L=>Ie(n[L.nodeName.toLowerCase()]),R=L=>L.childNodes.length===1;if((L=>!(U_(r,L)||cC(r,L)))(x)&&C(x)&&R(x)){const L=Ru(r,x),W=(me,Ce)=>Qr(me,ze=>on(Ce,ze)),ee=me=>R(x)&&r.is(me,u)&&C(me)&&(me.nodeName===x.nodeName&&W(L,Ru(r,me))||ee(me.children[0])),K=me=>Ie(me)&&me!==i&&(c.compare(x,me)||K(me.parentElement)),ne=me=>Ie(me)&&me!==i&&r.is(me,u)&&(sT(r,x,me)||ne(me.parentElement));(ee(x.children[0])||K(x.parentElement)&&!ne(x.parentElement))&&r.remove(x,!0)}})}},uk=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},l5=e=>{gt.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},fk=e=>!!e.getAttribute("data-mce-fragment"),c5=(e,t)=>Ie(t)&&!e.schema.getVoidElements()[t.nodeName],d5=(e,t)=>{var n,r,i;let c;const u=e.dom,g=e.selection;if(!t)return;g.scrollIntoView(t);const x=Tg(e.getBody(),t);if(x&&u.getContentEditable(x)==="false"){u.remove(t),g.select(x);return}let C=u.createRng();const R=t.previousSibling;if(it(R)){C.setStart(R,(r=(n=R.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const W=t.nextSibling;it(W)&&(R.appendData(W.data),(i=W.parentNode)===null||i===void 0||i.removeChild(W))}else C.setStartBefore(t),C.setEndBefore(t);const B=W=>{let ee=$e.fromRangeStart(W);return ee=Eu(e.getBody()).next(ee),ee==null?void 0:ee.toRange()},L=u.getParent(t,u.isBlock);if(u.remove(t),L&&u.isEmpty(L)){const W=mx(L);oc(re.fromDom(L)),C.setStart(L,0),C.setEnd(L,0),!W&&!fk(L)&&(c=B(C))?(C=c,u.remove(L)):u.add(L,u.create("br",W?{}:{"data-mce-bogus":"1"}))}g.setRng(C)},u5=e=>{const t=e.dom,n=Uy(e.selection.getRng());e.selection.setRng(n);const r=t.getParent(n.startContainer,mx);a5(t,n,r)?Kh(e,n,re.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&it(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},f5=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return H.some(t);return H.none()},m5=(e,t,n)=>{var r;return Sn(n.children(),zp)&&((r=e.getParent(t,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},p5=(e,t,n)=>{var r,i;const c=e.selection,u=e.dom,g=e.parser,x=n.merge,C=Yr({validate:!0},e.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=wa(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,R);let B=c.getRng();const L=B.startContainer,W=e.getBody();L===W&&c.isCollapsed()&&u.isBlock(W.firstChild)&&c5(e,W.firstChild)&&u.isEmpty(W.firstChild)&&(B=u.createRng(),B.setStart(W.firstChild,0),B.setEnd(W.firstChild,0),c.setRng(B)),c.isCollapsed()||u5(e);const ee=c.getNode(),K={context:ee.nodeName.toLowerCase(),data:n.data,insert:!0},ne=g.parse(t,K);if(n.paste===!0&&KT(e.schema,ne)&&t5(u,ee))return B=n5(C,u,c.getRng(),ne),B&&c.setRng(B),t;n.paste===!0&&s5(u,ne,ee,e.getBody())&&((r=ne.firstChild)===null||r===void 0||r.unwrap()),uk(ne);let me=ne.lastChild;if(me&&me.attr("id")==="mce_marker"){const Ce=me;for(me=me.prev;me&&me.name!=="table";me=me.walk(!0))if(me.type===3||!u.isBlock(me.name)){me.parent&&e.schema.isValidChild(me.parent.name,"span")&&me.parent.insert(Ce,me,me.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ee),!K.invalid&&!m5(u,ee,ne))t=C.serialize(ne),XC(e,t,ee);else{e.selection.setContent(R);let Ce=c.getNode(),ze;const Re=e.getBody();for(id(Ce)?Ce=ze=Re:ze=Ce;ze&&ze!==Re;)Ce=ze,ze=ze.parentNode;t=Ce===Re?Re.innerHTML:u.getOuterHTML(Ce);const Xe=g.parse(t),mt=f5(Xe),At=mt.bind(WC).getOr(Xe);mt.each(St=>St.replace(ne));const Ze=ne.children(),Pe=(i=ne.parent)!==null&&i!==void 0?i:Xe;ne.unwrap();const et=Ke(Ze,St=>Vy(e.schema,St,Pe));Op(et,e.schema,At),WT(g.getNodeFilters(),g.getAttributeFilters(),Xe),t=C.serialize(Xe),Ce===Re?u.setHTML(Re,t):u.setOuterHTML(Ce,t)}return Mu(e,x),d5(e,u.get("mce_marker")),l5(e.getBody()),fm(u,c.getStart(),e.schema),ld(e.schema,e.getBody(),c.getStart()),t},Qh=e=>e instanceof Fl,JC=e=>{Ph(e)&&ss(e.getBody()).each(t=>{const n=t.getNode(),r=sd(n)?ss(n).getOr(t):t;e.selection.setRng(r.toRange())})},mk=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&JC(e)},QC=(e,t,n,r)=>{if(n=wa(n),n.length===0||/^\s+$/.test(n)){const i='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>");const c=Ki(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),c.toLowerCase())?(n=i,n=e.dom.createHTML(c,f0(e),n)):n||(n=i),mk(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=Yr({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const i=xl(re.fromDom(t))?n:gt.trim(n);return mk(e,i,r.no_selection),{content:i,html:i}}},t7=(e,t,n,r)=>{WT(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const i=Yr({validate:!1},e.schema).serialize(n),c=wa(xl(re.fromDom(t))?i:gt.trim(i));return mk(e,c,r.no_selection),{content:n,html:c}},o7=(e,t,n)=>H.from(e.getBody()).map(r=>Qh(t)?t7(e,r,t,n):QC(e,r,t,n)).getOr({content:t,html:Qh(n.content)?"":n.content}),g5=e=>jt(e)?e:ho,n7=(e,t,n)=>{let r=e.dom;const i=g5(n);for(;r.parentNode;){r=r.parentNode;const c=re.fromDom(r),u=t(c);if(u.isSome())return u;if(i(c))break}return H.none()},eS=(e,t,n)=>{const r=t(e),i=g5(n);return r.orThunk(()=>i(e)?H.none():n7(e,t,i))},tS=C_,px=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let i=0;i<r.length;i++){const c=r[i];if(yd(c)&&c.inherit===!1&&e.dom.is(t,c.selector))return!0}return!1},gx=(e,t,n,r,i)=>{const c=e.dom.getRoot();if(t===c)return!1;const u=e.dom.getParent(t,g=>px(e,g,n)?!0:g.parentNode===c||!!mm(e,g,n,r,!0));return!!mm(e,u,n,r,i)},hx=(e,t,n)=>Ms(n)&&tS(t,n.inline)||rm(n)&&tS(t,n.block)?!0:yd(n)?Ot(t)&&e.is(t,n.selector):!1,pk=(e,t,n,r,i,c)=>{const u=n[r],g=r==="attributes";if(jt(n.onmatch))return n.onmatch(t,n,r);if(u){if(_t(u)){for(let x=0;x<u.length;x++)if(g?e.getAttrib(t,u[x]):wy(e,t,u[x]))return!0}else for(const x in u)if(po(u,x)){const C=g?e.getAttrib(t,x):wy(e,t,x),R=om(u[x],c),B=Io(C)||yi(C);if(B&&Io(R))continue;if(i&&B&&!n.exact||(!i||n.exact)&&!tS(C,kg(R,x)))return!1}}return!0},mm=(e,t,n,r,i)=>{const c=e.formatter.get(n),u=e.dom;if(c&&Ot(t))for(let g=0;g<c.length;g++){const x=c[g];if(hx(e.dom,t,x)&&pk(u,t,x,"attributes",i,r)&&pk(u,t,x,"styles",i,r)){const C=x.classes;if(C){for(let R=0;R<C.length;R++)if(!e.dom.hasClass(t,om(C[R],r)))return}return x}}},oS=(e,t,n,r,i)=>{if(r)return gx(e,r,t,n,i);if(r=e.selection.getNode(),gx(e,r,t,n,i))return!0;const c=e.selection.getStart();return!!(c!==r&&gx(e,c,t,n,i))},r7=(e,t,n)=>{const r=[],i={},c=e.selection.getStart();return e.dom.getParent(c,u=>{for(let g=0;g<t.length;g++){const x=t[g];!i[x]&&mm(e,u,x,n)&&(i[x]=!0,r.push(x))}},e.dom.getRoot()),r},s7=(e,t)=>{const n=i=>en(i,re.fromDom(e.getBody())),r=(i,c)=>mm(e,i.dom,c)?H.some(c):H.none();return H.from(e.selection.getStart(!0)).bind(i=>eS(re.fromDom(i),c=>Ks(t,u=>r(c,u)),n)).getOrNull()},a7=(e,t)=>{const n=e.formatter.get(t),r=e.dom;if(n&&e.selection.isEditable()){const i=e.selection.getStart(),c=pp(r,i);for(let u=n.length-1;u>=0;u--){const g=n[u];if(!yd(g))return!0;for(let x=c.length-1;x>=0;x--)if(r.is(c[x],g.selector))return!0}}return!1},i7=(e,t,n)=>fo(n,(r,i)=>{const c=oz(e,i);return e.formatter.matchNode(t,i,{},c)?r.concat([i]):r},[]),Og=qs,gk=(e,t)=>e.importNode(t,!0),bx=e=>{if(e){const t=new qr(e,e);for(let n=t.current();n;n=t.next())if(it(n))return n}return null},nS=e=>{const t=re.fromTag("span");return dl(t,{id:mp,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Mr(t,re.fromText(Og)),t},l7=e=>{const t=bx(e);return t&&t.data.charAt(0)===Og&&t.deleteData(0,1),t},rS=(e,t,n)=>{const r=e.dom,i=e.selection;if(Bn(t))Gh(e,!1,re.fromDom(t),n,!0);else{const c=i.getRng(),u=r.getParent(t,r.isBlock),g=c.startContainer,x=c.startOffset,C=c.endContainer,R=c.endOffset,B=l7(t);r.remove(t,!0),g===B&&x>0&&c.setStart(B,x-1),C===B&&R>0&&c.setEnd(B,R-1),u&&r.isEmpty(u)&&cf(re.fromDom(u)),i.setRng(c)}},sS=(e,t,n)=>{const r=e.dom,i=e.selection;if(t)rS(e,t,n);else if(t=nl(e.getBody(),i.getStart()),!t)for(;t=r.get(mp);)rS(e,t,n)},c7=(e,t,n)=>{var r,i;const c=e.dom,u=c.getParent(n,De(_y,e.schema));u&&c.isEmpty(u)?(r=n.parentNode)===null||r===void 0||r.replaceChild(t,n):(fh(re.fromDom(n)),c.isEmpty(n)?(i=n.parentNode)===null||i===void 0||i.replaceChild(t,n):c.insertAfter(t,n))},h5=(e,t)=>(e.appendChild(t),t),tu=(e,t)=>{var n;const r=eo(e,(c,u)=>h5(c,u.cloneNode(!1)),t),i=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return h5(r,i.createTextNode(Og))},aS=(e,t,n,r,i,c)=>{const u=e.formatter,g=e.dom,x=Ke(nt(u.get()),B=>B!==r&&!gr(B,"removeformat")),C=i7(e,n,x);if(Ke(C,B=>!YR(e,B,r)).length>0){const B=n.cloneNode(!1);return g.add(t,B),u.remove(r,i,B,c),g.remove(B),H.some(B)}else return H.none()},iS=e=>lg(e,lf(e).replace(new RegExp(`${os}$`)," ")),lS=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&ul(re.fromDom(t)).each(r=>{js(r)?iS(r):tc(r,i=>js(i)).each(i=>{js(i)&&iS(i)})})};e.once("input",r=>{r.data&&!zh(r.data)&&(r.isComposing?e.once("compositionend",()=>{n()}):n())})},b5=(e,t,n)=>{let r;const i=e.selection,c=e.formatter.get(t);if(!c)return;const u=i.getRng();let g=u.startOffset;const C=u.startContainer.nodeValue;r=nl(e.getBody(),i.getStart());const R=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(C&&g>0&&g<C.length&&R.test(C.charAt(g))&&R.test(C.charAt(g-1))){const B=i.getBookmark();u.collapse(!0);let L=Nh(e.dom,u,c);L=lm(L),e.formatter.apply(t,n,L),i.moveToBookmark(B)}else{let B=r?bx(r):null;(!r||(B==null?void 0:B.data)!==Og)&&(r=gk(e.getDoc(),nS(!0).dom),B=r.firstChild,u.insertNode(r),g=1,lS(e,r)),e.formatter.apply(t,n,r),i.setCursorLocation(B,g)}},d7=(e,t,n,r)=>{const i=e.dom,c=e.selection;let u=!1;const g=e.formatter.get(t);if(!g)return;const x=c.getRng(),C=x.startContainer,R=x.startOffset;let B=C;it(C)&&(R!==C.data.length&&(u=!0),B=B.parentNode);const L=[];let W;for(;B;){if(mm(e,B,t,n,r)){W=B;break}B.nextSibling&&(u=!0),L.push(B),B=B.parentNode}if(W)if(u){const ee=c.getBookmark();x.collapse(!0);let K=Nh(i,x,g,{includeTrailingSpace:!0});K=lm(K),e.formatter.remove(t,n,K,r),c.moveToBookmark(ee)}else{const ee=nl(e.getBody(),W),K=Ie(ee)?i.getParents(W.parentNode,uo,ee):[],ne=nS(!1).dom;c7(e,ne,ee??W);const me=aS(e,ne,W,t,n,r),Ce=tu([...L,...me.toArray(),...K],ne);ee&&rS(e,ee,Ie(ee)),c.setCursorLocation(Ce,1),lS(e,ne),i.isEmpty(W)&&i.remove(W)}},y5=(e,t,n)=>{const r=e.selection,i=e.getBody();sS(e,null,n),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===Og&&sS(e,nl(i,r.getStart()),!0),(t===37||t===39)&&sS(e,nl(i,r.getStart()),!0)},u7=e=>it(e)&&Fi(e.data,os),Zy=e=>{e.on("mouseup keydown",t=>{y5(e,t.keyCode,u7(e.selection.getRng().endContainer))})},cS=e=>{const t=nS(!1),n=tu(e,t.dom);return{caretContainer:t,caretPosition:$e(n,0)}},dS=(e,t)=>{const{caretContainer:n,caretPosition:r}=cS(t);return Vr(re.fromDom(e),n),un(re.fromDom(e)),r},x5=(e,t)=>{const{caretContainer:n,caretPosition:r}=cS(t);return e.insertNode(n.dom),r},hk=(e,t)=>{if(Gn(t.dom))return!1;const n=e.schema.getTextInlineElements();return po(n,pn(t))&&!Gn(t.dom)&&!rc(t.dom)},yx={},v5=Dl(["pre"]),f7=(e,t)=>{yx[e]||(yx[e]=[]),yx[e].push(t)},Ag=(e,t)=>{po(yx,e)&&Ne(yx[e],n=>{n(t)})};f7("pre",e=>{const t=e.selection.getRng(),n=i=>c=>{const u=c.previousSibling;return v5(u)&&on(i,u)},r=(i,c)=>{const u=re.fromDom(c),g=Rl(u).dom;un(u),Oa(re.fromDom(i),[re.fromTag("br",g),re.fromTag("br",g),...xa(u)])};if(!t.collapsed){const i=e.selection.getSelectedBlocks(),c=Ke(Ke(i,v5),n(i));Ne(c,u=>{r(u.previousSibling,u)})}});const bk=["fontWeight","fontStyle","color","fontSize","fontFamily"],m7=e=>ue(e.styles)&&Sn(nt(e.styles),t=>on(bk,t)),p7=e=>Tn(e,t=>Ms(t)&&t.inline==="span"&&m7(t)),Ng=(e,t)=>{const n=e.get(t);return ve(n)?p7(n):H.none()},uS=(e,t)=>gc(t,$e.fromRangeStart(e)).isNone(),xx=(e,t)=>Il(t,$e.fromRangeEnd(e)).exists(n=>!ns(n.getNode())||Il(t,n).isSome())===!1,_5=e=>t=>Yu(t)&&e.isEditable(t),g7=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return uS(n,t[0])&&xx(n,t[0])?t:[];{const r=dt(t).filter(u=>uS(n,u)).toArray(),i=_o(t).filter(u=>xx(n,u)).toArray(),c=t.slice(1,-1);return r.concat(c).concat(i)}},k5=e=>Ke(g7(e),_5(e.dom)),pm=e=>Ke(e.getSelectedBlocks(),_5(e.dom)),vx=gt.each,fS=e=>Ot(e)&&!kl(e)&&!Gn(e)&&!rc(e),yk=(e,t)=>{for(let n=e;n;n=n[t]){if(it(n)&&hr(n.data))return e;if(Ot(n)&&!kl(n))return n}return e},xk=(e,t,n)=>{const r=jC(e),i=Qs(t)&&e.dom.isEditable(t),c=Qs(n)&&e.dom.isEditable(n);if(i&&c){const u=yk(t,"previousSibling"),g=yk(n,"nextSibling");if(r.compare(u,g)){for(let x=u.nextSibling;x&&x!==g;){const C=x;x=x.nextSibling,u.appendChild(C)}return e.dom.remove(g),gt.each(gt.grep(g.childNodes),x=>{u.appendChild(x)}),u}}return n},vk=(e,t,n,r)=>{var i;if(r&&t.merge_siblings!==!1){const c=(i=xk(e,__(r),r))!==null&&i!==void 0?i:r;xk(e,c,__(c,!0))}},w5=(e,t,n)=>{if(t.clear_child_styles){const r=t.links?"*:not(a)":"*";vx(e.select(r,n),i=>{fS(i)&&e.isEditable(i)&&vx(t.styles,(c,u)=>{e.setStyle(i,u,"")})})}},_k=(e,t,n)=>{vx(e.childNodes,r=>{fS(r)&&(t(r)&&n(r),r.hasChildNodes()&&_k(r,t,n))})},C5=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},S5=(e,t)=>n=>!!(n&&wy(e,n,t)),Wy=(e,t,n)=>r=>{e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),C5(e,r)},gm=Lt.generate([{keep:[]},{rename:["name"]},{removed:[]}]),E5=/^(src|href|style)$/,kk=gt.each,_x=C_,z5=e=>/^(TR|TH|TD)$/.test(e.nodeName),kx=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),wk=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];if(Ot(r)){const c=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>c?c:i]}return it(r)&&n&&i>=r.data.length&&(r=new qr(r,e.getBody()).next()||r),it(r)&&!n&&i===0&&(r=new qr(r,e.getBody()).prev()||r),r},qy=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return z5(e)&&r?e.nodeName==="TR"&&r[n]||r:e},mS=(e,t,n,r)=>{var i;const c=e.create(n,r);return(i=t.parentNode)===null||i===void 0||i.insertBefore(c,t),c.appendChild(t),c},pS=(e,t,n,r,i)=>{const c=re.fromDom(t),u=re.fromDom(e.create(r,i)),g=n?Ql(c):uu(c);return Oa(u,g),n?(Vr(c,u),Ui(u,c)):(tn(c,u),Mr(u,c)),u.dom},h7=(e,t)=>t.links&&e.nodeName==="A",T5=(e,t,n)=>{const r=t.parentNode;let i;const c=e.dom,u=Ki(e);rm(n)&&r===c.getRoot()&&(!n.list_block||!_x(t,n.list_block))&&Ne(Fo(t.childNodes),g=>{Oh(e,u,g.nodeName.toLowerCase())?i?i.appendChild(g):(i=mS(c,g,u),c.setAttribs(i,f0(e))):i=null}),!(Ah(n)&&!_x(n.inline,t))&&c.remove(t,!0)},gS=(e,t,n)=>O(e)?{name:t,value:null}:{name:e,value:om(t,n)},hS=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},O5=(e,t,n,r,i)=>{let c=!1;kk(n.styles,(u,g)=>{const{name:x,value:C}=gS(g,u,r),R=kg(C,x);(n.remove_similar||ht(C)||!Ot(i)||_x(wy(e,i,x),R))&&e.setStyle(t,x,""),c=!0}),c&&hS(e,t)},bS=(e,t,n)=>{t==="removeformat"?Ne(pm(e.selection),r=>{Ne(bk,i=>e.dom.setStyle(r,i,"")),hS(e.dom,r)}):Ng(e.formatter,t).each(r=>{Ne(pm(e.selection),i=>O5(e.dom,i,r,n,null))})},Rp=(e,t,n,r,i)=>{const c=e.dom,u=jC(e),g=e.schema;if(Ms(t)&&Es(g,t.inline)&&ir(g,r)&&r.parentElement===e.getBody())return T5(e,r,t),gm.removed();if(!t.ceFalseOverride&&r&&c.getContentEditableParent(r)==="false"||r&&!hx(c,r,t)&&!h7(r,t))return gm.keep();const x=r,C=t.preserve_attributes;if(Ms(t)&&t.remove==="all"&&ve(C)){const R=Ke(c.getAttribs(x),B=>on(C,B.name.toLowerCase()));if(c.removeAllAttribs(x),Ne(R,B=>c.setAttrib(x,B.name,B.value)),R.length>0)return gm.rename("span")}if(t.remove!=="all"){O5(c,x,t,n,i),kk(t.attributes,(B,L)=>{const{name:W,value:ee}=gS(L,B,n);if(t.remove_similar||ht(ee)||!Ot(i)||_x(c.getAttrib(i,W),ee)){if(W==="class"){const K=c.getAttrib(x,W);if(K){let ne="";if(Ne(K.split(/\s+/),me=>{/mce\-\w+/.test(me)&&(ne+=(ne?" ":"")+me)}),ne){c.setAttrib(x,W,ne);return}}}if(E5.test(W)&&x.removeAttribute("data-mce-"+W),W==="style"&&Dl(["li"])(x)&&c.getStyle(x,"list-style-type")==="none"){x.removeAttribute(W),c.setStyle(x,"list-style-type","none");return}W==="class"&&x.removeAttribute("className"),x.removeAttribute(W)}}),kk(t.classes,B=>{B=om(B,n),(!Ot(i)||c.hasClass(i,B))&&c.removeClass(x,B)});const R=c.getAttribs(x);for(let B=0;B<R.length;B++){const L=R[B].nodeName;if(!u.isAttributeInternal(L))return gm.keep()}}return t.remove!=="none"?(T5(e,x,t),gm.removed()):gm.keep()},A5=(e,t,n,r,i)=>{let c;return t.parentNode&&Ne(pp(e.dom,t.parentNode).reverse(),u=>{if(!c&&Ot(u)&&u.id!=="_start"&&u.id!=="_end"){const g=mm(e,u,n,r,i);g&&g.split!==!1&&(c=u)}}),c},yS=(e,t,n,r)=>Rp(e,t,n,r,r).fold(Je(r),i=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,i)),Je(null)),N5=(e,t,n,r,i,c,u,g)=>{var x,C;let R,B;const L=e.dom;if(n){const W=n.parentNode;for(let ee=r.parentNode;ee&&ee!==W;ee=ee.parentNode){let K=L.clone(ee,!1);for(let ne=0;ne<t.length&&(K=yS(e,t[ne],g,K),K!==null);ne++);K&&(R&&K.appendChild(R),B||(B=K),R=K)}(!u.mixed||!L.isBlock(n))&&(r=(x=L.split(n,r))!==null&&x!==void 0?x:r),R&&B&&((C=i.parentNode)===null||C===void 0||C.insertBefore(R,i),B.appendChild(i),Ms(u)&&vk(e,u,g,R))}return r},xS=(e,t,n,r,i)=>{const c=e.formatter.get(t),u=c[0],g=e.dom,x=e.selection,C=K=>{const ne=A5(e,K,t,n,i);return N5(e,c,ne,K,K,!0,u,n)},R=K=>kl(K)&&Ot(K)&&(K.id==="_start"||K.id==="_end"),B=K=>Sn(c,ne=>Gy(e,ne,n,K,K)),L=K=>{const ne=Fo(K.childNodes),Ce=B(K)||Sn(c,Xe=>hx(g,K,Xe)),ze=K.parentNode;if(!Ce&&Ie(ze)&&Za(u)&&B(ze),u.deep&&ne.length)for(let Xe=0;Xe<ne.length;Xe++)L(ne[Xe]);Ne(["underline","line-through","overline"],Xe=>{Ot(K)&&e.dom.getStyle(K,"text-decoration")===Xe&&K.parentNode&&S_(g,K.parentNode)===Xe&&Gy(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Xe}},void 0,K)})},W=K=>{const ne=g.get(K?"_start":"_end");if(ne){let me=ne[K?"firstChild":"lastChild"];return R(me)&&(me=me[K?"firstChild":"lastChild"]),it(me)&&me.data.length===0&&(me=K?ne.previousSibling||ne.nextSibling:ne.nextSibling||ne.previousSibling),g.remove(ne,!0),me}else return null},ee=K=>{let ne,me,Ce=Nh(g,K,c,{includeTrailingSpace:K.collapsed});if(u.split){if(Ce=lm(Ce),ne=wk(e,Ce,!0),me=wk(e,Ce),ne!==me){if(ne=qy(ne,!0),me=qy(me,!1),kx(g,ne,me)){const Re=H.from(ne.firstChild).getOr(ne);C(pS(g,Re,!0,"span",{id:"_start","data-mce-type":"bookmark"})),W(!0);return}if(kx(g,me,ne)){const Re=H.from(me.lastChild).getOr(me);C(pS(g,Re,!1,"span",{id:"_end","data-mce-type":"bookmark"})),W(!1);return}ne=mS(g,ne,"span",{id:"_start","data-mce-type":"bookmark"}),me=mS(g,me,"span",{id:"_end","data-mce-type":"bookmark"});const ze=g.createRng();ze.setStartAfter(ne),ze.setEndBefore(me),R0(g,ze,Re=>{Ne(Re,Xe=>{!kl(Xe)&&!kl(Xe.parentNode)&&C(Xe)})}),C(ne),C(me),ne=W(!0),me=W()}else ne=me=C(ne);Ce.startContainer=ne.parentNode?ne.parentNode:ne,Ce.startOffset=g.nodeIndex(ne),Ce.endContainer=me.parentNode?me.parentNode:me,Ce.endOffset=g.nodeIndex(me)+1}R0(g,Ce,ze=>{Ne(ze,L)})};if(r){if(vy(r)){const K=g.createRng();K.setStartBefore(r),K.setEndAfter(r),ee(K)}else ee(r);Wv(e,t,r,n);return}!x.isCollapsed()||!Ms(u)||Th(e).length?(S2(e,()=>x_(e,ee),K=>Ms(u)&&oS(e,t,n,K)),e.nodeChanged()):d7(e,t,n,i),bS(e,t,n),Wv(e,t,r,n)},Dp=(e,t,n,r,i)=>{(r||e.selection.isEditable())&&xS(e,t,n,r,i)},Gy=(e,t,n,r,i)=>Rp(e,t,n,r,i).fold(ho,c=>(e.dom.rename(r,c),!0),uo),kd=gt.each,eb=(e,t,n,r)=>{const i=c=>{if(Qs(c)&&Ot(c.parentNode)&&e.isEditable(c)){const u=S_(e,c.parentNode);e.getStyle(c,"color")&&u?e.setStyle(c,"text-decoration",u):e.getStyle(c,"text-decoration")===u&&e.setStyle(c,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(gt.walk(r,i,"childNodes"),i(r))},R5=(e,t,n,r)=>{if(t.styles&&t.styles.backgroundColor){const i=S5(e,"fontSize");_k(r,c=>i(c)&&e.isEditable(c),Wy(e,"backgroundColor",om(t.styles.backgroundColor,n)))}},vS=(e,t,n,r)=>{if(Ms(t)&&(t.inline==="sub"||t.inline==="sup")){const i=S5(e,"fontSize");_k(r,u=>i(u)&&e.isEditable(u),Wy(e,"fontSize",""));const c=Ke(e.select(t.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(c,!0)}},D5=(e,t,n,r)=>{kd(t,i=>{Ms(i)&&kd(e.dom.select(i.inline,r),c=>{fS(c)&&Gy(e,i,n,c,i.exact?c:null)}),w5(e.dom,i,r)})},b7=(e,t,n,r,i)=>{const c=i.parentNode;mm(e,c,n,r)&&Gy(e,t,r,i)||t.merge_with_parents&&c&&e.dom.getParent(c,u=>mm(e,u,n,r)?(Gy(e,t,r,i),!0):!1)},wx=gt.each,Ky=(e,t,n,r)=>{if(h0(e)&&Ms(t)&&n.parentNode){const i=cc(e.schema),c=pl(re.fromDom(n),u=>Gn(u.dom));return Ga(i,r)&&Ml(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!c}else return!1},Cx=(e,t,n,r)=>{if(wx(n.styles,(i,c)=>{e.setStyle(t,c,om(i,r))}),n.styles){const i=e.getAttrib(t,"style");i&&e.setAttrib(t,"data-mce-style",i)}},M5=(e,t,n,r)=>{const i=e.formatter.get(t),c=i[0],u=!r&&e.selection.isCollapsed(),g=e.dom,x=e.selection,C=(ee,K=c)=>{jt(K.onformat)&&K.onformat(ee,K,n,r),Cx(g,ee,K,n),wx(K.attributes,(ne,me)=>{g.setAttrib(ee,me,om(ne,n))}),wx(K.classes,ne=>{const me=om(ne,n);g.hasClass(ee,me)||g.addClass(ee,me)})},R=(ee,K)=>{let ne=!1;return wx(ee,me=>yd(me)?g.getContentEditable(K)==="false"&&!me.ceFalseOverride||Ie(me.collapsed)&&me.collapsed!==u?!0:g.is(K,me.selector)&&!Gn(K)?(C(K,me),ne=!0,!1):!0:!1),ne},B=ee=>{if(pt(ee)){const K=g.create(ee);return C(K),K}else return null},L=(ee,K,ne)=>{const me=[];let Ce=!0;const ze=c.inline||c.block,Re=B(ze),Xe=Ze=>nz(c)&&mm(e,Ze,t,n),mt=(Ze,Pe,et)=>{const St=rz(c)&&_y(e.schema,Ze)&&Oh(e,Pe,ze);return et&&St},At=(Ze,Pe,et,St)=>{const Jt=Ze.nodeName.toLowerCase(),rn=Oh(e,ze,Jt)&&Oh(e,Pe,ze),an=!ne&&it(Ze)&&mh(Ze.data),jn=Gn(Ze),vr=!Ms(c)||!ee.isBlock(Ze);return(et||St)&&rn&&!an&&!jn&&vr};R0(ee,K,Ze=>{let Pe;const et=St=>{let Jt=!1,rn=Ce,an=!1;const jn=St.parentNode,vr=jn.nodeName.toLowerCase(),da=ee.getContentEditable(St);Ie(da)&&(rn=Ce,Ce=da==="true",Jt=!0,an=ky(e,St));const Ri=Ce&&!Jt;if(ns(St)&&!Ky(e,c,St,vr)){Pe=null,rm(c)&&ee.remove(St);return}if(Xe(St)){Pe=null;return}if(mt(St,vr,Ri)){const Di=ee.rename(St,ze);C(Di),me.push(Di),Pe=null;return}if(yd(c)){let Di=R(i,St);if(!Di&&Ie(jn)&&Za(c)&&(Di=R(i,jn)),!Ms(c)||Di){Pe=null;return}}Ie(Re)&&At(St,vr,Ri,an)?(Pe||(Pe=ee.clone(Re,!1),jn.insertBefore(Pe,St),me.push(Pe)),an&&Jt&&(Ce=rn),Pe.appendChild(St)):(Pe=null,Ne(Fo(St.childNodes),et),Jt&&(Ce=rn),Pe=null)};Ne(Ze,et)}),c.links===!0&&Ne(me,Ze=>{const Pe=et=>{et.nodeName==="A"&&C(et,c),Ne(Fo(et.childNodes),Pe)};Pe(Ze)}),Ne(me,Ze=>{const Pe=Jt=>{let rn=0;return Ne(Jt.childNodes,an=>{!w_(an)&&!kl(an)&&rn++}),rn},et=Jt=>Tn(Jt.childNodes,v_).filter(an=>ee.getContentEditable(an)!=="false"&&hx(ee,an,c)).map(an=>{const jn=ee.clone(an,!1);return C(jn),ee.replace(jn,Jt,!0),ee.remove(an,!0),jn}).getOr(Jt),St=Pe(Ze);if((me.length>1||!ee.isBlock(Ze))&&St===0){ee.remove(Ze,!0);return}(Ms(c)||rm(c)&&c.wrapper)&&(!c.exact&&St===1&&(Ze=et(Ze)),D5(e,i,n,Ze),b7(e,c,t,n,Ze),R5(ee,c,n,Ze),eb(ee,c,n,Ze),vS(ee,c,n,Ze),vk(e,c,n,Ze))})},W=vy(r)?r:x.getNode();if(g.getContentEditable(W)==="false"&&!ky(e,W)){r=W,R(i,r),B3(e,t,r,n);return}if(c){if(r)if(vy(r)){if(!R(i,r)){const ee=g.createRng();ee.setStartBefore(r),ee.setEndAfter(r),L(g,Nh(g,ee,i),!0)}}else L(g,r,!0);else!u||!Ms(c)||Th(e).length?(x.setRng(Uy(x.getRng())),S2(e,()=>{x_(e,(ee,K)=>{const ne=K?ee:Nh(g,ee,i);L(g,ne,!1)})},uo),e.nodeChanged()):b5(e,t,n),Ng(e.formatter,t).each(ee=>{Ne(k5(e.selection),K=>Cx(g,K,ee,n))});Ag(t,e)}B3(e,t,r,n)},_S=(e,t,n,r)=>{(r||e.selection.isEditable())&&M5(e,t,n,r)},Ck=e=>po(e,"vars"),y7=(e,t)=>{e.set({}),t.on("NodeChange",n=>{Ls(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const r=H.from(n.node).map(i=>vy(i)?i:i.startContainer).bind(i=>Ot(i)?H.some(i):H.from(i.parentElement)).getOrThunk(()=>B5(t));Ls(t,r,e.get())})},B5=e=>e.selection.getStart(),kS=(e,t,n,r,i)=>qo(t,g=>{const x=e.formatter.matchNode(g,n,i??{},r);return!Nr(x)},g=>px(e,g,n)?!0:r?!1:Ie(e.formatter.matchNode(g,n,i,!0))),P5=(e,t)=>{const n=t??B5(e);return Ke(pp(e.dom,n),r=>Ot(r)&&!rc(r))},Ls=(e,t,n)=>{const r=P5(e,t);Ho(n,(i,c)=>{const u=g=>{const x=kS(e,r,c,g.similar,Ck(g)?g.vars:void 0),C=x.isSome();if(g.state.get()!==C){g.state.set(C);const R=x.getOr(t);Ck(g)?g.callback(C,{node:R,format:c,parents:r}):Ne(g.callbacks,B=>B(C,{node:R,format:c,parents:r}))}};Ne([i.withSimilar,i.withoutSimilar],u),Ne(i.withVars,u)})},L5=(e,t,n,r,i,c)=>{const u=t.get();Ne(n.split(","),g=>{const x=Hn(u,g).getOrThunk(()=>{const R={withSimilar:{state:Sr(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Sr(!1),similar:!1,callbacks:[]},withVars:[]};return u[g]=R,R}),C=()=>{const R=P5(e);return kS(e,R,g,i,c).isSome()};if(Nr(c)){const R=i?x.withSimilar:x.withoutSimilar;R.callbacks.push(r),R.callbacks.length===1&&R.state.set(C())}else x.withVars.push({state:Sr(C()),similar:i,vars:c,callback:r})}),t.set(u)},Sk=(e,t,n)=>{const r=e.get();Ne(t.split(","),i=>Hn(r,i).each(c=>{r[i]={withSimilar:{...c.withSimilar,callbacks:Ke(c.withSimilar.callbacks,u=>u!==n)},withoutSimilar:{...c.withoutSimilar,callbacks:Ke(c.withoutSimilar.callbacks,u=>u!==n)},withVars:Ke(c.withVars,u=>u.callback!==n)}})),e.set(r)},I5=(e,t,n,r,i,c)=>(L5(e,t,n,r,i,c),{unbind:()=>Sk(t,n,r)}),Ek=(e,t,n,r)=>{const i=e.formatter.get(t);i&&(oS(e,t,n,r)&&(!("toggle"in i[0])||i[0].toggle)?Dp(e,t,n,r):_S(e,t,n,r))},wS=gt.explode,CS=()=>{const e={};return{addFilter:(i,c)=>{Ne(wS(i),u=>{po(e,u)||(e[u]={name:u,callbacks:[]}),e[u].callbacks.push(c)})},getFilters:()=>El(e),removeFilter:(i,c)=>{Ne(wS(i),u=>{if(po(e,u))if(Ie(c)){const g=e[u],x=Ke(g.callbacks,C=>C!==c);x.length>0?g.callbacks=x:delete e[u]}else delete e[u]})}}},Sx=(e,t)=>{Ne(t,n=>{e.attr(n,null)})},Mp=(e,t,n)=>{e.addNodeFilter("font",r=>{Ne(r,i=>{const c=t.parse(i.attr("style")),u=i.attr("color"),g=i.attr("face"),x=i.attr("size");u&&(c.color=u),g&&(c["font-family"]=g),x&&Wn(x).each(C=>{c["font-size"]=n[C-1]}),i.name="span",i.attr("style",t.serialize(c)),Sx(i,["color","face","size"])})})},tb=(e,t,n)=>{e.addNodeFilter("strike",r=>{const i=t.type!=="html4";Ne(r,c=>{if(i)c.name="s";else{const u=n.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(u))}})})},zk=(e,t,n)=>{var r;const i=Db();t.convert_fonts_to_spans&&Mp(e,i,gt.explode((r=t.font_size_legacy_values)!==null&&r!==void 0?r:"")),tb(e,n,i)},SS=(e,t,n)=>{t.inline_styles&&zk(e,t,n)},ES=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),F5=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},x7=e=>{try{return decodeURIComponent(e)}catch{return e}},Tk=e=>{const[t,...n]=e.split(","),r=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(i){const c=i[2]===";base64",u=x7(r),g=c?F5(u):u;return H.some({type:i[1],data:g,base64Encoded:c})}else return H.none()},zS=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return H.none()}const i=new Uint8Array(r.length);for(let c=0;c<i.length;c++)i[c]=r.charCodeAt(c);return H.some(new Blob([i],{type:e}))},H5=e=>new Promise((t,n)=>{Tk(e).bind(({type:r,data:i,base64Encoded:c})=>zS(r,i,c)).fold(()=>n("Invalid data URI"),t)}),$5=e=>cr(e,"blob:")?ES(e):cr(e,"data:")?H5(e):Promise.reject("Unknown URI format"),V5=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var i;n((i=r.error)===null||i===void 0?void 0:i.message)},r.readAsDataURL(e)});let v7=0;const _7=e=>"blobid"+v7++,$l=(e,t,n)=>Tk(e).bind(({data:r,type:i,base64Encoded:c})=>{if(t&&!c)return H.none();{const u=c?r:btoa(r);return n(u,i)}}),TS=(e,t,n)=>{const r=e.create(_7(),t,n);return e.add(r),r},Yy=(e,t,n=!1)=>$l(t,n,(r,i)=>H.from(e.getByData(r,i)).orThunk(()=>zS(i,r).map(c=>TS(e,c,r)))),k7=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(cr(t,"blob:")){const r=e.getByUri(t);return Ie(r)?Promise.resolve(r):$5(t).then(i=>V5(i).then(c=>$l(c,!1,u=>H.some(TS(e,i,u))).getOrThunk(n)))}else return cr(t,"data:")?Yy(e,t).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},U5=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,j5=e=>H.from(e.match(U5)).bind(t=>Gs(t,1)).map(t=>cr(t,"www.")?t.substring(4):t),OS=(e,t)=>{H.from(e.attr("src")).bind(j5).forall(n=>!on(t,n))&&e.attr("sandbox","")},Ex=(e,t)=>cr(e,`${t}/`),Z5=e=>Nr(e)?"iframe":Ex(e,"image")?"img":Ex(e,"video")?"video":Ex(e,"audio")?"audio":"iframe",W5=({type:e,src:t,width:n,height:r}={},i,c)=>{const u=Z5(e),g=new Fl(u,1);return g.attr(u==="audio"?{src:t}:{src:t,width:n,height:r}),(u==="audio"||u==="video")&&g.attr("controls",""),u==="iframe"&&i&&OS(g,c),g},w7=e=>Ie(e.attr("data-mce-bogus")),C7=e=>e.attr("src")===Nt.transparentSrc||Ie(e.attr("data-mce-placeholder")),S7=(e,t)=>{const{blob_cache:n}=t;if(n){const r=i=>{const c=i.attr("src");C7(i)||w7(i)||Io(c)||Yy(n,c,!0).each(u=>{i.attr("src",u.blobUri())})};e.addAttributeFilter("src",i=>Ne(i,r))}},AS=(e,t)=>{var n,r;const i=e.schema;e.addAttributeFilter("href",x=>{let C=x.length;const R=L=>L.split(" ").filter(ee=>ee.length>0).concat(["noopener"]).sort().join(" "),B=L=>{const W=L?gt.trim(L):"";return/\b(noopener)\b/g.test(W)?W:R(W)};if(!t.allow_unsafe_link_target)for(;C--;){const L=x[C];L.name==="a"&&L.attr("target")==="_blank"&&L.attr("rel",B(L.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",x=>{let C=x.length,R,B,L,W;for(;C--;)if(W=x[C],W.name==="a"&&W.firstChild&&!W.attr("href"))for(L=W.parent,R=W.lastChild;R&&L;)B=R.prev,L.insert(R,W),R=B}),t.fix_list_elements&&e.addNodeFilter("ul,ol",x=>{let C=x.length,R,B;for(;C--;)if(R=x[C],B=R.parent,B&&(B.name==="ul"||B.name==="ol"))if(R.prev&&R.prev.name==="li")R.prev.append(R);else{const L=new Fl("li",1);L.attr("style","list-style-type: none"),R.wrap(L)}});const c=i.getValidClasses();t.validate&&c&&e.addAttributeFilter("class",x=>{var C;let R=x.length;for(;R--;){const B=x[R],L=(C=B.attr("class"))!==null&&C!==void 0?C:"",W=gt.explode(L," ");let ee="";for(let K=0;K<W.length;K++){const ne=W[K];let me=!1,Ce=c["*"];Ce&&Ce[ne]&&(me=!0),Ce=c[B.name],!me&&Ce&&Ce[ne]&&(me=!0),me&&(ee&&(ee+=" "),ee+=ne)}ee.length||(ee=null),B.attr("class",ee)}}),S7(e,t);const u=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,g=pi((r=t.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",x=>Ne(x,C=>{C.replace(W5({type:C.attr("type"),src:C.name==="object"?C.attr("data"):C.attr("src"),width:C.attr("width"),height:C.attr("height")},u,g))})),u&&e.addNodeFilter("iframe",x=>Ne(x,C=>OS(C,g)))};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:q5,setPrototypeOf:G5,isFrozen:K5,getPrototypeOf:E7,getOwnPropertyDescriptor:z7}=Object;let{freeze:Vl,seal:Vc,create:NS}=Object,{apply:Ok,construct:zx}=typeof Reflect<"u"&&Reflect;Vl||(Vl=function(t){return t}),Vc||(Vc=function(t){return t}),Ok||(Ok=function(t,n,r){return t.apply(n,r)}),zx||(zx=function(t,n){return new t(...n)});const Ak=Ul(Array.prototype.forEach),T7=Ul(Array.prototype.lastIndexOf),Y5=Ul(Array.prototype.pop),xf=Ul(Array.prototype.push),O7=Ul(Array.prototype.splice),ob=Ul(String.prototype.toLowerCase),RS=Ul(String.prototype.toString),Nk=Ul(String.prototype.match),Xy=Ul(String.prototype.replace),X5=Ul(String.prototype.indexOf),J5=Ul(String.prototype.trim),wd=Ul(Object.prototype.hasOwnProperty),Uc=Ul(RegExp.prototype.test),Tx=Q5(TypeError);function Ul(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ok(e,t,r)}}function Q5(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zx(e,n)}}function Ir(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ob;G5&&G5(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const c=n(i);c!==i&&(K5(t)||(t[r]=c),i=c)}e[i]=!0}return e}function A7(e){for(let t=0;t<e.length;t++)wd(e,t)||(e[t]=null);return e}function nb(e){const t=NS(null);for(const[n,r]of q5(e))wd(e,n)&&(Array.isArray(r)?t[n]=A7(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=nb(r):t[n]=r);return t}function Ox(e,t){for(;e!==null;){const r=z7(e,t);if(r){if(r.get)return Ul(r.get);if(typeof r.value=="function")return Ul(r.value)}e=E7(e)}function n(){return null}return n}const Rk=Vl(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dk=Vl(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),DS=Vl(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N7=Vl(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ca=Vl(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),R7=Vl(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),eO=Vl(["#text"]),MS=Vl(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ax=Vl(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BS=Vl(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vf=Vl(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),PS=Vc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tO=Vc(/<%[\w\W]*|[\w\W]*%>/gm),LS=Vc(/\$\{[\w\W]*/gm),IS=Vc(/^data-[\-\w.\u00B7-\uFFFF]+$/),FS=Vc(/^aria-[\-\w]+$/),HS=Vc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Mk=Vc(/^(?:\w+script|data):/i),Bk=Vc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jy=Vc(/^html$/i),Nx=Vc(/^[a-z][.\w]*(-[.\w]+)+$/i);var ou=Object.freeze({__proto__:null,ARIA_ATTR:FS,ATTR_WHITESPACE:Bk,CUSTOM_ELEMENT:Nx,DATA_ATTR:IS,DOCTYPE_NAME:Jy,ERB_EXPR:tO,IS_ALLOWED_URI:HS,IS_SCRIPT_OR_DATA:Mk,MUSTACHE_EXPR:PS,TMPLIT_EXPR:LS});const Bp={element:1,text:3,progressingInstruction:7,comment:8,document:9},oO=function(){return typeof window>"u"?null:window},nO=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const c="dompurify"+(r?"#"+r:"");try{return t.createPolicy(c,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},rO=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $S(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oO();const t=bn=>$S(bn);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==Bp.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:u,Node:g,Element:x,NodeFilter:C,NamedNodeMap:R=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:B,DOMParser:L,trustedTypes:W}=e,ee=x.prototype,K=Ox(ee,"cloneNode"),ne=Ox(ee,"remove"),me=Ox(ee,"nextSibling"),Ce=Ox(ee,"childNodes"),ze=Ox(ee,"parentNode");if(typeof u=="function"){const bn=n.createElement("template");bn.content&&bn.content.ownerDocument&&(n=bn.content.ownerDocument)}let Re,Xe="";const{implementation:mt,createNodeIterator:At,createDocumentFragment:Ze,getElementsByTagName:Pe}=n,{importNode:et}=r;let St=rO();t.isSupported=typeof q5=="function"&&typeof ze=="function"&&mt&&mt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Jt,ERB_EXPR:rn,TMPLIT_EXPR:an,DATA_ATTR:jn,ARIA_ATTR:vr,IS_SCRIPT_OR_DATA:da,ATTR_WHITESPACE:Ri,CUSTOM_ELEMENT:Di}=ou;let{IS_ALLOWED_URI:kt}=ou,Qt=null;const In=Ir({},[...Rk,...Dk,...DS,...ca,...eO]);let zt=null;const st=Ir({},[...MS,...Ax,...BS,...vf]);let Ct=Object.seal(NS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wo=null,Ar=null,hn=!0,il=!0,Af=!1,Ig=!0,Zc=!1,Cm=!0,Hu=!1,yc=!1,Wc=!1,Nf=!1,w1=!1,so=!1,zn=!0,na=!1;const ui="user-content-";let Mi=!0,Wa=!1,Is={},Fs=null;const qc=Ir({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Sm=null;const Fg=Ir({},["audio","video","img","source","image","track"]);let Wp=null;const Pw=Ir({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lw="http://www.w3.org/1998/Math/MathML",uv="http://www.w3.org/2000/svg",Em="http://www.w3.org/1999/xhtml";let C1=Em,z3=!1,Iw=null;const fF=Ir({},[Lw,uv,Em],RS);let T3=Ir({},["mi","mo","mn","ms","mtext"]),O3=Ir({},["annotation-xml"]);const mF=Ir({},["title","style","font","a","script"]);let Fw=null;const S1=["application/xhtml+xml","text/html"],rR="text/html";let Oe=null,Me=null;const vt=n.createElement("form"),bt=function(Be){return Be instanceof RegExp||Be instanceof Function},mo=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Me&&Me===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=nb(Be),Fw=S1.indexOf(Be.PARSER_MEDIA_TYPE)===-1?rR:Be.PARSER_MEDIA_TYPE,Oe=Fw==="application/xhtml+xml"?RS:ob,Qt=wd(Be,"ALLOWED_TAGS")?Ir({},Be.ALLOWED_TAGS,Oe):In,zt=wd(Be,"ALLOWED_ATTR")?Ir({},Be.ALLOWED_ATTR,Oe):st,Iw=wd(Be,"ALLOWED_NAMESPACES")?Ir({},Be.ALLOWED_NAMESPACES,RS):fF,Wp=wd(Be,"ADD_URI_SAFE_ATTR")?Ir(nb(Pw),Be.ADD_URI_SAFE_ATTR,Oe):Pw,Sm=wd(Be,"ADD_DATA_URI_TAGS")?Ir(nb(Fg),Be.ADD_DATA_URI_TAGS,Oe):Fg,Fs=wd(Be,"FORBID_CONTENTS")?Ir({},Be.FORBID_CONTENTS,Oe):qc,wo=wd(Be,"FORBID_TAGS")?Ir({},Be.FORBID_TAGS,Oe):{},Ar=wd(Be,"FORBID_ATTR")?Ir({},Be.FORBID_ATTR,Oe):{},Is=wd(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,hn=Be.ALLOW_ARIA_ATTR!==!1,il=Be.ALLOW_DATA_ATTR!==!1,Af=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,Ig=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Zc=Be.SAFE_FOR_TEMPLATES||!1,Cm=Be.SAFE_FOR_XML!==!1,Hu=Be.WHOLE_DOCUMENT||!1,Nf=Be.RETURN_DOM||!1,w1=Be.RETURN_DOM_FRAGMENT||!1,so=Be.RETURN_TRUSTED_TYPE||!1,Wc=Be.FORCE_BODY||!1,zn=Be.SANITIZE_DOM!==!1,na=Be.SANITIZE_NAMED_PROPS||!1,Mi=Be.KEEP_CONTENT!==!1,Wa=Be.IN_PLACE||!1,kt=Be.ALLOWED_URI_REGEXP||HS,C1=Be.NAMESPACE||Em,T3=Be.MATHML_TEXT_INTEGRATION_POINTS||T3,O3=Be.HTML_INTEGRATION_POINTS||O3,Ct=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&bt(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ct.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&bt(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ct.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ct.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Zc&&(il=!1),w1&&(Nf=!0),Is&&(Qt=Ir({},eO),zt=[],Is.html===!0&&(Ir(Qt,Rk),Ir(zt,MS)),Is.svg===!0&&(Ir(Qt,Dk),Ir(zt,Ax),Ir(zt,vf)),Is.svgFilters===!0&&(Ir(Qt,DS),Ir(zt,Ax),Ir(zt,vf)),Is.mathMl===!0&&(Ir(Qt,ca),Ir(zt,BS),Ir(zt,vf))),Be.ADD_TAGS&&(Qt===In&&(Qt=nb(Qt)),Ir(Qt,Be.ADD_TAGS,Oe)),Be.ADD_ATTR&&(zt===st&&(zt=nb(zt)),Ir(zt,Be.ADD_ATTR,Oe)),Be.ADD_URI_SAFE_ATTR&&Ir(Wp,Be.ADD_URI_SAFE_ATTR,Oe),Be.FORBID_CONTENTS&&(Fs===qc&&(Fs=nb(Fs)),Ir(Fs,Be.FORBID_CONTENTS,Oe)),Mi&&(Qt["#text"]=!0),Hu&&Ir(Qt,["html","head","body"]),Qt.table&&(Ir(Qt,["tbody"]),delete wo.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw Tx('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Tx('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Re=Be.TRUSTED_TYPES_POLICY,Xe=Re.createHTML("")}else Re===void 0&&(Re=nO(W,i)),Re!==null&&typeof Xe=="string"&&(Xe=Re.createHTML(""));Vl&&Vl(Be),Me=Be}},Pn=Ir({},[...Dk,...DS,...N7]),ra=Ir({},[...ca,...R7]),qp=function(Be){let to=ze(Be);(!to||!to.tagName)&&(to={namespaceURI:C1,tagName:"template"});const sn=ob(Be.tagName),fi=ob(to.tagName);return Iw[Be.namespaceURI]?Be.namespaceURI===uv?to.namespaceURI===Em?sn==="svg":to.namespaceURI===Lw?sn==="svg"&&(fi==="annotation-xml"||T3[fi]):!!Pn[sn]:Be.namespaceURI===Lw?to.namespaceURI===Em?sn==="math":to.namespaceURI===uv?sn==="math"&&O3[fi]:!!ra[sn]:Be.namespaceURI===Em?to.namespaceURI===uv&&!O3[fi]||to.namespaceURI===Lw&&!T3[fi]?!1:!ra[sn]&&(mF[sn]||!Pn[sn]):!!(Fw==="application/xhtml+xml"&&Iw[Be.namespaceURI]):!1},zm=function(Be){xf(t.removed,{element:Be});try{ze(Be).removeChild(Be)}catch{ne(Be)}},A3=function(Be,to){try{xf(t.removed,{attribute:to.getAttributeNode(Be),from:to})}catch{xf(t.removed,{attribute:null,from:to})}if(to.removeAttribute(Be),Be==="is")if(Nf||w1)try{zm(to)}catch{}else try{to.setAttribute(Be,"")}catch{}},pF=function(Be){let to=null,sn=null;if(Wc)Be="<remove></remove>"+Be;else{const xc=Nk(Be,/^[\r\n\t ]+/);sn=xc&&xc[0]}Fw==="application/xhtml+xml"&&C1===Em&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");const fi=Re?Re.createHTML(Be):Be;if(C1===Em)try{to=new L().parseFromString(fi,Fw)}catch{}if(!to||!to.documentElement){to=mt.createDocument(C1,"template",null);try{to.documentElement.innerHTML=z3?Xe:fi}catch{}}const zd=to.body||to.documentElement;return Be&&sn&&zd.insertBefore(n.createTextNode(sn),zd.childNodes[0]||null),C1===Em?Pe.call(to,Hu?"html":"body")[0]:Hu?to.documentElement:zd},gF=function(Be){return At.call(Be.ownerDocument||Be,Be,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT|C.SHOW_PROCESSING_INSTRUCTION|C.SHOW_CDATA_SECTION,null)},uP=function(Be){return Be instanceof B&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof R)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},hF=function(Be){return typeof g=="function"&&Be instanceof g};function bb(bn,Be,to){Ak(bn,sn=>{sn.call(t,Be,to,Me)})}const bF=function(Be){let to=null;if(bb(St.beforeSanitizeElements,Be,null),uP(Be))return zm(Be),!0;const sn=Oe(Be.nodeName);if(bb(St.uponSanitizeElement,Be,{tagName:sn,allowedTags:Qt}),Be.hasChildNodes()&&!hF(Be.firstElementChild)&&Uc(/<[/\w]/g,Be.innerHTML)&&Uc(/<[/\w]/g,Be.textContent)||Be.nodeType===Bp.progressingInstruction||Cm&&Be.nodeType===Bp.comment&&Uc(/<[/\w]/g,Be.data))return zm(Be),!0;if(!Qt[sn]||wo[sn]){if(!wo[sn]&&xF(sn)&&(Ct.tagNameCheck instanceof RegExp&&Uc(Ct.tagNameCheck,sn)||Ct.tagNameCheck instanceof Function&&Ct.tagNameCheck(sn)))return!1;if(Mi&&!Fs[sn]){const fi=ze(Be)||Be.parentNode,zd=Ce(Be)||Be.childNodes;if(zd&&fi){const xc=zd.length;for(let $u=xc-1;$u>=0;--$u){const Hg=K(zd[$u],!0);Hg.__removalCount=(Be.__removalCount||0)+1,fi.insertBefore(Hg,me(Be))}}}return zm(Be),!0}return Be instanceof x&&!qp(Be)||(sn==="noscript"||sn==="noembed"||sn==="noframes")&&Uc(/<\/no(script|embed|frames)/i,Be.innerHTML)?(zm(Be),!0):(Zc&&Be.nodeType===Bp.text&&(to=Be.textContent,Ak([Jt,rn,an],fi=>{to=Xy(to,fi," ")}),Be.textContent!==to&&(xf(t.removed,{element:Be.cloneNode()}),Be.textContent=to)),bb(St.afterSanitizeElements,Be,null),!1)},yF=function(Be,to,sn){if(zn&&(to==="id"||to==="name")&&(sn in n||sn in vt))return!1;if(!(il&&!Ar[to]&&Uc(jn,to))){if(!(hn&&Uc(vr,to))){if(!zt[to]||Ar[to]){if(!(xF(Be)&&(Ct.tagNameCheck instanceof RegExp&&Uc(Ct.tagNameCheck,Be)||Ct.tagNameCheck instanceof Function&&Ct.tagNameCheck(Be))&&(Ct.attributeNameCheck instanceof RegExp&&Uc(Ct.attributeNameCheck,to)||Ct.attributeNameCheck instanceof Function&&Ct.attributeNameCheck(to))||to==="is"&&Ct.allowCustomizedBuiltInElements&&(Ct.tagNameCheck instanceof RegExp&&Uc(Ct.tagNameCheck,sn)||Ct.tagNameCheck instanceof Function&&Ct.tagNameCheck(sn))))return!1}else if(!Wp[to]){if(!Uc(kt,Xy(sn,Ri,""))){if(!((to==="src"||to==="xlink:href"||to==="href")&&Be!=="script"&&X5(sn,"data:")===0&&Sm[Be])){if(!(Af&&!Uc(da,Xy(sn,Ri,"")))){if(sn)return!1}}}}}}return!0},xF=function(Be){return Be!=="annotation-xml"&&Nk(Be,Di)},vF=function(Be){bb(St.beforeSanitizeAttributes,Be,null);const{attributes:to}=Be;if(!to||uP(Be))return;const sn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:zt,forceKeepAttr:void 0};let fi=to.length;for(;fi--;){const zd=to[fi],{name:xc,namespaceURI:$u,value:Hg}=zd,N3=Oe(xc);let Gc=xc==="value"?Hg:J5(Hg);const Fq=Gc;if(sn.attrName=N3,sn.attrValue=Gc,sn.keepAttr=!0,sn.forceKeepAttr=void 0,bb(St.uponSanitizeAttribute,Be,sn),Gc=sn.attrValue,na&&(N3==="id"||N3==="name")&&(A3(xc,Be),Gc=ui+Gc),Cm&&Uc(/((--!?|])>)|<\/(style|title)/i,Gc)){A3(xc,Be);continue}if(sn.forceKeepAttr)continue;if(!sn.keepAttr){A3(xc,Be);continue}if(!Ig&&Uc(/\/>/i,Gc)){A3(xc,Be);continue}Zc&&Ak([Jt,rn,an],kF=>{Gc=Xy(Gc,kF," ")});const _F=Oe(Be.nodeName);if(!yF(_F,N3,Gc)){A3(xc,Be);continue}if(Re&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!$u)switch(W.getAttributeType(_F,N3)){case"TrustedHTML":{Gc=Re.createHTML(Gc);break}case"TrustedScriptURL":{Gc=Re.createScriptURL(Gc);break}}if(Gc!==Fq)try{$u?Be.setAttributeNS($u,xc,Gc):Be.setAttribute(xc,Gc),uP(Be)?zm(Be):Y5(t.removed)}catch{}}bb(St.afterSanitizeAttributes,Be,null)},Iq=function bn(Be){let to=null;const sn=gF(Be);for(bb(St.beforeSanitizeShadowDOM,Be,null);to=sn.nextNode();)bb(St.uponSanitizeShadowNode,to,null),bF(to),vF(to),to.content instanceof c&&bn(to.content);bb(St.afterSanitizeShadowDOM,Be,null)};return t.sanitize=function(bn){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},to=null,sn=null,fi=null,zd=null;if(z3=!bn,z3&&(bn="<!-->"),typeof bn!="string"&&!hF(bn))if(typeof bn.toString=="function"){if(bn=bn.toString(),typeof bn!="string")throw Tx("dirty is not a string, aborting")}else throw Tx("toString is not a function");if(!t.isSupported)return bn;if(yc||mo(Be),t.removed=[],typeof bn=="string"&&(Wa=!1),Wa){if(bn.nodeName){const Hg=Oe(bn.nodeName);if(!Qt[Hg]||wo[Hg])throw Tx("root node is forbidden and cannot be sanitized in-place")}}else if(bn instanceof g)to=pF("<!---->"),sn=to.ownerDocument.importNode(bn,!0),sn.nodeType===Bp.element&&sn.nodeName==="BODY"||sn.nodeName==="HTML"?to=sn:to.appendChild(sn);else{if(!Nf&&!Zc&&!Hu&&bn.indexOf("<")===-1)return Re&&so?Re.createHTML(bn):bn;if(to=pF(bn),!to)return Nf?null:so?Xe:""}to&&Wc&&zm(to.firstChild);const xc=gF(Wa?bn:to);for(;fi=xc.nextNode();)bF(fi),vF(fi),fi.content instanceof c&&Iq(fi.content);if(Wa)return bn;if(Nf){if(w1)for(zd=Ze.call(to.ownerDocument);to.firstChild;)zd.appendChild(to.firstChild);else zd=to;return(zt.shadowroot||zt.shadowrootmode)&&(zd=et.call(r,zd,!0)),zd}let $u=Hu?to.outerHTML:to.innerHTML;return Hu&&Qt["!doctype"]&&to.ownerDocument&&to.ownerDocument.doctype&&to.ownerDocument.doctype.name&&Uc(Jy,to.ownerDocument.doctype.name)&&($u="<!DOCTYPE "+to.ownerDocument.doctype.name+`>
`+$u),Zc&&Ak([Jt,rn,an],Hg=>{$u=Xy($u,Hg," ")}),Re&&so?Re.createHTML($u):$u},t.setConfig=function(){let bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mo(bn),yc=!0},t.clearConfig=function(){Me=null,yc=!1},t.isValidAttribute=function(bn,Be,to){Me||mo({});const sn=Oe(bn),fi=Oe(Be);return yF(sn,fi,to)},t.addHook=function(bn,Be){typeof Be=="function"&&xf(St[bn],Be)},t.removeHook=function(bn,Be){if(Be!==void 0){const to=T7(St[bn],Be);return to===-1?void 0:O7(St[bn],to,1)[0]}return Y5(St[bn])},t.removeHooks=function(bn){St[bn]=[]},t.removeAllHooks=function(){St=rO()},t}var VS=$S();const sO=gt.each,Rx=gt.trim,D7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],M7={ftp:21,http:80,https:443,mailto:25},B7=["img","video"],P7=(e,t)=>Ie(e)?!e:Ie(t)?!on(B7,t):!0,L7=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},aO=(e,t,n)=>{const r=L7(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?P7(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Bu{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(r[0]);return i&&(n=i[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const i=Nc.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!aO(r,i,n)}}static getDocumentBaseUrl(t){var n;let r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=(n=t.href)!==null&&n!==void 0?n:"":r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=Rx(t),this.settings=n;const r=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){i.source=t;return}const c=t.indexOf("//")===0;if(t.indexOf("/")===0&&!c&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const g=r?r.path:new Bu(document.location.href).directory;if((r==null?void 0:r.protocol)==="")t="//mce_host"+i.toAbsPath(g,t);else{const x=/([^#?]*)([#?]?.*)/.exec(t);x&&(t=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(g,x[1])+x[2])}}t=t.replace(/@@/g,"(mce_at)");const u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);u&&sO(D7,(g,x)=>{let C=u[x];C&&(C=C.replace(/\(mce_at\)/g,"@@")),i[g]=C}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),!i.port&&i.host==="mce_host"&&(i.port=r.port),(!i.host||i.host==="mce_host")&&(i.host=r.host),i.source=""),c&&(i.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new Bu(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),i=n.getURI();if(r===i||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===i)return r;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(t,n){const r=new Bu(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?M7[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r=0,i="",c,u;const g=t.substring(0,t.lastIndexOf("/")).split("/"),x=n.split("/");if(g.length>=x.length){for(c=0,u=g.length;c<u;c++)if(c>=x.length||g[c]!==x[c]){r=c+1;break}}if(g.length<x.length){for(c=0,u=x.length;c<u;c++)if(c>=g.length||g[c]!==x[c]){r=c+1;break}}if(r===1)return n;for(c=0,u=g.length-(r-1);c<u;c++)i+="../";for(c=r-1,u=x.length;c<u;c++)c!==r-1?i+="/"+x[c]:i+=x[c];return i}toAbsPath(t,n){let r=0;const i=/\/$/.test(n)?"/":"",c=t.split("/"),u=n.split("/"),g=[];sO(c,B=>{B&&g.push(B)});const x=[];for(let B=u.length-1;B>=0;B--)if(!(u[B].length===0||u[B]===".")){if(u[B]===".."){r++;continue}if(r>0){r--;continue}x.push(u[B])}const C=g.length-r;let R;return C<=0?R=Hs(x).join("/"):R=g.slice(0,C).join("/")+"/"+Hs(x).join("/"),R.indexOf("/")!==0&&(R="/"+R),i&&R.lastIndexOf("/")!==R.length-1&&(R+=i),R}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const I7=gt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),US="data-mce-type";let iO=0;const lO=(e,t,n,r,i)=>{var c,u,g,x;const C=t.validate,R=n.getSpecialElements();e.nodeType===Ld&&!t.allow_conditional_comments&&/^\[if/i.test((c=e.nodeValue)!==null&&c!==void 0?c:"")&&(e.nodeValue=" "+e.nodeValue);const B=(u=i==null?void 0:i.tagName)!==null&&u!==void 0?u:e.nodeName.toLowerCase();if(r!=="html"&&n.isValid(r)){Ie(i)&&(i.allowedTags[B]=!0);return}if(e.nodeType!==Xc||B==="body")return;const L=re.fromDom(e),W=Qi(L,US),ee=ba(L,"data-mce-bogus");if(!W&&pt(ee)){ee==="all"?un(L):Ee(L);return}const K=n.getElementRule(B);if(C&&!K){po(R,B)?un(L):Ee(L);return}else Ie(i)&&(i.allowedTags[B]=!0);if(C&&K&&!W){if(Ne((g=K.attributesForced)!==null&&g!==void 0?g:[],ne=>{On(L,ne.name,ne.value==="{$uid}"?`mce_${iO++}`:ne.value)}),Ne((x=K.attributesDefault)!==null&&x!==void 0?x:[],ne=>{Qi(L,ne.name)||On(L,ne.name,ne.value==="{$uid}"?`mce_${iO++}`:ne.value)}),K.attributesRequired&&!Sn(K.attributesRequired,ne=>Qi(L,ne))){Ee(L);return}if(K.removeEmptyAttrs&&As(L)){Ee(L);return}K.outputName&&K.outputName!==B&&jb(L,K.outputName)}},cO=(e,t,n,r,i)=>{const c=e.tagName.toLowerCase(),{attrName:u,attrValue:g}=i;i.keepAttr=jS(t,n,r,c,u,g),i.keepAttr?(i.allowedAttributes[u]=!0,WS(u,n)&&(i.attrValue=u),t.allow_svg_data_urls&&cr(g,"data:image/svg+xml")&&(i.forceKeepAttr=!0)):ZS(e,u)&&(i.forceKeepAttr=!0)},jS=(e,t,n,r,i,c)=>n!=="html"&&!k(r)?!0:!(i in I7&&aO(e,c,r))&&(!e.validate||t.isValid(r,i)||cr(i,"data-")||cr(i,"aria-")),ZS=(e,t)=>e.hasAttribute(US)&&(t==="id"||t==="class"||t==="style"),WS=(e,t)=>e in t.getBoolAttrs(),dO=(e,t,n,r)=>{const{attributes:i}=e;for(let c=i.length-1;c>=0;c--){const u=i[c],g=u.name,x=u.value;!jS(t,n,r,e.tagName.toLowerCase(),g,x)&&!ZS(e,g)?e.removeAttribute(g):WS(g,n)&&e.setAttribute(g,g)}},uO=(e,t,n)=>{const r=VS();return r.addHook("uponSanitizeElement",(i,c)=>{lO(i,e,t,n.track(i),c)}),r.addHook("uponSanitizeAttribute",(i,c)=>{cO(i,e,t,n.current(),c)}),r},fO=(e,t)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},F7=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};VS().sanitize(e,n)},H7=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=VS(),i=t.allow_mathml_annotation_encodings,c=ve(i)&&i.length>0,u=x=>{const C=x.getAttribute("encoding");return c&&pt(C)&&on(i,C)},g=(x,C)=>c&&C==="semantics"?H.some(!0):C==="annotation"?H.some(Ot(x)&&u(x)):ve(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(C)?H.from(!0):H.none();r.addHook("uponSanitizeElement",(x,C)=>{var R;const B=(R=C.tagName)!==null&&R!==void 0?R:x.nodeName.toLowerCase();g(x,B).each(W=>{C.allowedTags[B]=W,!W&&t.sanitize&&Ot(x)&&x.remove()})}),r.addHook("uponSanitizeAttribute",(x,C)=>{ve(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(C.attrName)&&(C.forceKeepAttr=!0)}),r.sanitize(e,n)},mO=e=>t=>{const n=$(t);if(n==="svg")F7(t);else if(n==="math")H7(t,e);else throw new Error("Not a namespace element")},$7=(e,t)=>{const n=be();if(e.sanitize){const r=uO(e,t,n);return{sanitizeHtmlElement:(c,u)=>{r.sanitize(c,fO(e,u)),r.removed=[],n.reset()},sanitizeNamespaceElement:mO(e)}}else return{sanitizeHtmlElement:(c,u)=>{const g=document.createNodeIterator(c,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let x;for(;x=g.nextNode();){const C=n.track(x);lO(x,e,t,C),Ot(x)&&dO(x,e,t,C)}n.reset()},sanitizeNamespaceElement:ao}},pO=gt.makeMap,qS=gt.extend,GS=(e,t,n,r)=>{const i=e.name,c=i in n&&i!=="title"&&i!=="textarea"&&i!=="noscript",u=t.childNodes;for(let g=0,x=u.length;g<x;g++){const C=u[g],R=new Fl(C.nodeName.toLowerCase(),C.nodeType);if(Ot(C)){const B=C.attributes;for(let L=0,W=B.length;L<W;L++){const ee=B[L];R.attr(ee.name,ee.value)}k(R.name)&&(r(C),R.value=C.innerHTML)}else it(C)?(R.value=C.data,c&&(R.raw=!0)):(sc(C)||ad(C)||Gu(C))&&(R.value=C.data);k(R.name)||GS(R,C,n,r),e.append(R)}},V7=(e,t,n)=>{const r=[];for(let i=e,c=i;i;c=i,i=i.walk()){const u=i;Ne(t,g=>g(u)),Io(u.parent)&&u!==e?i=c:r.push(u)}for(let i=r.length-1;i>=0;i--){const c=r[i];Ne(n,u=>u(c))}},gO=(e,t,n,r)=>{const i=n.validate,c=t.getNonEmptyElements(),u=t.getWhitespaceElements(),g=qS(pO("script,style,head,html,body,title,meta,param"),t.getBlockElements()),x=cc(t),C=/[ \t\r\n]+/g,R=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,L=Ce=>{let ze=Ce.parent;for(;Ie(ze);){if(ze.name in u)return!0;ze=ze.parent}return!1},W=Ce=>{let ze=Ce;for(;Ie(ze);){if(ze.name in x)return ux(t,c,u,ze);ze=ze.parent}return!1},ee=Ce=>Ce.name in g||ai(t,Ce)||k(Ce.name)&&Ce.parent===e,K=(Ce,ze)=>{const Re=ze?Ce.prev:Ce.next;return Ie(Re)||Io(Ce.parent)?!1:ee(Ce.parent)&&(Ce.parent!==e||r.isRootContent===!0)};return[Ce=>{var ze;if(Ce.type===3&&!L(Ce)){let Re=(ze=Ce.value)!==null&&ze!==void 0?ze:"";Re=Re.replace(C," "),(fx(Ce.prev,ee)||K(Ce,!0))&&(Re=Re.replace(R,"")),Re.length===0||Re===" "&&Ce.prev&&Ce.prev.type===Ld&&Ce.next&&Ce.next.type===Ld?Ce.remove():Ce.value=Re}},Ce=>{var ze;if(Ce.type===1){const Re=t.getElementRule(Ce.name);if(i&&Re){const Xe=ux(t,c,u,Ce);Re.paddInEmptyBlock&&Xe&&W(Ce)?ZC(n,r,ee,Ce):Re.removeEmpty&&Xe?ee(Ce)?Ce.remove():Ce.unwrap():Re.paddEmpty&&(Xe||e7(Ce))&&ZC(n,r,ee,Ce)}}else if(Ce.type===3&&!L(Ce)){let Re=(ze=Ce.value)!==null&&ze!==void 0?ze:"";(Ce.next&&ee(Ce.next)||K(Ce,!1))&&(Re=Re.replace(B,"")),Re.length===0?Ce.remove():Ce.value=Re}}]},hO=(e,t)=>{var n;const r=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},Qy=(e={},t=wt())=>{const n=CS(),r=CS(),i={validate:!0,root_name:"body",sanitize:!0,...e},c=new DOMParser,u=$7(i,t),g=(ze,Re,Xe="html")=>{const mt=Xe==="xhtml"?"application/xhtml+xml":"text/html",At=po(t.getSpecialElements(),Re.toLowerCase()),Ze=At?`<${Re}>${ze}</${Re}>`:ze,Pe=()=>Xe==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Ze}</body></html>`:/^[\s]*<head/i.test(ze)||/^[\s]*<html/i.test(ze)||/^[\s]*<!DOCTYPE/i.test(ze)?`<html>${Ze}</html>`:`<body>${Ze}</body>`,et=c.parseFromString(Pe(),mt).body;return u.sanitizeHtmlElement(et,mt),At?et.firstChild:et},x=n.addFilter,C=n.getFilters,R=n.removeFilter,B=r.addFilter,L=r.getFilters,W=r.removeFilter,ee=(ze,Re)=>{Vy(t,ze)&&Re.push(ze)},K=(ze,Re)=>{const Xe=pt(Re.attr(US)),mt=Re.type===1&&!po(ze,Re.name)&&!ai(t,Re)&&!k(Re.name);return Re.type===3||mt&&!Xe},ne=(ze,Re)=>{const Xe=qS(pO("script,style,head,html,body,title,meta,param"),t.getBlockElements()),mt=/^[ \t\r\n]+/,At=/[ \t\r\n]+$/;let Ze=ze.firstChild,Pe=null;const et=St=>{var Jt,rn;St&&(Ze=St.firstChild,Ze&&Ze.type===3&&(Ze.value=(Jt=Ze.value)===null||Jt===void 0?void 0:Jt.replace(mt,"")),Ze=St.lastChild,Ze&&Ze.type===3&&(Ze.value=(rn=Ze.value)===null||rn===void 0?void 0:rn.replace(At,"")))};if(t.isValidChild(ze.name,Re.toLowerCase())){for(;Ze;){const St=Ze.next;K(Xe,Ze)?(Pe||(Pe=new Fl(Re,1),Pe.attr(i.forced_root_block_attrs),ze.insert(Pe,Ze)),Pe.append(Ze)):(et(Pe),Pe=null),Ze=St}et(Pe)}},Ce={schema:t,addAttributeFilter:B,getAttributeFilters:L,removeAttributeFilter:W,addNodeFilter:x,getNodeFilters:C,removeNodeFilter:R,parse:(ze,Re={})=>{var Xe;const mt=i.validate,At=(Xe=Re.context)!==null&&Xe!==void 0?Xe:i.root_name,Ze=g(ze,At,Re.format);si(t,Ze);const Pe=new Fl(At,11);GS(Pe,Ze,t.getSpecialElements(),u.sanitizeNamespaceElement),Ze.innerHTML="";const[et,St]=gO(Pe,t,i,Re),Jt=[],rn=mt?da=>ee(da,Jt):ao,an={nodes:{},attributes:{}},jn=da=>jT(C(),L(),da,an);if(V7(Pe,[et,jn],[St,rn]),Jt.reverse(),mt&&Jt.length>0)if(Re.context){const{pass:da,fail:Ri}=at(Jt,Di=>Di.parent===Pe);Op(Ri,t,Pe,jn),Re.invalid=da.length>0}else Op(Jt,t,Pe,jn);const vr=hO(i,Re);return vr&&(Pe.name==="body"||Re.isRootContent)&&ne(Pe,vr),Re.invalid||ZT(an,Re),Pe}};return AS(Ce,i),SS(Ce,i,t),Ce},U7=e=>Qh(e)?Yr({validate:!1}).serialize(e):e,bO=(e,t,n)=>{const r=U7(e),i=t(r);if(i.isDefaultPrevented())return i;if(Qh(e))if(i.content!==r){const c=Qy({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:e.name});return{...i,content:c}}else return{...i,content:e};else return i},yO=e=>({sanitize:hE(e),sandbox_iframes:i2(e),sandbox_iframes_exclusions:s_(e)}),xO=(e,t)=>{if(t.no_events)return lt.value(t);{const n=qw(e,t);return n.isDefaultPrevented()?lt.error(Gw(e,{content:"",...n}).content):lt.value(n)}},Dx=(e,t,n)=>n.no_events?t:bO(t,i=>Gw(e,{...n,content:i}),yO(e)).content,Pk=(e,t)=>{if(t.no_events)return lt.value(t);{const n=bO(t.content,r=>Ww(e,{...t,content:r}),yO(e));return n.isDefaultPrevented()?(P3(e,n),lt.error(void 0)):lt.value(n)}},Lk=(e,t,n)=>{n.no_events||P3(e,{...n,content:t})},Ik=(e,t,n)=>({element:e,width:t,rows:n}),vO=(e,t)=>({element:e,cells:t}),j7=(e,t)=>({x:e,y:t}),KS=(e,t)=>Os(e,t).bind(Wn).getOr(1),Z7=(e,t,n,r,i)=>{const c=KS(i,"rowspan"),u=KS(i,"colspan"),g=e.rows;for(let x=n;x<n+c;x++){g[x]||(g[x]=vO(Vb(r),[]));for(let C=t;C<t+u;C++){const R=g[x].cells;R[C]=x===n&&C===t?i:ud(i)}}},YS=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},_O=(e,t,n)=>{for(;YS(e,t,n);)t++;return t},kO=e=>fo(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),Ma=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const i=n[r].cells;for(let c=0;c<i.length;c++)if(en(i[c],t))return H.some(j7(c,r))}return H.none()},_f=(e,t,n,r,i)=>{const c=[],u=e.rows;for(let g=n;g<=i;g++){const x=u[g].cells,C=t<r?x.slice(t,r+1):x.slice(r,t+1);c.push(vO(u[g].element,C))}return c},W7=(e,t,n)=>{const r=t.x,i=t.y,c=n.x,u=n.y,g=i<u?_f(e,r,i,c,u):_f(e,r,u,c,i);return Ik(e.element,kO(g),g)},q7=(e,t)=>{const n=ud(e.element),r=re.fromTag("tbody");return Oa(r,t),Mr(n,r),n},G7=e=>Jo(e.rows,t=>{const n=Jo(t.cells,i=>{const c=Vb(i);return En(c,"colspan"),En(c,"rowspan"),c}),r=ud(t.element);return Oa(r,n),r}),wO=e=>{const t=Ik(ud(e),0,[]);return Ne(Rs(e,"tr"),(n,r)=>{Ne(Rs(n,"td,th"),(i,c)=>{Z7(t,_O(t,c,r),r,n,i)})}),Ik(t.element,kO(t.rows),t.rows)},e1=e=>q7(e,G7(e)),K7=(e,t,n)=>Ma(e,t).bind(r=>Ma(e,n).map(i=>W7(e,r,i))),kf=e=>Tn(e,t=>pn(t)==="ul"||pn(t)==="ol"),Y7=(e,t)=>Tn(e,n=>pn(n)==="li"&&b_(n,t)).fold(Je([]),n=>kf(e).map(r=>{const i=re.fromTag(pn(r)),c=Yi(Ei(r),(u,g)=>cr(g,"list-style"));return Xs(i,c),[re.fromTag("li"),i]}).getOr([])),X7=(e,t)=>{const n=fo(t,(r,i)=>(Mr(i,r),i),e);return t.length>0?H0([n]):n},CO=e=>_u(e)?oi(e).filter(Wd).fold(Je([]),t=>[e,t]):Wd(e)?[e]:[],SO=(e,t,n)=>{const r=re.fromDom(t.commonAncestorContainer),i=cm(r,e),c=Ke(i,x=>n.isWrapper(pn(x))),u=Y7(i,t),g=c.concat(u.length?u:CO(r));return Jo(g,ud)},EO=()=>H0([]),XS=(e,t,n)=>X7(re.fromDom(t.cloneContents()),SO(e,t,n)),hm=(e,t)=>nd(t,"table",De(en,e)),zO=(e,t)=>hm(e,t[0]).bind(n=>{const r=t[0],i=t[t.length-1],c=wO(n);return K7(c,r,i).map(u=>H0([e1(u)]))}).getOrThunk(EO),TO=(e,t,n)=>t.length>0&&t[0].collapsed?EO():XS(e,t[0],n),Fk=(e,t,n)=>{const r=k2(t,e);return r.length>0?zO(e,r):TO(e,t,n)},t1=(e,t)=>t>=0&&t<e.length&&zh(e.charAt(t)),JS=e=>wa(e.innerText),OO=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),AO=e=>H.from(e.selection.getRng()).map(t=>{var n;const r=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=OO(r),u=re.fromDom(t.cloneContents());vp(u),V_(u);const g=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),x=JS(g),C=wa((n=g.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(g),t1(C,0)||t1(C,C.length-1)){const R=r.getOr(i),B=JS(R),L=B.indexOf(x);if(L===-1)return x;{const W=t1(B,L-1),ee=t1(B,L+x.length);return(W?" ":"")+x+(ee?" ":"")}}else return x}).getOr(""),J7=(e,t)=>{const n=e.selection.getRng(),r=e.dom.create("body"),i=e.selection.getSel(),c=sC(e,p_(i)),u=t.contextual?Fk(re.fromDom(e.getBody()),c,e.schema).dom:n.cloneContents();return u&&r.appendChild(u),e.selection.serializer.serialize(r,t)},Q7=(e,t)=>{if(t.format==="text")return AO(e);{const n=J7(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},e8=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),NO=(e,t,n={})=>{const r=e8(n,t);return xO(e,r).fold(fn,i=>{const c=Q7(e,i);return Dx(e,c,i)})},Hk=0,RO=1,$k=2,DO=(e,t)=>{const n=e.length+t.length+2,r=new Array(n),i=new Array(n),c=(R,B,L)=>({start:R,end:B,diag:L}),u=(R,B,L,W,ee)=>{const K=x(R,B,L,W);if(K===null||K.start===B&&K.diag===B-W||K.end===R&&K.diag===R-L){let ne=R,me=L;for(;ne<B||me<W;)ne<B&&me<W&&e[ne]===t[me]?(ee.push([Hk,e[ne]]),++ne,++me):B-R>W-L?(ee.push([$k,e[ne]]),++ne):(ee.push([RO,t[me]]),++me)}else{u(R,K.start,L,K.start-K.diag,ee);for(let ne=K.start;ne<K.end;++ne)ee.push([Hk,e[ne]]);u(K.end,B,K.end-K.diag,W,ee)}},g=(R,B,L,W)=>{let ee=R;for(;ee-B<W&&ee<L&&e[ee]===t[ee-B];)++ee;return c(R,ee,B)},x=(R,B,L,W)=>{const ee=B-R,K=W-L;if(ee===0||K===0)return null;const ne=ee-K,me=K+ee,Ce=(me%2===0?me:me+1)/2;r[1+Ce]=R,i[1+Ce]=B+1;let ze,Re,Xe,mt,At;for(ze=0;ze<=Ce;++ze){for(Re=-ze;Re<=ze;Re+=2){for(Xe=Re+Ce,Re===-ze||Re!==ze&&r[Xe-1]<r[Xe+1]?r[Xe]=r[Xe+1]:r[Xe]=r[Xe-1]+1,mt=r[Xe],At=mt-R+L-Re;mt<B&&At<W&&e[mt]===t[At];)r[Xe]=++mt,++At;if(ne%2!==0&&ne-ze<=Re&&Re<=ne+ze&&i[Xe-ne]<=r[Xe])return g(i[Xe-ne],Re+R-L,B,W)}for(Re=ne-ze;Re<=ne+ze;Re+=2){for(Xe=Re+Ce-ne,Re===ne-ze||Re!==ne+ze&&i[Xe+1]<=i[Xe-1]?i[Xe]=i[Xe+1]-1:i[Xe]=i[Xe-1],mt=i[Xe]-1,At=mt-R+L-Re;mt>=R&&At>=L&&e[mt]===t[At];)i[Xe]=mt--,At--;if(ne%2===0&&-ze<=Re&&Re<=ze&&i[Xe]<=r[Xe+ne])return g(i[Xe],Re+R-L,B,W)}}return null},C=[];return u(0,e.length,0,t.length,C),C},MO=e=>Ot(e)?e.outerHTML:it(e)?Nc.encodeRaw(e.data,!1):sc(e)?"<!--"+e.data+"-->":"",BO=e=>{let t;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},t8=(e,t,n)=>{const r=BO(t);if(e.hasChildNodes()&&n<e.childNodes.length){const i=e.childNodes[n];e.insertBefore(r,i)}else e.appendChild(r)},sl=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},o8=(e,t)=>{let n=0;Ne(e,r=>{r[0]===Hk?n++:r[0]===RO?(t8(t,r[1],n),n++):r[0]===$k&&sl(t,n)})},n8=(e,t)=>Ke(Jo(Fo(e.childNodes),Do(wa,MO)),n=>n.length>0),r8=(e,t)=>{const n=Jo(Fo(t.childNodes),MO);return o8(DO(n,e),t),t},s8=Ya(()=>document.implementation.createHTMLDocument("undo")),Vk=e=>e.querySelector("iframe")!==null,a8=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),QS=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),o1=e=>{const t=e.serializer.getTempAttrs(),n=Nu(e.getBody(),t);return Vk(n)?a8(n8(n)):QS(wa(n.innerHTML))},e4=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?r8(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Ie(r)&&Eh(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},t4=e=>e.type==="fragmented"?e.fragments.join(""):e.content,Pu=e=>{const t=re.fromTag("body",s8());return ka(t,t4(e)),Ne(Rs(t,"*[data-mce-bogus]"),Ee),tr(t)},PO=(e,t)=>t4(e)===t4(t),i8=(e,t)=>Pu(e)===Pu(t),Mx=(e,t)=>!e||!t?!1:PO(e,t)?!0:i8(e,t),Uk=e=>e.get()===0,rb=(e,t,n)=>{Uk(n)&&(e.typing=t)},o4=(e,t)=>{e.typing&&(rb(e,!1,t),e.add())},LO=e=>{e.typing&&(e.typing=!1,e.add())},IO=(e,t,n)=>{Uk(t)&&n.set(Fe(e.selection))},l8=(e,t,n,r,i,c,u)=>{const g=o1(e),x=gt.extend(c||{},g);if(!Uk(r)||e.removed)return null;const C=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:x,lastLevel:C,originalEvent:u}).isDefaultPrevented()||C&&Mx(C,x))return null;t.data[n.get()]&&i.get().each(L=>{t.data[n.get()].beforeBookmark=L});const R=xR(e);if(R&&t.data.length>R){for(let L=0;L<t.data.length-1;L++)t.data[L]=t.data[L+1];t.data.length--,n.set(t.data.length)}x.bookmark=Fe(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(x),n.set(t.data.length-1);const B={level:x,lastLevel:C,originalEvent:u};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",B),e.dispatch("change",B)):e.dispatch("AddUndo",B),x},c8=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},n4=(e,t,n,r,i)=>{if(t.transact(r)){const c=t.data[n.get()].bookmark,u=t.data[n.get()-1];e4(e,u,!0),t.transact(i)&&(t.data[n.get()-1].beforeBookmark=c)}},d8=(e,t,n)=>{let r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],e4(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},u8=(e,t,n,r)=>{let i;return t.typing&&(t.add(),t.typing=!1,rb(t,!1,n)),r.get()>0&&(r.set(r.get()-1),i=t.data[r.get()],e4(e,i,!0),e.setDirty(!0),e.dispatch("Undo",{level:i})),i},jk=e=>{e.clear(),e.add()},r4=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Mx(o1(e),t.data[0]),s4=(e,t)=>t.get()<e.data.length-1&&!e.typing,FO=(e,t,n)=>(o4(e,t),e.beforeChange(),e.ignore(n),e.add()),Rg=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},f8=(e,t)=>{const n=e.dom,r=Ie(t)?t:e.getBody();Ne(n.select("table,a",r),i=>{switch(i.nodeName){case"TABLE":const c=tE(e),u=n.getAttrib(i,"border");(!u||u==="0")&&e.hasVisual?n.addClass(i,c):n.removeClass(i,c);break;case"A":if(!n.getAttrib(i,"href")){const g=n.getAttrib(i,"name")||i.id,x=Qv(e);g&&e.hasVisual?n.addClass(i,x):n.removeClass(i,x)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},HO=e=>({init:{bindEvents:ao},undoManager:{beforeChange:(t,n)=>IO(e,t,n),add:(t,n,r,i,c,u)=>l8(e,t,n,r,i,c,u),undo:(t,n,r)=>u8(e,t,n,r),redo:(t,n)=>d8(e,t,n),clear:(t,n)=>c8(e,t,n),reset:t=>jk(t),hasUndo:(t,n)=>r4(e,t,n),hasRedo:(t,n)=>s4(t,n),transact:(t,n,r)=>FO(t,n,r),ignore:(t,n)=>Rg(t,n),extra:(t,n,r,i)=>n4(e,t,n,r,i)},formatter:{match:(t,n,r,i)=>oS(e,t,n,r,i),matchAll:(t,n)=>r7(e,t,n),matchNode:(t,n,r,i)=>mm(e,t,n,r,i),canApply:t=>a7(e,t),closest:t=>s7(e,t),apply:(t,n,r)=>_S(e,t,n,r),remove:(t,n,r,i)=>Dp(e,t,n,r,i),toggle:(t,n,r)=>Ek(e,t,n,r),formatChanged:(t,n,r,i,c)=>I5(e,t,n,r,i,c)},editor:{getContent:t=>ND(e,t),setContent:(t,n)=>o7(e,t,n),insertContent:(t,n)=>p5(e,t,n),addVisual:t=>f8(e,t)},selection:{getContent:(t,n)=>NO(e,t,n)},autocompleter:{addDecoration:ao,removeDecoration:ao},raw:{getModel:()=>H.none()}}),Zk=e=>{const t=C=>ue(C)?C:{},{init:n,undoManager:r,formatter:i,editor:c,selection:u,autocompleter:g,raw:x}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(C,R,B)=>r.transact(B),ignore:(C,R)=>r.ignore(R),extra:(C,R,B,L)=>r.extra(B,L)},formatter:{match:(C,R,B,L)=>i.match(C,t(R),L),matchAll:i.matchAll,matchNode:i.matchNode,canApply:C=>i.canApply(C),closest:C=>i.closest(C),apply:(C,R,B)=>i.apply(C,t(R)),remove:(C,R,B,L)=>i.remove(C,t(R)),toggle:(C,R,B)=>i.toggle(C,t(R)),formatChanged:(C,R,B,L,W)=>i.formatChanged(R,B,L,W)},editor:{getContent:C=>c.getContent(C),setContent:(C,R)=>({content:c.setContent(C,R),html:""}),insertContent:(C,R)=>(c.insertContent(C),""),addVisual:c.addVisual},selection:{getContent:(C,R)=>u.getContent(R)},autocompleter:{addDecoration:g.addDecoration,removeDecoration:g.removeDecoration},raw:{getModel:()=>H.some(x.getRawModel())}}},$O=()=>{const e=Je(null),t=Je("");return{init:{bindEvents:ao},undoManager:{beforeChange:ao,add:e,undo:e,redo:e,clear:ao,reset:ao,hasUndo:ho,hasRedo:ho,transact:e,ignore:ao,extra:ao},formatter:{match:ho,matchAll:Je([]),matchNode:Je(void 0),canApply:ho,closest:t,apply:ao,remove:ao,toggle:ao,formatChanged:Je({unbind:ao})},editor:{getContent:t,setContent:Je({content:"",html:""}),insertContent:Je(""),addVisual:ao},selection:{getContent:t},autocompleter:{addDecoration:ao,removeDecoration:ao},raw:{getModel:Je(H.none())}}},wf=e=>po(e.plugins,"rtc"),VO=e=>Hn(e.plugins,"rtc").bind(t=>H.from(t.setup)),m8=e=>{const t=e;return VO(e).fold(()=>(t.rtcInstance=HO(e),H.none()),n=>(t.rtcInstance=$O(),H.some(()=>n().then(r=>(t.rtcInstance=Zk(r),r.rtc.isRemote)))))},a4=e=>e.rtcInstance?e.rtcInstance:HO(e),Sa=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},i4=(e,t,n)=>{Sa(e).undoManager.beforeChange(t,n)},l4=(e,t,n,r,i,c,u)=>Sa(e).undoManager.add(t,n,r,i,c,u),UO=(e,t,n,r)=>Sa(e).undoManager.undo(t,n,r),Wk=(e,t,n)=>Sa(e).undoManager.redo(t,n),jO=(e,t,n)=>{Sa(e).undoManager.clear(t,n)},ZO=(e,t)=>{Sa(e).undoManager.reset(t)},p8=(e,t,n)=>Sa(e).undoManager.hasUndo(t,n),g8=(e,t,n)=>Sa(e).undoManager.hasRedo(t,n),c4=(e,t,n,r)=>Sa(e).undoManager.transact(t,n,r),WO=(e,t,n)=>{Sa(e).undoManager.ignore(t,n)},qO=(e,t,n,r,i)=>{Sa(e).undoManager.extra(t,n,r,i)},h8=(e,t,n,r,i)=>Sa(e).formatter.match(t,n,r,i),b8=(e,t,n)=>Sa(e).formatter.matchAll(t,n),y8=(e,t,n,r,i)=>Sa(e).formatter.matchNode(t,n,r,i),GO=(e,t)=>Sa(e).formatter.canApply(t),KO=(e,t)=>Sa(e).formatter.closest(t),x8=(e,t,n,r)=>{Sa(e).formatter.apply(t,n,r)},v8=(e,t,n,r,i)=>{Sa(e).formatter.remove(t,n,r,i)},n1=(e,t,n,r)=>{Sa(e).formatter.toggle(t,n,r)},_8=(e,t,n,r,i,c)=>Sa(e).formatter.formatChanged(t,n,r,i,c),k8=(e,t)=>a4(e).editor.getContent(t),YO=(e,t,n)=>a4(e).editor.setContent(t,n),XO=(e,t,n)=>a4(e).editor.insertContent(t,n),qk=(e,t,n)=>Sa(e).selection.getContent(t,n),w8=(e,t)=>Sa(e).editor.addVisual(t),JO=e=>Sa(e).init.bindEvents(),C8=(e,t={})=>{const n=t.format?t.format:"html";return qk(e,n,t)},QO=e=>e.dom.length===0?(un(e),H.none()):H.some(e),S8=(e,t)=>e.filter(n=>M0.isBookmarkNode(n.dom)).bind(t?Hd:ul),E8=(e,t,n,r,i)=>{const c=e.dom,u=t.dom,g=r?c.length:u.length;r?(Y_(c,u,i,!1,!r),n.setStart(u,g)):(Y_(u,c,i,!1,!r),n.setEnd(u,g))},z8=(e,t,n)=>{oi(e).each(r=>{const i=e.dom;t&&qh(r,$e(i,0),n)?Fy(i,0,n):!t&&Iy(r,$e(i,i.length),n)&&ox(i,i.length,n)})},eA=(e,t,n,r,i)=>{e.bind(c=>((r?ox:Fy)(c.dom,r?c.dom.length:0,i),t.filter(js).map(g=>E8(c,g,n,r,i)))).orThunk(()=>S8(t,r).or(t).filter(js).map(u=>z8(u,r,i)))},T8=(e,t,n)=>{const r=H.from(t.firstChild).map(re.fromDom),i=H.from(t.lastChild).map(re.fromDom);e.deleteContents(),e.insertNode(t);const c=r.bind(ul).filter(js).bind(QO),u=i.bind(Hd).filter(js).bind(QO);eA(c,r,e,!0,n),eA(u,i,e,!1,n),e.collapse(!1)},O8=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),Fr=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),i=r?{context:r.nodeName.toLowerCase()}:{},c=e.parser.parse(t.content,{forced_root_block:!1,...i,...t});return Yr({validate:!1},e.schema).serialize(c)}else return t.content},tA=(e,t,n={})=>{const r=O8(n,t);Pk(e,r).each(i=>{const c=Fr(e,i),u=e.selection.getRng();T8(u,u.createContextualFragment(c),e.schema),e.selection.setRng(u),U0(e,u),Lk(e,c,i)})},Gk=(e,t,n)=>{if(po(e,t)){const r=Ke(e[t],i=>i!==n);r.length===0?delete e[t]:e[t]=r}};var oA=(e,t)=>{let n,r;const i=(g,x)=>Tn(x,C=>e.is(C,g)),c=g=>e.getParents(g,void 0,e.getRoot()),u=()=>{n={},r={},t.on("NodeChange",g=>{const x=g.element,C=c(x),R={};Ho(n,(B,L)=>{i(L,C).each(W=>{r[L]||(Ne(B,ee=>{ee(!0,{node:W,selector:L,parents:C})}),r[L]=B),R[L]=B})}),Ho(r,(B,L)=>{R[L]||(delete r[L],Ne(B,W=>{W(!1,{node:x,selector:L,parents:C})}))})})};return{selectorChangedWithUnbind:(g,x)=>(n||u(),n[g]||(n[g]=[]),n[g].push(x),i(g,c(t.selection.getStart())).each(()=>{r[g]=n[g]}),{unbind:()=>{Gk(n,g,x),Gk(r,g,x)}})}};const d4=e=>!!(e&&e.ownerDocument)&&Ha(re.fromDom(e.ownerDocument),re.fromDom(e)),Kk=e=>e?d4(e.startContainer)&&d4(e.endContainer):!1,nA=(e,t,n,r)=>{let i,c;const{selectorChangedWithUnbind:u}=oA(e,r),g=(kt,Qt)=>{const In=e.createRng();Ie(kt)&&Ie(Qt)?(In.setStart(kt,Qt),In.setEnd(kt,Qt),Re(In),me(!1)):(y_(e,In,r.getBody(),!0),Re(In))},x=kt=>C8(r,kt),C=(kt,Qt)=>tA(r,kt,Qt),R=kt=>Uz(r.getBody(),ze(),kt),B=kt=>jz(r.getBody(),ze(),kt),L=(kt,Qt)=>Ri.getBookmark(kt,Qt),W=kt=>Ri.moveToBookmark(kt),ee=(kt,Qt)=>(Cg(e,kt,Qt).each(Re),kt),K=()=>{const kt=ze(),Qt=Ce();return!kt||kt.item?!1:kt.compareEndPoints?kt.compareEndPoints("StartToEnd",kt)===0:!Qt||kt.collapsed},ne=()=>{if(r.mode.isReadOnly())return!1;const kt=ze(),Qt=r.getBody().querySelectorAll('[data-mce-selected="1"]');return Qt.length>0?Qr(Qt,In=>e.isEditable(In.parentElement)):$z(e,kt)},me=kt=>{const Qt=ze();Qt.collapse(!!kt),Re(Qt)},Ce=()=>t.getSelection?t.getSelection():t.document.selection,ze=()=>{let kt;const Qt=(zt,st,Ct)=>{try{return st.compareBoundaryPoints(zt,Ct)}catch{return-1}},In=t.document;if(Ie(r.bookmark)&&!Ph(r)){const zt=L2(r);if(zt.isSome())return zt.map(st=>sC(r,[st])[0]).getOr(In.createRange())}try{const zt=Ce();zt&&!Hf(zt.anchorNode)&&(zt.rangeCount>0?kt=zt.getRangeAt(0):kt=In.createRange(),kt=sC(r,[kt])[0])}catch{}if(kt||(kt=In.createRange()),id(kt.startContainer)&&kt.collapsed){const zt=e.getRoot();kt.setStart(zt,0),kt.setEnd(zt,0)}return i&&c&&(Qt(kt.START_TO_START,kt,i)===0&&Qt(kt.END_TO_END,kt,i)===0?kt=c:(i=null,c=null)),kt},Re=(kt,Qt)=>{if(!Kk(kt))return;const In=Ce();if(kt=r.dispatch("SetSelectionRange",{range:kt,forward:Qt}).range,In){c=kt;try{In.removeAllRanges(),In.addRange(kt)}catch{}Qt===!1&&In.extend&&(In.collapse(kt.endContainer,kt.endOffset),In.extend(kt.startContainer,kt.startOffset)),i=In.rangeCount>0?In.getRangeAt(0):null}if(!kt.collapsed&&kt.startContainer===kt.endContainer&&(In!=null&&In.setBaseAndExtent)&&kt.endOffset-kt.startOffset<2&&kt.startContainer.hasChildNodes()){const st=kt.startContainer.childNodes[kt.startOffset];st&&st.nodeName==="IMG"&&(In.setBaseAndExtent(kt.startContainer,kt.startOffset,kt.endContainer,kt.endOffset),(In.anchorNode!==kt.startContainer||In.focusNode!==kt.endContainer)&&In.setBaseAndExtent(st,0,st,1))}r.dispatch("AfterSetSelectionRange",{range:kt,forward:Qt})},Xe=kt=>(C(e.getOuterHTML(kt)),kt),mt=()=>Wz(r.getBody(),ze()),At=(kt,Qt)=>ED(e,ze(),kt,Qt),Ze=()=>{const kt=Ce(),Qt=kt==null?void 0:kt.anchorNode,In=kt==null?void 0:kt.focusNode;if(!kt||!Qt||!In||Hf(Qt)||Hf(In))return!0;const zt=e.createRng(),st=e.createRng();try{zt.setStart(Qt,kt.anchorOffset),zt.collapse(!0),st.setStart(In,kt.focusOffset),st.collapse(!0)}catch{return!0}return zt.compareBoundaryPoints(zt.START_TO_START,st)<=0},da={dom:e,win:t,serializer:n,editor:r,expand:(kt={type:"word"})=>Re(bf(e).expand(ze(),kt)),collapse:me,setCursorLocation:g,getContent:x,setContent:C,getBookmark:L,moveToBookmark:W,select:ee,isCollapsed:K,isEditable:ne,isForward:Ze,setNode:Xe,getNode:mt,getSel:Ce,setRng:Re,getRng:ze,getStart:R,getEnd:B,getSelectedBlocks:At,normalize:()=>{const kt=ze(),Qt=Ce();if(!YE(Qt)&&xy(r)){const In=I_(e,kt);return In.each(zt=>{Re(zt,Ze())}),In.getOr(kt)}return kt},selectorChanged:(kt,Qt)=>(u(kt,Qt),da),selectorChangedWithUnbind:u,getScrollContainer:()=>{let kt,Qt=e.getRoot();for(;Qt&&Qt.nodeName!=="BODY";){if(Qt.scrollHeight>Qt.clientHeight){kt=Qt;break}Qt=Qt.parentNode}return kt},scrollIntoView:(kt,Qt)=>{Ie(kt)?SD(r,kt,Qt):U0(r,ze(),Qt)},placeCaretAt:(kt,Qt)=>Re(X2(kt,Qt,r.getDoc())),getBoundingClientRect:()=>{const kt=ze();return kt.collapsed?$e.fromRangeStart(kt).getClientRects()[0]:kt.getBoundingClientRect()},destroy:()=>{t=i=c=null,Di.destroy()}},Ri=M0(da),Di=K2(da,r);return da.bookmarkManager=Ri,da.controlSelection=Di,da},u4=(e,t,n)=>{t.addNodeFilter("br",(r,i,c)=>{const u=gt.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),x=n.getWhitespaceElements();u.body=1;const C=R=>R.name in u||ai(n,R);for(let R=0,B=r.length;R<B;R++){let L=r[R],W=L.parent;if(W&&C(W)&&L===W.lastChild){let ee=L.prev;for(;ee;){const K=ee.name;if(K!=="span"||ee.attr("data-mce-type")!=="bookmark"){K==="br"&&(L=null);break}ee=ee.prev}if(L&&(L.remove(),ux(n,g,x,W))){const K=n.getElementRule(W.name);K&&(K.removeEmpty?W.remove():K.paddEmpty&&ZC(e,c,C,W))}}else{let ee=L;for(;W&&W.firstChild===ee&&W.lastChild===ee&&(ee=W,!u[W.name]);)W=W.parent;if(ee===W){const K=new Fl("#text",3);K.value=os,L.replace(K)}}}})},A8=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,i)=>{let c=r.length;for(;c--;){const u=r[c];u.attr("tabindex",u.attr("data-mce-tabindex")),u.attr(i,null)}}),e.addAttributeFilter("src,href,style",(r,i)=>{const c="data-mce-"+i,u=t.url_converter,g=t.url_converter_scope;let x=r.length;for(;x--;){const C=r[x];let R=C.attr(c);R!==void 0?(C.attr(i,R.length>0?R:null),C.attr(c,null)):(R=C.attr(i),i==="style"?R=n.serializeStyle(n.parseStyle(R),C.name):u&&(R=u.call(g,R,i,C.name)),C.attr(i,R.length>0?R:null))}}),e.addAttributeFilter("class",r=>{let i=r.length;for(;i--;){const c=r[i];let u=c.attr("class");u&&(u=u.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",u.length>0?u:null))}}),e.addAttributeFilter("data-mce-type",(r,i,c)=>{let u=r.length;for(;u--;){const g=r[u];g.attr("data-mce-type")==="bookmark"&&!c.cleanup&&(H.from(g.firstChild).exists(C=>{var R;return!mh((R=C.value)!==null&&R!==void 0?R:"")})?g.unwrap():g.remove())}}),e.addNodeFilter("script,style",(r,i)=>{var c;const u=x=>x.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let g=r.length;for(;g--;){const x=r[g],C=x.firstChild,R=(c=C==null?void 0:C.value)!==null&&c!==void 0?c:"";if(i==="script"){const B=x.attr("type");B&&x.attr("type",B==="mce-no/type"?null:B.replace(/^mce\-/,"")),t.element_format==="xhtml"&&C&&R.length>0&&(C.value=`// <![CDATA[
`+u(R)+`
// ]]>`)}else t.element_format==="xhtml"&&C&&R.length>0&&(C.value=`<!--
`+u(R)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let i=r.length;for(;i--;){const c=r[i],u=c.value;t.preserve_cdata&&(u==null?void 0:u.indexOf("[CDATA["))===0?(c.name="#cdata",c.type=4,c.value=n.decode(u.replace(/^\[CDATA\[|\]\]$/g,""))):(u==null?void 0:u.indexOf("mce:protected "))===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(u).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,i)=>{let c=r.length;for(;c--;){const u=r[c];u.type===7?u.remove():u.type===1&&i==="input"&&!u.attr("type")&&u.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{Ne(r,i=>{i.attr("data-mce-type")==="format-caret"&&(i.isEmpty(e.schema.getNonEmptyElements())?i.remove():i.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,i)=>{let c=r.length;for(;c--;)r[c].attr(i,null)}),t.remove_trailing_brs&&u4(t,e,e.schema)},N8=e=>{const t=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(t(n)){const r=n.prev;t(r)&&(n.remove(),r.remove())}},rA=(e,t,n)=>{let r;const i=e.dom;let c=t.cloneNode(!0);const u=document.implementation;if(u.createHTMLDocument){const g=u.createHTMLDocument("");gt.each(c.nodeName==="BODY"?c.childNodes:[c],x=>{g.body.appendChild(g.importNode(x,!0))}),c.nodeName!=="BODY"?c=g.body.firstChild:c=g.body,r=i.doc,i.doc=g}return vl(e,{...n,node:c}),r&&(i.doc=r),c},R8=(e,t)=>Ie(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,D8=(e,t,n)=>R8(e,n)?rA(e,t,n):t,M8=(e,t,n)=>{gt.inArray(t,n)===-1&&(e.addAttributeFilter(n,(r,i)=>{let c=r.length;for(;c--;)r[c].attr(i,null)}),t.push(n))},B8=(e,t,n)=>!t.no_events&&e?ip(e,{...t,content:n}).content:n,P8=(e,t,n)=>{const r=wa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||xl(re.fromDom(t))?r:gt.trim(r)},L8=(e,t,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,i=e.parse(t,r);return N8(i),i},Yk=(e,t,n)=>Yr(e,t).serialize(n),sA=(e,t,n,r,i)=>{const c=Yk(t,n,r);return B8(e,i,c)},I8=(e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},i=t&&t.dom?t.dom:Tr.DOM,c=t&&t.schema?t.schema:wt(r),u=Qy(r,c);A8(u,r,i);const g=(x,C={})=>{const R={format:"html",...C},B=D8(t,x,R),L=P8(i,B,R),W=L8(u,L,R);return R.format==="tree"?W:sA(t,r,c,W,R)};return{schema:c,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:g,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:De(M8,u,n),getTempAttrs:Je(n),getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters,removeNodeFilter:u.removeNodeFilter,removeAttributeFilter:u.removeAttributeFilter}},f4=(e,t)=>{const n=I8(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},aA="html",m4=(e,t)=>({...e,format:t,get:!0,getInner:!0}),iA=(e,t={})=>{const n=t.format?t.format:aA,r=m4(t,n);return xO(e,r).fold(fn,i=>{const c=k8(e,i);return Dx(e,c,i)})},p4="html",lA=(e,t)=>({format:p4,...e,set:!0,content:t}),g4=(e,t,n={})=>{const r=lA(n,t);return Pk(e,r).map(i=>{const c=YO(e,i.content,i);return Lk(e,c.html,i),c.content}).getOr(t)},cA="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),dA=[],Xk="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Jk=[],Qk=(e,t)=>{const n=Ke(t,r=>po(e,r));return Qo(n)},r1=e=>{const t=Qk(e,cA),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),Qo(t)},F8=e=>Qk(e,dA),sb=(e,t)=>{const n=gt.makeMap(e.plugins," "),i=Ke(t,c=>po(n,c));return Qo(i)},Bx=e=>sb(e,Xk),s1=e=>sb(e,Jk.map(t=>t.name)),h4=(e,t)=>{const n=r1(e),r=Bx(t),i=r.length>0,c=n.length>0,u=t.theme==="mobile";if(i||c||u){const g=`
- `,x=u?`

Themes:${g}mobile`:"",C=i?`

Plugins:${g}${r.join(g)}`:"",R=c?`

Options:${g}${n.join(g)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+x+C+R)}},uA=e=>Tn(Jk,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),fA=(e,t)=>{const n=F8(e),r=s1(t),i=r.length>0,c=n.length>0;if(i||c){const u=`
- `,g=i?`

Plugins:${u}${r.map(uA).join(u)}`:"",x=c?`

Options:${u}${n.join(u)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+g+x)}},b4=(e,t)=>{h4(e,t),fA(e,t)},Px=Tr.DOM,mA=e=>{Px.setStyle(e.id,"display",e.orgDisplay)},Lx=e=>H.from(e).each(t=>t.destroy()),y4=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const r=n.dom;t.selection=n.win=n.dom=r.doc=null}},pA=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Px.unbind(t,"submit reset",e.formEventDelegate))},gA=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,r=e.getBody(),i=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Ie(i==null?void 0:i.nextSibling)&&Px.remove(i.nextSibling),ry(e),e.editorManager.remove(e),!e.inline&&r&&mA(e),sy(e),Px.remove(e.getContainer()),Lx(t),Lx(n),e.destroy()}},x4=(e,t)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Lx(n),Lx(r)),pA(e),y4(e),e.destroyed=!0}},Ix=(()=>{const e={};return{add:(i,c)=>{e[i]=c},get:i=>e[i]?e[i]:{icons:{}},has:i=>po(e,i)}})(),ab=ci.ModelManager,v4=(e,t)=>t.dom[e],hA=(e,t)=>parseInt(Si(t,e),10),H8=De(v4,"clientWidth"),ew=De(v4,"clientHeight"),bA=De(hA,"margin-top"),yA=De(hA,"margin-left"),xA=e=>e.dom.getBoundingClientRect(),$8=(e,t,n)=>{const r=H8(e),i=ew(e);return t>=0&&n>=0&&t<=r&&n<=i},V8=(e,t,n,r)=>{const i=xA(t),c=e?i.left+t.dom.clientLeft+yA(t):0,u=e?i.top+t.dom.clientTop+bA(t):0,g=n-c,x=r-u;return{x:g,y:x}},U8=(e,t,n)=>{const r=re.fromDom(e.getBody()),i=e.inline?r:du(r),c=V8(e.inline,i,t,n);return $8(i,c.x,c.y)},j8=e=>H.from(e).map(re.fromDom),vA=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return j8(t).map(Dr).getOr(!1)};var _A=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const _4=e=>{const t=[],n=()=>{const L=e.theme;return L&&L.getNotificationManagerImpl?L.getNotificationManagerImpl():_A()},r=()=>H.from(t[0]),i=(L,W)=>L.type===W.type&&L.text===W.text&&!L.progressBar&&!L.timeout&&!W.progressBar&&!W.timeout,c=()=>{r().each(L=>{L.reposition()})},u=L=>{t.push(L)},g=L=>{Qn(t,W=>W===L).each(W=>{t.splice(W,1)})},x=(L,W=!0)=>e.removed||!vA(e)?{}:(W&&e.dispatch("BeforeOpenNotification",{notification:L}),Tn(t,ee=>i(n().getArgs(ee),L)).getOrThunk(()=>{e.editorManager.setActive(e);const ee=n().open(L,()=>{g(ee)},()=>W2(e));return u(ee),c(),e.dispatch("OpenNotification",{notification:{...ee}}),ee})),C=()=>{r().each(L=>{n().close(L),g(L),c()})},R=Je(t);return(L=>{L.on("SkinLoaded",()=>{const W=gR(L);W&&x({text:W,type:"warning",timeout:0},!1),c()}),L.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(c)}),L.on("remove",()=>{Ne(t.slice(),W=>{n().close(W)})}),L.on("keydown",W=>{var ee;const K=((ee=W.key)===null||ee===void 0?void 0:ee.toLowerCase())==="f12"||W.keyCode===123;W.altKey&&K&&(W.preventDefault(),r().map(ne=>re.fromDom(ne.getEl())).each(ne=>N2(ne)))})})(e),{open:x,close:C,getNotifications:R}},a1=ci.PluginManager,Cf=ci.ThemeManager;var Z8=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const k4=e=>{let t=[];const n=()=>{const K=e.theme;return K&&K.getWindowManagerImpl?K.getWindowManagerImpl():Z8()},r=(K,ne)=>(...me)=>ne?ne.apply(K,me):void 0,i=K=>{e.dispatch("OpenWindow",{dialog:K})},c=K=>{e.dispatch("CloseWindow",{dialog:K})},u=K=>{t.push(K),i(K)},g=K=>{c(K),t=Ke(t,ne=>ne!==K),t.length===0&&e.focus()},x=()=>H.from(t[t.length-1]),C=K=>{e.editorManager.setActive(e),L0(e),e.ui.show();const ne=K();return u(ne),ne},R=(K,ne)=>C(()=>n().open(K,ne,g)),B=K=>C(()=>n().openUrl(K,g)),L=(K,ne,me)=>{const Ce=n();Ce.alert(K,r(me||Ce,ne))},W=(K,ne,me)=>{const Ce=n();Ce.confirm(K,r(me||Ce,ne))},ee=()=>{x().each(K=>{n().close(K),g(K)})};return e.on("remove",()=>{Ne(t,K=>{n().close(K)})}),{open:R,openUrl:B,alert:L,confirm:W,close:ee}},Fx=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Hx=(e,t)=>{e._skinLoaded?Fx(e,t):e.on("SkinLoaded",()=>{Fx(e,t)})},kA=(e,t)=>{Hx(e,uc.translate(["Failed to upload image: {0}",t]))},$x=(e,t,n)=>{Zv(e,t,{message:n}),console.error(n)},Vx=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,w4=(e,t,n)=>{$x(e,"PluginLoadError",Vx("plugin",t,n))},tw=(e,t,n)=>{$x(e,"IconsLoadError",Vx("icons",t,n))},wA=(e,t,n)=>{$x(e,"LanguageLoadError",Vx("language",t,n))},C4=(e,t,n)=>{$x(e,"ThemeLoadError",Vx("theme",t,n))},CA=(e,t,n)=>{$x(e,"ModelLoadError",Vx("model",t,n))},W8=(e,t,n)=>{const r=uc.translate(["Failed to initialize plugin: {0}",t]);Zv(e,"PluginLoadError",{message:r}),Ux(r,n),Hx(e,r)},Ux=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},q8=e=>{H.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},ow=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},SA=(e,t)=>{ow(e,"StyleWithCSS",t),ow(e,"enableInlineTableEditing",t),ow(e,"enableObjectResizing",t)},i1=e=>{e.selection.setRng(e.selection.getRng())},S4=(e,t,n)=>{Id(e,t)&&!n?Ia(e,t):n&&Yl(e,t)},E4=e=>{const t=re.fromDom(e.getBody());S4(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),q8(e)},EA=e=>{const t=re.fromDom(e.getBody());S4(t,"mce-content-readonly",!1),e.hasEditableRoot()&&Sc(t,!0),SA(e,!1),W2(e)&&e.focus(),i1(e),e.nodeChanged()},bm=e=>wh(e),ib="data-mce-contenteditable",G8=e=>{Ne(Rs(e,'*[contenteditable="true"]'),t=>{On(t,ib,"true"),Sc(t,!1)})},z4=e=>{Ne(Rs(e,`*[${ib}="true"]`),t=>{En(t,ib),Sc(t,!0)})},zA=(e,t)=>{const n=re.fromDom(e.getBody());t?(E4(e),Sc(n,!1),G8(n)):(z4(n),EA(e))},TA=e=>{e.serializer?nw(e):e.on("PreInit",()=>{nw(e)})},nw=e=>{e.parser.addAttributeFilter("contenteditable",t=>{bm(e)&&Ne(t,n=>{n.attr(ib,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ib,t=>{bm(e)&&Ne(t,n=>{n.attr("contenteditable",n.attr(ib))})}),e.serializer.addTempAttr(ib)},OA=e=>e.type==="click",AA=["copy"],NA=e=>on(AA,e.type),RA=(e,t)=>aa(t,"a",r=>en(r,re.fromDom(e.getBody()))).bind(r=>Os(r,"href")),K8=(e,t)=>{if(OA(t)&&!Ht.metaKeyPressed(t)){const n=re.fromDom(t.target);RA(e,n).each(r=>{if(t.preventDefault(),/^#/.test(r)){const i=e.dom.select(`${r},[name="${bi(r,"#")}"]`);i.length&&e.selection.scrollIntoView(i[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else NA(t)&&e.dispatch(t.type,t)},Y8=e=>{e.on("ShowCaret ObjectSelected",t=>{bm(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||zA(e,t.state)})},T4=e=>{TA(e),Y8(e)},X8=e=>/^[a-z0-9\-]+$/i.test(e),jx=e=>"content/"+e+"/content.css",J8=e=>tinymce.Resource.has(jx(e)),DA=e=>MA(e,pR(e)),Q8=e=>MA(e,gf(e)),MA=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",i=`content${e.editorManager.suffix}.css`;return Jo(t,c=>J8(c)?c:X8(c)&&!e.inline?`${n}/${c}/${i}`:e.documentBaseURI.toAbsolute(c))},BA=e=>{e.contentCSS=e.contentCSS.concat(DA(e),Q8(e))},O4=e=>e?Fo(e.getElementsByTagName("img")):[],eM=(e,t)=>{const n={};return{findAll:(i,c=uo)=>{const u=Ke(O4(i),x=>{const C=x.src;return x.hasAttribute("data-mce-bogus")||x.hasAttribute("data-mce-placeholder")||!C||C===Nt.transparentSrc?!1:cr(C,"blob:")?!e.isUploaded(C)&&c(x):cr(C,"data:")?c(x):!1}),g=Jo(u,x=>{const C=x.src;if(po(n,C))return n[C].then(R=>pt(R)?R:{image:x,blobInfo:R.blobInfo});{const R=k7(t,C).then(B=>(delete n[C],{image:x,blobInfo:B})).catch(B=>(delete n[C],B));return n[C]=R,R}});return Promise.all(g)}}},Zx=()=>{let n={};const r=(L,W)=>({status:L,resultUri:W}),i=L=>L in n;return{hasBlobUri:i,getResultUri:L=>{const W=n[L];return W?W.resultUri:null},isPending:L=>i(L)?n[L].status===1:!1,isUploaded:L=>i(L)?n[L].status===2:!1,markPending:L=>{n[L]=r(1,null)},markUploaded:(L,W)=>{n[L]=r(2,W)},removeFailed:L=>{delete n[L]},destroy:()=>{n={}}}};let tM=0;const oM=()=>{const e=()=>Math.round(Da()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},nM=e=>e+tM+++oM(),PA=()=>{let e=[];const t=B=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[B.toLowerCase()]||"dat",n=(B,L,W,ee,K)=>{if(pt(B))return r({id:B,name:ee,filename:K,blob:L,base64:W});if(ue(B))return r(B);throw new Error("Unknown input type")},r=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const L=B.id||nM("blobid"),W=B.name||L,ee=B.blob;return{id:Je(L),name:Je(W),filename:Je(B.filename||W+"."+t(ee.type)),blob:Je(ee),base64:Je(B.base64),blobUri:Je(B.blobUri||URL.createObjectURL(ee)),uri:Je(B.uri)}},i=B=>{u(B.id())||e.push(B)},c=B=>Tn(e,B).getOrUndefined(),u=B=>c(L=>L.id()===B);return{create:n,add:i,get:u,getByUri:B=>c(L=>L.blobUri()===B),getByData:(B,L)=>c(W=>W.base64()===B&&W.blob().type===L),findFirst:c,removeByUri:B=>{e=Ke(e,L=>L.blobUri()===B?(URL.revokeObjectURL(L.blobUri()),!1):!0)},destroy:()=>{Ne(e,B=>{URL.revokeObjectURL(B.blobUri())}),e=[]}}},LA=(e,t)=>{const n={},r=(K,ne)=>K?K.replace(/\/$/,"")+"/"+ne.replace(/^\//,""):ne,i=(K,ne)=>new Promise((me,Ce)=>{const ze=new XMLHttpRequest;ze.open("POST",t.url),ze.withCredentials=t.credentials,ze.upload.onprogress=Xe=>{ne(Xe.loaded/Xe.total*100)},ze.onerror=()=>{Ce("Image upload failed due to a XHR Transport error. Code: "+ze.status)},ze.onload=()=>{if(ze.status<200||ze.status>=300){Ce("HTTP Error: "+ze.status);return}const Xe=JSON.parse(ze.responseText);if(!Xe||!pt(Xe.location)){Ce("Invalid JSON: "+ze.responseText);return}me(r(t.basePath,Xe.location))};const Re=new FormData;Re.append("file",K.blob(),K.filename()),ze.send(Re)}),c=jt(t.handler)?t.handler:i,u=()=>new Promise(K=>{K([])}),g=(K,ne)=>({url:ne,blobInfo:K,status:!0}),x=(K,ne)=>({url:"",blobInfo:K,status:!1,error:ne}),C=(K,ne)=>{gt.each(n[K],me=>{me(ne)}),delete n[K]},R=(K,ne,me)=>(e.markPending(K.blobUri()),new Promise(Ce=>{let ze,Re;try{const Xe=()=>{ze&&(ze.close(),Re=ao)},mt=Ze=>{Xe(),e.markUploaded(K.blobUri(),Ze),C(K.blobUri(),g(K,Ze)),Ce(g(K,Ze))},At=Ze=>{Xe(),e.removeFailed(K.blobUri()),C(K.blobUri(),x(K,Ze)),Ce(x(K,Ze))};Re=Ze=>{Ze<0||Ze>100||H.from(ze).orThunk(()=>H.from(me).map(Uo)).each(Pe=>{ze=Pe,Pe.progressBar.value(Ze)})},ne(K,Re).then(mt,Ze=>{At(pt(Ze)?{message:Ze}:Ze)})}catch(Xe){Ce(x(K,Xe))}})),B=K=>K===i,L=K=>{const ne=K.blobUri();return new Promise(me=>{n[ne]=n[ne]||[],n[ne].push(me)})},W=(K,ne)=>(K=gt.grep(K,me=>!e.isUploaded(me.blobUri())),Promise.all(gt.map(K,me=>e.isPending(me.blobUri())?L(me):R(me,c,ne))));return{upload:(K,ne)=>!t.url&&B(c)?u():W(K,ne)}},IA=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),A4=(e,t)=>LA(t,{url:q3(e),basePath:m0(e),credentials:o2(e),handler:G3(e)}),Wx=e=>{const t=Zx(),n=A4(e,t);return{upload:(r,i=!0)=>n.upload(r,i?IA(e):void 0)}},FA=(e,t)=>e.dom.isEmpty(t.dom)&&Ie(e.schema.getTextBlockElements()[pn(t)]),rM=e=>t=>{FA(e,t)&&Mr(t,re.fromHtml('<br data-mce-bogus="1" />'))},HA=e=>{const t=PA();let n,r;const i=Zx(),c=[],u=ze=>Re=>e.selection?ze(Re):[],g=ze=>ze+(ze.indexOf("?")===-1?"?":"&")+new Date().getTime(),x=(ze,Re,Xe)=>{let mt=0;do mt=ze.indexOf(Re,mt),mt!==-1&&(ze=ze.substring(0,mt)+Xe+ze.substr(mt+Re.length),mt+=Xe.length-Re.length+1);while(mt!==-1);return ze},C=(ze,Re,Xe)=>{const mt=`src="${Xe}"${Xe===Nt.transparentSrc?' data-mce-placeholder="1"':""}`;return ze=x(ze,`src="${Re}"`,mt),ze=x(ze,'data-mce-src="'+Re+'"','data-mce-src="'+Xe+'"'),ze},R=(ze,Re)=>{Ne(e.undoManager.data,Xe=>{Xe.type==="fragmented"?Xe.fragments=Jo(Xe.fragments,mt=>C(mt,ze,Re)):Xe.content=C(Xe.content,ze,Re)})},B=(ze,Re)=>{const Xe=e.convertURL(Re,"src");R(ze.src,Re),dl(re.fromDom(ze),{src:Z3(e)?g(Re):Re,"data-mce-src":Xe})},L=()=>(n||(n=A4(e,i)),ne().then(u(ze=>{const Re=Jo(ze,Xe=>Xe.blobInfo);return n.upload(Re,IA(e)).then(u(Xe=>{const mt=[];let At=!1;const Ze=Jo(Xe,(Pe,et)=>{const{blobInfo:St,image:Jt}=ze[et];let rn=!1;return Pe.status&&fR(e)?(Pe.url&&!gr(Jt.src,Pe.url)&&(At=!0),t.removeByUri(Jt.src),wf(e)||B(Jt,Pe.url)):Pe.error&&(Pe.error.remove&&(R(Jt.src,Nt.transparentSrc),mt.push(Jt),rn=!0),kA(e,Pe.error.message)),{element:Jt,status:Pe.status,uploadUri:Pe.url,blobInfo:St,removed:rn}});return mt.length>0&&!wf(e)?e.undoManager.transact(()=>{Ne(Aa(mt),Pe=>{const et=oi(Pe);un(Pe),et.each(rM(e)),t.removeByUri(Pe.dom.src)})}):At&&e.undoManager.dispatchChange(),Ze}))}))),W=()=>t2(e)?L():Promise.resolve([]),ee=ze=>Qr(c,Re=>Re(ze)),K=ze=>{c.push(ze)},ne=()=>(r||(r=eM(i,t)),r.findAll(e.getBody(),ee).then(u(ze=>{const Re=Ke(ze,Xe=>pt(Xe)?(Hx(e,Xe),!1):Xe.uriType!=="blob");return wf(e)||Ne(Re,Xe=>{R(Xe.image.src,Xe.blobInfo.blobUri()),Xe.image.src=Xe.blobInfo.blobUri(),Xe.image.removeAttribute("data-mce-src")}),Re}))),me=()=>{t.destroy(),i.destroy(),r=n=null},Ce=ze=>ze.replace(/src="(blob:[^"]+)"/g,(Re,Xe)=>{const mt=i.getResultUri(Xe);if(mt)return'src="'+mt+'"';let At=t.getByUri(Xe);return At||(At=fo(e.editorManager.get(),(Ze,Pe)=>Ze||Pe.editorUpload&&Pe.editorUpload.blobCache.getByUri(Xe),void 0)),At?'src="data:'+At.blob().type+";base64,"+At.base64()+'"':Re});return e.on("SetContent",()=>{t2(e)?W():ne()}),e.on("RawSaveContent",ze=>{ze.content=Ce(ze.content)}),e.on("GetContent",ze=>{ze.source_view||ze.format==="raw"||ze.format==="tree"||(ze.content=Ce(ze.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",ze=>{Ne(ze,Re=>{const Xe=Re.attr("src");if(!Xe||t.getByUri(Xe))return;const mt=i.getResultUri(Xe);mt&&Re.attr("src",mt)})})}),{blobCache:t,addFilter:K,uploadImages:L,uploadImagesAuto:W,scanForImages:ne,destroy:me}},$A=e=>{const t=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:i=>{t.setStyle(i,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const i={inline:"span",styles:{textDecoration:"line-through"},exact:!0},c={inline:"strike",remove:"all",preserve_attributes:["class","style"]},u={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[u,i,c]:[i,u,c]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(i,c,u)=>Ot(i)&&i.hasAttribute("href"),onformat:(i,c,u)=>{gt.each(u,(g,x)=>{t.setAttrib(i,x,g)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":i=>{var c;return(c=i==null?void 0:i.customValue)!==null&&c!==void 0?c:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return gt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),i=>{r[i]={block:i,remove:"all"}}),r},VA={remove_similar:!0,inherit:!1},l1={selector:"td,th",...VA},sM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...l1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...l1},tablecellbordercolor:{styles:{borderColor:"%value"},...l1},tablecellclass:{classes:["%value"],...l1},tableclass:{selector:"table",classes:["%value"],...VA},tablecellborderstyle:{styles:{borderStyle:"%value"},...l1},tablecellborderwidth:{styles:{borderWidth:"%value"},...l1}},aM=Je(sM),UA=e=>{const t={},n=u=>Ie(u)?t[u]:t,r=u=>po(t,u),i=(u,g)=>{u&&(pt(u)?(ve(g)||(g=[g]),Ne(g,x=>{Nr(x.deep)&&(x.deep=!yd(x)),Nr(x.split)&&(x.split=!yd(x)||Ms(x)),Nr(x.remove)&&yd(x)&&!Ms(x)&&(x.remove="none"),yd(x)&&Ms(x)&&(x.mixed=!0,x.block_expand=!0),pt(x.classes)&&(x.classes=x.classes.split(/\s+/))}),t[u]=g):Ho(u,(x,C)=>{i(C,x)}))},c=u=>(u&&t[u]&&delete t[u],t);return i($A(e)),i(aM()),i(_h(e)),{get:n,has:r,register:i,unregister:c}},c1=gt.each,Cd=Tr.DOM,rw=e=>Ie(e)&&ue(e),N4=(e,t)=>{const n=t&&t.schema||wt({}),r=(x,C)=>{C.classes.length>0&&Cd.addClass(x,C.classes.join(" ")),Cd.setAttribs(x,C.attrs)},i=x=>{const C=pt(x)?{name:x,classes:[],attrs:{}}:x,R=Cd.create(C.name);return r(R,C),R},c=(x,C)=>{const R=n.getElementRule(x.nodeName.toLowerCase()),B=R==null?void 0:R.parentsRequired;return B&&B.length?C&&on(B,C)?C:B[0]:!1},u=(x,C,R)=>{let B;const L=C[0],W=rw(L)?L.name:void 0,ee=c(x,W);if(ee)W===ee?(B=L,C=C.slice(1)):B=ee;else if(L)B=L,C=C.slice(1);else if(!R)return x;const K=B?i(B):Cd.create("div");K.appendChild(x),R&&gt.each(R,me=>{const Ce=i(me);K.insertBefore(Ce,x)});const ne=rw(B)?B.siblings:void 0;return u(K,C,ne)},g=Cd.create("div");if(e.length>0){const x=e[0],C=i(x),R=rw(x)?x.siblings:void 0;g.appendChild(u(C,e.slice(1),R))}return g},jA=e=>{e=gt.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,i,c,u,g)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":gt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c);break}if(u==="["){const x=g.match(/([\w\-]+)(?:\=\"([^\"]+))?/);x&&(n.attrs[x[1]]=x[2])}return""})),n.name=t||"div",n},iM=e=>pt(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),gt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=gt.map(t.split(/(?:~\+|~|\+)/),jA),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],R4=(e,t)=>{let n="",r=bR(e);if(r==="")return"";const i=L=>pt(L)?L.replace(/%(\w+)/g,""):"",c=(L,W)=>Cd.getStyle(W??e.getBody(),L,!0);if(pt(t)){const L=e.formatter.get(t);if(!L)return"";t=L[0]}if("preview"in t){const L=t.preview;if(L===!1)return"";r=L||r}let u=t.block||t.inline||"span",g;const x=iM(t.selector);x.length>0?(x[0].name||(x[0].name=u),u=t.selector,g=N4(x,e)):g=N4([u],e);const C=Cd.select(u,g)[0]||g.firstChild;c1(t.styles,(L,W)=>{const ee=i(L);ee&&Cd.setStyle(C,W,ee)}),c1(t.attributes,(L,W)=>{const ee=i(L);ee&&Cd.setAttrib(C,W,ee)}),c1(t.classes,L=>{const W=i(L);Cd.hasClass(C,W)||Cd.addClass(C,W)}),e.dispatch("PreviewFormats"),Cd.setStyles(g,{position:"absolute",left:-65535}),e.getBody().appendChild(g);const R=c("fontSize"),B=/px$/.test(R)?parseInt(R,10):0;return c1(r.split(" "),L=>{let W=c(L,C);if(!(L==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(W)&&(W=c(L),rg(W).toLowerCase()==="#ffffff"))&&!(L==="color"&&rg(W).toLowerCase()==="#000000")){if(L==="font-size"&&/em|%$/.test(W)){if(B===0)return;W=parseFloat(W)/(/%$/.test(W)?100:1)*B+"px"}L==="border"&&W&&(n+="padding:0 2px;"),n+=L+":"+W+";"}}),e.dispatch("AfterPreviewFormats"),Cd.remove(g),n},sw=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},qx=e=>{const t=UA(e),n=Sr({});return sw(e),Zy(e),wf(e)||y7(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,i,c)=>{x8(e,r,i,c)},remove:(r,i,c,u)=>{v8(e,r,i,c,u)},toggle:(r,i,c)=>{n1(e,r,i,c)},match:(r,i,c,u)=>h8(e,r,i,c,u),closest:r=>KO(e,r),matchAll:(r,i)=>b8(e,r,i),matchNode:(r,i,c,u)=>y8(e,r,i,c,u),canApply:r=>GO(e,r),formatChanged:(r,i,c,u)=>_8(e,n,r,i,c,u),getCssText:De(R4,e)}},ym=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},aw=(e,t,n)=>{const r=Sr(!1),i=x=>{rb(t,!1,n),t.add({},x)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",x=>{const C=x.command;ym(C)||(o4(t,n),t.beforeChange())}),e.on("ExecCommand",x=>{const C=x.command;ym(C)||i(x)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",i),e.on("dragend",i),e.on("keyup",x=>{const C=x.keyCode;if(x.isDefaultPrevented())return;const R=Nt.os.isMacOS()&&x.key==="Meta";(C>=33&&C<=36||C>=37&&C<=40||C===45||x.ctrlKey||R)&&(i(),e.nodeChanged()),(C===46||C===8)&&e.nodeChanged(),r.get()&&t.typing&&!Mx(o1(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",x=>{const C=x.keyCode;if(x.isDefaultPrevented())return;if(C>=33&&C<=36||C>=37&&C<=40||C===45){t.typing&&i(x);return}const R=x.ctrlKey&&!x.altKey||x.metaKey;if((C<16||C>20)&&C!==224&&C!==91&&!t.typing&&!R){t.beforeChange(),rb(t,!0,n),t.add({},x),r.set(!0);return}(Nt.os.isMacOS()?x.metaKey:x.ctrlKey&&!x.altKey)&&t.beforeChange()}),e.on("mousedown",x=>{t.typing&&i(x)});const c=x=>x.inputType==="insertReplacementText",u=x=>x.inputType==="insertText"&&x.data===null,g=x=>x.inputType==="insertFromPaste"||x.inputType==="insertFromDrop";e.on("input",x=>{x.inputType&&(c(x)||u(x)||g(x))&&i(x)}),e.on("AddUndo Undo Redo ClearUndos",x=>{x.isDefaultPrevented()||e.nodeChanged()})},d1=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},D4=e=>{const t=ic(),n=Sr(0),r=Sr(0),i={data:[],typing:!1,beforeChange:()=>{i4(e,n,t)},add:(c,u)=>l4(e,i,r,n,t,c,u),dispatchChange:()=>{e.setDirty(!0);const c=o1(e);c.bookmark=Fe(e.selection),e.dispatch("change",{level:c,lastLevel:Gs(i.data,r.get()).getOrUndefined()})},undo:()=>UO(e,i,n,r),redo:()=>Wk(e,r,i.data),clear:()=>{jO(e,i,r)},reset:()=>{ZO(e,i)},hasUndo:()=>p8(e,i,r),hasRedo:()=>g8(e,i,r),transact:c=>c4(e,i,n,c),ignore:c=>{WO(e,n,c)},extra:(c,u)=>{qO(e,i,r,c,u)}};return wf(e)||aw(e,i,n),d1(e),i},ZA=[9,27,Ht.HOME,Ht.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ht.DOWN,Ht.UP,Ht.LEFT,Ht.RIGHT].concat(Nt.browser.isFirefox()?[224]:[]),iw="data-mce-placeholder",Gx=e=>e.type==="keydown"||e.type==="keyup",Pp=e=>{const t=e.keyCode;return t===Ht.BACKSPACE||t===Ht.DELETE},lb=e=>{if(Gx(e)){const t=e.keyCode;return!Pp(e)&&(Ht.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||on(ZA,t))}else return!1},WA=e=>Gx(e)&&!(Pp(e)||e.type==="keyup"&&e.keyCode===229),lM=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const r=t.firstElementChild;return r?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},qA=e=>{var t;const n=e.dom,r=Ki(e),i=(t=Jv(e))!==null&&t!==void 0?t:"",c=(u,g)=>{if(lb(u))return;const x=e.getBody(),C=WA(u)?!1:lM(n,x,r);(n.getAttrib(x,iw)!==""!==C||g)&&(n.setAttrib(x,iw,C?i:null),jv(e,C),e.on(C?"keydown":"keyup",c),e.off(C?"keyup":"keydown",c))};hr(i)&&e.on("init",u=>{c(u,!0),e.on("change SetContent ExecCommand",c),e.on("paste",g=>Jd.setEditorTimeout(e,()=>c(g)))})},cM=(e,t)=>({block:e,position:t}),dM=(e,t)=>({from:e,to:t}),M4=(e,t)=>{const n=re.fromDom(e),r=re.fromDom(t.container());return sx(n,r).map(i=>cM(i,t))},B4=e=>!(Ha(e.to.block,e.from.block)||Ha(e.from.block,e.to.block)),GA=e=>!en(e.from.block,e.to.block),KA=(e,t)=>Cc(t,i=>Xf(i)||Ti(i.dom),i=>en(i,e)).filter(ti).getOr(e),YA=(e,t)=>{const n=re.fromDom(e);return en(KA(n,t.from.block),KA(n,t.to.block))},uM=e=>yr(e.from.block.dom)===!1&&yr(e.to.block.dom)===!1,P4=e=>{const t=n=>Y1(n)||Er(n.dom)||_u(n);return t(e.from.block)&&t(e.to.block)},fM=(e,t,n,r)=>ns(r.position.getNode())&&!Ss(e,r.block)?gy(!1,r.block.dom).bind(i=>i.isEqual(r.position)?bd(n,t,i).bind(c=>M4(t,c)):H.some(r)).getOr(r):r,XA=(e,t,n,r)=>{const i=M4(t,$e.fromRangeStart(r)),c=i.bind(u=>bd(n,t,u.position).bind(g=>M4(t,g).map(x=>fM(e,t,n,x))));return ga(i,c,dM).filter(u=>GA(u)&&YA(t,u)&&uM(u)&&P4(u)&&B4(u))},L4=(e,t,n,r)=>r.collapsed?XA(e,t,n,r):H.none(),JA=(e,t)=>{const n=xa(e);return Qn(n,r=>t.isBlock(pn(r))).fold(Je(n),r=>n.slice(0,r))},lw=(e,t)=>{const n=JA(e,t);return Ne(n,un),n},QA=(e,t,n)=>{const r=cm(n,t);return Tn(r.reverse(),i=>Ss(e,i)).each(un)},e6=(e,t)=>Ke(uu(t),n=>!Ss(e,n)).length===0,mM=(e,t,n,r,i)=>{if(Ss(r,n))return cf(n),ss(n.dom);e6(r,i)&&Ss(r,t)&&Vr(i,re.fromTag("br"));const c=gc(n.dom,$e.before(i.dom));return Ne(lw(t,r),u=>{Vr(i,u)}),QA(r,e,t),c},t6=(e,t)=>e.isInline(pn(t)),o6=(e,t,n,r)=>{if(Ss(r,n)){if(Ss(r,t)){const u=eo((g=>{const x=(C,R)=>Rm(C).fold(()=>R,B=>t6(r,B)?x(B,R.concat(ud(B))):R);return x(g,[])})(n),(g,x)=>(Ur(g,x),x),Ll());oc(t),Mr(t,u)}return un(n),ss(t.dom)}const i=zu(n.dom);return Ne(lw(t,r),c=>{Mr(n,c)}),QA(r,e,t),i},pM=(e,t)=>{const n=cm(t,e);return H.from(n[n.length-1])},gM=(e,t)=>Ha(t,e)?pM(t,e):H.none(),n6=(e,t)=>{gy(e,t.dom).bind(n=>H.from(n.getNode())).map(re.fromDom).filter(vu).each(un)},r6=(e,t,n,r)=>(n6(!0,t),n6(!1,n),gM(t,n).fold(De(o6,e,t,n,r),De(mM,e,t,n,r))),s6=(e,t,n,r,i)=>t?r6(e,r,n,i):r6(e,n,r,i),Lp=(e,t)=>{const n=re.fromDom(e.getBody());return L4(e.schema,n.dom,t,e.selection.getRng()).map(i=>()=>{s6(n,t,i.from.block,i.to.block,e.schema).each(c=>{e.selection.setRng(c.toRange())})})},a6=(e,t,n)=>{const r=t.getRng();return ga(sx(e,re.fromDom(r.startContainer)),sx(e,re.fromDom(r.endContainer)),(i,c)=>en(i,c)?H.none():H.some(()=>{r.deleteContents(),s6(e,!0,i,c,n).each(u=>{t.setRng(u.toRange())})})).getOr(H.none())},I4=(e,t)=>{const n=re.fromDom(t),r=De(en,e);return fl(n,Xf,r).isSome()},i6=(e,t)=>I4(e,t.startContainer)||I4(e,t.endContainer),hM=(e,t)=>{const n=gc(e.dom,$e.fromRangeStart(t)).isNone(),r=Il(e.dom,$e.fromRangeEnd(t)).isNone();return!i6(e,t)&&n&&r},bM=e=>H.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Dg=e=>{const t=re.fromDom(e.getBody()),n=e.selection.getRng();return hM(t,n)?bM(e):a6(t,e.selection,e.schema)},cw=(e,t)=>e.selection.isCollapsed()?H.none():Dg(e),Lu=(e,t,n,r,i)=>H.from(t._selectionOverrides.showCaret(e,n,r,i)),yM=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},u1=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?H.none():H.some(yM(t)),xM=(e,t,n)=>{const r=p2(1,e.getBody(),t),i=$e.fromRangeStart(r),c=i.getNode();if(v0(c))return Lu(1,e,c,!i.isAtEnd(),!1);const u=i.getNode(!0);if(v0(u))return Lu(1,e,u,!1,!1);const g=Tg(e.dom.getRoot(),i.getNode());return v0(g)?Lu(1,e,g,!1,n):H.none()},F4=(e,t,n)=>t.collapsed?xM(e,t,n).getOr(t):t,H4=e=>kp(e)||By(e),vM=e=>wp(e)||jh(e),Ba=(e,t)=>{it(t)&&t.data.length===0&&e.remove(t)},l6=(e,t,n,r,i,c)=>{Lu(r,e,c.getNode(!i),i,!0).each(u=>{if(t.collapsed){const g=t.cloneRange();i?g.setEnd(u.startContainer,u.startOffset):g.setStart(u.endContainer,u.endOffset),g.deleteContents()}else t.deleteContents();e.selection.setRng(u)}),Ba(e.dom,n)},_M=(e,t)=>{const n=e.selection.getRng();if(!it(n.commonAncestorContainer))return H.none();const r=t?1:-1,i=Eu(e.getBody()),c=De(k0,t?i.next:i.prev),u=t?H4:vM,g=py(r,e.getBody(),n),x=c(g),C=x&&_d(t,x);if(!C||!w0(g,C))return H.none();if(u(C))return H.some(()=>l6(e,n,g.getNode(),r,t,C));const R=c(C);return R&&u(R)&&w0(C,R)?H.some(()=>l6(e,n,g.getNode(),r,t,R)):H.none()},Kx=(e,t)=>_M(e,t),dw=(e,t)=>{const n=e.getBody();return t?ss(n).filter(kp):zu(n).filter(wp)},Yx=e=>{const t=e.selection.getRng();return!t.collapsed&&(dw(e,!0).exists(n=>n.isEqual($e.fromRangeStart(t)))||dw(e,!1).exists(n=>n.isEqual($e.fromRangeEnd(t))))},kM=e=>Ie(e)&&(Xf(re.fromDom(e))||_u(re.fromDom(e))),Sd=Lt.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),wM=(e,t)=>{const n=t.getNode(!e),r=e?"after":"before";return Ot(n)&&n.getAttribute("data-mce-caret")===r},CM=(e,t,n,r,i)=>{const c=u=>i.isInline(u.nodeName.toLowerCase())&&!tm(n,r,e);return DE(!t,n).fold(()=>DE(t,r).fold(ho,c),c)},c6=(e,t,n,r,i)=>{const c=i.getNode(!n);return sx(re.fromDom(t),re.fromDom(r.getNode())).map(u=>Ss(e,u)?Sd.remove(u.dom):Sd.moveToElement(c)).orThunk(()=>H.some(Sd.moveToElement(c)))},d6=(e,t,n,r)=>bd(t,e,n).bind(i=>kM(i.getNode())||CM(e,t,n,i,r)?H.none():t&&yr(i.getNode())||!t&&yr(i.getNode(!0))?c6(r,e,t,n,i):t&&wp(n)||!t&&kp(n)?H.some(Sd.moveToPosition(i)):H.none()),SM=(e,t)=>Io(t)?H.none():e&&yr(t.nextSibling)?H.some(Sd.moveToElement(t.nextSibling)):!e&&yr(t.previousSibling)?H.some(Sd.moveToElement(t.previousSibling)):H.none(),f1=(e,t,n)=>n.fold(r=>H.some(Sd.remove(r)),r=>H.some(Sd.moveToElement(r)),r=>tm(t,r,e)?H.none():H.some(Sd.moveToPosition(r))),Sf=(e,t,n,r)=>wM(t,n)?SM(t,n.getNode(!t)).orThunk(()=>d6(e,t,n,r)):d6(e,t,n,r).bind(i=>f1(e,n,i)),EM=(e,t,n,r)=>{const i=p2(t?1:-1,e,n),c=$e.fromRangeStart(i),u=re.fromDom(e);return!t&&wp(c)?H.some(Sd.remove(c.getNode(!0))):t&&kp(c)?H.some(Sd.remove(c.getNode())):!t&&kp(c)&&Ly(u,c,r)?bC(u,c,r).map(g=>Sd.remove(g.getNode())):t&&wp(c)&&q_(u,c,r)?DD(u,c,r).map(g=>Sd.remove(g.getNode())):Sf(e,t,c,r)},zM=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Gh(e,t,re.fromDom(n)),!0),TM=(e,t)=>n=>{const r=t?$e.before(n):$e.after(n);return e.selection.setRng(r.toRange()),!0},OM=e=>t=>(e.selection.setRng(t.toRange()),!0),u6=(e,t)=>H.from(Tg(e.getBody(),t)),AM=(e,t)=>{const n=e.selection.getNode();return u6(e,n).filter(yr).fold(()=>EM(e.getBody(),t,e.selection.getRng(),e.schema).map(r=>()=>r.fold(zM(e,t),TM(e,t),OM(e))),()=>H.some(ao))},NM=e=>{Ne(Rs(e,".mce-offscreen-selection"),un)},RM=(e,t)=>{const n=e.selection.getNode();return yr(n)&&!Vo(n)?u6(e,n.parentNode).filter(yr).fold(()=>H.some(()=>{NM(re.fromDom(e.getBody())),Gh(e,t,re.fromDom(e.selection.getNode())),ax(e)}),()=>H.some(ao)):Yx(e)?H.some(()=>{$c(e,e.selection.getRng(),re.fromDom(e.getBody()))}):H.none()},f6=e=>{const t=e.dom,n=e.selection,r=Tg(e.getBody(),n.getNode());if(Ti(r)&&t.isBlock(r)&&t.isEmpty(r)){const i=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(i),n.setRng($e.before(i).toRange())}return!0},$4=(e,t)=>e.selection.isCollapsed()?AM(e,t):RM(e,t),m6=e=>e.hasOwnProperty("text"),p6=e=>e.hasOwnProperty("marker"),g6=(e,t)=>{const n=(c,u)=>{if(it(c))return{text:c,offset:u};{const g=t(),x=c.childNodes;return u<x.length?(c.insertBefore(g,x[u]),{marker:g,before:!0}):(c.appendChild(g),{marker:g,before:!1})}},r=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:r}},h6=e=>{var t,n;const{start:r,end:i}=e,c=new window.Range;return m6(r)?c.setStart(r.text,r.offset):p6(r)&&(r.before?c.setStartBefore(r.marker):c.setStartAfter(r.marker),(t=r.marker.parentNode)===null||t===void 0||t.removeChild(r.marker)),m6(i)?c.setEnd(i.text,i.offset):p6(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),c},V4=(e,t)=>{var n;const r=e.dom,i=r.getParent(e.selection.getStart(),r.isBlock),c=r.getParent(e.selection.getEnd(),r.isBlock),u=e.getBody();if(((n=i==null?void 0:i.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&i&&c&&i===u.firstChild&&c===u.lastChild&&!r.isEmpty(u)){const x=i.cloneNode(!1),C=()=>{if(t?RC(e):Hy(e),u.firstChild!==i){const R=g6(e.selection.getRng(),()=>document.createElement("span"));Array.from(u.childNodes).forEach(B=>x.appendChild(B)),u.appendChild(x),e.selection.setRng(h6(R))}};return H.some(C)}return H.none()},DM=(e,t)=>{const n=$e.fromRangeStart(e.selection.getRng());return bd(t,e.getBody(),n).filter(r=>t?iT(r):lT(r)).bind(r=>m2(t?0:-1,r)).map(r=>()=>e.selection.select(r))},U4=(e,t)=>e.selection.isCollapsed()?DM(e,t):H.none(),m1=it,b6=e=>m1(e)&&e.data[0]===qs,y6=e=>m1(e)&&e.data[e.data.length-1]===qs,x6=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(qs)},MM=e=>{var t;if(m1(e.previousSibling))return y6(e.previousSibling)||e.previousSibling.appendData(qs),e.previousSibling;if(m1(e))return b6(e)||e.insertData(0,qs),e;{const n=x6(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},BM=e=>{var t,n;if(m1(e.nextSibling))return b6(e.nextSibling)||e.nextSibling.insertData(0,qs),e.nextSibling;if(m1(e))return y6(e)||e.appendData(qs),e;{const r=x6(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},uw=(e,t)=>e?MM(t):BM(t),PM=De(uw,!0),LM=De(uw,!1),v6=(e,t)=>it(e.container())?uw(t,e.container()):uw(t,e.getNode()),_6=(e,t)=>{const n=t.get();return n&&e.container()===n&&Qf(n)},j4=(e,t)=>t.fold(n=>{vg(e.get());const r=PM(n);return e.set(r),H.some($e(r,r.length-1))},n=>ss(n).map(r=>{if(_6(r,e)){const i=e.get();return $e(i,1)}else{vg(e.get());const i=v6(r,!0);return e.set(i),$e(i,1)}}),n=>zu(n).map(r=>{if(_6(r,e)){const i=e.get();return $e(i,i.length-1)}else{vg(e.get());const i=v6(r,!1);return e.set(i),$e(i,i.length-1)}}),n=>{vg(e.get());const r=LM(n);return e.set(r),H.some($e(r,1))}),k6=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return H.none()},jl=Lt.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),w6=(e,t)=>{const n=up(t,e);return n||e},C6=(e,t,n)=>{const r=AC(n),i=w6(t,r.container());return eu(e,i,r).fold(()=>Il(i,r).bind(De(eu,e,i)).map(c=>jl.before(c)),H.none)},IM=(e,t)=>nl(e,t)===null,S6=(e,t,n)=>eu(e,t,n).filter(De(IM,t)),FM=(e,t,n)=>{const r=NC(n);return S6(e,t,r).bind(i=>gc(i,r).isNone()?H.some(jl.start(i)):H.none())},HM=(e,t,n)=>{const r=AC(n);return S6(e,t,r).bind(i=>Il(i,r).isNone()?H.some(jl.end(i)):H.none())},$M=(e,t,n)=>{const r=NC(n),i=w6(t,r.container());return eu(e,i,r).fold(()=>gc(i,r).bind(De(eu,e,i)).map(c=>jl.after(c)),H.none)},E6=e=>!zT(Z4(e)),xm=(e,t,n)=>k6([C6,FM,HM,$M],[e,t,n]).filter(E6),Z4=e=>e.fold(fn,fn,fn,fn),W4=e=>e.fold(Je("before"),Je("start"),Je("end"),Je("after")),fw=e=>e.fold(jl.before,jl.before,jl.after,jl.after),q4=e=>e.fold(jl.start,jl.start,jl.end,jl.end),VM=(e,t)=>W4(e)===W4(t)&&Z4(e)===Z4(t),UM=(e,t,n,r,i,c)=>ga(eu(t,n,r),eu(t,n,i),(u,g)=>u!==g&&Eg(n,u,g)?jl.after(e?u:g):c).getOr(c),jM=(e,t)=>e.fold(uo,n=>!VM(n,t)),ZM=(e,t,n,r,i)=>{const c=_d(e,i);return bd(e,n,c).map(De(_d,e)).fold(()=>r.map(fw),x=>xm(t,n,x).map(De(UM,e,t,n,c,x)).filter(De(jM,r))).filter(E6)},WM=(e,t)=>e?t.fold(Do(H.some,jl.start),H.none,Do(H.some,jl.after),H.none):t.fold(H.none,Do(H.some,jl.before),H.none,Do(H.some,jl.end)),qM=(e,t,n,r)=>{const i=_d(e,r),c=xm(t,n,i);return xm(t,n,i).bind(De(WM,e)).orThunk(()=>ZM(e,t,n,c,r))},z6=e=>jt(e.selection.getSel().modify),G4=(e,t,n)=>{const r=e?1:-1;return t.setRng($e(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},GM=(e,t)=>{const n=t.selection.getRng(),r=e?$e.fromRangeEnd(n):$e.fromRangeStart(n);return z6(t)?e&&J1(r)?G4(!0,t.selection,r):!e&&Kb(r)?G4(!1,t.selection,r):!1:!1};var Ef;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ef||(Ef={}));const mw=(e,t)=>e===-1?Hs(t):t,KM=(e,t,n)=>e===1?t.next(n):t.prev(n),YM=(e,t,n,r)=>ns(r.getNode(t===1))?Ef.Br:tm(n,r)===!1?Ef.Block:Ef.Wrap,T6=(e,t,n,r)=>{const i=Eu(n);let c=r;const u=[];for(;c;){const g=KM(t,i,c);if(!g)break;if(ns(g.getNode(!1)))return t===1?{positions:mw(t,u).concat([g]),breakType:Ef.Br,breakAt:H.some(g)}:{positions:mw(t,u),breakType:Ef.Br,breakAt:H.some(g)};if(!g.isVisible()){c=g;continue}if(e(c,g)){const x=YM(n,t,c,g);return{positions:mw(t,u),breakType:x,breakAt:H.some(g)}}u.push(g),c=g}return{positions:mw(t,u),breakType:Ef.Eol,breakAt:H.none()}},O6=(e,t,n,r)=>t(n,r).breakAt.map(i=>{const c=t(n,i).positions;return e===-1?c.concat(i):[i].concat(c)}).getOr([]),K4=(e,t)=>fo(e,(n,r)=>n.fold(()=>H.some(r),i=>ga(dt(i.getClientRects()),dt(r.getClientRects()),(c,u)=>{const g=Math.abs(t-c.left);return Math.abs(t-u.left)<=g?r:i}).or(n)),H.none()),p1=(e,t)=>dt(t.getClientRects()).bind(n=>K4(e,n.left)),cb=De(T6,$e.isAbove,-1),Xx=De(T6,$e.isBelow,1),Y4=De(O6,-1,cb),A6=De(O6,1,Xx),N6=(e,t)=>cb(e,t).breakAt.isNone(),R6=(e,t)=>Xx(e,t).breakAt.isNone(),XM=e=>ss(e).map(t=>[t].concat(Xx(e,t).positions)).getOr([]),JM=e=>zu(e).map(t=>cb(e,t).positions.concat(t)).getOr([]),QM=(e,t)=>p1(Y4(e,t),t),eB=(e,t)=>p1(A6(e,t),t),tB=yr,pw=(e,t)=>Math.abs(e.left-t),D6=(e,t)=>Math.abs(e.right-t),oB=e=>Ga(e,"node"),M6=(e,t)=>Li(e,(n,r)=>{const i=Math.min(pw(n,t),D6(n,t)),c=Math.min(pw(r,t),D6(r,t));return c===i&&oB(r)&&tB(r.node)||c<i?r:n}),B6=e=>{const t=n=>Jo(n,r=>{const i=md(r);return i.node=e,i});if(Ot(e))return t(e.getClientRects());if(it(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Mg=e=>Kn(e,B6);var db;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(db||(db={}));const nB=(e,t,n,r)=>{let i=r;for(;i=bo(i,e,Lv,t);)if(n(i))return},P6=(e,t,n,r,i,c)=>{let u=0;const g=[],x=B=>{let L=Mg([B]);e===db.Up&&(L=L.reverse());for(let W=0;W<L.length;W++){const ee=L[W];if(!n(ee,C)){if(g.length>0&&t(ee,ua(g))&&u++,ee.line=u,i(ee))return!0;g.push(ee)}}return!1},C=ua(c.getClientRects());if(!C)return g;const R=c.getNode();return R&&(x(R),nB(e,r,x,R)),g},jc=(e,t)=>t.line>e,L6=(e,t)=>t.line===e,rB=De(P6,db.Up,dg,pd),sB=De(P6,db.Down,pd,dg),I6=e=>ua(e.getClientRects()),aB=(e,t,n,r)=>{const i=Eu(t);let c,u,g,x;const C=[];let R=0;e===db.Down?(c=i.next,u=pd,g=dg,x=$e.after(r)):(c=i.prev,u=dg,g=pd,x=$e.before(r));const B=I6(x);do{if(!x.isVisible())continue;const L=I6(x);if(g(L,B))continue;C.length>0&&u(L,ua(C))&&R++;const W=md(L);if(W.position=x,W.line=R,n(W))return C;C.push(W)}while(x=c(x));return C},F6=e=>t=>jc(e,t),gw=e=>t=>L6(e,t),Ip=(e,t)=>{e.selection.setRng(t),U0(e,e.selection.getRng())},X4=(e,t,n)=>H.some(F4(e,t,n)),H6=(e,t,n,r,i,c)=>{const u=t===1,g=Eu(e.getBody()),x=De(k0,u?g.next:g.prev),C=u?r:i;if(!n.collapsed){const ee=np(n);if(c(ee))return Lu(t,e,ee,t===-1,!1);if(Yx(e)){const K=n.cloneRange();return K.collapse(t===-1),H.from(K)}}const R=py(t,e.getBody(),n);if(C(R))return u1(e,R.getNode(!u));let B=x(R);const L=ph(n);if(B)B=_d(u,B);else return L?H.some(n):H.none();if(C(B))return Lu(t,e,B.getNode(!u),u,!1);const W=x(B);return W&&C(W)&&w0(B,W)?Lu(t,e,W.getNode(!u),u,!1):L?X4(e,B.toRange(),!1):H.none()},$6=(e,t,n,r,i,c)=>{const u=py(t,e.getBody(),n),g=ua(u.getClientRects()),x=t===db.Down,C=e.getBody();if(!g)return H.none();if(Yx(e)){const ne=x?$e.fromRangeEnd(n):$e.fromRangeStart(n);return(x?eB:QM)(C,ne).orThunk(()=>H.from(ne)).map(Ce=>Ce.toRange())}const B=(x?sB:rB)(C,F6(1),u),L=Ke(B,gw(1)),W=g.left,ee=M6(L,W);if(ee&&c(ee.node)){const ne=Math.abs(W-ee.left),me=Math.abs(W-ee.right);return Lu(t,e,ee.node,ne<me,!1)}let K;if(r(u)?K=u.getNode():i(u)?K=u.getNode(!0):K=np(n),K){const ne=aB(t,C,F6(1),K);let me=M6(Ke(ne,gw(1)),W);if(me||(me=ua(Ke(ne,gw(0))),me))return X4(e,me.position.toRange(),!1)}return L.length===0?J4(e,x).filter(x?i:r).map(ne=>F4(e,ne.toRange(),!1)):H.none()},J4=(e,t)=>{const n=e.selection.getRng(),r=t?$e.fromRangeEnd(n):$e.fromRangeStart(n),i=ko(r.container(),e.getBody());if(t){const c=Xx(i,r);return _o(c.positions)}else{const c=cb(i,r);return dt(c.positions)}},ub=(e,t,n)=>J4(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),Jx=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Qx=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},hw=(e,t,n)=>j4(t,n).map(r=>(Jx(e,r),n)),V6=(e,t,n)=>{const r=$e.fromRangeStart(e);if(e.collapsed)return r;{const i=$e.fromRangeEnd(e);return n?gc(t,i).getOr(i):Il(t,r).getOr(r)}},U6=(e,t,n)=>{const r=e.getBody(),i=V6(e.selection.getRng(),r,n),c=De(Cp,e);return qM(n,c,r,i).bind(g=>hw(e,t,g))},iB=(e,t,n)=>{const r=Jo(Rs(re.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),u=>u.dom),i=Ke(r,e),c=Ke(n,e);Ne(Fn(i,c),De(Qx,!1)),Ne(Fn(c,i),De(Qx,!0))},j6=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=$e.fromRangeStart(e.selection.getRng());$e.isTextPosition(r)&&!Sp(r)&&(Jx(e,OE(n,r)),t.set(null))}},lB=(e,t,n,r)=>{if(t.selection.isCollapsed()){const i=Ke(r,e);Ne(i,c=>{const u=$e.fromRangeStart(t.selection.getRng());xm(e,t.getBody(),u).bind(g=>hw(t,n,g))})}},Q4=(e,t,n)=>Lc(e)?U6(e,t,n).isSome():!1,e3=(e,t,n)=>Lc(t)?GM(e,t):!1,Z6=e=>{const t=Sr(null),n=De(Cp,e);return e.on("NodeChange",r=>{Lc(e)&&(iB(n,e.dom,r.parents),j6(e,t),lB(n,e,t,r.parents))}),t},W6=De(e3,!0),q6=De(e3,!1),ev=(e,t,n)=>{if(Lc(e)){const r=J4(e,t).getOrThunk(()=>{const i=e.selection.getRng();return t?$e.fromRangeEnd(i):$e.fromRangeStart(i)});return xm(De(Cp,e),e.getBody(),r).exists(i=>{const c=fw(i);return j4(n,c).exists(u=>(Jx(e,u),!0))})}else return!1},t3=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},G6=e=>ga(ss(e),zu(e),(t,n)=>{const r=_d(!0,t),i=_d(!1,n);return Il(e,r).forall(c=>c.isEqual(i))}).getOr(!0),o3=(e,t)=>n=>j4(t,n).map(r=>()=>Jx(e,r)),n3=(e,t,n,r)=>{const i=e.getBody(),c=De(Cp,e);e.undoManager.ignore(()=>{e.selection.setRng(t3(n,r)),Hy(e),xm(c,i,$e.fromRangeStart(e.selection.getRng())).map(q4).bind(o3(e,t)).each(So)}),e.nodeChanged()},K6=(e,t)=>{const n=up(t,e);return n||e},Y6=(e,t,n,r)=>{const i=K6(e.getBody(),r.container()),c=De(Cp,e),u=xm(c,i,r);return u.bind(x=>n?x.fold(Je(H.some(q4(x))),H.none,Je(H.some(fw(x))),H.none):x.fold(H.none,Je(H.some(fw(x))),H.none,Je(H.some(q4(x))))).map(o3(e,t)).getOrThunk(()=>{const x=Sh(n,i,r),C=x.bind(R=>xm(c,i,R));return ga(u,C,()=>eu(c,i,r).bind(R=>G6(R)?H.some(()=>{Gh(e,n,re.fromDom(R))}):H.none())).getOrThunk(()=>C.bind(()=>x.map(R=>()=>{n?n3(e,t,r,R):n3(e,t,R,r)})))})},bw=(e,t,n)=>{if(e.selection.isCollapsed()&&Lc(e)){const r=$e.fromRangeStart(e.selection.getRng());return Y6(e,t,n,r)}return H.none()},X6=e=>mu(e)>1,yw=(e,t)=>{const n=re.fromDom(e.getBody()),r=re.fromDom(e.selection.getStart()),i=cm(r,n);return Qn(i,t).fold(Je(i),c=>i.slice(0,c))},r3=e=>mu(e)===1,xw=e=>yw(e,t=>e.schema.isBlock(pn(t))||X6(t)),J6=e=>yw(e,t=>e.schema.isBlock(pn(t))),s3=(e,t)=>{const n=De(hk,e);return Kn(t,r=>n(r)?[r.dom]:[])},a3=e=>{const t=J6(e);return s3(e,t)},i3=(e,t,n,r)=>{const i=s3(t,r);if(i.length===0)Gh(t,e,n);else{const c=dS(n.dom,i);t.selection.setRng(c.toRange())}},Q6=(e,t)=>{const n=Ke(xw(e),r3);return _o(n).bind(r=>{const i=$e.fromRangeStart(e.selection.getRng());return OT(t,i,r.dom)&&!z2(r)?H.some(()=>i3(t,e,r,n)):H.none()})},eN=(e,t)=>{const n=t.parentElement;return ns(t)&&!ht(n)&&e.dom.isEmpty(n)},tN=e=>z2(re.fromDom(e)),oN=(e,t)=>{const n=e.selection.getStart(),r=eN(e,n)||tN(n)?dS(n,t):x5(e.selection.getRng(),t);e.selection.setRng(r.toRange())},nN=(e,t)=>{const n=Fn(t,a3(e));n.length>0&&oN(e,n)},l3=e=>it(e.startContainer),vw=e=>e.startOffset===0&&l3(e),rN=(e,t)=>{const n=t.startContainer.parentElement;return!ht(n)&&hk(e,re.fromDom(n))},sN=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!ht(t)&&!ht(n)&&t.isEqualNode(n)},c3=e=>{const t=e.endContainer;return e.endOffset===(it(t)?t.length:t.childNodes.length)},cB=e=>sN(e)&&c3(e),aN=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),dB=e=>cB(e)||aN(e),iN=e=>{const t=e.selection.getRng();return vw(t)&&rN(e,t)&&dB(t)},lN=e=>{if(iN(e)){const t=a3(e);return H.some(()=>{Hy(e),nN(e,t)})}else return H.none()},d3=(e,t)=>e.selection.isCollapsed()?Q6(e,t):lN(e),uB=(e,t)=>zi(e,n=>Gn(n.dom),n=>t.isBlock(pn(n))),fB=e=>uB(re.fromDom(e.selection.getStart()),e.schema),o=e=>{const t=e.selection.getRng();return t.collapsed&&(l3(t)||e.dom.isEmpty(t.startContainer))&&!fB(e)},s=e=>(o(e)&&oN(e,[]),!0),a=(e,t,n)=>Ie(n)?H.some(()=>{e._selectionOverrides.hideFakeCaret(),Gh(e,t,re.fromDom(n))}):H.none(),l=(e,t)=>{const n=t?By:jh,i=py(t?1:-1,e.getBody(),e.selection.getRng());return n(i)?a(e,t,i.getNode(!t)):H.from(_d(t,i)).filter(c=>n(c)&&w0(i,c)).bind(c=>a(e,t,c.getNode(!t)))},d=(e,t)=>{const n=e.selection.getNode();return Zi(n)?a(e,t,n):H.none()},f=(e,t)=>e.selection.isCollapsed()?l(e,t):d(e,t),p=e=>Cc(e,t=>Ti(t.dom)||yr(t.dom)).exists(t=>Ti(t.dom)),b=e=>Wn(e??"").getOr(0),y=(e,t)=>{const n=e||K1(t)?"margin":"padding",r=Si(t,"direction")==="rtl"?"-right":"-left";return n+r},_=(e,t,n,r,i,c)=>{const u=y(n,re.fromDom(c)),g=b(e.getStyle(c,u));if(t==="outdent"){const x=Math.max(0,g-r);e.setStyle(c,u,x?x+i:"")}else{const x=g+r+i;e.setStyle(c,u,x)}},E=(e,t)=>Qr(t,n=>{const r=y(Y3(e),n),i=Zs(n,r).map(b).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&i>0}),w=e=>{const t=I(e);return!e.mode.isReadOnly()&&(t.length>1||E(e,t))},A=e=>Wd(e)||_u(e),P=e=>oi(e).exists(A),I=e=>Ke(Aa(e.selection.getSelectedBlocks()),t=>!A(t)&&!P(t)&&p(t)),Y=(e,t)=>{var n,r;if(e.mode.isReadOnly())return;const{dom:i}=e,c=Vn(e),u=(r=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",g=b(c),x=Y3(e);Ne(I(e),C=>{_(i,t,x,g,u,C.dom)})},G=e=>Y(e,"indent"),J=e=>Y(e,"outdent"),j=e=>{if(e.selection.isCollapsed()&&w(e)){const t=e.dom,n=e.selection.getRng(),r=$e.fromRangeStart(n),i=t.getParent(n.startContainer,t.isBlock);if(i!==null&&K0(re.fromDom(i),r,e.schema))return H.some(()=>J(e))}return H.none()},Z=(e,t,n)=>Ks([j,$4,Kx,(r,i)=>bw(r,t,i),Lp,Yh,U4,f,cw,d3,V4],r=>r(e,n)).filter(r=>e.selection.isEditable()),te=(e,t)=>{Z(e,t,!1).fold(()=>{e.selection.isEditable()&&(Hy(e),ax(e))},So)},oe=(e,t)=>{Z(e,t,!0).fold(()=>{e.selection.isEditable()&&RC(e)},So)},ce=(e,t)=>{e.addCommand("delete",()=>{te(e,t)}),e.addCommand("forwardDelete",()=>{oe(e,t)})},he=5,we=400,Ae=e=>e.touches===void 0||e.touches.length!==1?H.none():H.some(e.touches[0]),Ue=(e,t)=>{const n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>he||r>he},Ve=e=>{const t=ic(),n=Sr(!1),r=Ds(i=>{e.dispatch("longpress",{...i,type:"longpress"}),n.set(!0)},we);e.on("touchstart",i=>{Ae(i).each(c=>{r.cancel();const u={x:c.clientX,y:c.clientY,target:i.target};r.throttle(i),n.set(!1),t.set(u)})},!0),e.on("touchmove",i=>{r.cancel(),Ae(i).each(c=>{t.on(u=>{Ue(c,u)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",i=>{r.cancel(),i.type!=="touchcancel"&&t.get().filter(c=>c.target.isEqualNode(i.target)).each(()=>{n.get()?i.preventDefault():e.dispatch("tap",{...i,type:"tap"})})},!0)},Ye=(e,t)=>po(e,t.nodeName),ft=(e,t)=>it(t)?!0:Ot(t)?!Ye(e.getBlockElements(),t)&&!kl(t)&&!ir(e,t)&&!T(t):!1,Ut=(e,t,n)=>Sn(Py(re.fromDom(n),re.fromDom(t)),r=>Ye(e,r.dom)),Yt=(e,t)=>{if(it(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||Ye(e,t.nextSibling)||T(t.nextSibling)}return!1},ro=e=>e.dom.create(Ki(e),f0(e)),Zo=e=>{const t=e.dom,n=e.selection,r=e.schema,i=r.getBlockElements(),c=n.getStart(),u=e.getBody();let g,x,C=null;const R=Ki(e);if(!c||!Ot(c))return;const B=u.nodeName.toLowerCase();if(!r.isValidChild(B,R.toLowerCase())||Ut(i,u,c))return;if(u.firstChild===u.lastChild&&ns(u.firstChild)){g=ro(e),g.appendChild(Ll().dom),u.replaceChild(g,u.firstChild),e.selection.setCursorLocation(g,0),e.nodeChanged();return}let L=u.firstChild;for(;L;)if(Ot(L)&&lc(r,L),ft(r,L)){if(Yt(i,L)){x=L,L=L.nextSibling,t.remove(x);continue}if(!g){if(!C&&e.hasFocus()&&(C=g6(e.selection.getRng(),()=>document.createElement("span"))),!L.parentNode){L=null;break}g=ro(e),u.insertBefore(g,L)}x=L,L=L.nextSibling,g.appendChild(x)}else g=null,L=L.nextSibling;C&&(e.selection.setRng(h6(C)),e.nodeChanged())},fr=(e,t,n)=>{const r=re.fromDom(ro(e)),i=Ll();Mr(r,i),n(t,r);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},Xr=e=>{e.on("NodeChange",()=>Zo(e))},Nn=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,cn=(e,t,n)=>function(r){const i=arguments,c=i[i.length-2],u=c>0?t.charAt(c-1):"";if(u==='"')return r;if(u===">"){const g=t.lastIndexOf("<",c);if(g!==-1&&t.substring(g,c).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(i[0])+'">'+e.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},Xt=(e,t,n)=>{let r=t.length,i=n.content;if(n.format!=="raw"){for(;r--;)i=i.replace(t[r],cn(e,i,mE(e)));n.content=i}},mr=(e,t)=>Qr(e,n=>{const r=t.match(n);return r!==null&&r[0].length===t.length}),Un=e=>{const t="contenteditable",n=" "+gt.trim(TR(e))+" ",r=" "+gt.trim(mE(e))+" ",i=Nn(n),c=Nn(r),u=pE(e);u.length>0&&e.on("BeforeSetContent",g=>{Xt(e,u,g)}),e.parser.addAttributeFilter("class",g=>{let x=g.length;for(;x--;){const C=g[x];i(C)?C.attr(t,"true"):c(C)&&C.attr(t,"false")}}),e.serializer.addAttributeFilter(t,g=>{let x=g.length;for(;x--;){const C=g[x];if(!i(C)&&!c(C))continue;const R=C.attr("data-mce-content");u.length>0&&R?mr(u,R)?(C.name="#text",C.type=3,C.raw=!0,C.value=R):C.remove():C.attr(t,null)}})},ta=e=>er(re.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),rr=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ep(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},oa=(e,t)=>{const n=ta(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),rr(e,n);return}Gb(n)&&(rr(e,n),e.undoManager.add())}},Ea=e=>{e.on("keyup compositionstart",De(oa,e))},Fp=yr,fb=(e,t,n)=>H6(t,e,n,kp,wp,Fp),_w=(e,t,n)=>$6(t,e,n,c=>kp(c)||mC(c),c=>wp(c)||j_(c),Fp),kw=e=>{const t=e.dom.create(Ki(e));return t.innerHTML='<br data-mce-bogus="1">',t},Hp=(e,t,n)=>{const r=Eu(e.getBody()),i=De(k0,t===1?r.next:r.prev);if(n.collapsed){const c=e.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i($e.fromRangeStart(n))){const g=re.fromDom(kw(e));t===1?tn(re.fromDom(c),g):Vr(re.fromDom(c),g),e.selection.select(g.dom,!0),e.selection.collapse()}}},Bg=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return fb(n,e,r).orThunk(()=>(Hp(e,n,r),H.none()))},vm=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return _w(n,e,r).orThunk(()=>(Hp(e,n,r),H.none()))},g1=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return zT(n)?!t:t},mb=(e,t)=>Bg(e,g1(e.selection,t)).exists(n=>(Ip(e,n),!0)),_m=(e,t)=>vm(e,t).exists(n=>(Ip(e,n),!0)),pb=(e,t)=>ub(e,t,t?wp:kp),$p=(e,t)=>dw(e,!t).map(n=>{const r=n.toRange(),i=e.selection.getRng();return t?r.setStart(i.startContainer,i.startOffset):r.setEnd(i.endContainer,i.endOffset),r}).exists(n=>(Ip(e,n),!0)),tv=e=>on(["figcaption"],pn(e)),ov=(e,t,n)=>{const r=De(en,t);return Cc(re.fromDom(e.container()),i=>n.isBlock(pn(i)),r).filter(tv)},h1=(e,t,n)=>t?R6(e.dom,n):N6(e.dom,n),Pg=(e,t)=>{const n=re.fromDom(e.getBody()),r=$e.fromRangeStart(e.selection.getRng());return ov(r,n,e.schema).exists(()=>{if(h1(n,t,r)){const c=fr(e,n,t?Mr:Ui);return e.selection.setRng(c),!0}else return!1})},km=(e,t)=>e.selection.isCollapsed()?Pg(e,t):!1,kn=(e,t,n)=>{const r=e.selection.getRng(),i=$e.fromRangeStart(r);return e.getBody().firstChild===t&&N6(n,i)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Lg=(e,t)=>{const n=e.selection.getRng(),r=$e.fromRangeStart(n);return e.getBody().lastChild===t&&R6(t,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},zf=(e,t)=>t?H.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>Lg(e,n)).getOr(!1):H.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>H.from(e.dom.getParent(n,"details")).map(r=>kn(e,r,n))).getOr(!1),u3=(e,t)=>zf(e,t),ww={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},cN=e=>Jo(e,t=>({...ww,...t})),Cw=e=>Jo(e,t=>({...ww,...t})),nv=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Vp=(e,t)=>Kn(cN(e),n=>nv(n,t)?[n]:[]),b1=(e,t)=>Kn(Cw(e),n=>nv(n,t)?[n]:[]),xo=(e,...t)=>()=>e.apply(null,t),gb=(e,t)=>Tn(Vp(e,t),n=>n.action()),dN=(e,t)=>Ks(b1(e,t),n=>n.action()),rv=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return H6(e,n,r,By,jh,Zi).exists(i=>(Ip(e,i),!0))},sv=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return $6(e,n,r,By,jh,Zi).exists(i=>(Ip(e,i),!0))},uN=(e,t)=>ub(e,t,t?jh:By),y1=Lt.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),di={...y1,none:e=>y1.none(e)},x1=(e,t)=>fN(e,t,uo),fN=(e,t,n)=>Kn(xa(e),r=>Fa(r,t)?n(r)?[r]:[]:fN(r,t,n)),mN=(e,t,n=ho)=>{if(n(t))return H.none();if(on(e,pn(t)))return H.some(t);const r=i=>Fa(i,"table")||n(i);return nd(t,e.join(","),r)},f3=(e,t)=>mN(["td","th"],e,t),pN=e=>x1(e,"th,td"),m3=(e,t)=>aa(e,"table",t),Iu=(e,t,n,r,i=uo)=>{const c=r===1;if(!c&&n<=0)return di.first(e[0]);if(c&&n>=e.length-1)return di.last(e[e.length-1]);{const u=n+r,g=e[u];return i(g)?di.middle(t,g):Iu(e,t,u,r,i)}},v1=(e,t)=>m3(e,t).bind(n=>{const r=pN(n);return Qn(r,c=>en(e,c)).map(c=>({index:c,all:r}))}),gN=(e,t,n)=>v1(e,n).fold(()=>di.none(e),i=>Iu(i.all,e,i.index,1,t)),hN=(e,t,n)=>v1(e,n).fold(()=>di.none(),i=>Iu(i.all,e,i.index,-1,t)),p3=e=>G1(e).filter(t=>t.trim().length!==0||t.indexOf(os)>-1).isSome(),bN=e=>ha(e)&&ba(e,"contenteditable")==="false",Up=["img","br"],yN=e=>p3(e)||on(Up,pn(e))||bN(e),xN=e=>tc(e,yN),vN=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),_N=(e,t)=>Kn(t,n=>{const r=vN(md(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),mB=(e,t,n)=>fo(e,(r,i)=>r.fold(()=>H.some(i),c=>{const u=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-n)),g=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n));return H.some(g<u?i:c)}),H.none()),Te=(e,t,n,r,i)=>{const c=Rs(re.fromDom(n),"td,th,caption").map(g=>g.dom),u=Ke(_N(e,c),g=>t(g,i));return mB(u,r,i).map(g=>g.cell)},Wo=e=>e.bottom,yo=e=>e.top,Jr=(e,t)=>e.y<t,_s=(e,t)=>e.y>t,Or=De(Te,Wo,Jr),al=De(Te,yo,_s),jp=(e,t)=>dt(t.getClientRects()).bind(n=>Or(e,n.left,n.top)).bind(n=>p1(JM(n),t)),wm=(e,t)=>_o(t.getClientRects()).bind(n=>al(e,n.left,n.top)).bind(n=>p1(XM(n),t)),Zl=(e,t,n)=>n.breakAt.exists(r=>e(t,r).breakAt.isSome()),pB=e=>e.breakType===Ef.Wrap&&e.positions.length===0,kN=e=>e.breakType===Ef.Br&&e.positions.length===1,g3=(e,t,n)=>{const r=e(t,n);return pB(r)||!ns(n.getNode())&&kN(r)?!Zl(e,t,r):r.breakAt.isNone()},p9=De(g3,cb),g9=De(g3,Xx),h9=(e,t,n)=>{const r=$e.fromRangeStart(t);return gy(!e,n).exists(i=>i.isEqual(r))},b9=(e,t,n,r)=>{const i=e.selection.getRng(),c=t?1:-1;return NE()&&h9(t,i,n)?(Lu(c,e,n,!t,!1).each(u=>{Ip(e,u)}),!0):!1},y9=(e,t,n)=>jp(t,n).orThunk(()=>dt(n.getClientRects()).bind(r=>K4(Y4(e,$e.before(t)),r.left))).getOr($e.before(t)),x9=(e,t,n)=>wm(t,n).orThunk(()=>dt(n.getClientRects()).bind(r=>K4(A6(e,$e.after(t)),r.left))).getOr($e.after(t)),wP=(e,t)=>{const n=t.getNode(e);return sd(n)?H.some(n):H.none()},v9=(e,t,n)=>{t.undoManager.transact(()=>{const r=e?tn:Vr,i=fr(t,re.fromDom(n),r);Ip(t,i)})},CP=(e,t,n)=>{const r=wP(!!t,n),i=t===!1;r.fold(()=>Ip(e,n.toRange()),c=>gy(i,e.getBody()).filter(u=>u.isEqual(n)).fold(()=>Ip(e,n.toRange()),u=>v9(t,e,c)))},_9=(e,t,n,r)=>{const i=e.selection.getRng(),c=$e.fromRangeStart(i),u=e.getBody();if(!t&&p9(r,c)){const g=y9(u,n,c);return CP(e,t,g),!0}else if(t&&g9(r,c)){const g=x9(u,n,c);return CP(e,t,g),!0}else return!1},SP=(e,t,n)=>H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>H.from(e.dom.getParent(r,"table")).map(i=>n(e,t,i,r))).getOr(!1),EP=(e,t)=>SP(e,t,b9),gB=(e,t)=>SP(e,t,_9),k9=e=>{const t=wg.exact(e,0,e,0);return L_(t)},zP=(e,t,n)=>n.fold(H.none,H.none,(r,i)=>xN(i).map(c=>k9(c)),r=>e.mode.isReadOnly()||!w9(r)?H.none():(e.execCommand("mceTableInsertRowAfter"),TP(e,t,r))),w9=e=>Cc(e,sa("table")).exists(ni),TP=(e,t,n)=>zP(e,t,gN(n,OP)),C9=(e,t,n)=>zP(e,t,hN(n,OP)),OP=e=>ni(e)||Kp(e,S9),S9=e=>ha(e)&&ni(e),AP=(e,t)=>{const n=["table","li","dl"],r=re.fromDom(e.getBody()),i=g=>{const x=pn(g);return en(g,r)||on(n,x)},c=e.selection.getRng(),u=re.fromDom(t?c.endContainer:c.startContainer);return f3(u,i).map(g=>(m3(g,i).each(R=>{e.model.table.clearSelectedCells(R.dom)}),e.selection.collapse(!t),(t?TP:C9)(e,i,g).each(R=>{e.selection.setRng(R)}),!0)).getOr(!1)},E9=(e,t,n)=>{const r=Nt.os.isMacOS()||Nt.os.isiOS();gb([{keyCode:Ht.RIGHT,action:xo(mb,e,!0)},{keyCode:Ht.LEFT,action:xo(mb,e,!1)},{keyCode:Ht.UP,action:xo(_m,e,!1)},{keyCode:Ht.DOWN,action:xo(_m,e,!0)},...r?[{keyCode:Ht.UP,action:xo($p,e,!1),metaKey:!0,shiftKey:!0},{keyCode:Ht.DOWN,action:xo($p,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Ht.RIGHT,action:xo(EP,e,!0)},{keyCode:Ht.LEFT,action:xo(EP,e,!1)},{keyCode:Ht.UP,action:xo(gB,e,!1)},{keyCode:Ht.DOWN,action:xo(gB,e,!0)},{keyCode:Ht.UP,action:xo(gB,e,!1)},{keyCode:Ht.UP,action:xo(u3,e,!1)},{keyCode:Ht.DOWN,action:xo(u3,e,!0)},{keyCode:Ht.RIGHT,action:xo(rv,e,!0)},{keyCode:Ht.LEFT,action:xo(rv,e,!1)},{keyCode:Ht.UP,action:xo(sv,e,!1)},{keyCode:Ht.DOWN,action:xo(sv,e,!0)},{keyCode:Ht.RIGHT,action:xo(Q4,e,t,!0)},{keyCode:Ht.LEFT,action:xo(Q4,e,t,!1)},{keyCode:Ht.RIGHT,ctrlKey:!r,altKey:r,action:xo(W6,e,t)},{keyCode:Ht.LEFT,ctrlKey:!r,altKey:r,action:xo(q6,e,t)},{keyCode:Ht.UP,action:xo(km,e,!1)},{keyCode:Ht.DOWN,action:xo(km,e,!0)}],n).each(i=>{n.preventDefault()})},z9=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||E9(e,t,n)})},Zp=(e,t)=>({container:e,offset:t}),wN=Tr.DOM,CN=e=>t=>e===t?-1:0,T9=e=>t=>e.isBlock(t)||on(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",hB=(e,t,n)=>{if(it(e)&&t>=0)return H.some(Zp(e,t));{const r=fd(wN);return H.from(r.backwards(e,t,CN(e),n)).map(i=>Zp(i.container,i.container.data.length))}},O9=(e,t,n)=>{if(it(e)&&t>=e.length)return H.some(Zp(e,t));{const r=fd(wN);return H.from(r.forwards(e,t,CN(e),n)).map(i=>Zp(i.container,0))}},bB=(e,t,n)=>{if(!it(e))return H.none();const r=e.data;if(t>=0&&t<=r.length)return H.some(Zp(e,t));{const i=fd(wN);return H.from(i.backwards(e,t,CN(e),n)).bind(c=>{const u=c.container.data;return bB(c.container,t+u.length,n)})}},NP=(e,t,n)=>{if(!it(e))return H.none();const r=e.data;if(t<=r.length)return H.some(Zp(e,t));{const i=fd(wN);return H.from(i.forwards(e,t,CN(e),n)).bind(c=>NP(c.container,t-r.length,n))}},yB=(e,t,n,r,i)=>{const c=fd(e,T9(e));return H.from(c.backwards(t,n,r,i))},A9=e=>e.collapsed&&it(e.startContainer),N9=e=>wa(e.toString().replace(/\u00A0/g," ")),RP=e=>e!==""&&`  \uFEFF\f
\r	\v`.indexOf(e)!==-1,R9=(e,t)=>e.substring(t.length),D9=(e,t,n,r=!1)=>{let i;const c=n.charAt(0);for(i=t-1;i>=0;i--){const u=e.charAt(i);if(!r&&RP(u))return H.none();if(c===u&&gr(e,n,i,t))break}return H.some(i)},xB=(e,t,n,r=!1)=>{if(!A9(t))return H.none();const i={text:"",offset:0},c=(g,x,C)=>(i.text=C+i.text,i.offset+=x,D9(i.text,i.offset,n,r).getOr(x)),u=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return yB(e,t.startContainer,t.startOffset,c,u).bind(g=>{const x=t.cloneRange();if(x.setStart(g.container,g.offset),x.setEnd(t.endContainer,t.endOffset),x.collapsed)return H.none();const C=N9(x);return C.lastIndexOf(n)!==0?H.none():H.some({text:R9(C,n),range:x,trigger:n})})},M9=e=>e.nodeType===Kl,B9=e=>e.nodeType===Xc,DP=e=>{if(M9(e))return Zp(e,e.data.length);{const t=e.childNodes;return t.length>0?DP(t[t.length-1]):Zp(e,t.length)}},MP=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?MP(n[t],0):n.length>0&&B9(e)&&n.length===t?DP(n[n.length-1]):Zp(e,t)},P9=(e,t)=>{var n;const r=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return yB(e,t.container,t.offset,(i,c)=>c===0?-1:c,r).filter(i=>{const c=i.container.data.charAt(i.offset-1);return!RP(c)}).isSome()},L9=e=>t=>{const n=MP(t.startContainer,t.startOffset);return!P9(e,n)},I9=(e,t,n)=>Ks(n.triggers,r=>xB(e,t,r)),F9=(e,t)=>{const n=t(),r=e.selection.getRng();return I9(e.dom,r,n).bind(i=>BP(e,t,i))},BP=(e,t,n,r={})=>{var i;const c=t(),g=(i=e.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",x=Ke(c.lookupByTrigger(n.trigger),R=>n.text.length>=R.minChars&&R.matches.getOrThunk(()=>L9(e.dom))(n.range,g,n.text));if(x.length===0)return H.none();const C=Promise.all(Jo(x,R=>R.fetch(n.text,R.maxResults,r).then(L=>({matchText:n.text,items:L,columns:R.columns,onAction:R.onAction,highlightOn:R.highlightOn}))));return H.some({lookupData:C,context:n})};var Tf;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Tf||(Tf={}));const vB=(e,t,n)=>e.stype===Tf.Error?t(e.serror):n(e.svalue),H9=e=>{const t=[],n=[];return Ne(e,r=>{vB(r,i=>n.push(i),i=>t.push(i))}),{values:t,errors:n}},$9=(e,t)=>e.stype===Tf.Error?{stype:Tf.Error,serror:t(e.serror)}:e,V9=(e,t)=>e.stype===Tf.Value?{stype:Tf.Value,svalue:t(e.svalue)}:e,U9=(e,t)=>e.stype===Tf.Value?t(e.svalue):e,j9=(e,t)=>e.stype===Tf.Error?t(e.serror):e,PP=e=>({stype:Tf.Value,svalue:e}),LP=e=>({stype:Tf.Error,serror:e}),wl={fromResult:e=>e.fold(LP,PP),toResult:e=>vB(e,lt.error,lt.value),svalue:PP,partition:H9,serror:LP,bind:U9,bindError:j9,map:V9,mapError:$9,fold:vB},_B=e=>ue(e)&&nt(e).length>100?" removed due to size":JSON.stringify(e,null,2),Z9=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:Je("... (only showing first ten failures)")}]):e;return Jo(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},SN=(e,t)=>wl.serror([{path:e,getErrorInfo:t}]),W9=(e,t,n)=>SN(e,()=>'Could not find valid *required* value for "'+t+'" in '+_B(n)),q9=(e,t)=>SN(e,()=>'Choice schema did not contain choice key: "'+t+'"'),G9=(e,t,n)=>SN(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+_B(t)),K9=(e,t)=>SN(e,Je(t)),Y9=(e,t,n,r)=>Hn(n,r).fold(()=>G9(e,n,r),c=>c.extract(e.concat(["branch: "+r]),t)),X9=(e,t)=>({extract:(i,c)=>Hn(c,e).fold(()=>q9(i,e),g=>Y9(i,c,t,g)),toString:()=>"chooseOn("+e+"). Possible values: "+nt(t)}),J9=(e,t)=>t,Q9=(e,t)=>Et(e)&&Et(t)?EN(e,t):t,IP=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const i=t[r];for(const c in i)po(i,c)&&(n[c]=e(n[c],i[c]))}return n},EN=IP(Q9),FP=IP(J9),kB=()=>({tag:"required",process:{}}),eH=e=>({tag:"defaultedThunk",process:e}),HP=e=>eH(Je(e)),tH=()=>({tag:"option",process:{}}),oH=(e,t)=>e.length>0?wl.svalue(EN(t,FP.apply(void 0,e))):wl.svalue(t),$P=e=>Do(wl.serror,Rn)(e),VP={consolidateObj:(e,t)=>{const n=wl.partition(e);return n.errors.length>0?$P(n.errors):oH(n.values,t)},consolidateArr:e=>{const t=wl.partition(e);return t.errors.length>0?$P(t.errors):wl.svalue(t.values)}},nH=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),rH=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),UP=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},wB=e=>{const t=(r,i)=>wl.bindError(e(i),c=>K9(r,c)),n=Je("val");return{extract:t,toString:n}},sH=wB(wl.svalue),aH=(e,t,n,r)=>Hn(t,n).fold(()=>W9(e,n,t),r),jP=(e,t,n,r)=>{const i=Hn(e,t).getOrThunk(()=>n(e));return r(i)},iH=(e,t,n)=>n(Hn(e,t)),lH=(e,t,n,r)=>{const i=Hn(e,t).map(c=>c===!0?n(e):c);return r(i)},cH=(e,t,n,r,i)=>{const c=g=>i.extract(t.concat([r]),g),u=g=>g.fold(()=>wl.svalue(H.none()),x=>{const C=i.extract(t.concat([r]),x);return wl.map(C,H.some)});switch(e.tag){case"required":return aH(t,n,r,c);case"defaultedThunk":return jP(n,r,e.process,c);case"option":return iH(n,r,u);case"defaultedOptionThunk":return lH(n,r,e.process,u);case"mergeWithThunk":return jP(n,r,Je({}),g=>{const x=EN(e.process(n),g);return c(x)})}},dH=(e,t,n)=>{const r={},i=[];for(const c of n)UP(c,(u,g,x,C)=>{const R=cH(x,e,t,u,C);wl.fold(R,B=>{i.push(...B)},B=>{r[g]=B})},(u,g)=>{r[u]=g(t)});return i.length>0?wl.serror(i):wl.svalue(r)},h3=e=>({extract:(r,i)=>dH(r,i,e),toString:()=>`obj{
`+Jo(e,i=>UP(i,(c,u,g,x)=>c+" -> "+x.toString(),(c,u)=>"state("+c+")")).join(`
`)+"}"}),CB=e=>({extract:(r,i)=>{const c=Jo(i,(u,g)=>e.extract(r.concat(["["+g+"]"]),u));return VP.consolidateArr(c)},toString:()=>"array("+e.toString()+")"}),uH=(e,t)=>{const n=fn;return{extract:(c,u)=>{const g=[];for(const x of e){const C=x.extract(c,u);if(C.stype===Tf.Value)return{stype:Tf.Value,svalue:n(C.svalue)};g.push(C)}return VP.consolidateArr(g)},toString:()=>"oneOf("+Jo(e,c=>c.toString()).join(", ")+")"}},fH=Do(CB,h3),mH=e=>wB(t=>e(t).fold(wl.serror,wl.svalue)),pH=(e,t,n)=>{const r=t.extract([e],n);return wl.mapError(r,i=>({input:n,errors:i}))},gH=(e,t,n)=>wl.toResult(pH(e,t,n)),hH=e=>`Errors: 
`+Z9(e.errors).join(`
`)+`

Input object: `+_B(e.input),SB=(e,t)=>X9(e,Pi(t,h3)),bH=Je(sH),zN=(e,t)=>wB(n=>{const r=typeof n;return e(n)?wl.svalue(n):wl.serror(`Expected type: ${t} but got: ${r}`)}),yH=zN(O,"number"),Sw=zN(pt,"string"),xH=zN(gs,"boolean"),EB=zN(jt,"function"),Ew=nH,ZP=rH,WP=e=>mH(t=>on(e,t)?lt.value(t):lt.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),zB=(e,t)=>Ew(e,e,kB(),t),qP=e=>zB(e,Sw),TB=(e,t)=>Ew(e,e,kB(),WP(t)),GP=e=>zB(e,EB),KP=(e,t)=>Ew(e,e,kB(),CB(t)),TN=(e,t)=>Ew(e,e,tH(),t),av=e=>TN(e,Sw),vH=e=>TN(e,EB),_H=(e,t)=>TN(e,h3(t)),kH=(e,t)=>Ew(e,e,HP(t),bH()),zw=(e,t,n)=>Ew(e,e,HP(t),n),YP=(e,t)=>zw(e,t,yH),ON=(e,t)=>zw(e,t,Sw),XP=(e,t,n)=>zw(e,t,WP(n)),OB=(e,t)=>zw(e,t,xH),hb=(e,t)=>zw(e,t,EB),wH=(e,t,n)=>zw(e,t,CB(n)),CH=qP("type"),SH=GP("fetch"),AB=GP("onAction"),EH=hb("onSetup",()=>ao),zH=av("text"),TH=av("icon"),OH=av("tooltip"),AH=av("label"),NH=OB("active",!1),RH=OB("enabled",!0),JP=OB("primary",!1),DH=e=>kH("columns",e),Tw=e=>ON("type",e),MH=h3([CH,qP("trigger"),YP("minChars",1),DH(1),YP("maxResults",10),vH("matches"),SH,AB,wH("highlightOn",[],Sw)]),BH=e=>gH("Autocompleter",MH,e),AN=[RH,OH,TH,zH,EH,ON("context","mode:design")],QP=[NH].concat(AN),NN=[hb("predicate",ho),XP("scope","node",["node","editor"]),XP("position","selection",["node","selection","line"])],PH=AN.concat([Tw("contextformbutton"),ON("align","end"),JP,AB,ZP("original",fn)]),LH=QP.concat([Tw("contextformbutton"),ON("align","end"),JP,AB,ZP("original",fn)]),IH=AN.concat([Tw("contextformbutton")]),FH=QP.concat([Tw("contextformtogglebutton")]),HH=SB("type",{contextformbutton:PH,contextformtogglebutton:LH}),NB=[AH,KP("commands",HH),TN("launch",SB("type",{contextformbutton:IH,contextformtogglebutton:FH})),hb("onInput",ao),hb("onSetup",ao)],$H=[...NN,...NB,TB("type",["contextform"]),hb("initValue",Je("")),av("placeholder")],VH=[...NN,...NB,TB("type",["contextsliderform"]),hb("initValue",Je(0)),hb("min",Je(0)),hb("max",Je(100))],UH=[...NN,...NB,TB("type",["contextsizeinputform"]),hb("initValue",Je({width:"",height:""}))];SB("type",{contextform:$H,contextsliderform:VH,contextsizeinputform:UH});const jH=AN.concat([Tw("contexttoolbarbutton")]);h3([Tw("contexttoolbar"),_H("launch",jH),zB("items",uH([Sw,fH([av("name"),av("label"),KP("items",Sw)])]))].concat(NN));const ZH=e=>{const t=e.ui.registry.getAll().popups,n=Pi(t,u=>BH(u).fold(g=>{throw new Error(hH(g))},fn)),r=vc(za(n,u=>u.trigger)),i=El(n);return{dataset:n,triggers:r,lookupByTrigger:u=>Ke(i,g=>g.trigger===u)}},WH=(e,t)=>{const n=Ds(t.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",r=>{const i=r.which;i===8?n.throttle():i===27?(n.cancel(),t.cancelIfNecessary()):(i===38||i===40)&&n.cancel()},!0),e.on("remove",n.cancel)},qH=e=>{const t=ic(),n=Sr(!1),r=t.isSet,i=()=>{r()&&(Pr(e),n.set(!1),t.clear())},c=B=>{r()||t.set({trigger:B.trigger,matchLength:B.text.length})},u=Ya(()=>ZH(e)),g=B=>t.get().map(L=>xB(e.dom,e.selection.getRng(),L.trigger,!0).bind(W=>BP(e,u,W,B))).getOrThunk(()=>F9(e,u)),x=B=>{g(B).fold(i,L=>{c(L.context),L.lookupData.then(W=>{t.get().map(ee=>{const K=L.context;ee.trigger===K.trigger&&(t.set({...ee,matchLength:K.text.length}),n.get()?(u0(e,{range:K.range}),Kw(e,{lookupData:W})):(n.set(!0),u0(e,{range:K.range}),L3(e,{lookupData:W})))})})})},C=(B,L)=>{const W=B.compareBoundaryPoints(window.Range.START_TO_START,L),ee=B.compareBoundaryPoints(window.Range.END_TO_END,L);return W>=0&&ee<=0},R=()=>t.get().bind(({trigger:B})=>{const L=e.selection.getRng();return xB(e.dom,L,B,n.get()).filter(({range:W})=>C(L,W)).map(({range:W})=>W)});e.addCommand("mceAutocompleterReload",(B,L)=>{const W=ue(L)?L.fetchOptions:{};x(W)}),e.addCommand("mceAutocompleterClose",i),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{R().each(B=>{u0(e,{range:B})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>R().isSome()),WH(e,{cancelIfNecessary:i,load:x})},GH=Us().browser.isSafari(),eL=e=>cf(re.fromDom(e)),tL=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},RN=(e,t)=>H.from(e.getParent(t.container(),"details")),oL=(e,t)=>RN(e,t).isSome(),KH=(e,t)=>{const n=H.from(e.getParent(t.startContainer,"details")),r=H.from(e.getParent(t.endContainer,"details"));if(n.isSome()||r.isSome()){const i=n.bind(c=>H.from(e.select("summary",c)[0]));return H.some({startSummary:i,startDetails:n,endDetails:r})}else return H.none()},YH=(e,t)=>ss(t).exists(n=>n.isEqual(e)),XH=(e,t)=>zu(t).exists(n=>ns(n.getNode())&&gc(t,n).exists(r=>r.isEqual(e))||n.isEqual(e)),JH=(e,t)=>t.startSummary.exists(n=>YH(e,n)),QH=(e,t)=>t.startSummary.exists(n=>XH(e,n)),e$=(e,t)=>t.startDetails.exists(n=>gc(n,e).forall(r=>t.startSummary.exists(i=>!i.contains(e.container())&&i.contains(r.container())))),t$=(e,t,n)=>n.startDetails.exists(r=>Il(e,t).forall(i=>!r.contains(i.container()))),nL=(e,t)=>{const n=t.getNode();Nr(n)||e.selection.setCursorLocation(n,t.offset())},rL=(e,t,n)=>{const r=e.dom.getParent(t.container(),"details");if(r&&!r.open){const i=e.dom.select("summary",r)[0];i&&(n?ss(i):zu(i)).each(u=>nL(e,u))}else nL(e,t)},o$=(e,t)=>{const n=x=>x.contains(e.startContainer),r=x=>x.contains(e.endContainer),i=t.startSummary.exists(n),c=t.startSummary.exists(r),u=t.startDetails.forall(x=>t.endDetails.forall(C=>x!==C));return(i||c)&&!(i&&c)||u},sL=(e,t,n)=>{const{dom:r,selection:i}=e,c=e.getBody();if(n==="character"){const u=$e.fromRangeStart(i.getRng()),g=r.getParent(u.container(),r.isBlock),x=RN(r,u),C=g&&r.isEmpty(g),R=ht(g==null?void 0:g.previousSibling),B=ht(g==null?void 0:g.nextSibling);return C&&(t?B:R)&&Sh(!t,c,u).exists(ee=>oL(r,ee)&&!Yc(x,RN(r,ee)))?!0:Sh(t,c,u).fold(ho,L=>{const W=RN(r,L);if(oL(r,L)&&!Yc(x,W)){if(t||rL(e,L,!1),g&&C){if(t&&R)return!0;if(!t&&B)return!0;rL(e,L,t),e.dom.remove(g)}return!0}else return!1})}else return!1},n$=(e,t,n,r)=>{const c=e.selection.getRng(),u=$e.fromRangeStart(c),g=e.getBody();return r==="selection"?o$(c,t):n?QH(u,t)||t$(g,u,t):JH(u,t)||e$(u,t)},r$=(e,t,n)=>KH(e.dom,e.selection.getRng()).fold(()=>sL(e,t,n),r=>n$(e,r,t,n)||sL(e,t,n)),s$=(e,t,n)=>{const r=e.selection,i=r.getNode(),c=r.getRng(),u=$e.fromRangeStart(c);return Gg(i)?(n==="selection"&&tL(c,i)||OT(t,u,i)?eL(i):e.undoManager.transact(()=>{const g=r.getSel();let{anchorNode:x,anchorOffset:C,focusNode:R,focusOffset:B}=g??{};const L=()=>{Ie(x)&&Ie(C)&&Ie(R)&&Ie(B)&&(g==null||g.setBaseAndExtent(x,C,R,B))},W=()=>{x=g==null?void 0:g.anchorNode,C=g==null?void 0:g.anchorOffset,R=g==null?void 0:g.focusNode,B=g==null?void 0:g.focusOffset},ee=(ne,me)=>{Ne(ne.childNodes,Ce=>{vy(Ce)&&me.appendChild(Ce)})},K=e.dom.create("span",{"data-mce-bogus":"1"});ee(i,K),i.appendChild(K),L(),(n==="word"||n==="line")&&(g==null||g.modify("extend",t?"right":"left",n)),!r.isCollapsed()&&tL(r.getRng(),K)?eL(i):(e.execCommand(t?"ForwardDelete":"Delete"),W(),ee(K,i),L()),e.dom.remove(K)}),!0):!1},iv=(e,t,n)=>r$(e,t,n)||GH&&s$(e,t,n)?H.some(ao):H.none(),aL=e=>(t,n,r={})=>{const i=t.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:ao,inputType:n},u=_v(new InputEvent(e));return t.dispatch(e,{...u,...c,...r})},b3=aL("input"),DN=aL("beforeinput"),iL=Us(),lL=iL.os,cL=lL.isMacOS()||lL.isiOS(),a$=iL.browser.isFirefox(),i$=(e,t,n)=>{const r=n.keyCode===Ht.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=e.selection.isCollapsed(),c=i?"character":"selection",u=g=>i?g?"word":"line":"selection";dN([{keyCode:Ht.BACKSPACE,action:xo(j,e)},{keyCode:Ht.BACKSPACE,action:xo($4,e,!1)},{keyCode:Ht.DELETE,action:xo($4,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(Kx,e,!1)},{keyCode:Ht.DELETE,action:xo(Kx,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(bw,e,t,!1)},{keyCode:Ht.DELETE,action:xo(bw,e,t,!0)},{keyCode:Ht.BACKSPACE,action:xo(Yh,e,!1)},{keyCode:Ht.DELETE,action:xo(Yh,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(iv,e,!1,c)},{keyCode:Ht.DELETE,action:xo(iv,e,!0,c)},...cL?[{keyCode:Ht.BACKSPACE,altKey:!0,action:xo(iv,e,!1,u(!0))},{keyCode:Ht.DELETE,altKey:!0,action:xo(iv,e,!0,u(!0))},{keyCode:Ht.BACKSPACE,metaKey:!0,action:xo(iv,e,!1,u(!1))}]:[{keyCode:Ht.BACKSPACE,ctrlKey:!0,action:xo(iv,e,!1,u(!0))},{keyCode:Ht.DELETE,ctrlKey:!0,action:xo(iv,e,!0,u(!0))}],{keyCode:Ht.BACKSPACE,action:xo(U4,e,!1)},{keyCode:Ht.DELETE,action:xo(U4,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(f,e,!1)},{keyCode:Ht.DELETE,action:xo(f,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(cw,e,!1)},{keyCode:Ht.DELETE,action:xo(cw,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(Lp,e,!1)},{keyCode:Ht.DELETE,action:xo(Lp,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(d3,e,!1)},{keyCode:Ht.DELETE,action:xo(d3,e,!0)},{keyCode:Ht.BACKSPACE,action:xo(V4,e,!1)},{keyCode:Ht.DELETE,action:xo(V4,e,!0)}],n).filter(g=>e.selection.isEditable()).each(g=>{n.preventDefault(),DN(e,r).isDefaultPrevented()||(g(),b3(e,r))})},l$=(e,t,n)=>gb([{keyCode:Ht.BACKSPACE,action:xo(f6,e)},{keyCode:Ht.DELETE,action:xo(f6,e)},...cL?[{keyCode:Ht.BACKSPACE,altKey:!0,action:xo(s,e)},{keyCode:Ht.DELETE,altKey:!0,action:xo(s,e)},...n?[{keyCode:a$?224:91,action:xo(s,e)}]:[]]:[{keyCode:Ht.BACKSPACE,ctrlKey:!0,action:xo(s,e)},{keyCode:Ht.DELETE,ctrlKey:!0,action:xo(s,e)}]],t),c$=(e,t)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===Ht.BACKSPACE,r.isDefaultPrevented()||i$(e,t,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||l$(e,r,n),n=!1})},d$=e=>{for(;e;){if(Ot(e)||it(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Ow=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const c=d$(t.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&t.insertBefore(n.doc.createTextNode(os),t.firstChild)}const i=n.createRng();if(t.normalize(),t.hasChildNodes()){const c=new qr(t,t);let u=t,g;for(;g=c.current();){if(it(g)){i.setStart(g,0),i.setEnd(g,0);break}if(r[g.nodeName.toLowerCase()]){i.setStartBefore(g),i.setEndBefore(g);break}u=g,g=c.next()}g||(i.setStart(u,0),i.setEnd(u,0))}else ns(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));e.selection.setRng(i),U0(e,i)},y3=(e,t)=>{const n=e.getRoot();let r,i=t;for(;i!==n&&i&&e.getContentEditable(i)!=="false";){if(e.getContentEditable(i)==="true"){r=i;break}i=i.parentNode}return i!==n?r:n},RB=e=>H.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),u$=e=>RB(e).fold(Je(""),t=>t.nodeName.toUpperCase()),f$=e=>RB(e).filter(t=>_u(re.fromDom(t))).isSome(),DB=e=>{e.innerHTML='<br data-mce-bogus="1">'},m$=(e,t,n)=>{const r=e.dom;H.from(n.style).map(r.parseStyle).each(x=>{const R={...Ei(re.fromDom(t)),...x};r.setStyles(t,R)});const i=H.from(n.class).map(x=>x.split(/\s+/)),c=H.from(t.className).map(x=>Ke(x.split(/\s+/),C=>C!==""));ga(i,c,(x,C)=>{const R=Ke(C,L=>!on(x,L)),B=[...x,...R];r.setAttrib(t,"class",B.join(" "))});const u=["style","class"],g=Yi(n,(x,C)=>!on(u,C));r.setAttribs(t,g)},x3=(e,t)=>{if(Ki(e).toLowerCase()===t.tagName.toLowerCase()){const r=f0(e);m$(e,t,r)}},dL=(e,t,n,r,i=!0,c,u)=>{const g=e.dom,x=e.schema,C=Ki(e),R=n?n.nodeName.toUpperCase():"";let B=t;const L=x.getTextInlineElements();let W;c||R==="TABLE"||R==="HR"?W=g.create(c||C,u||{}):W=n.cloneNode(!1);let ee=W;if(!i)g.setAttrib(W,"style",null),g.setAttrib(W,"class",null);else do if(L[B.nodeName]){if(Gn(B)||kl(B))continue;const K=B.cloneNode(!1);g.setAttrib(K,"id",""),W.hasChildNodes()?(K.appendChild(W.firstChild),W.appendChild(K)):(ee=K,W.appendChild(K))}while((B=B.parentNode)&&B!==r);return x3(e,W),DB(ee),W},p$=(e,t)=>e.dom.getParent(t,Vf),g$=(e,t,n)=>{let r=t;for(;r&&r!==e&&ht(r.nextSibling);){const i=r.parentElement;if(!i||!n(i))return Vf(i);r=i}return!1},h$=(e,t,n)=>!t&&n.nodeName.toLowerCase()===Ki(e)&&e.dom.isEmpty(n)&&g$(e.getBody(),n,r=>po(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),b$=(e,t,n)=>{var r,i,c;const u=t(Ki(e)),g=p$(e,n);g&&(e.dom.insertAfter(u,g),Ow(e,u),((c=(i=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||i===void 0?void 0:i.length)!==null&&c!==void 0?c:0)>1&&e.dom.remove(n))},y$=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,x$=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},uL=(e,t)=>{const n=e==null?void 0:e.parentNode;return Ie(n)&&n.nodeName===t},fL=e=>Ie(e)&&/^(OL|UL|LI)$/.test(e.nodeName),MB=e=>Ie(e)&&/^(LI|DT|DD)$/.test(e.nodeName),v$=e=>fL(e)&&fL(e.parentNode),MN=e=>{const t=e.parentNode;return MB(t)?t:e},BN=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Ot(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},mL=e=>fo(za(Ei(re.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),_$=(e,t,n,r,i)=>{const c=e.dom,u=e.selection.getRng(),g=n.parentNode;if(n===e.getBody()||!g)return;v$(n)&&(i="LI");const x=MB(r)?mL(r):void 0;let C=MB(r)&&x?t(i,{style:mL(r)}):t(i);if(BN(n,r,!0)&&BN(n,r,!1))if(uL(n,"LI")){const R=MN(n);c.insertAfter(C,R),x$(n)?c.remove(R):c.remove(n)}else c.replace(C,n);else if(BN(n,r,!0))uL(n,"LI")?(c.insertAfter(C,MN(n)),C.appendChild(c.doc.createTextNode(" ")),C.appendChild(n)):g.insertBefore(C,n),c.remove(r);else if(BN(n,r,!1))c.insertAfter(C,MN(n)),c.remove(r);else{n=MN(n);const R=u.cloneRange();R.setStartAfter(r),R.setEndAfter(n);const B=R.extractContents();if(i==="LI"&&y$(B,"LI")){const L=Ke(Jo(C.children,re.fromDom),Se(sa("br")));C=B.firstChild,c.insertAfter(B,n),Ne(L,W=>Ui(re.fromDom(C),W)),x&&C.setAttribute("style",x)}else c.insertAfter(B,n),c.insertAfter(C,n);c.remove(r)}Ow(e,C)},k$=e=>{Ne(Vd(re.fromDom(e),js),t=>{const n=t.dom;n.nodeValue=wa(n.data)})},w$=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},C$=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),BB=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,S$=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,PB=(e,t)=>Ie(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",E$=(e,t,n)=>{var r;const i=[];if(!n)return;let c=n;for(;c=c.firstChild;){if(e.isBlock(c))return;Ot(c)&&!t[c.nodeName.toLowerCase()]&&i.push(c)}let u=i.length;for(;u--;)c=i[u],(!c.hasChildNodes()||c.firstChild===c.lastChild&&((r=c.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||C$(e,c))&&e.remove(c)},LB=(e,t,n)=>it(t)?e?n===1&&t.data.charAt(n-1)===qs?0:n:n===t.data.length-1&&t.data.charAt(n)===qs?t.data.length:n:n,z$=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,LB(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,LB(!1,e.endContainer,e.endOffset)),t},T$=e=>{let t=e;do it(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},O$=(e,t,n,r,i)=>{var c,u;const g=e.dom,x=(c=y3(g,r))!==null&&c!==void 0?c:g.getRoot();let C=g.getParent(r,g.isBlock);if(!C||!PB(g,C)){if(C=C||x,!C.hasChildNodes()){const W=g.create(t);return x3(e,W),C.appendChild(W),n.setStart(W,0),n.setEnd(W,0),W}let R=r;for(;R&&R.parentNode!==C;)R=R.parentNode;let B;for(;R&&!g.isBlock(R);)B=R,R=R.previousSibling;const L=(u=B==null?void 0:B.parentElement)===null||u===void 0?void 0:u.nodeName;if(B&&L&&e.schema.isValidChild(L,t.toLowerCase())){const W=B.parentNode,ee=g.create(t);for(x3(e,ee),W.insertBefore(ee,B),R=B;R&&!g.isBlock(R);){const K=R.nextSibling;ee.appendChild(R),R=K}n.setStart(r,i),n.setEnd(r,i)}}return r},A$=(e,t)=>{t.normalize();const n=t.lastChild;(!n||Ot(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},N$=(e,t)=>{const n=e2(e);return Io(t)?!1:pt(n)?on(gt.explode(n),t.nodeName.toLowerCase()):n},pL={insert:(e,t)=>{let n,r,i,c,u=!1;const g=e.dom,x=e.schema,C=x.getNonEmptyElements(),R=e.selection.getRng(),B=Ki(e),L=re.fromDom(R.startContainer),W=$d(L,R.startOffset),ee=W.exists(et=>ha(et)&&!ni(et)),K=R.collapsed&&ee,ne=(et,St)=>dL(e,n,mt,Xe,Qw(e),et,St),me=et=>{const St=LB(et,n,r);if(it(n)&&(et?St>0:St<n.data.length))return!1;if((n.parentNode===mt||n===mt)&&u&&!et||et&&Ot(n)&&n===mt.firstChild)return!0;if(BB(n,"TABLE")||BB(n,"HR"))return S$(n,"BR")?!et:u&&!et||!u&&et;const Jt=new qr(n,mt);it(n)&&(et&&St===0?Jt.prev():!et&&St===n.data.length&&Jt.next());let rn;for(;rn=Jt.current();){if(Ot(rn)){if(!rn.getAttribute("data-mce-bogus")){const an=rn.nodeName.toLowerCase();if(C[an]&&an!=="br")return!1}}else if(it(rn)&&!Tc(rn.data))return!1;et?Jt.prev():Jt.next()}return!0},Ce=()=>{let et;return/^(H[1-6]|PRE|FIGURE)$/.test(i)&&At!=="HGROUP"?et=ne(B):et=ne(),N$(e,c)&&PB(g,c)&&g.isEmpty(mt,void 0,{includeZwsp:!0})?et=g.split(c,mt):g.insertAfter(et,mt),Ow(e,et),et};I_(g,R).each(et=>{R.setStart(et.startContainer,et.startOffset),R.setEnd(et.endContainer,et.endOffset)}),n=R.startContainer,r=R.startOffset;const ze=!!(t&&t.shiftKey),Re=!!(t&&t.ctrlKey);Ot(n)&&n.hasChildNodes()&&!K&&(u=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,u&&it(n)?r=n.data.length:r=0);const Xe=y3(g,n);if(!Xe||w$(e,n))return;ze||(n=O$(e,B,R,n,r));let mt=g.getParent(n,g.isBlock)||g.getRoot();c=Ie(mt==null?void 0:mt.parentNode)?g.getParent(mt.parentNode,g.isBlock):null,i=mt?mt.nodeName.toUpperCase():"";const At=c?c.nodeName.toUpperCase():"";if(At==="LI"&&!Re){const et=c;mt=et,c=et.parentNode,i=At}if(Ot(c)&&h$(e,ze,mt))return b$(e,ne,mt);if(/^(LI|DT|DD)$/.test(i)&&Ot(c)&&g.isEmpty(mt)){_$(e,ne,c,mt,B);return}if(!K&&(mt===e.getBody()||!PB(g,mt)))return;const Ze=mt.parentNode;let Pe;if(K)Pe=ne(B),W.fold(()=>{Mr(L,re.fromDom(Pe))},et=>{Vr(et,re.fromDom(Pe))}),e.selection.setCursorLocation(Pe,0);else if(Jf(mt))Pe=ep(mt),g.isEmpty(mt)&&DB(mt),x3(e,Pe),Ow(e,Pe);else if(me(!1))Pe=Ce();else if(me(!0)&&Ze){const et=$e.fromRangeStart(R),St=j_(et),Jt=re.fromDom(mt),an=Ly(Jt,et,e.schema)?bC(Jt,et,e.schema).bind(vr=>H.from(vr.getNode())):H.none();Pe=Ze.insertBefore(ne(),mt);const jn=BB(mt,"HR")||St?Pe:an.getOr(mt);Ow(e,jn)}else{const et=z$(R).cloneRange();et.setEndAfter(mt);const St=et.extractContents();k$(St),T$(St),Pe=St.firstChild,g.insertAfter(St,mt),E$(g,C,Pe),A$(g,mt),g.isEmpty(mt)&&DB(mt),Pe.normalize(),g.isEmpty(Pe)?(g.remove(Pe),Ce()):(x3(e,Pe),Ow(e,Pe))}g.setAttrib(Pe,"id",""),e.dispatch("NewBlock",{newBlock:Pe})},fakeEventName:"insertParagraph"},R$=(e,t,n)=>{const r=new qr(t,n);let i;const c=e.getNonEmptyElements();for(;i=r.next();)if(c[i.nodeName.toLowerCase()]||it(i)&&i.length>0)return!0;return!1},gL=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),U0(e,r)},D$=(e,t)=>{const n=e.selection,r=e.dom,i=n.getRng();let c,u=!1;I_(r,i).each(W=>{i.setStart(W.startContainer,W.startOffset),i.setEnd(W.endContainer,W.endOffset)});let g=i.startOffset,x=i.startContainer;if(Ot(x)&&x.hasChildNodes()){const W=g>x.childNodes.length-1;x=x.childNodes[Math.min(g,x.childNodes.length-1)]||x,W&&it(x)?g=x.data.length:g=0}let C=r.getParent(x,r.isBlock);const R=C&&C.parentNode?r.getParent(C.parentNode,r.isBlock):null,B=R?R.nodeName.toUpperCase():"",L=!!(t&&t.ctrlKey);B==="LI"&&!L&&(C=R),it(x)&&g>=x.data.length&&(R$(e.schema,x,C||r.getRoot())||(c=r.create("br"),i.insertNode(c),i.setStartAfter(c),i.setEndAfter(c),u=!0)),c=r.create("br"),bg(r,i,c),gL(e,c,u),e.undoManager.add()},M$=(e,t)=>{const n=re.fromTag("br");Vr(re.fromDom(t),n),e.undoManager.add()},B$=(e,t)=>{L$(e.getBody(),t)||tn(re.fromDom(t),re.fromTag("br"));const n=re.fromTag("br");tn(re.fromDom(t),n),gL(e,n.dom,!1),e.undoManager.add()},P$=e=>ns(e.getNode()),L$=(e,t)=>P$($e.after(t))?!0:Il(e,$e.after(t)).map(n=>ns(n.getNode())).getOr(!1),hL=e=>e&&e.nodeName==="A"&&"href"in e,I$=e=>e.fold(ho,hL,hL,ho),F$=e=>{const t=De(Cp,e),n=$e.fromRangeStart(e.selection.getRng());return xm(t,e.getBody(),n).filter(I$)},H$=(e,t)=>{t.fold(ao,De(M$,e),De(B$,e),ao)},bL={insert:(e,t)=>{const n=F$(e);n.isSome()?n.each(De(H$,e)):D$(e,t)},fakeEventName:"insertLineBreak"},yL=(e,t)=>RB(e).filter(n=>t.length>0&&Fa(re.fromDom(n),t)).isSome(),$$=e=>yL(e,dR(e)),V$=e=>yL(e,uR(e)),Fu=Lt.generate([{br:[]},{block:[]},{none:[]}]),U$=(e,t)=>V$(e),xL=e=>(t,n)=>f$(t)===e,vL=(e,t)=>(n,r)=>u$(n)===e.toUpperCase()===t,j$=e=>{const t=y3(e.dom,e.selection.getStart());return Io(t)},v3=e=>vL("pre",e),Z$=()=>vL("summary",!0),PN=e=>(t,n)=>j3(t)===e,W$=(e,t)=>$$(e),LN=(e,t)=>t,q$=e=>{const t=Ki(e),n=y3(e.dom,e.selection.getStart());return Ie(n)&&e.schema.isValidChild(n.nodeName,t)},G$=e=>{const t=e.selection.getRng(),n=re.fromDom(t.startContainer),i=$d(n,t.startOffset).map(c=>ha(c)&&!ni(c));return t.collapsed&&i.getOr(!0)},Of=(e,t)=>(n,r)=>fo(e,(c,u)=>c&&u(n,r),!0)?H.some(t):H.none(),K$=(e,t)=>k6([Of([U$],Fu.none()),Of([v3(!0),j$],Fu.none()),Of([Z$()],Fu.br()),Of([v3(!0),PN(!1),LN],Fu.br()),Of([v3(!0),PN(!1)],Fu.block()),Of([v3(!0),PN(!0),LN],Fu.block()),Of([v3(!0),PN(!0)],Fu.br()),Of([xL(!0),LN],Fu.br()),Of([xL(!0)],Fu.block()),Of([W$],Fu.br()),Of([LN],Fu.br()),Of([q$],Fu.block()),Of([G$],Fu.block())],[e,!!(t&&t.shiftKey)]).getOr(Fu.none()),IN=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||$D(t),!(Ie(n)&&DN(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),Ie(n)&&b3(t,e.fakeEventName)))},_L=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>IN(bL,e,t),r=()=>IN(pL,e,t),i=K$(e,t);switch(cR(e)){case"linebreak":i.fold(n,n,ao);break;case"block":i.fold(r,r,ao);break;case"invert":i.fold(r,n,ao);break;default:i.fold(n,r,ao);break}},kL=Us(),Y$=kL.os.isiOS()&&kL.browser.isSafari(),wL=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),LO(e.undoManager),e.undoManager.transact(()=>{_L(e,t)}))},X$=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(it(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=t.data.charAt(e.startOffset-1);return n.test(r)}else return!1},J$=e=>{let t=H.none();const n=i=>{t=H.some(i.selection.getBookmark()),i.undoManager.add()},r=(i,c)=>{i.undoManager.undo(),t.fold(ao,u=>i.selection.moveToBookmark(u)),wL(i,c),t=H.none()};e.on("keydown",i=>{i.keyCode===Ht.ENTER&&(Y$&&X$(e.selection.getRng())?n(e):wL(e,i))}),e.on("keyup",i=>{i.keyCode===Ht.ENTER&&t.each(()=>r(e,i))})},Q$=(e,t,n)=>{const r=Nt.os.isMacOS()||Nt.os.isiOS();gb([{keyCode:Ht.END,action:xo(pb,e,!0)},{keyCode:Ht.HOME,action:xo(pb,e,!1)},...r?[]:[{keyCode:Ht.HOME,action:xo($p,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Ht.END,action:xo($p,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Ht.END,action:xo(uN,e,!0)},{keyCode:Ht.HOME,action:xo(uN,e,!1)},{keyCode:Ht.END,action:xo(ev,e,!0,t)},{keyCode:Ht.HOME,action:xo(ev,e,!1,t)}],n).each(i=>{n.preventDefault()})},eV=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||Q$(e,t,n)})},tV=e=>{e.on("input",t=>{t.isComposing||yT(e)})},oV=Us(),nV=(e,t,n)=>{gb([{keyCode:Ht.PAGE_UP,action:xo(ev,e,!1,t)},{keyCode:Ht.PAGE_DOWN,action:xo(ev,e,!0,t)}],n)},CL=e=>e.stopImmediatePropagation(),SL=e=>e.keyCode===Ht.PAGE_UP||e.keyCode===Ht.PAGE_DOWN,EL=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",CL,!0):!n&&e.get()&&t.off("NodeChange",CL),e.set(n)},rV=(e,t)=>{if(oV.os.isMacOS())return;const n=Sr(!1);e.on("keydown",r=>{SL(r)&&EL(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||nV(e,t,r),SL(r)&&n.get()&&(EL(n,e,!1),e.nodeChanged())})},zL=(e,t)=>e===t||e.contains(t),sV=(e,t)=>!zL(e.getBody(),t.startContainer)||!zL(e.getBody(),t.endContainer)?!0:$z(e.dom,t),aV=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Sn(t.getTargetRanges(),n=>!sV(e,n)))&&t.preventDefault()})},TL=(e,t)=>{const n=t.container(),r=t.offset();return it(n)?(n.insertData(r,e),H.some($e(n,r+e.length))):i_(t).map(i=>{const c=re.fromText(e);return t.isAtEnd()?tn(i,c):Vr(i,c),$e(c.dom,e.length)})},OL=De(TL,os),AL=De(TL," "),iV=(e,t,n)=>_C(e,t,n)?OL(t):AL(t),lV=e=>t=>t.fold(n=>gc(e.dom,$e.before(n)),n=>ss(n),n=>zu(n),n=>Il(e.dom,$e.after(n))),cV=(e,t,n)=>r=>_C(e,r,n)?OL(t):AL(t),NL=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},dV=(e,t)=>e.isEditable(e.getParent(t,"summary")),uV=e=>{const t=$e.fromRangeStart(e.selection.getRng()),n=re.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=De(Cp,e),i=$e.fromRangeStart(e.selection.getRng());return xm(r,e.getBody(),i).bind(lV(n)).map(c=>()=>cV(n,t,e.schema)(c).each(NL(e)))}else return H.none()},fV=e=>{const t=()=>{const n=re.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=$e.fromRangeStart(e.selection.getRng());iV(n,r,e.schema).each(NL(e))};return iu(Nt.browser.isFirefox()&&e.selection.isEditable()&&dV(e.dom,e.selection.getRng().startContainer),t)},mV=(e,t)=>{dN([{keyCode:Ht.SPACEBAR,action:xo(uV,e)},{keyCode:Ht.SPACEBAR,action:xo(fV,e)}],t).each(n=>{t.preventDefault(),DN(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),b3(e,"insertText",{data:" "}))})},pV=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||mV(e,t)})},gV=e=>AR(e)?[{keyCode:Ht.TAB,action:xo(AP,e,!0)},{keyCode:Ht.TAB,shiftKey:!0,action:xo(AP,e,!1)}]:[],hV=(e,t)=>{gb([...gV(e)],t).each(n=>{t.preventDefault()})},bV=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||hV(e,t)})},yV=e=>{if(e.addShortcut("Meta+P","","mcePrint"),qH(e),wf(e))return Sr(null);{const t=Z6(e);return aV(e),Ea(e),z9(e,t),c$(e,t),J$(e),pV(e),tV(e),bV(e),eV(e,t),rV(e,t),t}};class xV{constructor(t){this.lastPath=[],this.editor=t;let n;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",i=>{const c=t.selection.getRng(),u={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(i.type==="nodechange"||!$0(u,n))&&t.dispatch("SelectionChange"),n=u}),t.on("contextmenu",()=>{L0(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const i=t.selection.getStart(!0);i&&xy(t)&&!r.isSameElementPath(i)&&t.dom.isChildOf(i,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",i=>{!i.isDefaultPrevented()&&xy(t)&&(t.selection.getNode().nodeName==="IMG"?Jd.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,r=n.selection;let i;if(n.initialized&&r&&!vR(n)&&!wh(n)){const c=n.getBody();i=r.getStart(!0)||c,(i.ownerDocument!==n.getDoc()||!n.dom.isChildOf(i,c))&&(i=c);const u=[];n.dom.getParent(i,g=>g===c?!0:(u.push(g),!1)),n.dispatch("NodeChange",{...t,element:i,parents:u})}}isSameElementPath(t){let n;const r=this.editor,i=Hs(r.dom.getParents(t,uo,r.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const RL=dd("image"),vV=e=>{const t=e;return H.from(t[RL])},_V=(e,t)=>{const n=e;n[RL]=t},IB=dd("event"),kV=e=>{const t=e;return H.from(t[IB])},FN=e=>t=>{const n=t;n[IB]=e},wV=(e,t)=>FN(t)(e),DL=FN(0),CV=FN(2),SV=FN(1),EV=(e=>t=>{const n=t;return H.from(n[IB]).exists(r=>r===e)})(0),zV=()=>Object.freeze({length:0,item:e=>null}),FB=dd("mode"),TV=e=>{const t=e;return H.from(t[FB])},HN=e=>t=>{const n=t;n[FB]=e},ML=(e,t)=>HN(t)(e),BL=HN(0),HB=HN(2),OV=HN(1),PL=e=>t=>{const n=t;return H.from(n[FB]).exists(r=>r===e)},Aw=PL(0),LL=PL(1),AV=(e,t)=>({...t,get length(){return t.length},add:(n,r)=>{if(Aw(e))if(pt(n)){if(!Nr(r))return t.add(n,r)}else return t.add(n);return null},remove:n=>{Aw(e)&&t.remove(n)},clear:()=>{Aw(e)&&t.clear()}}),NV=["none","copy","link","move"],RV=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],$B=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(i){on(NV,i)&&(t=i)},get effectAllowed(){return n},set effectAllowed(i){EV(r)&&on(RV,i)&&(n=i)},get items(){return AV(r,e.items)},get files(){return LL(r)?zV():e.files},get types(){return e.types},setDragImage:(i,c,u)=>{Aw(r)&&(_V(r,{image:i,x:c,y:u}),e.setDragImage(i,c,u))},getData:i=>LL(r)?"":e.getData(i),setData:(i,c)=>{Aw(r)&&e.setData(i,c)},clearData:i=>{Aw(r)&&e.clearData(i)}};return BL(r),r},DV=e=>{const t=$B(),n=TV(e);return HB(e),DL(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,vV(e).each(r=>t.setDragImage(r.image,r.x,r.y)),Ne(e.types,r=>{r!=="Files"&&t.setData(r,e.getData(r))}),Ne(e.files,r=>t.items.add(r)),kV(e).each(r=>{wV(t,r)}),n.each(r=>{ML(e,r),ML(t,r)}),t},MV=e=>{const t=e.getData("text/html");return t===""?H.none():H.some(t)},IL=(e,t)=>e.setData("text/html",t),FL="x-tinymce/html",$N=Je(FL),VB="<!-- "+FL+" -->",BV=e=>VB+e,PV=e=>e.replace(VB,""),HL=e=>e.indexOf(VB)!==-1,LV=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),IV=(e,t)=>{let n="<"+e;const r=za(t,(i,c)=>c+'="'+Nc.encodeAllRaw(i)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},FV=(e,t,n)=>{const r=e.split(/\n\n/),i=IV(t,n),c="</"+t+">",u=Jo(r,x=>x.split(/\n/).join("<br />")),g=x=>i+x+c;return u.length===1?u[0]:Jo(u,g).join("")},$L="%MCEPASTEBIN%",HV=(e,t)=>{const{dom:n,selection:r}=e,i=e.getBody();t.set(r.getRng());const c=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},$L);Nt.browser.isFirefox()&&n.setStyle(c,"left",n.getStyle(i,"direction",!0)==="rtl"?65535:-65535),n.bind(c,"beforedeactivate focusin focusout",u=>{u.stopPropagation()}),c.focus(),r.select(c,!0)},$V=(e,t)=>{const n=e.dom;if(UB(e)){let r;const i=t.get();for(;r=UB(e);)n.remove(r),n.unbind(r);i&&e.selection.setRng(i)}t.set(null)},UB=e=>e.dom.get("mcepastebin"),VV=e=>Ie(e)&&e.id==="mcepastebin",UV=e=>{const t=e.dom,n=(u,g)=>{u.appendChild(g),t.remove(g,!0)},[r,...i]=Ke(e.getBody().childNodes,VV);Ne(i,u=>{n(r,u)});const c=t.select("div[id=mcepastebin]",r);for(let u=c.length-1;u>=0;u--){const g=t.create("div");r.insertBefore(g,c[u]),n(g,c[u])}return r?r.innerHTML:""},VL=e=>e===$L,jV=e=>{const t=Sr(null);return{create:()=>HV(e,t),remove:()=>$V(e,t),getEl:()=>UB(e),getHtml:()=>UV(e),getLastRng:t.get}},UL=(e,t)=>(gt.each(t,n=>{Bt(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),ZV=e=>{const t=wt(),n=Qy({},t);let r="";const i=t.getVoidElements(),c=gt.makeMap("script noscript style textarea video audio iframe object"," "),u=t.getBlockElements(),g=x=>{const C=x.name,R=x;if(C==="br"){r+=`
`;return}if(C!=="wbr"){if(i[C]&&(r+=" "),c[C]){r+=" ";return}if(x.type===3&&(r+=x.value),!(x.name in t.getVoidElements())){let B=x.firstChild;if(B)do g(B);while(B=B.next)}u[C]&&R.next&&(r+=`
`,C==="p"&&(r+=`
`))}};return e=UL(e,[/<!\[[^\]]+\]>/g]),g(n.parse(e)),r},jL=e=>(e=UL(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,i)=>!r&&!i?" ":os],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),WV=e=>{let t=0;return()=>e+t++},qV=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return gt.hasOwn(n,t)?"image/"+n[t]:"image/"+t},GV=(e,t)=>{const n=Qy({sanitize:hE(e),sandbox_iframes:i2(e),sandbox_iframes_exclusions:s_(e),convert_unsafe_embeds:kE(e)},e.schema);n.addNodeFilter("meta",i=>{gt.each(i,c=>{c.remove()})});const r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Yr({validate:!0},e.schema).serialize(r)},ZL=(e,t)=>({content:e,cancelled:t}),KV=(e,t,n)=>{const r=e.dom.create("div",{style:"display:none"},t),i=I3(e,r,n);return ZL(i.node.innerHTML,i.isDefaultPrevented())},YV=(e,t,n)=>{const r=yg(e,t,n),i=GV(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?KV(e,i,n):ZL(i,r.isDefaultPrevented())},XV=(e,t,n)=>YV(e,t,n),jB=(e,t)=>(e.insertContent(t,{merge:o_(e),paste:!0}),!0),ZB=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),JV=(e,t)=>ZB(t)&&Sn(vE(e),n=>Fi(t.toLowerCase(),`.${n.toLowerCase()}`)),QV=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),eU=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),tU=(e,t,n)=>!e.selection.isCollapsed()&&ZB(t)?eU(e,t,n):!1,oU=(e,t,n)=>JV(e,t)?QV(e,t,n):!1,nU=(e,t)=>{gt.each([tU,oU,jB],n=>!n(e,t,jB))},rU=(e,t,n)=>{n||!dE(e)?jB(e,t):nU(e,t)},sU=WV("mceclip"),aU=e=>{const t=$B();return IL(t,e),HB(t),t},WL=(e,t,n,r,i)=>{const c=XV(e,t,n);if(!c.cancelled){const u=c.content,g=()=>rU(e,u,r);i?DN(e,"insertFromPaste",{dataTransfer:aU(u)}).isDefaultPrevented()||(g(),b3(e,"insertFromPaste")):g()}},VN=(e,t,n,r)=>{const i=n||HL(t);WL(e,PV(t),i,!1,r)},WB=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,`
`),i=Oc(r,fE(e)),c=FV(i,Ki(e),f0(e));WL(e,c,!1,!0,n)},qL=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},_1=(e,t)=>t in e&&e[t].length>0,GL=e=>_1(e,"text/html")||_1(e,"text/plain"),iU=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ie(n)?e.dom.encode(n[1]):void 0},lU=(e,t,n,r)=>{const i=sU(),c=Z3(e)&&Ie(n.name),u=c?iU(e,n.name):i,g=c?n.name:void 0,x=t.create(i,n,r,u,g);return t.add(x),x},cU=(e,t)=>{Tk(t.uri).each(({data:n,type:r,base64Encoded:i})=>{const c=i?n:btoa(n),u=t.file,g=e.editorUpload.blobCache,x=g.getByData(c,r),C=x??lU(e,g,u,c);VN(e,`<img src="${C.blobUri()}">`,!1,!0)})},dU=e=>e.type==="paste",uU=e=>Promise.all(Jo(e,t=>V5(t).then(n=>({file:t,uri:n})))),fU=e=>{const t=vE(e);return n=>cr(n.type,"image/")&&Sn(t,r=>qV(r)===n.type)},mU=(e,t)=>{const n=t.items?Kn(Fo(t.items),i=>i.kind==="file"?[i.getAsFile()]:[]):[],r=t.files?Fo(t.files):[];return Ke(n.length>0?n:r,fU(e))},KL=(e,t,n)=>{const r=dU(t)?t.clipboardData:t.dataTransfer;if(x0(e)&&r){const i=mU(e,r);if(i.length>0)return t.preventDefault(),uU(i).then(c=>{n&&e.selection.setRng(n),Ne(c,u=>{cU(e,u)})}),!0}return!1},pU=e=>{var t,n;return Nt.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},gU=e=>Ht.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,qB=(e,t,n,r,i)=>{let c=jL(n);const u=_1(t,$N())||HL(n),g=!u&&LV(c),x=ZB(c);(VL(c)||!c.length||g&&!x)&&(r=!0),(r||x)&&(_1(t,"text/plain")&&g?c=t["text/plain"]:c=ZV(c)),!VL(c)&&(r?WB(e,c,i):VN(e,c,u,i))},hU=(e,t,n)=>{let r;const i=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",c=>{gU(c)&&!c.isDefaultPrevented()&&(r=c.shiftKey&&c.keyCode===86)}),e.on("paste",c=>{if(c.isDefaultPrevented()||pU(c))return;const u=n.get()==="text"||r;r=!1;const g=qL(c.clipboardData);!GL(g)&&KL(e,c,i())||(_1(g,"text/html")?(c.preventDefault(),qB(e,g,g["text/html"],u,!0)):_1(g,"text/plain")&&_1(g,"text/uri-list")?(c.preventDefault(),qB(e,g,g["text/plain"],u,!0)):(t.create(),Jd.setEditorTimeout(e,()=>{const x=t.getHtml();t.remove(),qB(e,g,x,u,!1)},0)))})},bU=e=>{const t=i=>cr(i,"webkit-fake-url"),n=i=>cr(i,"data:"),r=i=>{var c;return((c=i.data)===null||c===void 0?void 0:c.paste)===!0};e.parser.addNodeFilter("img",(i,c,u)=>{if(!x0(e)&&r(u))for(const g of i){const x=g.attr("src");pt(x)&&!g.attr("data-mce-object")&&x!==Nt.transparentSrc&&(t(x)||!SR(e)&&n(x))&&g.remove()}})},yU=(e,t,n)=>{hU(e,t,n),bU(e)},xU=(e,t)=>{t.get()==="text"?(t.set("html"),Yw(e,!1)):(t.set("text"),Yw(e,!0)),e.focus()},vU=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{xU(e,t)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&VN(e,r.html,r.internal,!1),r.text&&WB(e,r.text,!1)})},_U=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData($N(),t),!0}catch{return!1}else return!1},YL=(e,t,n,r)=>{_U(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},XL=e=>(t,n)=>{const{dom:r,selection:i}=e,c=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=r.create("div",{contenteditable:"true"},t);r.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(u),r.add(e.getBody(),c);const g=i.getRng();u.focus();const x=r.createRng();x.selectNodeContents(u),i.setRng(x),Jd.setEditorTimeout(e,()=>{i.setRng(g),r.remove(c),n()},0)},JL=e=>({html:BV(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),kU=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),QL=e=>!e.selection.isCollapsed()||kU(e),wU=e=>t=>{!t.isDefaultPrevented()&&QL(e)&&e.selection.isEditable()&&YL(t,JL(e),XL(e),()=>{if(Nt.browser.isChromium()||Nt.browser.isFirefox()){const n=e.selection.getRng();Jd.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},CU=e=>t=>{!t.isDefaultPrevented()&&QL(e)&&YL(t,JL(e),XL(e),ao)},SU=e=>{e.on("cut",wU(e)),e.on("copy",CU(e))},eI=(e,t)=>{var n,r;return bf.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(r=t.clientY)!==null&&r!==void 0?r:0,e.getDoc())},EU=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},tI=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},zU=e=>Sn(e.files,t=>/^image\//.test(t.type)),TU=(e,t,n,r)=>{const i=e.getParent(n,u=>ir(t,u));if(!ht(e.getParent(n,"summary")))return!0;if(i&&po(r,"text/html")){const u=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!ht(u.querySelector(i.nodeName.toLowerCase()))}else return!1},OU=e=>{e.on("input",t=>{const n=r=>ht(r.querySelector("summary"));if(t.inputType==="deleteByDrag"){const r=Ke(e.dom.select("details"),n);Ne(r,i=>{ns(i.firstChild)&&i.firstChild.remove();const c=e.dom.create("summary");c.appendChild(Ll().dom),i.prepend(c)})}})},AU=(e,t)=>{aE(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),x0(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&zU(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=eI(e,n);if(Io(r))return;const i=qL(n.dataTransfer),c=_1(i,$N());if((!GL(i)||EU(i))&&KL(e,n,r))return;const u=i[$N()],g=u||i["text/html"]||i["text/plain"],x=TU(e.dom,e.schema,r.startContainer,i),C=t.get();C&&!x||g&&(n.preventDefault(),Jd.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(u||C&&x)&&e.execCommand("Delete"),tI(e,r);const R=jL(g);i["text/html"]?VN(e,R,c,!0):WB(e,R,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{x0(e)&&!t.get()&&(n.preventDefault(),tI(e,eI(e,n))),n.type==="dragend"&&t.set(!1)}),OU(e)},NU=e=>{const t=i=>c=>{i(e,c)},n=iE(e);jt(n)&&e.on("PastePreProcess",t(n));const r=lE(e);jt(r)&&e.on("PastePostProcess",t(r))},RU=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},DU=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,oI=e=>gt.trim(e).replace(DU,rg).toLowerCase(),MU=(e,t,n)=>{const r=wR(e);if(n||r==="all"||!CR(e))return t;const i=r?r.split(/[, ]/):[];if(i&&r!=="none"){const c=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(g,x,C,R)=>{const B=c.parseStyle(c.decode(C)),L={};for(let ee=0;ee<i.length;ee++){const K=B[i[ee]];let ne=K,me=c.getStyle(u,i[ee],!0);/color/.test(i[ee])&&(ne=oI(ne),me=oI(me)),me!==ne&&(L[i[ee]]=K)}const W=c.serializeStyle(L,"span");return W?x+' style="'+W+'"'+R:x+R})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,u,g,x)=>u+' style="'+g+'"'+x),t},BU=e=>{(Nt.browser.isChromium()||Nt.browser.isSafari())&&RU(e,MU)},PU=e=>{const t=Sr(!1),n=Sr(uE(e)?"text":"html"),r=jV(e);BU(e),vU(e,n),NU(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{SU(e),AU(e,t),yU(e,r,n)})},LU=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},IU=e=>{e.parser.addNodeFilter("details",t=>{const n=r_(e);Ne(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=_E(e);Ne(t,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},FU=e=>{LU(e),IU(e)},HU=ns,nI=it,$U=e=>yr(e.dom),VU=e=>Ti(e.dom),rI=e=>t=>en(re.fromDom(e),t),UU=(e,t,n)=>Cc(re.fromDom(e),r=>VU(r)||n.isBlock(pn(r)),rI(t)).getOr(re.fromDom(t)).dom,sI=(e,t)=>Cc(re.fromDom(e),$U,rI(t)),aI=(e,t,n)=>{const r=new qr(e,t),i=n?r.next.bind(r):r.prev.bind(r);let c=e;for(let u=n?e:i();u&&!HU(u);u=i())tl(u)&&(c=u);return c},jU=(e,t,n)=>{const i=$e.fromRangeStart(e).getNode(),c=UU(i,t,n),u=aI(i,c,!1),g=aI(i,c,!0),x=document.createRange();return sI(u,c).fold(()=>{nI(u)?x.setStart(u,0):x.setStartBefore(u)},C=>x.setStartBefore(C.dom)),sI(g,c).fold(()=>{nI(g)?x.setEnd(g,g.data.length):x.setEndAfter(g)},C=>x.setEndAfter(C.dom)),x},ZU=e=>{const t=jU(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Uy(t))},WU=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),ZU(e))})};var Nw;(function(e){e.Before="before",e.After="after"})(Nw||(Nw={}));const qU=(e,t)=>Math.abs(e.left-t),GU=(e,t)=>Math.abs(e.right-t),KU=(e,t)=>e>=t.top&&e<=t.bottom,YU=(e,t)=>e.top<t.bottom&&e.bottom>t.top,XU=(e,t)=>{const n=qi(e,t)/Math.min(e.height,t.height);return YU(e,t)&&n>.5},JU=(e,t)=>{const n=Ke(e,r=>KU(t,r));return gh(n).fold(()=>[[],e],r=>{const{pass:i,fail:c}=at(e,u=>XU(u,r));return[i,c]})},QU=(e,t)=>({node:e.node,position:qU(e,t)<GU(e,t)?Nw.Before:Nw.After}),ej=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),GB=(e,t,n,r)=>{const i=B=>tl(B.node)?H.some(B):Ot(B.node)?GB(Fo(B.node.childNodes),t,n,!1):H.none(),c=(B,L,W)=>i(L).filter(ee=>Math.abs(W(B,t,n)-W(ee,t,n))<2&&it(ee.node)),u=(B,L)=>{const W=Qo(B,(ee,K)=>L(ee,t,n)-L(K,t,n));return Ks(W,i).map(ee=>r&&!it(ee.node)&&W.length>1?c(ee,W[1],L).getOr(ee):ee)},[g,x]=JU(Mg(e),n),{pass:C,fail:R}=at(x,B=>B.top<n);return u(g,ej).orThunk(()=>u(R,ug)).orThunk(()=>u(C,ug))},tj=(e,t,n,r)=>{const i=(c,u)=>{const g=C=>Ot(C)&&C.classList.contains("mce-drag-container"),x=Ke(c.dom.childNodes,Se(g));return u.fold(()=>GB(x,n,r,!0),C=>{const R=Ke(x,B=>B!==C.dom);return GB(R,n,r,!0)}).orThunk(()=>(en(c,e)?H.none():Xl(c)).bind(R=>i(R,H.some(c))))};return i(t,H.none())},oj=(e,t,n)=>{const r=re.fromDom(e),i=Rl(r),u=re.fromPoint(i,t,n).filter(g=>Ha(r,g)).getOr(r);return tj(r,u,t,n)},iI=(e,t,n)=>oj(e,t,n).filter(r=>_0(r.node)).map(r=>QU(r,t)),lI=e=>{var t,n;const r=e.getBoundingClientRect(),i=e.ownerDocument,c=i.documentElement,u=i.defaultView;return{top:r.top+((t=u==null?void 0:u.scrollY)!==null&&t!==void 0?t:0)-c.clientTop,left:r.left+((n=u==null?void 0:u.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},nj=e=>e.inline?lI(e.getBody()):{left:0,top:0},rj=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},sj=e=>{const t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},aj=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=lI(e.getContentAreaContainer()),r=sj(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},ij=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),lj=(e,t)=>ij(nj(e),rj(e),aj(e,t)),cI=e=>({target:e,srcElement:e}),cj=(e,t,n,r)=>({...t,dataTransfer:r,type:e,...cI(n)}),dj=(e,t,n)=>{const r=tt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:ao,stopImmediatePropagation:ao,stopPropagation:ao,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...cI(t)}},uj=(e,t)=>{const n=DV(e);return t==="dragstart"?(DL(n),BL(n)):t==="drop"?(CV(n),HB(n)):(SV(n),OV(n)),n},fj=(e,t,n,r)=>{const i=uj(n,e);return Nr(r)?dj(e,t,i):cj(e,r,t,i)},dI=32,mj=100,UN=8,jN=16,uI=yr,pj=Rv(uI,Ti),gj=(e,t,n)=>uI(n)&&n!==t&&e.isEditable(n.parentElement),hj=(e,t,n)=>Io(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),bj=(e,t,n,r)=>{const i=e.dom,c=t.cloneNode(!0);i.setStyles(c,{width:n,height:r}),i.setAttrib(c,"data-mce-selected",null);const u=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),u.appendChild(c),u},yj=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},ZN=(e,t)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+t,behavior:"smooth"})},fI=ZN("left",-32),mI=ZN("left",dI),pI=ZN("top",-32),gI=ZN("top",dI),xj=(e,t,n,r,i,c,u,g,x,C,R,B)=>{let L=0,W=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(L=t.pageX+n-i),t.pageY+r>c&&(W=t.pageY+r-c),e.style.width=n-L+"px",e.style.height=r-W+"px";const ee=x.clientHeight,K=x.clientWidth,ne=u+x.getBoundingClientRect().top,me=g+x.getBoundingClientRect().left;R.on(Ce=>{Ce.intervalId.clear(),Ce.dragging&&B&&(u+UN>=ee?Ce.intervalId.set(gI(C)):u-UN<=0?Ce.intervalId.set(pI(C)):g+UN>=K?Ce.intervalId.set(mI(C)):g-UN<=0?Ce.intervalId.set(fI(C)):ne+jN>=window.innerHeight?Ce.intervalId.set(gI(window)):ne-jN<=0?Ce.intervalId.set(pI(window)):me+jN>=window.innerWidth?Ce.intervalId.set(mI(window)):me-jN<=0&&Ce.intervalId.set(fI(window)))})},hI=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},vj=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);hI(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&cf(re.fromDom(n))},_j=e=>e.button===0,kj=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),wj=(e,t)=>n=>{if(_j(n)){const r=Tn(t.dom.getParents(n.target),pj).getOr(null);if(Ie(r)&&gj(t.dom,t.getBody(),r)){const i=t.dom.getPos(r),c=t.getBody(),u=t.getDoc().documentElement;e.set({element:r,dataTransfer:$B(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?c.scrollWidth:u.offsetWidth)-2,maxY:(t.inline?c.scrollHeight:u.offsetHeight)-2,relX:n.pageX-i.x,relY:n.pageY-i.y,width:r.offsetWidth,height:r.offsetHeight,ghost:bj(t,r,r.offsetWidth,r.offsetHeight),intervalId:Zd(mj)})}}},Cj=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),iI(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),r=>{const i=e._selectionOverrides.showCaret(1,r.node,r.position===Nw.Before,!1);i?e.selection.setRng(i):e.selection.placeCaretAt(t,n)})},_3=(e,t,n,r,i)=>{t==="dragstart"&&IL(r,e.dom.getOuterHTML(n));const c=fj(t,n,r,i);return e.dispatch(t,c)},Sj=(e,t)=>{const n=zs((i,c)=>Cj(t,i,c),0);t.on("remove",n.cancel);const r=e;return i=>e.on(c=>{const u=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&u>10){const g=_3(t,"dragstart",c.element,c.dataTransfer,i);if(Ie(g.dataTransfer)&&(c.dataTransfer=g.dataTransfer),g.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){const g=i.currentTarget===t.getDoc().documentElement,x=kj(c,lj(t,i));yj(c.ghost,t.getBody()),xj(c.ghost,x,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,t.getContentAreaContainer(),t.getWin(),r,g),n.throttle(i.clientX,i.clientY)}})},Ej=e=>{const t=e.getSel();if(Ie(t)){const r=t.getRangeAt(0).startContainer;return it(r)?r.parentNode:r}else return null},zj=(e,t)=>n=>{e.on(r=>{var i;if(r.intervalId.clear(),r.dragging){if(hj(t,Ej(t.selection),r.element)){const c=(i=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&i!==void 0?i:t.getBody();_3(t,"drop",c,r.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{vj(t.dom,r.element),MV(r.dataTransfer).each(g=>t.insertContent(g)),t._selectionOverrides.hideFakeCaret()})}_3(t,"dragend",t.getBody(),r.dataTransfer,n)}}),yI(e)},bI=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>_3(t,"dragend",r.element,r.dataTransfer),i=>_3(t,"dragend",r.element,r.dataTransfer,i))}),yI(e)},Tj=(e,t)=>n=>bI(e,t,H.some(n)),yI=e=>{e.on(t=>{t.intervalId.clear(),hI(t.ghost)}),e.clear()},Oj=e=>{const t=ic(),n=Tr.DOM,r=document,i=wj(t,e),c=Sj(t,e),u=zj(t,e),g=Tj(t,e);e.on("mousedown",i),e.on("mousemove",c),e.on("mouseup",u),n.bind(r,"mousemove",c),n.bind(r,"mouseup",g),e.on("remove",()=>{n.unbind(r,"mousemove",c),n.unbind(r,"mouseup",g)}),e.on("keydown",x=>{x.keyCode===Ht.ESC&&bI(t,e,H.none())})},Aj=e=>{const t=i=>{if(!i.isDefaultPrevented()){const c=i.dataTransfer;c&&(on(c.types,"Files")||c.files.length>0)&&(i.preventDefault(),i.type==="drop"&&Hx(e,"Dropped file type is not supported"))}},n=i=>{Oy(e,i.target)&&t(i)},r=()=>{const i=Tr.DOM,c=e.dom,u=document,g=e.inline?e.getBody():e.getDoc(),x=["drop","dragover"];Ne(x,C=>{i.bind(u,C,n),c.bind(g,C,t)}),e.on("remove",()=>{Ne(x,C=>{i.unbind(u,C,n),c.unbind(g,C,t)})})};e.on("init",()=>{Jd.setEditorTimeout(e,r,0)})},Nj=e=>{Oj(e),eE(e)&&Aj(e)},Rj=e=>{const t=zs(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=F4(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Dj=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(Zi(n)){const r=Tg(e.getBody(),n),i=yr(r)?r:n;e.selection.getNode()!==i&&u1(e,i).each(c=>e.selection.setRng(c))}})})},k3=yr,xI=(e,t)=>Tg(e.getBody(),t),Mj=e=>{const t=e.selection,n=e.dom,r=e.getBody(),i=$R(e,r,n.isBlock,()=>Ph(e)),c="sel-"+n.uniqueId(),u="data-mce-selected";let g;const x=At=>Ie(At)&&n.hasClass(At,"mce-offscreen-selection"),C=At=>At!==r&&(k3(At)||Zi(At))&&n.isChildOf(At,r)&&n.isEditable(At.parentNode),R=At=>{At&&t.setRng(At)},B=(At,Ze,Pe,et=!0)=>e.dispatch("ShowCaret",{target:Ze,direction:At,before:Pe}).isDefaultPrevented()?null:(et&&t.scrollIntoView(Ze,At===-1),i.show(Pe,Ze)),L=At=>{At.hasAttribute("data-mce-caret")&&(ep(At),t.scrollIntoView(At))},W=()=>{e.on("click",Ze=>{n.isEditable(Ze.target)||(Ze.preventDefault(),e.focus())}),e.on("blur NewBlock",Re),e.on("ResizeWindow FullscreenStateChanged",i.reposition),e.on("tap",Ze=>{const Pe=Ze.target,et=xI(e,Pe);k3(et)?(Ze.preventDefault(),u1(e,et).each(ze)):C(Pe)&&u1(e,Pe).each(ze)},!0),e.on("mousedown",Ze=>{const Pe=Ze.target;if(Pe!==r&&Pe.nodeName!=="HTML"&&!n.isChildOf(Pe,r)||!U8(e,Ze.clientX,Ze.clientY))return;Re(),mt();const et=xI(e,Pe);k3(et)?(Ze.preventDefault(),u1(e,et).each(ze)):iI(r,Ze.clientX,Ze.clientY).each(St=>{Ze.preventDefault();const Jt=B(1,St.node,St.position===Nw.Before,!1);R(Jt),Qs(et)?et.focus():e.getBody().focus()})}),e.on("keypress",Ze=>{Ht.modifierPressed(Ze)||k3(t.getNode())&&Ze.preventDefault()}),e.on("GetSelectionRange",Ze=>{let Pe=Ze.range;if(g){if(!g.parentNode){g=null;return}Pe=Pe.cloneRange(),Pe.selectNode(g),Ze.range=Pe}}),e.on("SetSelectionRange",Ze=>{Ze.range=ne(Ze.range);const Pe=ze(Ze.range,Ze.forward);Pe&&(Ze.range=Pe)});const At=Ze=>Ot(Ze)&&Ze.id==="mcepastebin";e.on("AfterSetSelectionRange",Ze=>{const Pe=Ze.range,et=Pe.startContainer.parentElement;!K(Pe)&&!At(et)&&mt(),x(et)||Re()}),Nj(e),Rj(e),Dj(e)},ee=At=>pc(At)||uf(At)||cg(At),K=At=>ee(At.startContainer)||ee(At.endContainer),ne=At=>{const Ze=e.schema.getVoidElements(),Pe=n.createRng(),et=At.startContainer,St=At.startOffset,Jt=At.endContainer,rn=At.endOffset;return po(Ze,et.nodeName.toLowerCase())?St===0?Pe.setStartBefore(et):Pe.setStartAfter(et):Pe.setStart(et,St),po(Ze,Jt.nodeName.toLowerCase())?rn===0?Pe.setEndBefore(Jt):Pe.setEndAfter(Jt):Pe.setEnd(Jt,rn),Pe},me=(At,Ze)=>{const Pe=re.fromDom(e.getBody()),et=e.getDoc(),St=er(Pe,"#"+c).getOrThunk(()=>{const an=re.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',et);return On(an,"id",c),Mr(Pe,an),an}),Jt=n.createRng();oc(St),Oa(St,[re.fromText(os,et),re.fromDom(Ze),re.fromText(os,et)]),Jt.setStart(St.dom.firstChild,1),Jt.setEnd(St.dom.lastChild,0),Xs(St,{top:n.getPos(At,e.getBody()).y+"px"}),N2(St);const rn=t.getSel();return rn&&(rn.removeAllRanges(),rn.addRange(Jt)),Jt},Ce=At=>{const Ze=At.cloneNode(!0),Pe=e.dispatch("ObjectSelected",{target:At,targetClone:Ze});if(Pe.isDefaultPrevented())return null;const et=me(At,Pe.targetClone),St=re.fromDom(At);return Ne(Rs(re.fromDom(e.getBody()),`*[${u}]`),Jt=>{en(St,Jt)||En(Jt,u)}),n.getAttrib(At,u)||At.setAttribute(u,"1"),g=At,mt(),et},ze=(At,Ze)=>{if(!At)return null;if(At.collapsed){if(!K(At)){const Jt=Ze?1:-1,rn=py(Jt,r,At),an=rn.getNode(!Ze);if(Ie(an)){if(_0(an))return B(Jt,an,Ze?!rn.isAtEnd():!1,!1);if(Qf(an)&&yr(an.nextSibling)){const vr=n.createRng();return vr.setStart(an,0),vr.setEnd(an,0),vr}}const jn=rn.getNode(Ze);if(Ie(jn)){if(_0(jn))return B(Jt,jn,Ze?!1:!rn.isAtEnd(),!1);if(Qf(jn)&&yr(jn.previousSibling)){const vr=n.createRng();return vr.setStart(jn,1),vr.setEnd(jn,1),vr}}}return null}let Pe=At.startContainer,et=At.startOffset;const St=At.endOffset;if(it(Pe)&&et===0&&k3(Pe.parentNode)&&(Pe=Pe.parentNode,et=n.nodeIndex(Pe),Pe=Pe.parentNode),!Ot(Pe))return null;if(St===et+1&&Pe===At.endContainer){const Jt=Pe.childNodes[et];if(C(Jt))return Ce(Jt)}return null},Re=()=>{g&&g.removeAttribute(u),er(re.fromDom(e.getBody()),"#"+c).each(un),g=null},Xe=()=>{i.destroy(),g=null},mt=()=>{i.hide()};return wf(e)||W(),{showCaret:B,showBlockCaretContainer:L,hideFakeCaret:mt,destroy:Xe}},Bj=(e,t)=>{let n=t;for(let r=e.previousSibling;it(r);r=r.previousSibling)n+=r.data.length;return n},vI=(e,t,n,r,i)=>{if(it(n)&&(r<0||r>n.data.length))return[];const c=i&&it(n)?[Bj(n,r)]:[r];let u=n;for(;u!==t&&u.parentNode;)c.push(e.nodeIndex(u,i)),u=u.parentNode;return u===t?c.reverse():[]},KB=(e,t,n,r,i,c,u=!1)=>{const g=vI(e,t,n,r,u),x=vI(e,t,i,c,u);return{start:g,end:x}},_I=(e,t)=>{const n=t.slice(),r=n.pop();return O(r)?fo(n,(c,u)=>c.bind(g=>H.from(g.childNodes[u])),H.some(e)).bind(c=>it(c)&&(r<0||r>c.data.length)?H.none():H.some({node:c,offset:r})):H.none()},kI=(e,t)=>_I(e,t.start).bind(({node:n,offset:r})=>_I(e,t.end).map(({node:i,offset:c})=>{const u=document.createRange();return u.setStart(n,r),u.setEnd(i,c),u})),Pj=(e,t,n,r=!1)=>KB(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),Rw=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t,it(t.firstChild)&&Tc(t.firstChild.data)),Rw(e,r,n)}},WN=(e,t,n,r=!0)=>{const i=t.startContainer.parentNode,c=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(it(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),it(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),Rw(e,i,n),i!==c&&Rw(e,c,n))},qN=(e,t)=>H.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),YB=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:qn(r).concat(e.blockPatterns),inlinePatterns:vs(r).concat(e.inlinePatterns)}},XB=(e,t,n,r)=>{const i=e.createRng();return i.setStart(t,0),i.setEnd(n,r),i.toString()},wI=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),GN=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},CI=(e,t,n)=>{const r=kI(e.getRoot(),n).getOrDie("Unable to resolve path range"),i=r.startContainer,c=r.endContainer,u=r.endOffset===0?c:c.splitText(r.endOffset),g=r.startOffset===0?i:i.splitText(r.startOffset),x=g.parentNode,C=u.parentNode;return{prefix:t,end:C.insertBefore(wI(e,t+"-end"),u),start:x.insertBefore(wI(e,t+"-start"),g)}},SI=(e,t,n)=>{Rw(e,e.get(t.prefix+"-end"),n),Rw(e,e.get(t.prefix+"-start"),n)},JB=e=>e.start.length===0,Lj=e=>(t,n)=>{const i=t.data.substring(0,n),c=i.lastIndexOf(e.charAt(e.length-1)),u=i.lastIndexOf(e);return u!==-1?u+e.length:c!==-1?c+1:-1},EI=(e,t,n,r)=>{const i=t.start;return yB(e,r.container,r.offset,Lj(i),n).bind(u=>{var g,x;const C=(x=(g=n.textContent)===null||g===void 0?void 0:g.indexOf(i))!==null&&x!==void 0?x:-1;if(C!==-1&&u.offset>=C+i.length){const B=e.createRng();return B.setStart(u.container,u.offset-i.length),B.setEnd(u.container,u.offset),H.some(B)}else{const B=u.offset-i.length;return bB(u.container,B,n).map(L=>{const W=e.createRng();return W.setStart(L.container,L.offset),W.setEnd(u.container,u.offset),W}).filter(L=>L.toString()===i).orThunk(()=>EI(e,t,n,Zp(u.container,0)))}})},Ij=(e,t,n,r,i,c=!1)=>{if(t.start.length===0&&!c){const u=e.createRng();return u.setStart(n,r),u.setEnd(n,r),H.some(u)}return hB(n,r,i).bind(u=>EI(e,t,i,u).bind(x=>{var C;if(c){if(x.endContainer===u.container&&x.endOffset===u.offset)return H.none();if(u.offset===0&&((C=x.endContainer.textContent)===null||C===void 0?void 0:C.length)===x.endOffset)return H.none()}return H.some(x)}))},Fj=(e,t,n,r)=>{const i=e.dom,c=i.getRoot(),u=n.pattern,g=n.position.container,x=n.position.offset;return bB(g,x-n.pattern.end.length,t).bind(C=>{const R=KB(i,c,C.container,C.offset,g,x,r);if(JB(u))return H.some({matches:[{pattern:u,startRng:R,endRng:R}],position:C});{const B=KN(e,n.remainingPatterns,C.container,C.offset,t,r),L=B.getOr({matches:[],position:C}),W=L.position;return Ij(i,u,W.container,W.offset,t,B.isNone()).map(K=>{const ne=Pj(i,c,K,r);return{matches:L.matches.concat([{pattern:u,startRng:ne,endRng:R}]),position:Zp(K.startContainer,K.startOffset)}})}})},KN=(e,t,n,r,i,c)=>{const u=e.dom;return hB(n,r,u.getRoot()).bind(g=>{const x=XB(u,i,n,r);for(let C=0;C<t.length;C++){const R=t[C];if(!Fi(x,R.end))continue;const B=t.slice();B.splice(C,1);const L=Fj(e,i,{pattern:R,remainingPatterns:B,position:g},c);if(L.isNone()&&r>0)return KN(e,t,n,r-1,i,c);if(L.isSome())return L}return H.none()})},zI=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?Ne(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},Hj=(e,t,n,r)=>{const i=GN(e.dom,n);WN(e.dom,i,r),zI(e,t,i)},$j=(e,t,n,r,i)=>{const c=e.dom,u=GN(c,r),g=GN(c,n);WN(c,g,i),WN(c,u,i);const x={prefix:n.prefix,start:n.end,end:r.start},C=GN(c,x);zI(e,t,C)},Vj=(e,t)=>{const n=dd("mce_textpattern"),r=eo(t,(i,c)=>{const u=CI(e,n+`_end${i.length}`,c.endRng);return i.concat([{...c,endMarker:u}])},[]);return eo(r,(i,c)=>{const u=r.length-i.length-1,g=JB(c.pattern)?c.endMarker:CI(e,n+`_start${u}`,c.startRng);return i.concat([{...c,startMarker:g}])},[])},Uj=e=>Qo(e,(t,n)=>n.end.length-t.end.length),jj=(e,t)=>{const n=Qr(e,r=>Sn(t,i=>r.pattern.start===i.pattern.start&&r.pattern.end===i.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},TI=(e,t,n,r,i,c)=>{const u=KN(e,i.inlinePatterns,n,r,t,c).fold(()=>[],x=>x.matches),g=KN(e,Uj(i.inlinePatterns),n,r,t,c).fold(()=>[],x=>x.matches);return jj(u,g)},OI=(e,t)=>{if(t.length===0)return;const n=e.dom,r=e.selection.getBookmark(),i=Vj(n,t);Ne(i,c=>{const u=n.getParent(c.startMarker.start,n.isBlock),g=x=>x===u;JB(c.pattern)?Hj(e,c.pattern,c.endMarker,g):$j(e,c.pattern,c.startMarker,c.endMarker,g),SI(n,c.endMarker,g),SI(n,c.startMarker,g)}),e.selection.moveToBookmark(r)},AI=(e,t,n)=>O9(t,0,t).map(r=>{const i=r.container;return NP(i,n.start.length,t).each(c=>{const u=e.createRng();u.setStart(i,0),u.setEnd(c.container,c.offset),WN(e,u,g=>g===t)}),i}),NI=e=>(t,n)=>{const r=t.dom,i=n.pattern,c=kI(r.getRoot(),n.range).getOrDie("Unable to resolve path range"),u=(g,x)=>{const C=x.get(g);return ve(C)&&dt(C).exists(R=>po(R,"block"))};return qN(t,c).each(g=>{i.type==="block-format"?u(i.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,g,i),t.formatter.apply(i.format)}):i.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,g,i),t.execCommand(i.cmd,!1,i.value)})}),!0},Zj=e=>Qo(e,(t,n)=>n.start.length-t.start.length),RI=e=>(t,n)=>{const r=Zj(t),i=n.replace(os," ");return Tn(r,c=>e(c,n,i))},DI=(e,t)=>(n,r,i,c,u)=>{var g;u===void 0&&(u=(g=r.textContent)!==null&&g!==void 0?g:"");const x=n.dom,C=Ki(n);return x.is(r,C)?e(i.blockPatterns,u).map(R=>t&&gt.trim(u).length===R.start.length?[]:[{pattern:R,range:KB(x,x.getRoot(),r,0,r,0,c)}]).getOr([]):[]},Wj=e=>/^\s[^\s]/.test(e),qj=NI((e,t,n)=>{AI(e,t,n).each(r=>{const i=re.fromDom(r),c=lf(i);Wj(c)&&lg(i,c.slice(1))})}),Gj=RI((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),Kj=DI(Gj,!0),Yj=(e,t)=>{const n=e.selection.getRng();return qN(e,n).map(r=>{var i;const c=Math.max(0,n.startOffset),u=YB(t,r,(i=r.textContent)!==null&&i!==void 0?i:""),g=TI(e,r,n.startContainer,c,u,!0),x=Kj(e,r,u,!0);return{inlineMatches:g,blockMatches:x}}).filter(({inlineMatches:r,blockMatches:i})=>i.length>0||r.length>0)},Xj=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();Ne(t,r=>qj(e,r)),e.selection.moveToBookmark(n)},Jj=NI(AI),Qj=RI((e,t,n)=>t===e.start||n===e.start),eZ=DI(Qj,!1),tZ=(e,t)=>{const n=e.selection.getRng();return qN(e,n).map(r=>{const i=Math.max(0,n.startOffset),c=XB(e.dom,r,n.startContainer,i),u=YB(t,r,c);return eZ(e,r,u,!1,c)}).filter(r=>r.length>0)},oZ=(e,t)=>{Ne(t,n=>Jj(e,n))},nZ=(e,t)=>Yj(e,t).fold(ho,({inlineMatches:n,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{qb(e),OI(e,n),Xj(e,r);const i=e.selection.getRng(),c=hB(i.startContainer,i.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const g=u.container;g.data.charAt(u.offset-1)===Bm&&(g.deleteData(u.offset-1,1),Rw(e.dom,g.parentNode,x=>x===e.dom.getRoot()))})}),!0)),rZ=(e,t)=>{const n=e.selection.getRng();qN(e,n).map(r=>{const i=Math.max(0,n.startOffset-1),c=XB(e.dom,r,n.startContainer,i),u=YB(t,r,c),g=TI(e,r,n.startContainer,i,u,!1);g.length>0&&e.undoManager.transact(()=>{OI(e,g)})})},sZ=(e,t)=>tZ(e,t).fold(ho,n=>(e.undoManager.transact(()=>{oZ(e,n)}),!0)),MI=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},aZ=(e,t)=>MI(e,t,(n,r)=>n===r.keyCode&&!Ht.modifierPressed(r)),iZ=(e,t)=>MI(e,t,(n,r)=>n.charCodeAt(0)===r.charCode),lZ=e=>{const t=[",",".",";",":","!","?"],n=[32],r=()=>ja(ER(e).filter(u=>u.type==="inline-command"||u.type==="block-command"?e.queryCommandSupported(u.cmd):!0),zR(e)),i=()=>OR(e);e.on("keydown",u=>{if(u.keyCode===13&&!Ht.modifierPressed(u)&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=Ca(r(),"enter");(g.inlinePatterns.length>0||g.blockPatterns.length>0||i())&&nZ(e,g)&&u.preventDefault()}},!0),e.on("keydown",u=>{if(u.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const g=Ca(r(),"space");(g.blockPatterns.length>0||i())&&sZ(e,g)&&u.preventDefault()}},!0);const c=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const u=Ca(r(),"space");(u.inlinePatterns.length>0||i())&&rZ(e,u)}};e.on("keyup",u=>{aZ(n,u)&&c()}),e.on("keypress",u=>{iZ(t,u)&&Jd.setEditorTimeout(e,c)})},cZ=e=>{lZ(e)},dZ=e=>{const t=gt.each,n=Ht.BACKSPACE,r=Ht.DELETE,i=e.dom,c=e.selection,u=e.parser,g=Nt.browser,x=g.isFirefox(),C=g.isChromium()||g.isSafari(),R=Nt.deviceType.isiPhone()||Nt.deviceType.isiPad(),B=Nt.os.isMacOS()||Nt.os.isiOS(),L=(zt,st)=>{try{e.getDoc().execCommand(zt,!1,String(st))}catch{}},W=zt=>zt.isDefaultPrevented(),ee=()=>{const zt=Ct=>{const wo=i.create("body"),Ar=Ct.cloneContents();return wo.appendChild(Ar),c.serializer.serialize(wo,{format:"html"})},st=Ct=>{const wo=zt(Ct),Ar=i.createRng();Ar.selectNode(e.getBody());const hn=zt(Ar);return wo===hn};e.on("keydown",Ct=>{const wo=Ct.keyCode;if(!W(Ct)&&(wo===r||wo===n)&&e.selection.isEditable()){const Ar=e.selection.isCollapsed(),hn=e.getBody();if(Ar&&!Ml(e.schema,hn)||!Ar&&!st(e.selection.getRng()))return;Ct.preventDefault(),e.setContent(""),hn.firstChild&&i.isBlock(hn.firstChild)?e.selection.setCursorLocation(hn.firstChild,0):e.selection.setCursorLocation(hn,0),e.nodeChanged()}})},K=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ne=()=>{e.inline||i.bind(e.getDoc(),"mousedown mouseup",zt=>{let st;if(zt.target===e.getDoc().documentElement)if(st=c.getRng(),e.getBody().focus(),zt.type==="mousedown"){if(pc(st.startContainer))return;c.placeCaretAt(zt.clientX,zt.clientY)}else c.setRng(st)})},me=()=>{e.on("keydown",zt=>{if(!W(zt)&&zt.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const st=c.getNode(),Ct=st.previousSibling;if(st.nodeName==="HR"){i.remove(st),zt.preventDefault();return}Ct&&Ct.nodeName&&Ct.nodeName.toLowerCase()==="hr"&&(i.remove(Ct),zt.preventDefault())}}})},Ce=()=>{Range.prototype.getClientRects||e.on("mousedown",zt=>{if(!W(zt)&&zt.target.nodeName==="HTML"){const st=e.getBody();st.blur(),Jd.setEditorTimeout(e,()=>{st.focus()})}})},ze=()=>{const zt=Qv(e);e.on("click",st=>{const Ct=st.target;/^(IMG|HR)$/.test(Ct.nodeName)&&i.isEditable(Ct)&&(st.preventDefault(),e.selection.select(Ct),e.nodeChanged()),Ct.nodeName==="A"&&i.hasClass(Ct,zt)&&Ct.childNodes.length===0&&i.isEditable(Ct.parentNode)&&(st.preventDefault(),c.select(Ct))})},Re=()=>{const zt=()=>{const Ct=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const wo=c.getStart();wo!==e.getBody()&&(i.setAttrib(wo,"style",null),t(Ct,Ar=>{wo.setAttributeNode(Ar.cloneNode(!0))}))}},st=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);e.on("keypress",Ct=>{let wo;return!W(Ct)&&(Ct.keyCode===8||Ct.keyCode===46)&&st()?(wo=zt(),e.getDoc().execCommand("delete",!1),wo(),Ct.preventDefault(),!1):!0}),i.bind(e.getDoc(),"cut",Ct=>{if(!W(Ct)&&st()){const wo=zt();Jd.setEditorTimeout(e,()=>{wo()})}})},Xe=()=>{e.on("keydown",zt=>{if(!W(zt)&&zt.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const st=c.getNode().previousSibling;if(st&&st.nodeName&&st.nodeName.toLowerCase()==="table")return zt.preventDefault(),!1}return!0})},mt=()=>{e.on("keydown",zt=>{if(W(zt)||zt.keyCode!==Ht.BACKSPACE)return;let st=c.getRng();const Ct=st.startContainer,wo=st.startOffset,Ar=i.getRoot();let hn=Ct;if(!(!st.collapsed||wo!==0)){for(;hn.parentNode&&hn.parentNode.firstChild===hn&&hn.parentNode!==Ar;)hn=hn.parentNode;hn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,hn),st=i.createRng(),st.setStart(Ct,0),st.setEnd(Ct,0),c.setRng(st))}})},At=()=>{const zt=()=>{L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),p0(e)||L("enableObjectResizing",!1)};cy(e)||e.on("BeforeExecCommand mousedown",zt)},Ze=()=>{const zt=()=>{t(i.select("a:not([data-mce-block])"),st=>{var Ct;let wo=st.parentNode;const Ar=i.getRoot();if((wo==null?void 0:wo.lastChild)===st){for(;wo&&!i.isBlock(wo);){if(((Ct=wo.parentNode)===null||Ct===void 0?void 0:Ct.lastChild)!==wo||wo===Ar)return;wo=wo.parentNode}i.add(wo,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",st=>{(st.type==="setcontent"||st.command==="mceInsertLink")&&zt()})},Pe=()=>{e.on("init",()=>{L("DefaultParagraphSeparator",Ki(e))})},et=zt=>{const st=zt.getBody(),Ct=zt.selection.getRng();return Ct.startContainer===Ct.endContainer&&Ct.startContainer===st&&Ct.startOffset===0&&Ct.endOffset===st.childNodes.length},St=()=>{e.on("keyup focusin mouseup",zt=>{!Ht.modifierPressed(zt)&&!et(e)&&c.normalize()},!0)},Jt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},rn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},an=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",zt=>{let st;zt.target.nodeName==="HTML"&&(st=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(st),e.selection.normalize(),e.nodeChanged())}))},jn=()=>{B&&e.on("keydown",zt=>{Ht.metaKeyPressed(zt)&&!zt.shiftKey&&(zt.keyCode===37||zt.keyCode===39)&&(zt.preventDefault(),e.selection.getSel().modify("move",zt.keyCode===37?"backward":"forward","lineboundary"))})},vr=()=>{e.on("click",zt=>{let st=zt.target;do if(st.tagName==="A"){zt.preventDefault();return}while(st=st.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},da=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",zt=>{zt.preventDefault()})})},Ri=()=>{u.addNodeFilter("br",zt=>{let st=zt.length;for(;st--;)zt[st].attr("class")==="Apple-interchange-newline"&&zt[st].remove()})},Di=ao,kt=()=>{if(!x||e.removed)return!1;const zt=e.selection.getSel();return!zt||!zt.rangeCount||zt.rangeCount===0},Qt=()=>{C&&(ne(),ze(),da(),K(),R&&(rn(),an(),vr())),x&&(Ce(),At(),Jt(),jn())},In=()=>{mt(),ee(),Nt.windowsPhone||St(),C&&(ne(),ze(),Pe(),da(),Xe(),Ri(),R?(rn(),an(),vr()):K()),x&&(me(),Ce(),Re(),At(),Ze(),Jt(),jn(),Xe())};return wf(e)?Qt():In(),{refreshContentEditable:Di,isHidden:kt}},uZ=e=>e.toLowerCase()==="gpl",fZ=e=>e.length>=64&&e.length<=255,mZ=e=>uZ(e)||fZ(e)?"VALID":"INVALID",pZ=e=>{const t=NR(e);!pt(RR(e))&&(Nr(t)||mZ(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},QB=Tr.DOM,gZ=(e,t)=>{const n=re.fromDom(e.getBody()),r=td(Ci(n)),i=re.fromTag("style");On(i,"type","text/css"),Mr(i,re.fromText(t)),Mr(r,i),e.on("remove",()=>{un(i)})},hZ=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,eP=e=>Yi(e,t=>Nr(t)===!1),BI=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return eP({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:hZ(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:s_(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},PI=e=>{const t=e.options.get;return eP({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},bZ=e=>{const t=e.options.get;return{...BI(e),...PI(e),...eP({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},yZ=e=>{const t=Qy(BI(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const i=e.dom,c="data-mce-"+r;let u=n.length;for(;u--;){const g=n[u];let x=g.attr(r);if(x&&!g.attr(c)){if(x.indexOf("data:")===0||x.indexOf("blob:")===0)continue;r==="style"?(x=i.serializeStyle(i.parseStyle(x),g.name),x.length||(x=null),g.attr(c,x),g.attr(r,x)):r==="tabindex"?(g.attr(c,x),g.attr(r,null)):g.attr(c,e.convertURL(x,r,g.name))}}}),t.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const i=n[r],c=i.attr("type")||"no/type";c.indexOf("mce-")!==0&&i.attr("type","mce-"+c)}}),gE(e)&&t.addNodeFilter("#cdata",n=>{var r;let i=n.length;for(;i--;){const c=n[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode((r=c.value)!==null&&r!==void 0?r:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const i=e.schema.getNonEmptyElements();for(;r--;){const c=n[r];c.isEmpty(i)&&c.getAll("br").length===0&&c.append(new Fl("br",1))}}),t},xZ=e=>{const t=rE(e);t&&Jd.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},vZ=e=>{const t=e.dom.getRoot();!e.inline&&(!xy(e)||e.selection.getStart(!0)===t)&&ss(t).each(n=>{const r=n.getNode(),i=sd(r)?ss(r).getOr(n):n;e.selection.setRng(i.toRange())})},_Z=e=>{e.bindPendingEventDelegates(),e.initialized=!0,Kd(e),e.focus(!0),vZ(e),e.nodeChanged({initial:!0});const t=oE(e);jt(t)&&t.call(e,e),xZ(e),bm(e)&&zA(e,!0)},tP=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,kZ=(e,t,n)=>{const{pass:r,fail:i}=at(t,g=>tinymce.Resource.has(jx(g))),u=[...r.map(g=>{const x=tinymce.Resource.get(jx(g));return pt(x)?Promise.resolve(tP(e).loadRawCss(g,x)):Promise.resolve()}),tP(e).loadAll(i)];return e.inline?u:u.concat([e.ui.styleSheetLoader.loadAll(n)])},LI=e=>{const t=tP(e),n=gf(e),r=e.contentCSS,i=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},c=()=>{e.removed?i():e.on("remove",i)};if(e.contentStyles.length>0){let x="";gt.each(e.contentStyles,C=>{x+=C+`\r
`}),e.dom.addStyle(x)}const u=Promise.all(kZ(e,r,n)).then(c).catch(c),g=cp(e);return g&&gZ(e,g),u},wZ=e=>{const t=e.getDoc(),n=e.getBody();ol(e),t_(e)||(t.body.spellcheck=!1,QB.setAttrib(n,"spellcheck","false")),e.quirks=dZ(e),Su(e);const r=Xv(e);r!==void 0&&(n.dir=r);const i=sE(e);i&&e.on("BeforeSetContent",c=>{gt.each(i,u=>{c.content=c.content.replace(u,g=>"<!--mce:protected "+escape(g)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",c=>{e.composing=c.type==="compositionstart"})},CZ=e=>{wf(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},oP=e=>{e.removed!==!0&&(CZ(e),_Z(e))},SZ=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},II=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(QB.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();r.disabled=!0,e.readonly=cy(e),e._editableRoot=dy(e),!wh(e)&&e.hasEditableRoot()&&(e.inline&&QB.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=HA(e),e.schema=wt(PI(e)),e.dom=Tr(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:K3(e),referrerPolicy:Yv(e),onSetAttrib:u=>{e.dispatch("SetAttrib",u)}}),e.parser=yZ(e),e.serializer=f4(bZ(e),e),e.selection=nA(e.dom,e.getWin(),e.serializer,e),e.annotator=zy(e),e.formatter=qx(e),e.undoManager=D4(e),e._nodeChangeDispatcher=new xV(e),e._selectionOverrides=Mj(e),Ve(e),FU(e),Un(e),wf(e)||(WU(e),cZ(e));const i=yV(e);ce(e,i),Xr(e),qA(e),PU(e);const c=m8(e);wZ(e),pZ(e),c.fold(()=>{const u=SZ(e);LI(e).then(()=>{oP(e),u()})},u=>{e.setProgressState(!0),LI(e).then(()=>{u().then(g=>{e.setProgressState(!1),oP(e),JO(e)},g=>{e.notificationManager.open({type:"error",text:String(g)}),oP(e),JO(e)})})})},EZ=uo,zZ=(e,t,n)=>M(e,t,EZ,n),nP=Tr.DOM,TZ=(e,t,n,r)=>{const i=re.fromTag("iframe");return r.each(c=>On(i,"tabindex",c)),dl(i,n),dl(i,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Yl(i,"tox-edit-area__iframe"),i},OZ=e=>{let t=iy(e)+"<html><head>";V3(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=lR(e),r=_n(e),i=e.translate(e_(e));return U3(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+U3(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${i}"><br></body></html>`,t},AZ=(e,t)=>{const n=Nt.browser.isFirefox()?e_(e):"Rich Text Area",r=e.translate(n),i=Os(re.fromDom(e.getElement()),"tabindex").bind(Wn),c=TZ(e.id,r,_l(e),i).dom;c.onload=()=>{c.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=OZ(e),nP.add(t.iframeContainer,c)},NZ=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,II(e)};if(a2(e)||Nt.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=zZ(re.fromDom(t),"load",()=>{r.unbind(),n()});t.srcdoc=e.iframeHTML}},RZ=(e,t)=>{AZ(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=nP.isHidden(t.editorContainer)),e.getElement().style.display="none",nP.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,NZ(e)},FI=Tr.DOM,DZ=(e,t,n)=>{const r=a1.get(n),i=a1.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=gt.trim(n),r&&gt.inArray(t,n)===-1){if(e.plugins[n])return;try{const c=r(e,i)||{};e.plugins[n]=c,jt(c.init)&&(c.init(e,i),t.push(n))}catch(c){W8(e,n,c)}}},MZ=e=>e.replace(/^\-/,""),BZ=e=>{const t=[];Ne(y0(e),n=>{DZ(e,t,MZ(n))})},PZ=e=>{const t=gt.trim(W3(e)),n=e.ui.registry.getAll().icons,r={...Ix.get("default").icons,...Ix.get(t).icons};Ho(r,(i,c)=>{po(n,c)||e.ui.registry.addIcon(c,i)})},LZ=e=>{const t=ly(e);if(pt(t)){const n=Cf.get(t);e.theme=n(e,Cf.urls[t])||{},jt(e.theme.init)&&e.theme.init(e,Cf.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},IZ=e=>{const t=r2(e),n=ab.get(t);e.model=n(e,ab.urls[t])},FZ=e=>{const t=e.theme.renderUI;return t?t():$I(e)},HZ=e=>{const t=e.getElement(),r=ly(e)(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},HI=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),$Z=e=>{const t=FI.create("div");return FI.insertAfter(t,e),HI(t,t)},$I=e=>{const t=e.getElement();return e.inline?HI(null):$Z(t)},VZ=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,pt(ly(e))?FZ(e):jt(ly(e))?HZ(e):$I(e)},UZ=(e,t)=>{const n={show:H.from(t.show).getOr(ao),hide:H.from(t.hide).getOr(ao),isEnabled:H.from(t.isEnabled).getOr(uo),setEnabled:r=>{r&&(e.mode.get()==="readonly"||bm(e))||H.from(t.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...n}},jZ=async e=>{e.dispatch("ScriptsLoaded"),PZ(e),LZ(e),IZ(e),BZ(e);const t=await VZ(e);UZ(e,H.from(t.api).getOr({})),e.editorContainer=t.editorContainer,BA(e),e.inline?II(e):RZ(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},lv=Tr.DOM,VI=e=>e.charAt(0)==="-",ZZ=(e,t)=>{const n=n2(t),r=mR(t);if(!uc.hasCode(n)&&n!=="en"){const i=hr(r)?r:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(i).catch(()=>{wA(t,i,n)})}},WZ=(e,t)=>{const n=ly(e);if(pt(n)&&!VI(n)&&!po(Cf.urls,n)){const r=hR(e),i=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${t}.js`;Cf.load(n,i).catch(()=>{C4(e,i,n)})}},qZ=(e,t)=>{const n=r2(e);if(n!=="plugin"&&!po(ab.urls,n)){const r=wn(e),i=pt(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${t}.js`;ab.load(n,i).catch(()=>{CA(e,i,n)})}},GZ=e=>H.from(Wt(e)).filter(hr).map(t=>({url:t,name:H.none()})),UI=(e,t,n)=>H.from(t).filter(r=>hr(r)&&!Ix.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:H.some(r)})),KZ=(e,t,n)=>{const r=UI(t,"default",n),i=GZ(t).orThunk(()=>UI(t,W3(t),""));Ne(Mf([r,i]),c=>{e.add(c.url).catch(()=>{tw(t,c.url,c.name.getOrUndefined())})})},YZ=(e,t)=>{const n=(r,i)=>{a1.load(r,i).catch(()=>{w4(e,i,r)})};Ho(_R(e),(r,i)=>{n(i,r),e.options.set("plugins",y0(e).concat(i))}),Ne(y0(e),r=>{r=gt.trim(r),r&&!a1.urls[r]&&!VI(r)&&n(r,`plugins/${r}/plugin${t}.js`)})},XZ=e=>{const t=ly(e);return!pt(t)||Ie(Cf.get(t))},JZ=e=>{const t=r2(e);return Ie(ab.get(t))},QZ=(e,t)=>{const n=Rc.ScriptLoader,r=()=>{!e.removed&&XZ(e)&&JZ(e)&&jZ(e)};WZ(e,t),qZ(e,t),ZZ(n,e),KZ(n,e,t),YZ(e,t),n.loadQueue().then(r,r)},eW=(e,t)=>Yg.forElement(e,{contentCssCors:Q3(t),referrerPolicy:Yv(t)}),tW=e=>{const t=e.id;uc.setCode(n2(e));const n=()=>{lv.unbind(window,"ready",n),e.render()};if(!dc.Event.domLoaded){lv.bind(window,"ready",n);return}if(!e.getElement())return;const r=re.fromDom(e.getElement()),i=Al(r);e.on("remove",()=>{yt(r.dom.attributes,u=>En(r,u.name)),dl(r,i)}),e.ui.styleSheetLoader=eW(r,e),b0(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const c=e.getElement().form||lv.getParent(t,"form");c&&(e.formElement=c,yR(e)&&!yu(e.getElement())&&(lv.insertAfter(lv.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=u=>{e.dispatch(u.type,u)},lv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),xg(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)))),e.windowManager=k4(e),e.notificationManager=_4(e),xE(e)&&e.on("GetContent",u=>{u.save&&(u.content=lv.encode(u.content))}),kh(e)&&e.on("submit",()=>{e.initialized&&e.save()}),J3(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),QZ(e,e.suffix)},oW=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,bm(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),F3(e,t))},nW=e=>e._editableRoot,rW=(e,t)=>({sections:Je(e),options:Je(t)}),jI=Us().deviceType,ZI=jI.isPhone(),sW=jI.isTablet(),w3=e=>{if(Io(e))return[];{const t=ve(e)?e:e.split(/[ ,]/),n=Jo(t,ma);return Ke(n,hr)}},aW=(e,t)=>{const n=Sl(t,(r,i)=>on(e,i));return rW(n.t,n.f)},iW=(e,t,n={})=>{const r=e.sections(),i=Hn(r,t).getOr({});return gt.extend({},n,i)},rP=(e,t)=>po(e.sections(),t),lW=(e,t)=>rP(e,t)?e.sections()[t]:{},cW=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Hn(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),dW=(e,t)=>{var n;const r=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?gt.extend({},e.external_plugins,r):r},uW=(e,t)=>[...w3(e),...w3(t)],fW=(e,t,n,r)=>e&&rP(t,"mobile")?r:n,mW=(e,t,n,r)=>{const i=w3(n.forced_plugins),c=w3(r.plugins),u=lW(t,"mobile"),g=u.plugins?w3(u.plugins):c,x=fW(e,t,c,g),C=uW(i,x);return gt.extend(r,{forced_plugins:i,plugins:C})},pW=(e,t)=>e&&rP(t,"mobile"),gW=(e,t,n,r,i)=>{var c;const u=e?{mobile:cW((c=i.mobile)!==null&&c!==void 0?c:{},t)}:{},g=aW(["mobile"],EN(u,i)),x=gt.extend(n,r,g.options(),pW(e,g)?iW(g,"mobile"):{},{external_plugins:dW(r,g.options())});return mW(e,g,r,x)},hW=(e,t)=>{const n=FP(t);return gW(ZI||sW,ZI,n,e,n)},bW=(e,t)=>w8(e,t),yW=e=>{const t=(r,i)=>{e.formatter.toggle(r,i),e.nodeChanged()},n=r=>()=>{Ne("left,center,right,justify".split(","),i=>{r!==i&&e.formatter.remove("align"+i)}),r!=="none"&&t("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},xW=e=>{const t=n=>()=>{const r=e.selection,i=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return Sn(i,c=>Ie(e.formatter.matchNode(c,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},vW=e=>{yW(e),xW(e)},_W=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let r;try{n.execCommand(t)}catch{r=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(r=!0),r||!n.queryCommandSupported(t)){let i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Nt.os.isMacOS()||Nt.os.isiOS())&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}}})},kW=(e,t,n,r)=>{const i=re.fromDom(e.getRoot());return qh(i,$e.fromRangeStart(t),r)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Iy(i,$e.fromRangeEnd(t),r)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},wW=e=>{if(typeof e!="string"){const t=gt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},CW=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?kW(r,n.getRng(),t,e.schema):t},YN=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=wW(t);Pk(e,{...r,content:CW(e,n),format:"html",set:!1,selection:!0}).each(i=>{const c=XO(e,i.content,r);Lk(e,c,i),e.addVisual()})}},SW=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,r)=>{YN(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,r)=>{YN(e,e.dom.encode(r))},insertHTML:(t,n,r)=>{YN(e,r)},mceInsertContent:(t,n,r)=>{YN(e,r)},mceSetContent:(t,n,r)=>{e.setContent(r)},mceReplaceContent:(t,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(cE(e))}})},EW={"font-size":"size","font-family":"face"},zW=sa("font"),TW=(e,t,n)=>{const r=c=>Zs(c,e).orThunk(()=>zW(c)?Hn(EW,e).bind(u=>Os(c,u)):H.none()),i=c=>en(re.fromDom(t),c);return eS(re.fromDom(n),c=>r(c),i)},OW=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),AW=(e,t)=>H.from(Tr.DOM.getStyle(t,e,!0)),WI=e=>(t,n)=>H.from(n).map(re.fromDom).filter(ti).bind(r=>TW(e,t,r.dom).or(AW(e,r.dom))).getOr(""),NW=WI("font-size"),RW=Do(OW,WI("font-family")),DW=e=>ss(e.getBody()).bind(t=>{const n=t.container();return H.from(it(n)?n.parentNode:n)}),MW=e=>H.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?H.none():H.from(e.selection.getStart(!0))}),BW=(e,t)=>MW(e).orThunk(De(DW,e)).map(re.fromDom).filter(ti).bind(t),sP=(e,t)=>BW(e,Zr(H.some,t)),qI=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=bE(e),i=yE(e);return i.length>0?i[n-1]||t:r[n-1]||t}else return t}else return t},PW=e=>{const t=e.split(/\s*,\s*/);return Jo(t,n=>n.indexOf(" ")!==-1&&!(cr(n,'"')||cr(n,"'"))?`'${n}'`:n).join(",")},LW=(e,t)=>{const n=qI(e,t);e.formatter.toggle("fontname",{value:PW(n)}),e.nodeChanged()},IW=e=>sP(e,t=>RW(e.getBody(),t.dom)).getOr(""),FW=(e,t)=>{e.formatter.toggle("fontsize",{value:qI(e,t)}),e.nodeChanged()},HW=e=>sP(e,t=>NW(e.getBody(),t.dom)).getOr(""),$W=e=>sP(e,t=>{const n=re.fromDom(e.getBody()),r=eS(t,c=>Zs(c,"line-height"),De(en,n)),i=()=>{const c=parseFloat(Si(t,"line-height")),u=parseFloat(Si(t,"font-size"));return String(c/u)};return r.getOrThunk(i)}).getOr(""),VW=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},UW=e=>{const t=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,r,i)=>{t(n,{value:i})},BackColor:(n,r,i)=>{t("hilitecolor",{value:i})},FontName:(n,r,i)=>{LW(e,i)},FontSize:(n,r,i)=>{FW(e,i)},LineHeight:(n,r,i)=>{VW(e,i)},Lang:(n,r,i)=>{var c;t(n,{value:i.code,customValue:(c=i.customCode)!==null&&c!==void 0?c:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,r,i)=>{t(pt(i)?i:"p")},mceToggleFormat:(n,r,i)=>{t(i)}})},jW=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>IW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>HW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>$W(e))},ZW=e=>{UW(e),jW(e)},WW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},qW=e=>{e.editorCommands.addCommands({Indent:()=>{G(e)},Outdent:()=>{J(e)}}),e.editorCommands.addCommands({Outdent:()=>w(e)},"state")},GW=e=>{const t=(n,r,i)=>{if(e.mode.isReadOnly())return;const c=pt(i)?{href:i}:i,u=e.dom.getParent(e.selection.getNode(),"a");ue(c)&&pt(c.href)&&(c.href=c.href.replace(/ /g,"%20"),(!u||!c.href)&&e.formatter.remove("link"),c.href&&e.formatter.apply("link",c,u))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},KW=(e,t,n,r)=>{const i=e.dom,c=g=>i.isBlock(g)&&g.parentElement===n,u=c(t)?t:i.getParent(r,c,n);return H.from(u).map(re.fromDom)},GI=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,r=e.selection.getRng(),i=t?e.selection.getStart():e.selection.getEnd(),c=t?r.startContainer:r.endContainer,u=y3(n,c);if(!u||!u.isContentEditable)return;const g=t?Vr:tn,x=Ki(e);KW(e,i,u,c).each(C=>{const R=dL(e,c,C.dom,u,!1,x);g(C,re.fromDom(R)),e.selection.setCursorLocation(R,0),e.dispatch("NewBlock",{newBlock:R}),b3(e,"insertParagraph")})},YW=e=>GI(e,!0),XW=e=>GI(e,!1),JW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{YW(e)},InsertNewBlockAfter:()=>{XW(e)}})},QW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{IN(pL,e)},mceInsertNewLine:(t,n,r)=>{_L(e,r)},InsertLineBreak:(t,n,r)=>{IN(bL,e)}})},eq=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,r)=>{let i=0;e.dom.getParent(e.selection.getNode(),c=>Ot(c)&&i++===r?(e.selection.select(c),!1):!0,e.getBody())},mceSelectNode:(t,n,r)=>{e.selection.select(r)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Ti);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},tq=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,r)=>{const i=r??e.selection.getNode();if(i!==e.getBody()){const c=e.selection.getBookmark();e.dom.remove(i,!0),e.selection.moveToBookmark(c)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,r)=>{dD(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},oq=e=>{vW(e),_W(e),WW(e),eq(e),SW(e),GW(e),qW(e),JW(e),QW(e),ZW(e),tq(e)},nq=["toggleview"],KI=e=>on(nq,e.toLowerCase());class YI{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,i){const c=this.editor,u=t.toLowerCase(),g=i==null?void 0:i.skip_focus;if(c.removed||(u!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(u)&&!g?c.focus():bz(c)),c.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;const C=this.commands.exec[u];return jt(C)?(C(u,n,r),c.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0):!1}queryCommandState(t){if(!KI(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return jt(r)?r(n):!1}queryCommandValue(t){if(!KI(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return jt(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;Ho(t,(i,c)=>{Ne(c.toLowerCase().split(","),u=>{r[n][u]=i})})}addCommand(t,n,r){const i=t.toLowerCase();this.commands.exec[i]=(c,u,g)=>n.call(r??this.editor,u,g)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(r??this.editor)}}const rq=gt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class aP{static isNative(t){return!!rq[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ho}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),i=H1(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[r];if(c)for(let u=0,g=c.length;u<g;u++){const x=c[u];if(!x.removed){if(x.once&&this.off(r,x.func),i.isImmediatePropagationStopped())return i;if(x.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(t,n,r,i){if(n===!1&&(n=ho),n){const c={func:n,removed:!1};i&&gt.extend(c,i);const u=t.toLowerCase().split(" ");let g=u.length;for(;g--;){const x=u[g];let C=this.bindings[x];C||(C=[],this.toggleEvent(x,!0)),r?C=[c,...C]:C=[...C,c],this.bindings[x]=C}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let i=r.length;for(;i--;){const c=r[i];let u=this.bindings[c];if(!c)return Ho(this.bindings,(g,x)=>{this.toggleEvent(x,!1),delete this.bindings[x]}),this;if(u){if(!n)u.length=0;else{const g=at(u,x=>x.func===n);u=g.fail,this.bindings[c]=u,Ne(g.pass,x=>{x.removed=!0})}u.length||(this.toggleEvent(t,!1),delete this.bindings[c])}}}else Ho(this.bindings,(r,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const C3=e=>(e._eventDispatcher||(e._eventDispatcher=new aP({scope:e,toggleEvent:(t,n)=>{aP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),iP={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return H1(e.toLowerCase(),t??{},r);const i=C3(r).dispatch(e,t);if(n!==!1&&r.parent){let c=r.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(e,i,!1),c=c.parent?c.parent():void 0}return i},on(e,t,n){return C3(this).on(e,t,n)},off(e,t){return C3(this).off(e,t)},once(e,t){return C3(this).once(e,t)},hasEventListeners(e){return C3(this).has(e)}},XN=Tr.DOM;let cv;const JN=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=vh(e);return n?(e.eventRoot||(e.eventRoot=XN.select(n)[0]),e.eventRoot):e.getBody()},sq=e=>!e.hidden&&!bm(e),XI=(e,t,n)=>{sq(e)?e.dispatch(t,n):bm(e)&&K8(e,n)},JI=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=JN(e,t);if(vh(e)){if(cv||(cv={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||cv&&(Ho(cv,(i,c)=>{e.dom.unbind(JN(e,c))}),cv=null)})),cv[t])return;const r=i=>{const c=i.target,u=e.editorManager.get();let g=u.length;for(;g--;){const x=u[g].getBody();(x===c||XN.isChildOf(c,x))&&XI(u[g],t,i)}};cv[t]=r,XN.bind(n,t,r)}else{const r=i=>{XI(e,t,i)};XN.bind(n,t,r),e.delegates[t]=r}},QI={...iP,bindPendingEventDelegates(){const e=this;gt.each(e._pendingNativeEvents,t=>{JI(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?JI(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(JN(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(Ho(e.delegates,(r,i)=>{e.dom.unbind(JN(e,i),i,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},aq=e=>pt(e)?{value:e.split(/[ ,]/),valid:!0}:Eo(e,pt)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},iq=e=>{const t=(()=>{switch(e){case"array":return ve;case"boolean":return gs;case"function":return jt;case"number":return O;case"object":return ue;case"string":return pt;case"string[]":return aq;case"object[]":return n=>Eo(n,ue);case"regexp":return n=>Bt(n,RegExp);default:return uo}})();return n=>lP(n,t,`The value must be a ${e}.`)},lq=e=>pt(e.processor),eF=(e,t)=>{const n=yi(t.message)?"":`. ${t.message}`;return e+n},tF=e=>e.valid,lP=(e,t,n="")=>{const r=t(e);return gs(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},cq=(e,t,n)=>{if(!Nr(t)){const r=lP(t,n);if(tF(r))return r.value;console.error(eF(`Invalid default value passed for the "${e}" option`,r))}},dq=(e,t,n=t)=>{const r={},i={},c=(W,ee,K)=>{const ne=lP(ee,K);return tF(ne)?(i[W]=ne.value,!0):(console.warn(eF(`Invalid value passed for the ${W} option`,ne)),!1)},u=(W,ee)=>{const K=lq(ee)?iq(ee.processor):ee.processor,ne=cq(W,ee.default,K);r[W]={...ee,default:ne,processor:K},Hn(i,W).orThunk(()=>Hn(t,W)).each(Ce=>c(W,Ce,K))},g=W=>po(r,W);return{register:u,isRegistered:g,get:W=>Hn(i,W).orThunk(()=>Hn(r,W).map(ee=>ee.default)).getOrUndefined(),set:(W,ee)=>{if(g(W)){const K=r[W];return K.immutable?(console.error(`"${W}" is an immutable option and cannot be updated`),!1):c(W,ee,K.processor)}else return console.warn(`"${W}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:W=>{const ee=g(W);return ee&&delete i[W],ee},isSet:W=>po(i,W),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(W,ee)=>gs(ee)||O(ee)||pt(ee)||ht(ee)||ve(ee)||Et(ee)?ee:Object.prototype.toString.call(ee))))}catch(W){console.error(W)}}}},uq=(e,t)=>{e.dom.contentEditable="true"},fq=(e,t)=>{const n=re.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&uq(n),E4(e)):(e.readonly=!1,EA(e))},S3=e=>e.readonly,mq=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{S3(e)&&t.preventDefault()}),e.on("BeforeExecCommand",t=>{(t.command==="Undo"||t.command==="Redo")&&S3(e)&&t.preventDefault()}),e.on("input",t=>{if(!t.isComposing&&S3(e)){const n=e.undoManager.add();Ie(n)&&e.undoManager.undo()}}),e.on("compositionend",()=>{if(S3(e)){const t=e.undoManager.add();Ie(t)&&e.undoManager.undo()}})},pq=["design","readonly"],oF=(e,t,n,r)=>{const i=n[t.get()],c=n[r];try{c.activate()}catch(u){console.error(`problem while activating editor mode ${r}:`,u);return}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&fq(e,c.editorReadOnly),t.set(r),ay(e,r)},gq=(e,t,n,r)=>{if(!(r===n.get()||e.initialized&&bm(e))){if(!po(t,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?oF(e,n,t,r):e.on("init",()=>oF(e,n,t,r))}},hq=(e,t,n)=>{if(on(pq,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${t}:`,r)}}}}},bq=e=>{const t=Sr("design"),n=Sr({design:{activate:ao,deactivate:ao,editorReadOnly:!1},readonly:{activate:ao,deactivate:ao,editorReadOnly:!0}});return mq(e),T4(e),{isReadOnly:()=>S3(e),set:r=>gq(e,n.get(),t,r),get:()=>t.get(),register:(r,i)=>{n.set(hq(n.get(),r,i))}}},cP=gt.each,dP=gt.explode,yq={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},nF=gt.makeMap("alt,ctrl,shift,meta,access"),xq=e=>e in nF,vq=e=>{const t={},n=Nt.os.isMacOS()||Nt.os.isiOS();cP(dP(e.toLowerCase(),"+"),c=>{xq(c)?t[c]=!0:/^[0-9]{2,}$/.test(c)?t.keyCode=parseInt(c,10):(t.charCode=c.charCodeAt(0),t.keyCode=yq[c]||c.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let i;for(i in nF)t[i]?r.push(i):t[i]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class rF{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(cP(n.shortcuts,i=>{n.matchShortcut(r,i)&&(n.pendingPatterns=i.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,i){const c=this,u=c.normalizeCommandFunc(r);return cP(dP(gt.trim(t)),g=>{const x=c.createShortcut(g,n,u,i);c.shortcuts[x.id]=x}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,r=t;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:gt.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,i){const c=gt.map(dP(t,">"),vq);return c[c.length-1]=gt.extend(c[c.length-1],{func:r,scope:i||this.editor}),gt.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const _q=()=>{const e={},t={},n={},r={},i={},c={},u={},g={},x={},C=(W,ee)=>(K,ne)=>{W[K.toLowerCase()]={...ne,type:ee}},R=(W,ee)=>(K,ne)=>{W[K.toLowerCase()]={type:ee,...ne}},B=(W,ee)=>r[W.toLowerCase()]=ee,L=(W,ee)=>u[W.toLowerCase()]=ee;return{addButton:C(e,"button"),addGroupToolbarButton:C(e,"grouptoolbarbutton"),addToggleButton:C(e,"togglebutton"),addMenuButton:C(e,"menubutton"),addSplitButton:C(e,"splitbutton"),addMenuItem:C(t,"menuitem"),addNestedMenuItem:C(t,"nestedmenuitem"),addToggleMenuItem:C(t,"togglemenuitem"),addAutocompleter:C(n,"autocompleter"),addContextMenu:C(i,"contextmenu"),addContextToolbar:C(c,"contexttoolbar"),addContextForm:R(c,"contextform"),addSidebar:C(g,"sidebar"),addView:C(x,"views"),addIcon:B,addContext:L,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:n,contextMenus:i,contextToolbars:c,sidebars:g,views:x,contexts:u})}},kq=()=>{const e=_q();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},dv=Tr.DOM,sF=gt.extend,wq=gt.each;class QN{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,sF(this,QI);const i=this;this.id=t,this.hidden=!1;const c=hW(r.defaultOptions,n);this.options=dq(i,c,n),hd(i);const u=this.options.get;u("deprecation_warnings")&&b4(n,c);const g=u("suffix");g&&(r.suffix=g),this.suffix=r.suffix;const x=u("base_url");x&&r._setBaseUrl(x),this.baseUri=r.baseURI;const C=Yv(i);C&&(Rc.ScriptLoader._setReferrerPolicy(C),Tr.DOM.styleSheetLoader._setReferrerPolicy(C));const R=Q3(i);Ie(R)&&Tr.DOM.styleSheetLoader._setContentCssCors(R),ci.languageLoad=u("language_load"),ci.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Bu(V3(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=b0(i),this.hasVisual=kR(i),this.shortcuts=new rF(this),this.editorCommands=new YI(this),oq(this);const B=u("cache_suffix");B&&(Nt.cacheSuffix=B.replace(/^[\?\&]+/,"")),this.ui={registry:kq(),styleSheetLoader:void 0,show:ao,hide:ao,setEnabled:ao,isEnabled:uo},this.mode=bq(i),r.dispatch("SetupEditor",{editor:this});const L=s2(i);jt(L)&&L.call(i,i)}render(){tW(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Ph(this)}translate(t){return uc.translate(t)}getParam(t,n,r){const i=this.options;return i.isRegistered(t)||(Ie(r)?i.register(t,{processor:r,default:n}):i.register(t,{processor:uo,default:n})),!i.isSet(t)&&!Nr(n)?n:i.get(t)}hasPlugin(t,n){return on(y0(this),t)?n?a1.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,i){this.shortcuts.add(t,n,r,i)}execCommand(t,n,r,i){return this.editorCommands.execCommand(t,n,r,i)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(dv.show(t.getContainer()),dv.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(dv.hide(t.getContainer()),dv.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const i={...t,load:!0},c=yu(r)?r.value:r.innerHTML,u=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:r}),u}else return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const i={...t,save:!0,element:r};let c=n.getContent(i);const u={...i,content:c};if(u.no_events||n.dispatch("SaveContent",u),u.format==="raw"&&n.dispatch("RawSaveContent",u),c=u.content,yu(r))r.value=c;else{(t.is_removing||!n.inline)&&(r.innerHTML=c);const g=dv.getParent(n.id,"form");g&&wq(g.elements,x=>x.name===n.id?(x.value=c,!1):!0)}return u.element=i.element=r=null,u.set_dirty!==!1&&n.setDirty(!1),c}setContent(t,n){return g4(this,t,n)}getContent(t){return iA(this,t)}insertContent(t,n){n&&(t=sF({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?g4(this,this.startContent,{format:"raw"}):g4(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||dv.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=dv.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(t,n,r){const i=this,c=i.options.get,u=nE(i);if(jt(u))return u.call(i,t,r,!0,n);if(!c("convert_urls")||r==="link"||ue(r)&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const g=new Bu(t);return g.protocol!=="http"&&g.protocol!=="https"&&g.protocol!==""?t:c("relative_urls")?i.documentBaseURI.toRelative(t):(t=i.documentBaseURI.toAbsolute(t,c("remove_script_host")),t)}addVisual(t){bW(this,t)}setEditableRoot(t){oW(this,t)}hasEditableRoot(){return nW(this)}remove(){gA(this)}destroy(t){x4(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Dw=Tr.DOM,eR=gt.each;let aF=!1,tR,Ed=[];const oR=e=>{const t=e.type;eR(k1.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},iF=e=>{if(e!==aF){const t=Tr.DOM;e?(t.bind(window,"resize",oR),t.bind(window,"scroll",oR)):(t.unbind(window,"resize",oR),t.unbind(window,"scroll",oR)),aF=e}},lF=e=>{const t=Ed;return Ed=Ke(Ed,n=>e!==n),k1.activeEditor===e&&(k1.activeEditor=Ed.length>0?Ed[0]:null),k1.focusedEditor===e&&(k1.focusedEditor=null),t.length!==Ed.length},Cq=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(lF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Sq=document.compatMode!=="CSS1Compat",k1={...iP,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"8.0",releaseDate:"TBD",i18n:uc,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Bu.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,n=i.suffix;else{const c=document.getElementsByTagName("script");for(let u=0;u<c.length;u++){const g=c[u].src||"";if(g==="")continue;const x=g.substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){x.indexOf(".min")!==-1&&(n=".min"),t=g.substring(0,g.lastIndexOf("/"));break}}if(!t&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new Bu(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Bu(e.baseURL),e.suffix=n,U2(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Ho(r,(i,c)=>{ci.PluginManager.urls[c]=i})},init(e){const t=this;let n;const r=gt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=(R,B)=>R.inline&&B.tagName.toLowerCase()in r,c=R=>{let B=R.id;return B||(B=Hn(R,"name").filter(L=>!Dw.get(L)).getOrThunk(Dw.uniqueId),R.setAttribute("id",B)),B},u=R=>{const B=e[R];if(B)return B.apply(t,[])},g=R=>Nt.browser.isIE()||Nt.browser.isEdge()?(Ux("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Sq?(Ux("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):pt(R.selector)?Dw.select(R.selector):Ie(R.target)?[R.target]:[];let x=R=>{n=R};const C=()=>{let R=0;const B=[];let L;const W=(ee,K,ne)=>{const me=new QN(ee,K,t);B.push(me),me.on("init",()=>{++R===L.length&&x(B)}),me.targetElm=me.targetElm||ne,me.render()};Dw.unbind(window,"ready",C),u("onpageload"),L=pi(g(e)),gt.each(L,ee=>{Cq(t.get(ee.id))}),L=gt.grep(L,ee=>!t.get(ee.id)),L.length===0?x([]):eR(L,ee=>{i(e,ee)?Ux("Could not initialize inline editor on invalid inline target element",ee):W(c(ee),e,ee)})};return Dw.bind(window,"ready",C),new Promise(R=>{n?R(n):x=B=>{R(B)}})},get(e){return arguments.length===0?Ed.slice(0):pt(e)?Tn(Ed,t=>t.id===e).getOr(null):O(e)&&Ed[e]?Ed[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Ed.push(e),iF(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),tR||(tR=r=>{const i=t.dispatch("BeforeUnload");if(i.returnValue)return r.preventDefault(),r.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",tR))),e},createEditor(e,t){return this.add(new QN(e,t,this))},remove(e){const t=this;let n;if(!e){for(let r=Ed.length-1;r>=0;r--)t.remove(Ed[r]);return}if(pt(e)){eR(Dw.select(e),r=>{n=t.get(r.id),n&&t.remove(n)});return}return n=e,ht(t.get(n.id))?null:(lF(n)&&t.dispatch("RemoveEditor",{editor:n}),Ed.length===0&&window.removeEventListener("beforeunload",tR),n.remove(),iF(Ed.length>0),n)},execCommand(e,t,n){var r;const i=this,c=ue(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!i.get(c)){const u=n.options;new QN(c,u,i).render()}return!0}case"mceRemoveEditor":{const u=i.get(c);return u&&u.remove(),!0}case"mceToggleEditor":{const u=i.get(c);return u?(u.isHidden()?u.show():u.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return i.activeEditor?i.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{eR(Ed,e=>{e.save()})},addI18n:(e,t)=>{uc.add(e,t)},translate:e=>uc.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Bu(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Bu(this.baseURL)}};k1.setup();const Eq=(()=>{const e=ic(),t=c=>({items:c,types:nt(c),getType:u=>Hn(c,u).getOrUndefined()}),n=c=>{e.set(c)},r=()=>e.get().getOrUndefined(),i=e.clear;return{FakeClipboardItem:t,write:n,read:r,clear:i}})(),cF=Math.min,Mw=Math.max,nR=Math.round,dF=(e,t,n)=>{let r=t.x,i=t.y;const c=e.w,u=e.h,g=t.w,x=t.h,C=(n||"").split("");return C[0]==="b"&&(i+=x),C[1]==="r"&&(r+=g),C[0]==="c"&&(i+=nR(x/2)),C[1]==="c"&&(r+=nR(g/2)),C[3]==="b"&&(i-=u),C[4]==="r"&&(r-=c),C[3]==="c"&&(i-=nR(u/2)),C[4]==="c"&&(r-=nR(c/2)),Bw(r,i,c,u)},zq=(e,t,n,r)=>{for(let i=0;i<r.length;i++){const c=dF(e,t,r[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return r[i]}return null},Tq=(e,t,n)=>Bw(e.x-t,e.y-n,e.w+t*2,e.h+n*2),Oq=(e,t)=>{const n=Mw(e.x,t.x),r=Mw(e.y,t.y),i=cF(e.x+e.w,t.x+t.w),c=cF(e.y+e.h,t.y+t.h);return i-n<0||c-r<0?null:Bw(n,r,i-n,c-r)},Aq=(e,t,n)=>{let r=e.x,i=e.y,c=e.x+e.w,u=e.y+e.h;const g=t.x+t.w,x=t.y+t.h,C=Mw(0,t.x-r),R=Mw(0,t.y-i),B=Mw(0,c-g),L=Mw(0,u-x);return r+=C,i+=R,n&&(c+=C,u+=R,r-=B,i-=L),c-=B,u-=L,Bw(r,i,c-r,u-i)},Bw=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),Nq={inflate:Tq,relativePosition:dF,findBestRelativePosition:zq,intersect:Oq,clamp:Aq,create:Bw,fromClientRect:e=>Bw(e.left,e.top,e.width,e.height)},Rq=(e,t,n=1e3)=>{let r=!1,i=null;const c=C=>(...R)=>{r||(r=!0,i!==null&&(window.clearTimeout(i),i=null),C.apply(null,R))},u=c(e),g=c(t);return{start:(...C)=>{!r&&i===null&&(i=window.setTimeout(()=>g.apply(null,C),n))},resolve:u,reject:g}},Dq=(()=>{const e={},t={},n={};return{load:(x,C)=>{const R=`Script at URL "${C}" failed to load`,B=`Script at URL "${C}" did not call \`tinymce.Resource.add('${x}', data)\` within 1 second`;if(e[x]!==void 0)return e[x];{const L=new Promise((W,ee)=>{const K=Rq(W,ee);t[x]=K.resolve,Rc.ScriptLoader.loadScript(C).then(()=>K.start(B),()=>K.reject(R))});return e[x]=L,L}},add:(x,C)=>{t[x]!==void 0&&(t[x](C),delete t[x]),e[x]=Promise.resolve(C),n[x]=C},has:x=>x in n,get:x=>n[x],unload:x=>{delete e[x],delete n[x]}}})(),Mq=()=>(()=>{let e={},t=[];const n={getItem:r=>{const i=e[r];return i||null},setItem:(r,i)=>{t.push(r),e[r]=String(i)},key:r=>t[r],removeItem:r=>{t=t.filter(i=>i===r),delete e[r]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let E3;try{const e="__storage_test__";E3=window.localStorage,E3.setItem(e,e),E3.removeItem(e)}catch{E3=Mq()}var Bq=E3;const Pq={geom:{Rect:Nq},util:{Delay:Jd,Tools:gt,VK:Ht,URI:Bu,EventDispatcher:aP,Observable:iP,I18n:uc,LocalStorage:Bq,ImageUploader:Wx},dom:{EventUtils:dc,TreeWalker:qr,TextSeeker:fd,DOMUtils:Tr,ScriptLoader:Rc,RangeUtils:bf,Serializer:f4,StyleSheetLoader:ii,ControlSelection:K2,BookmarkManager:M0,Selection:nA,Event:dc.Event},html:{Styles:Db,Entities:Nc,Node:Fl,Schema:wt,DomParser:Qy,Writer:lC,Serializer:Yr},Env:Nt,AddOnManager:ci,Annotator:zy,Formatter:qx,UndoManager:D4,EditorCommands:YI,WindowManager:k4,NotificationManager:_4,EditorObservable:QI,Shortcuts:rF,Editor:QN,FocusManager:yz,EditorManager:k1,DOM:Tr.DOM,ScriptLoader:Rc.ScriptLoader,PluginManager:a1,ThemeManager:Cf,ModelManager:ab,IconManager:Ix,Resource:Dq,FakeClipboard:Eq,trim:gt.trim,isArray:gt.isArray,is:gt.is,toArray:gt.toArray,makeMap:gt.makeMap,each:gt.each,map:gt.map,grep:gt.grep,inArray:gt.inArray,extend:gt.extend,walk:gt.walk,resolve:gt.resolve,explode:gt.explode,_addCacheSuffix:gt._addCacheSuffix},uF=gt.extend(k1,Pq),Lq=e=>{try{Tt.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(uF),Lq(uF)})()}(mP)),mP.exports}Qq();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});var DF={},MF;function eG(){return MF||(MF=1,function(){const Tt=Object.getPrototypeOf,zo=(o,s,a)=>{var l;return!!a(o,s.prototype)||((l=o.constructor)===null||l===void 0?void 0:l.name)===s.name},No=o=>s=>(a=>{const l=typeof a;return a===null?"null":l==="object"&&Array.isArray(a)?"array":l==="object"&&zo(a,String,(d,f)=>f.isPrototypeOf(d))?"string":l})(s)===o,Yo=o=>s=>typeof s===o,Co=o=>s=>o===s,Dt=No("string"),Ro=No("object"),To=o=>((s,a)=>Ro(s)&&zo(s,a,(l,d)=>Tt(l)===d))(o,Object),Po=No("array"),lo=Co(null),Cn=Yo("boolean"),pr=Co(void 0),jr=o=>o==null,$t=o=>!jr(o),Kt=Yo("function"),Go=Yo("number"),Lo=(o,s)=>{if(Po(o)){for(let a=0,l=o.length;a<l;++a)if(!s(o[a]))return!1;return!0}return!1},qe=()=>{},Bt=o=>()=>o(),pt=(o,s)=>(...a)=>o(s.apply(null,a)),ue=o=>()=>o,Et=o=>o,ve=(o,s)=>o===s;function ht(o,...s){return(...a)=>{const l=s.concat(a);return o.apply(null,l)}}const gs=o=>s=>!o(s),Nr=o=>()=>{throw new Error(o)},Io=o=>o(),Ie=ue(!1),jt=ue(!0);class O{constructor(s,a){this.tag=s,this.value=a}static some(s){return new O(!0,s)}static none(){return O.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?O.some(s(this.value)):O.none()}bind(s){return this.tag?s(this.value):O.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:O.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return $t(s)?O.some(s):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const Eo=Array.prototype.slice,ao=Array.prototype.indexOf,Do=Array.prototype.push,Zr=(o,s)=>ao.call(o,s),Je=(o,s)=>Zr(o,s)>-1,fn=(o,s)=>{for(let a=0,l=o.length;a<l;a++)if(s(o[a],a))return!0;return!1},Bi=(o,s)=>{const a=[];for(let l=0;l<o;l++)a.push(s(l));return a},De=(o,s)=>{const a=[];for(let l=0;l<o.length;l+=s){const d=Eo.call(o,l,l+s);a.push(d)}return a},Se=(o,s)=>{const a=o.length,l=new Array(a);for(let d=0;d<a;d++){const f=o[d];l[d]=s(f,d)}return l},tt=(o,s)=>{for(let a=0,l=o.length;a<l;a++)s(o[a],a)},Uo=(o,s)=>{const a=[],l=[];for(let d=0,f=o.length;d<f;d++){const p=o[d];(s(p,d)?a:l).push(p)}return{pass:a,fail:l}},So=(o,s)=>{const a=[];for(let l=0,d=o.length;l<d;l++){const f=o[l];s(f,l)&&a.push(f)}return a},ho=(o,s,a)=>(((l,d)=>{for(let f=l.length-1;f>=0;f--)d(l[f],f)})(o,(l,d)=>{a=s(a,l,d)}),a),uo=(o,s,a)=>(tt(o,(l,d)=>{a=s(a,l,d)}),a),H=(o,s)=>((a,l,d)=>{for(let f=0,p=a.length;f<p;f++){const b=a[f];if(l(b,f))return O.some(b);if(d(b,f))break}return O.none()})(o,s,Ie),as=(o,s)=>{for(let a=0,l=o.length;a<l;a++)if(s(o[a],a))return O.some(a);return O.none()},sr=o=>{const s=[];for(let a=0,l=o.length;a<l;++a){if(!Po(o[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+o);Do.apply(s,o[a])}return s},Xo=(o,s)=>sr(Se(o,s)),mi=(o,s)=>{for(let a=0,l=o.length;a<l;++a)if(s(o[a],a)!==!0)return!1;return!0},ll=o=>{const s=Eo.call(o,0);return s.reverse(),s},on=(o,s)=>So(o,a=>!Je(s,a)),Sn=(o,s)=>{const a={};for(let l=0,d=o.length;l<d;l++){const f=o[l];a[String(f)]=s(f,l)}return a},Jo=o=>[o],Ne=(o,s)=>{const a=Eo.call(o,0);return a.sort(s),a},yt=(o,s)=>s>=0&&s<o.length?O.some(o[s]):O.none(),at=o=>yt(o,0),Ke=o=>yt(o,o.length-1),eo=Kt(Array.from)?Array.from:o=>Eo.call(o),fo=(o,s)=>{for(let a=0;a<o.length;a++){const l=s(o[a],a);if(l.isSome())return l}return O.none()},qo=Object.keys,Tn=Object.hasOwnProperty,Qn=(o,s)=>{const a=qo(o);for(let l=0,d=a.length;l<d;l++){const f=a[l];s(o[f],f)}},Rn=(o,s)=>Kn(o,(a,l)=>({k:l,v:s(a,l)})),Kn=(o,s)=>{const a={};return Qn(o,(l,d)=>{const f=s(l,d);a[f.k]=f.v}),a},Qr=o=>(s,a)=>{o[a]=s},Hs=(o,s,a,l)=>{Qn(o,(d,f)=>{(s(d,f)?a:l)(d,f)})},Fn=(o,s)=>{const a={};return Hs(o,s,Qr(a),qe),a},Hr=(o,s)=>{const a=[];return Qn(o,(l,d)=>{a.push(s(l,d))}),a},Qo=(o,s)=>{const a=qo(o);for(let l=0,d=a.length;l<d;l++){const f=a[l],p=o[f];if(s(p,f,o))return O.some(p)}return O.none()},Gs=o=>Hr(o,Et),dt=(o,s)=>_o(o,s)?O.from(o[s]):O.none(),_o=(o,s)=>Tn.call(o,s),Fo=(o,s)=>_o(o,s)&&o[s]!==void 0&&o[s]!==null,Ks=(o,s,a=ve)=>o.exists(l=>a(l,s)),pi=o=>{const s=[],a=l=>{s.push(l)};for(let l=0;l<o.length;l++)o[l].each(a);return s},nt=(o,s,a)=>o.isSome()&&s.isSome()?O.some(a(o.getOrDie(),s.getOrDie())):O.none(),qa=(o,s)=>o!=null?O.some(s(o)):O.none(),Ho=(o,s)=>o?O.some(s):O.none(),Pi=(o,s,a)=>s===""||o.length>=s.length&&o.substr(a,a+s.length)===s,Zn=(o,s)=>Cl(o,s)?((a,l)=>a.substring(l))(o,s.length):o,hs=(o,s,a=0,l)=>{const d=o.indexOf(s,a);return d!==-1&&(!!pr(l)||d+s.length<=l)},Cl=(o,s)=>Pi(o,s,0),Sl=(o,s)=>Pi(o,s,o.length-s.length),Yi=(Ld=/^\s+|\s+$/g,o=>o.replace(Ld,"")),za=o=>o.length>0,El=o=>!za(o),Hn=o=>o.style!==void 0&&Kt(o.style.getPropertyValue),po=o=>{if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},Ga=(o,s)=>{const a=document.createElement("div");if(a.innerHTML=o,!a.hasChildNodes()||a.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,o),new Error(l)}return po(a.childNodes[0])},Ts=(o,s)=>{const a=document.createElement(o);return po(a)},vc=(o,s)=>{const a=document.createTextNode(o);return po(a)},_t=po,Xi=typeof window<"u"?window:Function("return this;")(),Ka=(o,s)=>((a,l)=>{let d=l??Xi;for(let f=0;f<a.length&&d!=null;++f)d=d[a[f]];return d})(o.split("."),s),Rr=Object.getPrototypeOf,Od=o=>{const s=Ka("ownerDocument.defaultView",o);return Ro(o)&&((a=>((l,d)=>{const f=((p,b)=>Ka(p,b))(l,d);if(f==null)throw new Error(l+" not available on this browser");return f})("HTMLElement",a))(s).prototype.isPrototypeOf(o)||/^HTML\w*Element$/.test(Rr(o).constructor.name))},Pa=o=>o.dom.nodeName.toLowerCase(),gi=o=>s=>(a=>a.dom.nodeType)(s)===o,Li=o=>lr(o)&&Od(o.dom),lr=gi(1),ua=gi(3),Ya=gi(9),nu=gi(11),Wl=o=>s=>lr(s)&&Pa(s)===o,Ii=(o,s)=>{const a=o.dom;if(a.nodeType!==1)return!1;{const l=a;if(l.matches!==void 0)return l.matches(s);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(s);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(s);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Ad=o=>o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11||o.childElementCount===0,Nd=(o,s)=>{const a=s===void 0?document:s.dom;return Ad(a)?O.none():O.from(a.querySelector(o)).map(_t)},yn=(o,s)=>o.dom===s.dom,bs=(o,s)=>{const a=o.dom,l=s.dom;return a!==l&&a.contains(l)},fa=o=>_t(o.dom.ownerDocument),Rd=o=>Ya(o)?o:fa(o),Uu=o=>_t(Rd(o).dom.documentElement),Dd=o=>_t(Rd(o).dom.defaultView),es=o=>O.from(o.dom.parentNode).map(_t),hi=o=>O.from(o.dom.parentElement).map(_t),bi=o=>O.from(o.dom.offsetParent).map(_t),gr=o=>Se(o.dom.childNodes,_t),cr=(o,s)=>{const a=o.dom.childNodes;return O.from(a[s]).map(_t)},Fi=o=>cr(o,0),Xa=(o,s)=>({element:o,offset:s}),ma=(o,s)=>{const a=gr(o);return a.length>0&&s<a.length?Xa(a[s],0):Xa(o,s)},Ji=o=>nu(o)&&$t(o.dom.host),is=o=>_t(o.dom.getRootNode()),hr=o=>Ji(o)?o:_t(Rd(o).dom.body),yi=o=>{const s=is(o);return Ji(s)?O.some(s):O.none()},$s=o=>_t(o.dom.host),Wn=o=>{const s=ua(o)?o.dom.parentNode:o.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return yi(_t(s)).fold(()=>a.body.contains(s),(l=Wn,d=$s,f=>l(d(f))));var l,d},pa=()=>Ja(_t(document)),Ja=o=>{const s=o.dom.body;if(s==null)throw new Error("Body is not available yet");return _t(s)},ru=(o,s,a)=>{if(!(Dt(a)||Cn(a)||Go(a)))throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(s,a+"")},io=(o,s,a)=>{ru(o.dom,s,a)},ks=(o,s)=>{const a=o.dom;Qn(s,(l,d)=>{ru(a,d,l)})},ls=(o,s)=>{const a=o.dom.getAttribute(s);return a===null?void 0:a},cs=(o,s)=>O.from(ls(o,s)),su=(o,s)=>{const a=o.dom;return!(!a||!a.hasAttribute)&&a.hasAttribute(s)},$r=(o,s)=>{o.dom.removeAttribute(s)},ql=(o,s,a)=>{if(!Dt(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",o),new Error("CSS value must be a string: "+a);Hn(o)&&o.style.setProperty(s,a)},zl=(o,s)=>{Hn(o)&&o.style.removeProperty(s)},Zt=(o,s,a)=>{const l=o.dom;ql(l,s,a)},Qa=(o,s)=>{const a=o.dom;Qn(s,(l,d)=>{ql(a,d,l)})},xi=(o,s)=>{const a=o.dom;Qn(s,(l,d)=>{l.fold(()=>{zl(a,d)},f=>{ql(a,d,f)})})},Vs=(o,s)=>{const a=o.dom,l=window.getComputedStyle(a).getPropertyValue(s);return l!==""||Wn(o)?l:_c(a,s)},_c=(o,s)=>Hn(o)?o.style.getPropertyValue(s):"",_r=(o,s)=>{const a=o.dom,l=_c(a,s);return O.from(l).filter(d=>d.length>0)},Hi=o=>{const s={},a=o.dom;if(Hn(a))for(let l=0;l<a.style.length;l++){const d=a.style.item(l);s[d]=a.style[d]}return s},vi=(o,s,a)=>{const l=Ts(o);return Zt(l,s,a),_r(l,s).isSome()},ln=(o,s)=>{const a=o.dom;zl(a,s),Ks(cs(o,"style").map(Yi),"")&&$r(o,"style")},cl=o=>o.dom.offsetWidth,Tl=(o,s)=>{const a=d=>{const f=s(d);if(f<=0||f===null){const p=Vs(d,o);return parseFloat(p)||0}return f},l=(d,f)=>uo(f,(p,b)=>{const y=Vs(d,b),_=y===void 0?0:parseInt(y,10);return isNaN(_)?p:p+_},0);return{set:(d,f)=>{if(!Go(f)&&!f.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+f);const p=d.dom;Hn(p)&&(p.style[o]=f+"px")},get:a,getOuter:a,aggregate:l,max:(d,f,p)=>{const b=l(d,p);return f>b?f-b:0}}},Md=Tl("height",o=>{const s=o.dom;return Wn(o)?s.getBoundingClientRect().height:s.offsetHeight}),kr=o=>Md.get(o),Ta=o=>Md.getOuter(o),ju=(o,s)=>({left:o,top:s,translate:(a,l)=>ju(o+a,s+l)}),Dn=ju,Gl=(o,s)=>o!==void 0?o:s!==void 0?s:0,Wr=o=>{const s=o.dom.ownerDocument,a=s.body,l=s.defaultView,d=s.documentElement;if(a===o.dom)return Dn(a.offsetLeft,a.offsetTop);const f=Gl(l==null?void 0:l.pageYOffset,d.scrollTop),p=Gl(l==null?void 0:l.pageXOffset,d.scrollLeft),b=Gl(d.clientTop,a.clientTop),y=Gl(d.clientLeft,a.clientLeft);return Us(o).translate(p-y,f-b)},Us=o=>{const s=o.dom,a=s.ownerDocument.body;return a===s?Dn(a.offsetLeft,a.offsetTop):Wn(o)?(l=>{const d=l.getBoundingClientRect();return Dn(d.left,d.top)})(s):Dn(0,0)},q=Tl("width",o=>o.dom.offsetWidth),ae=o=>q.get(o),_e=o=>q.getOuter(o),He=o=>{let s,a=!1;return(...l)=>(a||(a=!0,s=o.apply(null,l)),s)},ct=()=>Ft(0,0),Ft=(o,s)=>({major:o,minor:s}),Nt={nu:Ft,detect:(o,s)=>{const a=String(s).toLowerCase();return o.length===0?ct():((l,d)=>{const f=((b,y)=>{for(let _=0;_<b.length;_++){const E=b[_];if(E.test(y))return E}})(l,d);if(!f)return{major:0,minor:0};const p=b=>Number(d.replace(f,"$"+b));return Ft(p(1),p(2))})(o,a)},unknown:ct},wr=(o,s)=>{const a=String(s).toLowerCase();return H(o,l=>l.search(a))},mn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,br=o=>s=>hs(s,o),dr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:o=>hs(o,"edge/")&&hs(o,"chrome")&&hs(o,"safari")&&hs(o,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mn],search:o=>hs(o,"chrome")&&!hs(o,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:o=>hs(o,"msie")||hs(o,"trident")},{name:"Opera",versionRegexes:[mn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:br("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:br("firefox")},{name:"Safari",versionRegexes:[mn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:o=>(hs(o,"safari")||hs(o,"mobile/"))&&hs(o,"applewebkit")}],Kc=[{name:"Windows",search:br("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:o=>hs(o,"iphone")||hs(o,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:br("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:br("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:br("linux"),versionRegexes:[]},{name:"Solaris",search:br("sunos"),versionRegexes:[]},{name:"FreeBSD",search:br("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:br("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ei={browsers:ue(dr),oses:ue(Kc)},au="Edge",Vg="Chromium",Df="Opera",Ug="Firefox",gt="Safari",Bd=o=>{const s=o.current,a=o.version,l=d=>()=>s===d;return{current:s,version:a,isEdge:l(au),isChromium:l(Vg),isIE:l("IE"),isOpera:l(Df),isFirefox:l(Ug),isSafari:l(gt)}},Yc=()=>Bd({current:void 0,version:Nt.unknown()}),Mf=Bd,ga="Windows",Pd="Android",iu="Linux",jg="macOS",Gp="Solaris",Zg="FreeBSD",yb="ChromeOS",Wg=o=>{const s=o.current,a=o.version,l=d=>()=>s===d;return{current:s,version:a,isWindows:l(ga),isiOS:l("iOS"),isAndroid:l(Pd),isMacOS:l(jg),isLinux:l(iu),isSolaris:l(Gp),isFreeBSD:l(Zg),isChromeOS:l(yb)}},qg=()=>Wg({current:void 0,version:Nt.unknown()}),Bf=Wg,kc=o=>window.matchMedia(o).matches;var Ld;let Zu=He(()=>((o,s,a)=>{const l=ei.browsers(),d=ei.oses(),f=s.bind(y=>((_,E)=>fo(E.brands,w=>{const A=w.brand.toLowerCase();return H(_,P=>{var I;return A===((I=P.brand)===null||I===void 0?void 0:I.toLowerCase())}).map(P=>({current:P.name,version:Nt.nu(parseInt(w.version,10),0)}))}))(l,y)).orThunk(()=>((y,_)=>wr(y,_).map(E=>{const w=Nt.detect(E.versionRegexes,_);return{current:E.name,version:w}}))(l,o)).fold(Yc,Mf),p=((y,_)=>wr(y,_).map(E=>{const w=Nt.detect(E.versionRegexes,_);return{current:E.name,version:w}}))(d,o).fold(qg,Bf),b=((y,_,E,w)=>{const A=y.isiOS()&&/ipad/i.test(E)===!0,P=y.isiOS()&&!A,I=y.isiOS()||y.isAndroid(),Y=I||w("(pointer:coarse)"),G=A||!P&&I&&w("(min-device-width:768px)"),J=P||I&&!G,j=_.isSafari()&&y.isiOS()&&/safari/i.test(E)===!1,Z=!J&&!G&&!j;return{isiPad:ue(A),isiPhone:ue(P),isTablet:ue(G),isPhone:ue(J),isTouch:ue(Y),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:ue(j),isDesktop:ue(Z)}})(p,f,o,a);return{browser:f,os:p,deviceType:b}})(window.navigator.userAgent,O.from(window.navigator.userAgentData),kc));const Ys=()=>Zu(),Xc=o=>{const s=_t((f=>{if($t(f.target)){const p=_t(f.target);if(lr(p)&&(b=>$t(b.dom.shadowRoot))(p)&&f.composed&&f.composedPath){const b=f.composedPath();if(b)return at(b)}}return O.from(f.target)})(o).getOr(o.target)),a=()=>o.stopPropagation(),l=()=>o.preventDefault(),d=pt(l,a);return((f,p,b,y,_,E,w)=>({target:f,x:p,y:b,stop:y,prevent:_,kill:E,raw:w}))(s,o.clientX,o.clientY,a,l,d,o)},Kl=(o,s,a,l,d)=>{const f=((p,b)=>y=>{p(y)&&b(Xc(y))})(a,l);return o.dom.addEventListener(s,f,d),{unbind:ht(pn,o,s,f,d)}},pn=(o,s,a,l)=>{o.dom.removeEventListener(s,a,l)},La=(o,s)=>{es(o).each(a=>{a.dom.insertBefore(s.dom,o.dom)})},lu=(o,s)=>{(l=>O.from(l.dom.nextSibling).map(_t))(o).fold(()=>{es(o).each(l=>{ha(l,s)})},l=>{La(l,s)})},Tm=(o,s)=>{Fi(o).fold(()=>{ha(o,s)},a=>{o.dom.insertBefore(s.dom,a.dom)})},ha=(o,s)=>{o.dom.appendChild(s.dom)},ti=(o,s)=>{tt(s,a=>{ha(o,a)})},js=o=>{o.dom.textContent="",tt(gr(o),s=>{Ol(s)})},Ol=o=>{const s=o.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},ys=o=>{const s=o!==void 0?o.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,l=s.body.scrollTop||s.documentElement.scrollTop;return Dn(a,l)},sa=(o,s,a)=>{const l=(a!==void 0?a.dom:document).defaultView;l&&l.scrollTo(o,s)},_i=(o,s,a,l)=>({x:o,y:s,width:a,height:l,right:o+a,bottom:s+l}),On=o=>{const s=o===void 0?window:o,a=s.document,l=ys(_t(a));return(d=>{const f=d===void 0?window:d;return Ys().browser.isFirefox()?O.none():O.from(f.visualViewport)})(s).fold(()=>{const d=s.document.documentElement,f=d.clientWidth,p=d.clientHeight;return _i(l.left,l.top,f,p)},d=>_i(Math.max(d.pageLeft,l.left),Math.max(d.pageTop,l.top),d.width,d.height))},dl=()=>_t(document),ba=(o,s)=>o.view(s).fold(ue([]),a=>{const l=o.owner(a),d=ba(o,l);return[a].concat(d)});var Os=Object.freeze({__proto__:null,view:o=>{var s;return(o.dom===document?O.none():O.from((s=o.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(_t)},owner:o=>fa(o)});const Qi=o=>{const s=dl(),a=ys(s);return((d,f)=>{const p=f.owner(d),b=ba(f,p);return O.some(b)})(o,Os).fold(ht(Wr,o),d=>{const f=Us(o),p=ho(d,(b,y)=>{const _=Us(y);return{left:b.left+_.left,top:b.top+_.top}},{left:0,top:0});return Dn(p.left+f.left+a.left,p.top+f.top+a.top)})},En=(o,s,a,l)=>({x:o,y:s,width:a,height:l,right:o+a,bottom:s+l}),As=o=>{const s=Wr(o),a=_e(o),l=Ta(o);return En(s.left,s.top,a,l)},Al=o=>{const s=Qi(o),a=_e(o),l=Ta(o);return En(s.left,s.top,a,l)},Ns=(o,s)=>{const a=Math.max(o.x,s.x),l=Math.max(o.y,s.y),d=Math.min(o.right,s.right),f=Math.min(o.bottom,s.bottom);return En(a,l,d-a,f-l)},ws=()=>On(window),Mt=o=>{let s=o;return{get:()=>s,set:a=>{s=a}}},Nl=o=>{const s=Mt(O.none()),a=()=>s.get().each(o);return{clear:()=>{a(),s.set(O.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:l=>{a(),s.set(O.some(l))}}},Jc=()=>Nl(o=>o.unbind()),dn=()=>{const o=Nl(qe);return{...o,on:s=>o.get().each(s)}};var Qc=(o,s,a,l,d)=>o(a,l)?O.some(a):Kt(d)&&d(a)?O.none():s(a,l,d);const cu=(o,s,a)=>{let l=o.dom;const d=Kt(a)?a:Ie;for(;l.parentNode;){l=l.parentNode;const f=_t(l);if(s(f))return O.some(f);if(d(f))break}return O.none()},Yl=(o,s,a)=>Qc((l,d)=>d(l),cu,o,s,a),Wu=(o,s)=>H(o.dom.childNodes,a=>s(_t(a))).map(_t),Ia=(o,s,a)=>cu(o,l=>Ii(l,s),a),Om=(o,s)=>(a=>{const l=a.dom;return l.parentNode?Wu(_t(l.parentNode),d=>!yn(a,d)&&Ii(d,s)):O.none()})(o),Id=(o,s)=>Wu(o,a=>Ii(a,s)),$n=(o,s)=>Nd(s,o),$i=(o,s,a)=>Qc((l,d)=>Ii(l,d),Ia,o,s,a);var Fd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const wc=o=>{const s=f=>f(o),a=ue(o),l=()=>d,d={tag:!0,inner:o,fold:(f,p)=>p(o),isValue:jt,isError:Ie,map:f=>re.value(f(o)),mapError:l,bind:s,exists:s,forall:s,getOr:a,or:l,getOrThunk:a,orThunk:l,getOrDie:a,each:f=>{f(o)},toOptional:()=>O.some(o)};return d},qu=o=>{const s=()=>a,a={tag:!1,inner:o,fold:(l,d)=>l(o),isValue:Ie,isError:jt,map:s,mapError:l=>re.error(l(o)),bind:s,exists:Ie,forall:jt,getOr:Et,or:Et,getOrThunk:Io,orThunk:Io,getOrDie:Nr(String(o)),each:qe,toOptional:O.none};return a},re={value:wc,error:qu,fromOption:(o,s)=>o.fold(()=>qu(s),wc)};var ya;(function(o){o[o.Error=0]="Error",o[o.Value=1]="Value"})(ya||(ya={}));const Fa=(o,s,a)=>o.stype===ya.Error?s(o.serror):a(o.svalue),Am=o=>({stype:ya.Value,svalue:o}),Nm=o=>({stype:ya.Error,serror:o}),ki=Am,en=Nm,Ha=Fa,el=(o,s,a,l)=>({tag:"field",key:o,newKey:s,presence:a,prop:l}),Rl=(o,s,a)=>{switch(o.tag){case"field":return s(o.key,o.newKey,o.presence,o.prop);case"custom":return a(o.newKey,o.instantiator)}},du=o=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let l=0;l<s.length;l++){const d=s[l];for(const f in d)_o(d,f)&&(a[f]=o(a[f],d[f]))}return a},Cr=du((o,s)=>To(o)&&To(s)?Cr(o,s):s),oi=du((o,s)=>s),Xl=o=>({tag:"defaultedThunk",process:o}),Jl=o=>Xl(ue(o)),ed=o=>({tag:"mergeWithThunk",process:o}),ul=o=>{const s=(l=>{const d=[],f=[];return tt(l,p=>{Fa(p,b=>f.push(b),b=>d.push(b))}),{values:d,errors:f}})(o);return s.errors.length>0?(a=s.errors,pt(en,sr)(a)):ki(s.values);var a},Hd=o=>Ro(o)&&qo(o).length>100?" removed due to size":JSON.stringify(o,null,2),uu=(o,s)=>en([{path:o,getErrorInfo:s}]),Ql=o=>({extract:(s,a)=>((l,d)=>l.stype===ya.Error?d(l.serror):l)(o(a),l=>((d,f)=>uu(d,ue(f)))(s,l)),toString:ue("val")}),xa=Ql(ki),$d=(o,s,a,l)=>l(dt(o,s).getOrThunk(()=>a(o))),Rm=(o,s,a,l,d)=>{const f=b=>d.extract(s.concat([l]),b),p=b=>b.fold(()=>ki(O.none()),y=>((_,E)=>_.stype===ya.Value?{stype:ya.Value,svalue:E(_.svalue)}:_)(d.extract(s.concat([l]),y),O.some));switch(o.tag){case"required":return((b,y,_,E)=>dt(y,_).fold(()=>((w,A,P)=>uu(w,()=>'Could not find valid *required* value for "'+A+'" in '+Hd(P)))(b,_,y),E))(s,a,l,f);case"defaultedThunk":return $d(a,l,o.process,f);case"option":return((b,y,_)=>_(dt(b,y)))(a,l,p);case"defaultedOptionThunk":return((b,y,_,E)=>E(dt(b,y).map(w=>w===!0?_(b):w)))(a,l,o.process,p);case"mergeWithThunk":return $d(a,l,ue({}),b=>{const y=Cr(o.process(a),b);return f(y)})}},fu=o=>({extract:(s,a)=>o().extract(s,a),toString:()=>o().toString()}),mu=o=>qo(Fn(o,$t)),wi=o=>{const s=oo(o),a=ho(o,(l,d)=>Rl(d,f=>Cr(l,{[f]:!0}),ue(l)),{});return{extract:(l,d)=>{const f=Cn(d)?[]:mu(d),p=So(f,b=>!Fo(a,b));return p.length===0?s.extract(l,d):((b,y)=>uu(b,()=>"There are unsupported fields: ["+y.join(", ")+"] specified"))(l,p)},toString:s.toString}},oo=o=>({extract:(s,a)=>((l,d,f)=>{const p={},b=[];for(const y of f)Rl(y,(_,E,w,A)=>{const P=Rm(w,l,d,_,A);Ha(P,I=>{b.push(...I)},I=>{p[E]=I})},(_,E)=>{p[_]=E(d)});return b.length>0?en(b):ki(p)})(s,a,o),toString:()=>`obj{
`+Se(o,s=>Rl(s,(a,l,d,f)=>a+" -> "+f.toString(),(a,l)=>"state("+a+")")).join(`
`)+"}"}),Ci=o=>({extract:(s,a)=>{const l=Se(a,(d,f)=>o.extract(s.concat(["["+f+"]"]),d));return ul(l)},toString:()=>"array("+o.toString()+")"}),td=(o,s)=>{const a=s!==void 0?s:Et;return{extract:(l,d)=>{const f=[];for(const p of o){const b=p.extract(l,d);if(b.stype===ya.Value)return{stype:ya.Value,svalue:a(b.svalue)};f.push(b)}return ul(f)},toString:()=>"oneOf("+Se(o,l=>l.toString()).join(", ")+")"}},pu=(o,s)=>({extract:(a,l)=>{const d=qo(l),f=((p,b)=>Ci(Ql(o)).extract(p,b))(a,d);return((p,b)=>p.stype===ya.Value?b(p.svalue):p)(f,p=>{const b=Se(p,y=>el(y,y,{tag:"required",process:{}},s));return oo(b).extract(a,l)})},toString:()=>"setOf("+s.toString()+")"}),gu=pt(Ci,oo),Vi=ue(xa),od=(o,s)=>Ql(a=>{const l=typeof a;return o(a)?ki(a):en(`Expected type: ${s} but got: ${l}`)}),hu=od(Go,"number"),Dr=od(Dt,"string"),bu=od(Cn,"boolean"),fl=od(Kt,"function"),Cc=o=>{if(Object(o)!==o)return!0;switch({}.toString.call(o).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(o).every(s=>Cc(o[s]));default:return!1}},Pf=Ql(o=>Cc(o)?ki(o):en("Expected value to be acceptable for sending via postMessage")),ec=(o,s)=>({extract:(a,l)=>dt(l,o).fold(()=>((d,f)=>uu(d,()=>'Choice schema did not contain choice key: "'+f+'"'))(a,o),d=>((f,p,b,y)=>dt(b,y).fold(()=>((_,E,w)=>uu(_,()=>'The chosen schema: "'+w+'" did not exist in branches: '+Hd(E)))(f,b,y),_=>_.extract(f.concat(["branch: "+y]),p)))(a,l,s,d)),toString:()=>"chooseOn("+o+"). Possible values: "+qo(s)}),tc=o=>Ql(s=>o(s).fold(en,ki)),nd=(o,s)=>pu(a=>o(a).fold(Nm,Am),s),er=(o,s,a)=>{return l=((d,f,p)=>((b,y)=>b.stype===ya.Error?{stype:ya.Error,serror:y(b.serror)}:b)(f.extract([d],p),b=>({input:p,errors:b})))(o,s,a),Fa(l,re.error,re.value);var l},aa=o=>o.fold(s=>{throw new Error(ni(s))},Et),va=(o,s,a)=>aa(er(o,s,a)),ni=o=>`Errors: 
`+(s=>{const a=s.length>10?s.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):s;return Se(a,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(o.errors).join(`
`)+`

Input object: `+Hd(o.input),$a=(o,s)=>ec(o,Rn(s,oo)),Sc=(o,s)=>((a,l)=>{const d=He(l);return{extract:(f,p)=>d().extract(f,p),toString:()=>d().toString()}})(0,s),Cs=el,ia=(o,s)=>({tag:"custom",newKey:o,instantiator:s}),Lf=o=>tc(s=>Je(o,s)?re.value(s):re.error(`Unsupported value: "${s}", choose one of "${o.join(", ")}".`)),Ge=o=>Cs(o,o,{tag:"required",process:{}},Vi()),Xs=(o,s)=>Cs(o,o,{tag:"required",process:{}},s),Si=o=>Xs(o,hu),us=o=>Xs(o,Dr),Zs=(o,s)=>Cs(o,o,{tag:"required",process:{}},Lf(s)),Ei=o=>Xs(o,fl),ml=(o,s)=>Cs(o,o,{tag:"required",process:{}},oo(s)),If=(o,s)=>Cs(o,o,{tag:"required",process:{}},gu(s)),Vr=(o,s)=>Cs(o,o,{tag:"required",process:{}},Ci(s)),tn=o=>Cs(o,o,{tag:"option",process:{}},Vi()),Ui=(o,s)=>Cs(o,o,{tag:"option",process:{}},s),Mr=o=>Ui(o,hu),Ur=o=>Ui(o,Dr),Dm=(o,s)=>Ui(o,Lf(s)),Oa=o=>Ui(o,fl),oc=(o,s)=>Ui(o,Ci(s)),un=(o,s)=>Ui(o,oo(s)),Ee=(o,s)=>Cs(o,o,Jl(s),Vi()),_a=(o,s,a)=>Cs(o,o,Jl(s),a),Aa=(o,s)=>_a(o,s,hu),tr=(o,s)=>_a(o,s,Dr),ka=(o,s,a)=>_a(o,s,Lf(a)),Js=(o,s)=>_a(o,s,bu),Yn=(o,s)=>_a(o,s,fl),nc=(o,s,a)=>_a(o,s,Ci(a)),Ff=(o,s,a)=>_a(o,s,oo(a)),S=o=>{if(!Po(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");const s=[],a={};return tt(o,(l,d)=>{const f=qo(l);if(f.length!==1)throw new Error("one and only one name per case");const p=f[0],b=l[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Po(b))throw new Error("case arguments must be an array");s.push(p),a[p]=(...y)=>{const _=y.length;if(_!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+_);return{fold:(...E)=>{if(E.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+E.length);return E[d].apply(null,y)},match:E=>{const w=qo(E);if(s.length!==w.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+w.join(","));if(!mi(s,A=>Je(w,A)))throw new Error("Not all branches were specified when using match. Specified: "+w.join(", ")+`
Required: `+s.join(", "));return E[p].apply(null,y)},log:E=>{console.log(E,{constructors:s,constructor:p,params:y})}}}}),a};S([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const M=(o,s)=>((a,l)=>({[a]:l}))(o,s),U=o=>(s=>{const a={};return tt(s,l=>{a[l.key]=l.value}),a})(o),le=o=>Kt(o)?o:Ie,pe=(o,s,a)=>{let l=o.dom;const d=le(a);for(;l.parentNode;){l=l.parentNode;const f=_t(l),p=s(f);if(p.isSome())return p;if(d(f))break}return O.none()},ot=(o,s,a)=>{const l=s(o),d=le(a);return l.orThunk(()=>d(o)?O.none():pe(o,s,d))},no=(o,s)=>yn(o.element,s.event.target),$o={can:jt,abort:Ie,run:qe},vo=o=>{if(!Fo(o,"can")&&!Fo(o,"abort")&&!Fo(o,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(o,null,2)+" does not have can, abort, or run!");return{...$o,...o}},Rt=ue,Ln=Rt("touchstart"),ts=Rt("touchmove"),ji=Rt("touchend"),ri=Rt("touchcancel"),Na=Rt("mousedown"),Mm=Rt("mousemove"),Vd=Rt("mouseout"),Rs=Rt("mouseup"),zi=Rt("mouseover"),pl=Rt("focusin"),Kp=Rt("focusout"),qr=Rt("keydown"),Bm=Rt("keyup"),os=Rt("input"),Ec=Rt("change"),zc=Rt("click"),xb=Rt("transitioncancel"),Tc=Rt("transitionend"),Yp=Rt("transitionstart"),vb=Rt("selectstart"),fs=o=>ue("alloy."+o),z1={tap:fs("tap")},Oc=fs("focus"),gl=fs("blur.post"),Hf=fs("paste.post"),Ot=fs("receive"),Qs=fs("execute"),Pm=fs("focus.item"),rd=z1.tap,Dl=fs("longpress"),Ud=fs("sandbox.close"),$f=fs("typeahead.cancel"),rc=fs("system.init"),_b=fs("system.touchmove"),sd=fs("system.touchend"),Lm=fs("system.scroll"),yu=fs("system.resize"),it=fs("system.attached"),ad=fs("system.detached"),Gu=fs("system.dismissRequested"),sc=fs("system.repositionRequested"),id=fs("focusmanager.shifted"),Ku=fs("slotcontainer.visibility"),ns=fs("system.external.element.scroll"),jd=fs("change.tab"),Ti=fs("dismiss.tab"),yr=fs("highlight"),Im=fs("dehighlight"),Vo=(o,s)=>{Vf(o,o.element,s,{})},Vt=(o,s,a)=>{Vf(o,o.element,s,a)},Zi=o=>{Vo(o,Qs())},Yu=(o,s,a)=>{Vf(o,s,a,{})},Vf=(o,s,a,l)=>{const d={target:s,...l};o.getSystem().triggerEvent(a,s,d)},Gg=(o,s,a,l)=>{o.getSystem().triggerEvent(a,s,l.event)},ur=o=>U(o),kb=(o,s)=>({key:o,value:vo({abort:s})}),T1=o=>({key:o,value:vo({run:(s,a)=>{a.event.prevent()}})}),je=(o,s)=>({key:o,value:vo({run:s})}),Xu=(o,s,a)=>({key:o,value:vo({run:(l,d)=>{s.apply(void 0,[l,d].concat(a))}})}),Fm=o=>s=>({key:o,value:vo({run:(a,l)=>{no(a,l)&&s(a,l)}})}),Ju=(o,s,a)=>((l,d)=>je(l,(f,p)=>{f.getSystem().getByUid(d).each(b=>{Gg(b,b.element,l,p)})}))(o,s.partUids[a]),Qu=(o,s)=>je(o,(a,l)=>{const d=l.event,f=a.getSystem().getByDom(d.target).getOrThunk(()=>ot(d.target,p=>a.getSystem().getByDom(p).toOptional(),Ie).getOr(a));s(a,f,l)}),ac=o=>je(o,(s,a)=>{a.cut()}),Ml=o=>je(o,(s,a)=>{a.stop()}),Ss=(o,s)=>Fm(o)(s),Xn=Fm(it()),Sr=Fm(ad()),ef=Fm(rc()),Zd=(Qg=Qs(),o=>je(Qg,o)),ic=o=>Se(o,s=>Sl(s,"/*")?s.substring(0,s.length-2):s),Uf=(o,s)=>{const a=o.toString(),l=a.indexOf(")")+1,d=a.indexOf("("),f=a.substring(d+1,l-1).split(/,\s*/);return o.toFunctionAnnotation=()=>({name:s,parameters:ic(f)}),o},k=o=>({classes:pr(o.classes)?[]:o.classes,attributes:pr(o.attributes)?{}:o.attributes,styles:pr(o.styles)?{}:o.styles}),T=(o,s,a)=>ef((l,d)=>{a(l,o,s)}),$=o=>({key:o,value:void 0}),Q=(o,s,a,l,d,f,p)=>{const b=E=>Fo(E,a)?E[a]():O.none(),y=Rn(d,(E,w)=>((A,P,I)=>((Y,G,J)=>{const j=J.toString(),Z=j.indexOf(")")+1,te=j.indexOf("("),oe=j.substring(te+1,Z-1).split(/,\s*/);return Y.toFunctionAnnotation=()=>({name:G,parameters:ic(oe.slice(0,1).concat(oe.slice(3)))}),Y})((Y,...G)=>{const J=[Y].concat(G);return Y.config({name:ue(A)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+A+". Using API: "+I)},j=>{const Z=Array.prototype.slice.call(J,1);return P.apply(void 0,[Y,j.config,j.state].concat(Z))})},I,P))(a,E,w)),_={...Rn(f,(E,w)=>Uf(E,w)),...y,revoke:ht($,a),config:E=>{const w=va(a+"-config",o,E);return{key:a,value:{config:w,me:_,configAsRaw:He(()=>va(a+"-config",o,E)),initialConfig:E,state:p}}},schema:ue(s),exhibit:(E,w)=>nt(b(E),dt(l,"exhibit"),(A,P)=>P(w,A.config,A.state)).getOrThunk(()=>k({})),name:ue(a),handlers:E=>b(E).map(w=>dt(l,"events").getOr(()=>({}))(w.config,w.state)).getOr({})};return _},be={init:()=>Le({readState:ue("No State required")})},Le=o=>o,ye=o=>U(o),Pt=wi([Ge("fields"),Ge("name"),Ee("active",{}),Ee("apis",{}),Ee("state",be),Ee("extra",{})]),qt=o=>{const s=va("Creating behaviour: "+o.name,Pt,o);return((a,l,d,f,p,b)=>{const y=wi(a),_=un(l,[(E=a,Ui("config",wi(E)))]);var E;return Q(y,_,l,d,f,p,b)})(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Mo=wi([Ge("branchKey"),Ge("branches"),Ge("name"),Ee("active",{}),Ee("apis",{}),Ee("state",be),Ee("extra",{})]),or=o=>{const s=va("Creating behaviour: "+o.name,Mo,o);return((a,l,d,f,p,b)=>{const y=a,_=un(l,[Ui("config",a)]);return Q(y,_,l,d,f,p,b)})($a(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},nr=ue(void 0),Br=(o,s)=>{const a=ls(o,s);return a===void 0||a===""?[]:a.split(" ")},Va=o=>o.dom.classList!==void 0,si=o=>Br(o,"class"),lc=(o,s)=>((a,l,d)=>{const f=Br(a,l).concat([d]);return io(a,l,f.join(" ")),!0})(o,"class",s),ld=(o,s)=>((a,l,d)=>{const f=So(Br(a,l),p=>p!==d);return f.length>0?io(a,l,f.join(" ")):$r(a,l),!1})(o,"class",s),Er=(o,s)=>{Va(o)?o.dom.classList.add(s):lc(o,s)},Es=o=>{(Va(o)?o.dom.classList:si(o)).length===0&&$r(o,"class")},ar=(o,s)=>{Va(o)?o.dom.classList.remove(s):ld(o,s),Es(o)},ir=(o,s)=>Va(o)&&o.dom.classList.contains(s),hl=(o,s)=>{tt(s,a=>{Er(o,a)})},ai=(o,s)=>{tt(s,a=>{ar(o,a)})},jf=o=>Va(o)?(s=>{const a=s.dom.classList,l=new Array(a.length);for(let d=0;d<a.length;d++){const f=a.item(d);f!==null&&(l[d]=f)}return l})(o):si(o),bl=(o,s,a,l,d)=>{const f=p=>p+"px";return{position:o,left:s.map(f),top:a.map(f),right:l.map(f),bottom:d.map(f)}},Kg=(o,s)=>{xi(o,(a=>({...a,position:O.some(a.position)}))(s))},gn=o=>(Ks(_r(o,"position"),"fixed")?O.none():bi(o)).orThunk(()=>{const s=Ts("span");return es(o).bind(a=>{ha(a,s);const l=bi(s);return Ol(s),l})}),rs=o=>gn(o).map(Wr).getOrThunk(()=>Dn(0,0)),ii=(o,s)=>{const a=o.element;Er(a,s.transitionClass),ar(a,s.fadeOutClass),Er(a,s.fadeInClass),s.onShow(o)},yl=(o,s)=>{const a=o.element;Er(a,s.transitionClass),ar(a,s.fadeInClass),Er(a,s.fadeOutClass),s.onHide(o)},Yg=(o,s)=>o.y>=s.y,wb=(o,s)=>o.bottom<=s.bottom,Ac=(o,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-o.y}),Zf=(o,s,a)=>({location:"bottom",leftX:s,bottomY:o.bottom-a.bounds.bottom}),Xg=o=>o.box.x-o.win.x,Cb=(o,s,a)=>a.getInitialPos().map(l=>{const d=((f,p)=>{const b=p.optScrollEnv.fold(ue(f.bounds.y),y=>y.scrollElmTop+(f.bounds.y-y.currentScrollTop));return Dn(f.bounds.x,b)})(l,s);return{box:En(d.left,d.top,ae(o),kr(o)),location:l.location}}),O1=(o,s,a,l,d)=>{const f=((b,y)=>{const _=y.optScrollEnv.fold(ue(b.y),E=>b.y+E.currentScrollTop-E.scrollElmTop);return Dn(b.x,_)})(s,a),p=En(f.left,f.top,s.width,s.height);l.setInitialPos({style:Hi(o),position:Vs(o,"position")||"static",bounds:p,location:d.location})},A1=(o,s,a)=>a.getInitialPos().bind(l=>{var d;switch(a.clearInitialPos(),l.position){case"static":return O.some({morph:"static"});case"absolute":const f=gn(o).getOr(pa()),p=As(f),b=(d=f.dom.scrollTop)!==null&&d!==void 0?d:0;return O.some({morph:"absolute",positionCss:bl("absolute",dt(l.style,"left").map(y=>s.x-p.x),dt(l.style,"top").map(y=>s.y-p.y+b),dt(l.style,"right").map(y=>p.right-s.right),dt(l.style,"bottom").map(y=>p.bottom-s.bottom))});default:return O.none()}}),Xp=o=>{switch(o.location){case"top":return O.some({morph:"fixed",positionCss:bl("fixed",O.some(o.leftX),O.some(o.topY),O.none(),O.none())});case"bottom":return O.some({morph:"fixed",positionCss:bl("fixed",O.some(o.leftX),O.none(),O.none(),O.some(o.bottomY))});default:return O.none()}},mv=(o,s,a)=>{const l=o.element;return Ks(_r(l,"position"),"fixed")?((d,f,p)=>((b,y,_)=>Cb(b,y,_).filter(({box:E})=>((w,A,P)=>mi(w,I=>{switch(I){case"bottom":return wb(A,P.bounds);case"top":return Yg(A,P.bounds)}}))(_.getModes(),E,y)).bind(({box:E})=>A1(b,E,_)))(d,f,p).orThunk(()=>f.optScrollEnv.bind(b=>Cb(d,f,p)).bind(({box:b,location:y})=>{const _=ws(),E=Xg({win:_,box:b}),w=y==="top"?Ac(_,E,f):Zf(_,E,f);return Xp(w)})))(l,s,a):((d,f,p)=>{const b=As(d),y=ws(),_=((E,w,A)=>{const P=w.win,I=w.box,Y=Xg(w);return fo(E,G=>{switch(G){case"bottom":return wb(I,A.bounds)?O.none():O.some(Zf(P,Y,A));case"top":return Yg(I,A.bounds)?O.none():O.some(Ac(P,Y,A));default:return O.none()}}).getOr({location:"no-dock"})})(p.getModes(),{win:y,box:b},f);return _.location==="top"||_.location==="bottom"?(O1(d,b,f,p,_),Xp(_)):O.none()})(l,s,a)},Jp=(o,s,a)=>{a.setDocked(!1),tt(["left","right","top","bottom","position"],l=>ln(o.element,l)),s.onUndocked(o)},Hm=(o,s,a,l)=>{const d=l.position==="fixed";a.setDocked(d),Kg(o.element,l),(d?s.onDocked:s.onUndocked)(o)},Sb=(o,s,a,l,d=!1)=>{s.contextual.each(f=>{f.lazyContext(o).each(p=>{const b=((y,_)=>y.y<_.bottom&&y.bottom>_.y)(p,l.bounds);b!==a.isVisible()&&(a.setVisible(b),d&&!b?(hl(o.element,[f.fadeOutClass]),f.onHide(o)):(b?ii:yl)(o,f))})})},N1=(o,s,a,l,d)=>{Sb(o,s,a,l,!0),Hm(o,s,a,d.positionCss)},Jg=(o,s,a)=>{o.getSystem().isConnected()&&((l,d,f)=>{const p=d.lazyViewport(l);Sb(l,d,f,p),mv(l,p,f).each(b=>{((y,_,E,w,A)=>{switch(A.morph){case"static":return Jp(y,_,E);case"absolute":return Hm(y,_,E,A.positionCss);case"fixed":N1(y,_,E,w,A)}})(l,d,f,p,b)})})(o,s,a)},tf=(o,s,a)=>{a.isDocked()&&((l,d,f)=>{const p=l.element;f.setDocked(!1);const b=d.lazyViewport(l);((y,_,E)=>{const w=y.element;return Cb(w,_,E).bind(({box:A})=>A1(w,A,E))})(l,b,f).each(y=>{switch(y.morph){case"static":Jp(l,d,f);break;case"absolute":Hm(l,d,f,y.positionCss)}}),f.setVisible(!0),d.contextual.each(y=>{ai(p,[y.fadeInClass,y.fadeOutClass,y.transitionClass]),y.onShow(l)}),Jg(l,d,f)})(o,s,a)},Wf=o=>(s,a,l)=>{const d=a.lazyViewport(s);((f,p,b,y)=>{const _=As(f),E=ws(),w=y(E,Xg({win:E,box:_}),p);return w.location==="bottom"||w.location==="top"?(((A,P,I,Y,G)=>{Y.getInitialPos().fold(()=>O1(A,P,I,Y,G),()=>qe)})(f,_,p,b,w),Xp(w)):O.none()})(s.element,d,l,o).each(f=>{N1(s,a,l,d,f)})},Qp=Wf(Ac),Eb=Wf(Zf);var Qg,R1=Object.freeze({__proto__:null,refresh:Jg,reset:tf,isDocked:(o,s,a)=>a.isDocked(),getModes:(o,s,a)=>a.getModes(),setModes:(o,s,a,l)=>a.setModes(l),forceDockToTop:Qp,forceDockToBottom:Eb}),eg=Object.freeze({__proto__:null,events:(o,s)=>ur([Ss(Tc(),(a,l)=>{o.contextual.each(d=>{ir(a.element,d.transitionClass)&&(ai(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),l.stop()})}),je(Lm(),(a,l)=>{Jg(a,o,s)}),je(ns(),(a,l)=>{Jg(a,o,s)}),je(yu(),(a,l)=>{tf(a,o,s)})])});const eh=o=>o.dom.innerHTML,of=(o,s)=>{const a=fa(o).dom,l=_t(a.createDocumentFragment()),d=((f,p)=>{const b=(p||document).createElement("div");return b.innerHTML=f,gr(_t(b))})(s,a);ti(l,d),js(o),ha(o,l)},pv=(o,s)=>_t(o.dom.cloneNode(s)),$m=o=>(s=>{if(Ji(s))return"#shadow-root";{const a=(l=>pv(l,!1))(s);return(l=>{const d=Ts("div"),f=_t(l.dom.cloneNode(!0));return ha(d,f),eh(d)})(a)}})(o);var Nc;(function(o){o[o.STOP=0]="STOP",o[o.NORMAL=1]="NORMAL",o[o.LOGGING=2]="LOGGING"})(Nc||(Nc={}));const ds=Mt({}),D1=["alloy/data/Fields","alloy/debugging/Debugging"],zb=(o,s,a)=>((l,d,f)=>{switch(dt(ds.get(),l).orThunk(()=>{const p=qo(ds.get());return fo(p,b=>l.indexOf(b)>-1?O.some(ds.get()[b]):O.none())}).getOr(Nc.NORMAL)){case Nc.NORMAL:return f(Hw());case Nc.LOGGING:{const p=((y,_)=>{const E=[],w=new Date().getTime();return{logEventCut:(A,P,I)=>{E.push({outcome:"cut",target:P,purpose:I})},logEventStopped:(A,P,I)=>{E.push({outcome:"stopped",target:P,purpose:I})},logNoParent:(A,P,I)=>{E.push({outcome:"no-parent",target:P,purpose:I})},logEventNoHandlers:(A,P)=>{E.push({outcome:"no-handlers-left",target:P})},logEventResponse:(A,P,I)=>{E.push({outcome:"response",purpose:I,target:P})},write:()=>{const A=new Date().getTime();Je(["mousemove","mouseover","mouseout",rc()],y)||console.log(y,{event:y,time:A-w,target:_.dom,sequence:Se(E,P=>Je(["cut","stopped","response"],P.outcome)?"{"+P.purpose+"} "+P.outcome+" at ("+$m(P.target)+")":P.outcome)})}}})(l,d),b=f(p);return p.write(),b}case Nc.STOP:return!0}})(o,s,a),Hw=ue({logEventCut:qe,logEventStopped:qe,logNoParent:qe,logEventNoHandlers:qe,logEventResponse:qe,write:qe}),Tb=ue([Ge("menu"),Ge("selectedMenu")]),tg=ue([Ge("item"),Ge("selectedItem")]);ue(oo(tg().concat(Tb())));const gv=ue(oo(tg())),M1=ml("initSize",[Ge("numColumns"),Ge("numRows")]),th=()=>ml("markers",[Ge("backgroundMenu")].concat(Tb()).concat(tg())),nf=o=>ml("markers",Se(o,Ge)),Vm=(o,s,a)=>((()=>{const l=new Error;if(l.stack!==void 0){const d=l.stack.split(`
`);H(d,f=>f.indexOf("alloy")>0&&!fn(D1,p=>f.indexOf(p)>-1)).getOr("unknown")}})(),Cs(s,s,a,tc(l=>re.value((...d)=>l.apply(void 0,d))))),Bo=o=>Vm(0,o,Jl(qe)),li=o=>Vm(0,o,Jl(O.none)),rf=o=>Vm(0,o,{tag:"required",process:{}}),B1=o=>Vm(0,o,{tag:"required",process:{}}),Gr=(o,s)=>ia(o,ue(s)),hv=o=>ia(o,Et),qf=ue(M1);var Um=[un("contextual",[us("fadeInClass"),us("fadeOutClass"),us("transitionClass"),Ei("lazyContext"),Bo("onShow"),Bo("onShown"),Bo("onHide"),Bo("onHidden")]),Yn("lazyViewport",()=>({bounds:ws(),optScrollEnv:O.none()})),nc("modes",["top","bottom"],Dr),Bo("onDocked"),Bo("onUndocked")];const Mn=qt({fields:Um,name:"docking",active:eg,apis:R1,state:Object.freeze({__proto__:null,init:o=>{const s=Mt(!1),a=Mt(!0),l=dn(),d=Mt(o.modes);return Le({isDocked:s.get,setDocked:s.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`})}})}),P1=ur([(o=>({key:o,value:vo({can:(s,a)=>{const l=a.event,d=l.originator,f=l.target;return!((p,b,y)=>yn(b,p.element)&&!yn(b,y))(s,d,f)||(console.warn(Oc()+` did not get interpreted by the desired target. 
Originator: `+$m(d)+`
Target: `+$m(f)+`
Check the `+Oc()+" event handlers"),!1)}})}))(Oc())]);var L1=Object.freeze({__proto__:null,events:P1});const Gf=(o,s,a,l)=>{const d=o+s;return d>l?a:d<a?l:d},cc=(o,s,a)=>Math.min(Math.max(o,s),a);let oh=0;const wt=o=>{const s=new Date().getTime(),a=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return oh++,o+"_"+a+oh+String(s)},Ob=ue("alloy-id-"),$w=ue("data-alloy-id"),I1=Ob(),bv=$w(),Ab=(o,s)=>{Object.defineProperty(o.dom,bv,{value:s,writable:!0})},og=o=>{const s=lr(o)?o.dom[bv]:null;return O.from(s)},ng=o=>wt(o),yv=Et,Nb=o=>{const s=d=>`The component must be in a context to execute: ${d}`+(o?`
`+$m(o().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},l=d=>()=>{console.warn(s(d))};return{debugInfo:ue("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Ie}},xv=Nb(),Rb=wt("alloy-premade"),rg=o=>(Object.defineProperty(o.element.dom,Rb,{value:o.uid,writable:!0}),M(Rb,o)),Db=o=>dt(o,Rb),Mb=o=>((s,a)=>{const l=a.toString(),d=l.indexOf(")")+1,f=l.indexOf("("),p=l.substring(f+1,d-1).split(/,\s*/);return s.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ic(p.slice(1))}),s})((s,...a)=>o(s.getApis(),s,...a),o),vv=(o,s)=>{const a={};return Qn(o,(l,d)=>{Qn(l,(f,p)=>{const b=dt(a,p).getOr([]);a[p]=b.concat([s(d,f)])})}),a},F1=o=>o.cHandler,Vw=(o,s)=>({name:o,handler:s}),_v=(o,s)=>{const a={};return tt(o,l=>{a[l.name()]=l.handlers(s)}),a},H1=(o,s,a)=>{const l=s[a];return l?((d,f,p,b)=>{try{const y=Ne(p,(_,E)=>{const w=_[f],A=E[f],P=b.indexOf(w),I=b.indexOf(A);if(P===-1)throw new Error("The ordering for "+d+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(b,null,2));if(I===-1)throw new Error("The ordering for "+d+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(b,null,2));return P<I?-1:I<P?1:0});return re.value(y)}catch(y){return re.error([y])}})("Event: "+a,"name",o,l).map(d=>(f=>({can:(y=>(..._)=>uo(y,(E,w)=>E&&(A=>A.can)(w).apply(void 0,_),!0))(f),abort:(y=>(..._)=>uo(y,(E,w)=>E||(A=>A.abort)(w).apply(void 0,_),!1))(f),run:(...y)=>{tt(f,_=>{_.run.apply(void 0,y)})}}))(Se(d,f=>f.handler))):((d,f)=>re.error(["The event ("+d+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Se(f,p=>p.name),null,2)]))(a,o)},Uw=(o,s)=>((a,l)=>{const d=(p=>{const b=[],y=[];return tt(p,_=>{_.fold(E=>{b.push(E)},E=>{y.push(E)})}),{errors:b,values:y}})(a);return d.errors.length>0?(f=d.errors,re.error(sr(f))):((p,b)=>p.length===0?re.value(b):re.value(Cr(b,oi.apply(void 0,p))))(d.values,l);var f})(Hr(o,(a,l)=>(a.length===1?re.value(a[0].handler):H1(a,s,l)).map(d=>{const f=(b=>{const y=(_=>Kt(_)?{can:jt,abort:Ie,run:_}:_)(b);return(_,E,...w)=>{const A=[_,E].concat(w);y.abort.apply(void 0,A)?E.stop():y.can.apply(void 0,A)&&y.run.apply(void 0,A)}})(d),p=a.length>1?So(s[l],b=>fn(a,y=>y.name===b)).join(" > "):a[0].name;return M(l,((b,y)=>({handler:b,purpose:y}))(f,p))})),{}),jm="alloy.base.behaviour",$1=oo([Cs("dom","dom",{tag:"required",process:{}},oo([Ge("tag"),Ee("styles",{}),Ee("classes",[]),Ee("attributes",{}),tn("value"),tn("innerHtml")])),Ge("components"),Ge("uid"),Ee("events",{}),Ee("apis",{}),Cs("eventOrder","eventOrder",(W1={[Qs()]:["disabling",jm,"toggling","typeaheadevents"],[Oc()]:[jm,"focusing","keying"],[rc()]:[jm,"disabling","toggling","representing","tooltipping"],[os()]:[jm,"representing","streaming","invalidating"],[ad()]:[jm,"representing","item-events","toolbar-button-events","tooltipping"],[Na()]:["focusing",jm,"item-type-events"],[Ln()]:["focusing",jm,"item-type-events"],[zi()]:["item-type-events","tooltipping"],[Ot()]:["receiving","reflecting","tooltipping"]},ed(ue(W1))),Vi()),tn("domModification")]),Bb=o=>o.events,sf=o=>o.dom.value,cd=(o,s)=>{if(s===void 0)throw new Error("Value.set was undefined");o.dom.value=s},V1=(o,s,a)=>{a.fold(()=>ha(o,s),l=>{yn(l,s)||(La(l,s),Ol(l))})},dc=(o,s,a)=>{const l=Se(s,a),d=gr(o);return tt(d.slice(l.length),Ol),l},Zm=(o,s,a,l)=>{const d=cr(o,s),f=l(a,d),p=((b,y,_)=>cr(b,y).map(E=>{if(_.exists(w=>!yn(w,E))){const w=_.map(Pa).getOr("span"),A=Ts(w);return La(E,A),A}return E}))(o,s,d);return V1(o,f.element,p),f},Ra=(o,s)=>{const a=qo(o),l=qo(s),d=on(l,a),f=(p=>{const b={},y={};return Hs(p,(_,E)=>!_o(s,E)||_!==s[E],Qr(b),Qr(y)),{t:b,f:y}})(o).t;return{toRemove:d,toSet:f}},U1=(o,s)=>{const a=s.filter(l=>Pa(l)===o.tag&&!(d=>d.innerHtml.isSome()&&d.domChildren.length>0)(o)&&!(d=>_o(d.dom,Rb))(l)).bind(l=>((d,f)=>{try{const p=((b,y)=>{const{class:_,style:E,...w}=(te=>uo(te.dom.attributes,(oe,ce)=>(oe[ce.name]=ce.value,oe),{}))(y),{toSet:A,toRemove:P}=Ra(b.attributes,w),I=Hi(y),{toSet:Y,toRemove:G}=Ra(b.styles,I),J=jf(y),j=on(J,b.classes),Z=on(b.classes,J);return tt(P,te=>$r(y,te)),ks(y,A),hl(y,Z),ai(y,j),tt(G,te=>ln(y,te)),Qa(y,Y),b.innerHtml.fold(()=>{const te=b.domChildren;((oe,ce)=>{dc(oe,ce,(he,we)=>{const Ae=cr(oe,we);return V1(oe,he,Ae),he})})(y,te)},te=>{of(y,te)}),(()=>{const te=y,oe=b.value.getOrUndefined();oe!==sf(te)&&cd(te,oe??"")})(),y})(d,f);return O.some(p)}catch{return O.none()}})(o,l)).getOrThunk(()=>(l=>{const d=Ts(l.tag);ks(d,l.attributes),hl(d,l.classes),Qa(d,l.styles),l.innerHtml.each(p=>of(d,p));const f=l.domChildren;return ti(d,f),l.value.each(p=>{cd(d,p)}),d})(o));return Ab(a,o.uid),a},kv=o=>{const s=(a=>{const l=dt(a,"behaviours").getOr({});return Xo(qo(l),d=>{const f=l[d];return $t(f)?[f.me]:[]})})(o);return((a,l)=>((d,f)=>{const p=Se(f,y=>un(y.name(),[Ge("config"),Ee("state",be)])),b=er("component.behaviours",oo(p),d.behaviours).fold(y=>{throw new Error(ni(y)+`
Complete spec:
`+JSON.stringify(d,null,2))},Et);return{list:f,data:Rn(b,y=>{const _=y.map(E=>({config:E.config,state:E.state.init(E.config)}));return ue(_)})}})(a,l))(o,s)},nh=(o,s)=>{const a=()=>A,l=Mt(xv),d=aa((P=>er("custom.definition",$1,P))(o)),f=kv(o),p=(P=>P.list)(f),b=(P=>P.data)(f),y=((P,I,Y)=>{const G={...(J=P).dom,uid:J.uid,domChildren:Se(J.components,he=>he.element)};var J;const j=(he=>he.domModification.fold(()=>k({}),k))(P),Z={"alloy.base.modification":j},te=I.length>0?((he,we,Ae,Ue)=>{const Ve={...we};tt(Ae,Zo=>{Ve[Zo.name()]=Zo.exhibit(he,Ue)});const Ye=vv(Ve,(Zo,fr)=>({name:Zo,modification:fr})),ft=Zo=>ho(Zo,(fr,Xr)=>({...Xr.modification,...fr}),{}),Ut=ho(Ye.classes,(Zo,fr)=>fr.modification.concat(Zo),[]),Yt=ft(Ye.attributes),ro=ft(Ye.styles);return k({classes:Ut,attributes:Yt,styles:ro})})(Y,Z,I,G):j;return oe=G,ce=te,{...oe,attributes:{...oe.attributes,...ce.attributes},styles:{...oe.styles,...ce.styles},classes:oe.classes.concat(ce.classes)};var oe,ce})(d,p,b),_=U1(y,s),E=((P,I,Y)=>{const G={"alloy.base.behaviour":Bb(P)};return((J,j,Z,te)=>{const oe=((ce,he,we)=>{const Ae={...we,..._v(he,ce)};return vv(Ae,Vw)})(J,Z,te);return Uw(oe,j)})(Y,P.eventOrder,I,G).getOrDie()})(d,p,b),w=Mt(d.components),A={uid:o.uid,getSystem:l.get,config:P=>{const I=b;return(Kt(I[P.name()])?I[P.name()]:()=>{throw new Error("Could not find "+P.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:P=>Kt(b[P.name()]),spec:o,readState:P=>b[P]().map(I=>I.state.readState()).getOr("not enabled"),getApis:()=>d.apis,connect:P=>{l.set(P)},disconnect:()=>{l.set(Nb(a))},element:_,syncComponents:()=>{const P=gr(_),I=Xo(P,Y=>l.get().getByDom(Y).fold(()=>[],Jo));w.set(I)},components:w.get,events:E};return A},zr=o=>{const s=vc(o);return Kf({element:s})},Kf=o=>{const s=va("external.component",wi([Ge("element"),tn("uid")]),o),a=Mt(Nb()),l=s.uid.getOrThunk(()=>ng("external"));Ab(s.element,l);const d={uid:l,getSystem:a.get,config:O.none,hasConfigured:Ie,connect:f=>{a.set(f)},disconnect:()=>{a.set(Nb(()=>d))},getApis:()=>({}),element:s.element,spec:o,readState:ue("No state"),syncComponents:qe,components:ue([]),events:{}};return rg(d)},sg=ng,Pb=(o,s)=>Db(o).getOrThunk(()=>((a,l)=>{const{events:d,...f}=yv(a),p=((y,_)=>{const E=dt(y,"components").getOr([]);return _.fold(()=>Se(E,Ws),w=>Se(E,(A,P)=>Pb(A,cr(w,P))))})(f,l),b={...f,events:{...L1,...d},components:p};return re.value(nh(b,l))})((a=>_o(a,"uid"))(o)?o:{uid:sg(""),...o},s).getOrDie()),Ws=o=>Pb(o,O.none()),Bl=rg,Tr=(o,s,a)=>Yl(o,s,a).isSome(),rh="aria-controls",wv=()=>{const o=wt(rh);return{id:o,link:s=>{io(s,rh,o)},unlink:s=>{$r(s,rh)}}},Wm=(o,s)=>Tr(s,a=>yn(a,o.element),Ie)||((a,l)=>(d=>Yl(d,f=>{if(!lr(f))return!1;const p=ls(f,"id");return p!==void 0&&p.indexOf(rh)>-1}).bind(f=>{const p=ls(f,"id"),b=is(f);return $n(b,`[${rh}="${p}"]`)}))(l).exists(d=>Wm(a,d)))(o,s),ea=(o,s,a,l,d,f,p,b=!1)=>({x:o,y:s,bubble:a,direction:l,placement:d,restriction:f,label:`${p}-${d}`,alwaysFit:b}),xu=S([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Rc=xu.southeast,Lb=xu.southwest,qm=xu.northeast,Gm=xu.northwest,Yf=xu.south,sh=xu.north,j1=xu.east,Cv=xu.west,Oi=(o,s)=>Sn(["left","right","top","bottom"],a=>dt(s,a).map(l=>((d,f)=>{switch(f){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}})(o,l))),Km="layout",Ib=o=>o.x,Sv=(o,s)=>o.x+o.width/2-s.width/2,Z1=(o,s)=>o.x+o.width-s.width,Fb=(o,s)=>o.y-s.height,uc=o=>o.y+o.height,ci=(o,s)=>o.y+o.height/2-s.height/2,zs=(o,s,a)=>ea(Ib(o),uc(o),a.southeast(),Rc(),"southeast",Oi(o,{left:1,top:3}),Km),Ds=(o,s,a)=>ea(Z1(o,s),uc(o),a.southwest(),Lb(),"southwest",Oi(o,{right:0,top:3}),Km),Ua=(o,s,a)=>ea(Ib(o),Fb(o,s),a.northeast(),qm(),"northeast",Oi(o,{left:1,bottom:2}),Km),la=(o,s,a)=>ea(Z1(o,s),Fb(o,s),a.northwest(),Gm(),"northwest",Oi(o,{right:0,bottom:2}),Km),xs=(o,s,a)=>ea(Sv(o,s),Fb(o,s),a.north(),sh(),"north",Oi(o,{bottom:2}),Km),ms=(o,s,a)=>ea(Sv(o,s),uc(o),a.south(),Yf(),"south",Oi(o,{top:3}),Km),Ym=(o,s,a)=>ea((l=>l.x+l.width)(o),ci(o,s),a.east(),j1(),"east",Oi(o,{left:0}),Km),af=(o,s,a)=>ea(((l,d)=>l.x-d.width)(o,s),ci(o,s),a.west(),Cv(),"west",Oi(o,{right:1}),Km),ag=()=>[zs,Ds,Ua,la,ms,xs,Ym,af],ah=()=>[Ds,zs,la,Ua,ms,xs,Ym,af],Ai=()=>[Ua,la,zs,Ds,xs,ms],Xm=()=>[la,Ua,Ds,zs,xs,ms],Hb=()=>[zs,Ds,Ua,la,ms,xs],$b=()=>[Ds,zs,la,Ua,ms,xs];var W1,Ev=Object.freeze({__proto__:null,events:o=>ur([je(Ot(),(s,a)=>{const l=o.channels,d=qo(l),f=a,p=((b,y)=>y.universal?b:So(b,_=>Je(y.channels,_)))(d,f);tt(p,b=>{const y=l[b],_=y.schema,E=va("channel["+b+`] data
Receiver: `+$m(s.element),_,f.data);y.onReceive(s,E)})})])}),q1=[Xs("channels",nd(re.value,wi([rf("onReceive"),Ee("schema",Vi())])))];const Pl=qt({fields:q1,name:"receiving",active:Ev});var ih=Object.freeze({__proto__:null,exhibit:(o,s)=>k({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Da=(o,s=!1)=>o.dom.focus({preventScroll:s}),ig=o=>o.dom.blur(),dd=o=>{const s=is(o).dom;return o.dom===s.activeElement},fc=(o=dl())=>O.from(o.dom.activeElement).map(_t),Ni=o=>fc(is(o)).filter(s=>o.dom.contains(s.dom)),lh=(o,s)=>{const a=is(s),l=fc(a).bind(f=>{const p=b=>yn(f,b);return p(s)?O.some(s):((b,y)=>{const _=E=>{for(let w=0;w<E.childNodes.length;w++){const A=_t(E.childNodes[w]);if(y(A))return O.some(A);const P=_(E.childNodes[w]);if(P.isSome())return P}return O.none()};return _(b.dom)})(s,p)}),d=o(s);return l.each(f=>{fc(a).filter(p=>yn(p,f)).fold(()=>{Da(f)},qe)}),d},ud=S([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Vb=(o,s,a,l,d,f)=>{const p=s.rect,b=p.x-a,y=p.y-l,_=d-(b+p.width),E=f-(y+p.height),w=O.some(b),A=O.some(y),P=O.some(_),I=O.some(E),Y=O.none();return s.direction.fold(()=>bl(o,w,A,Y,Y),()=>bl(o,Y,A,P,Y),()=>bl(o,w,Y,Y,I),()=>bl(o,Y,Y,P,I),()=>bl(o,w,A,Y,Y),()=>bl(o,w,Y,Y,I),()=>bl(o,w,A,Y,Y),()=>bl(o,Y,A,P,Y))},Ub=(o,s)=>o.fold(()=>{const a=s.rect;return bl("absolute",O.some(a.x),O.some(a.y),O.none(),O.none())},(a,l,d,f)=>Vb("absolute",s,a,l,d,f),(a,l,d,f)=>Vb("fixed",s,a,l,d,f)),jb=(o,s)=>{const a=ht(Qi,s),l=o.fold(a,a,()=>{const p=ys();return Qi(s).translate(-p.left,-p.top)}),d=_e(s),f=Ta(s);return En(l.left,l.top,d,f)},Jm=(o,s)=>s.fold(()=>o.fold(ws,ws,En),a=>o.fold(ue(a),ue(a),()=>{const l=fd(o,a.x,a.y);return En(l.left,l.top,a.width,a.height)})),fd=(o,s,a)=>{const l=Dn(s,a);return o.fold(ue(l),ue(l),()=>{const d=ys();return l.translate(-d.left,-d.top)})};ud.none;const M3=ud.relative,Zb=ud.fixed,lf="data-alloy-placement",G1=o=>cs(o,lf),lg=S([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),zv=(o,s,a,l)=>{const d=o.bubble,f=d.offset,p=((te,oe,ce)=>{const he=(Ye,ft)=>oe[Ye].map(Ut=>{const Yt=Ye==="top"||Ye==="bottom",ro=Yt?ce.top:ce.left,Zo=(Ye==="left"||Ye==="top"?Math.max:Math.min)(Ut,ft)+ro;return Yt?cc(Zo,te.y,te.bottom):cc(Zo,te.x,te.right)}).getOr(ft),we=he("left",te.x),Ae=he("top",te.y),Ue=he("right",te.right),Ve=he("bottom",te.bottom);return En(we,Ae,Ue-we,Ve-Ae)})(l,o.restriction,f),b=o.x+f.left,y=o.y+f.top,_=En(b,y,s,a),{originInBounds:E,sizeInBounds:w,visibleW:A,visibleH:P}=((te,oe)=>{const{x:ce,y:he,right:we,bottom:Ae}=oe,{x:Ue,y:Ve,right:Ye,bottom:ft,width:Ut,height:Yt}=te;return{originInBounds:Ue>=ce&&Ue<=we&&Ve>=he&&Ve<=Ae,sizeInBounds:Ye<=we&&Ye>=ce&&ft<=Ae&&ft>=he,visibleW:Math.min(Ut,Ue>=ce?we-Ue:Ye-ce),visibleH:Math.min(Yt,Ve>=he?Ae-Ve:ft-he)}})(_,p),I=E&&w,Y=I?_:((te,oe)=>{const{x:ce,y:he,right:we,bottom:Ae}=oe,{x:Ue,y:Ve,width:Ye,height:ft}=te,Ut=Math.max(ce,we-Ye),Yt=Math.max(he,Ae-ft),ro=cc(Ue,ce,Ut),Zo=cc(Ve,he,Yt),fr=Math.min(ro+Ye,we)-ro,Xr=Math.min(Zo+ft,Ae)-Zo;return En(ro,Zo,fr,Xr)})(_,p),G=Y.width>0&&Y.height>0,{maxWidth:J,maxHeight:j}=((te,oe,ce)=>{const he=ue(oe.bottom-ce.y),we=ue(ce.bottom-oe.y),Ae=((ft,Ut,Yt,ro)=>ft.fold(Ut,Ut,ro,ro,Ut,ro,Yt,Yt))(te,we,we,he),Ue=ue(oe.right-ce.x),Ve=ue(ce.right-oe.x);return{maxWidth:((ft,Ut,Yt,ro)=>ft.fold(Ut,ro,Ut,ro,Yt,Yt,Ut,ro))(te,Ve,Ve,Ue),maxHeight:Ae}})(o.direction,Y,l),Z={rect:Y,maxHeight:j,maxWidth:J,direction:o.direction,placement:o.placement,classes:{on:d.classesOn,off:d.classesOff},layout:o.label,testY:y};return I||o.alwaysFit?lg.fit(Z):lg.nofit(Z,A,P,G)},ch=jt,Wi=(o,s,a)=>((l,d,f,p)=>Kl(l,d,f,p,!1))(o,s,ch,a),Wb=(o,s,a)=>((l,d,f,p)=>Kl(l,d,f,p,!0))(o,s,ch,a),dh=Xc,Tv=["top","bottom","right","left"],mc="data-alloy-transition-timer",K1=(o,s,a,l,d,f)=>{const p=((b,y,_)=>_.exists(E=>{const w=b.mode;return w==="all"||E[w]!==y[w]}))(l,d,f);if(p||((b,y)=>((_,E)=>mi(E,w=>ir(_,w)))(b,y.classes))(o,l)){Zt(o,"position",a.position);const b=jb(s,o),y=Ub(s,{...d,rect:b}),_=Sn(Tv,E=>y[E]);((E,w)=>{const A=P=>parseFloat(P).toFixed(3);return Qo(w,(P,I)=>!((Y,G,J=ve)=>nt(Y,G,J).getOr(Y.isNone()&&G.isNone()))(E[I].map(A),P.map(A))).isSome()})(a,_)&&(xi(o,_),p&&((E,w)=>{hl(E,w.classes),cs(E,mc).each(A=>{clearTimeout(parseInt(A,10)),$r(E,mc)}),((A,P)=>{const I=Jc(),Y=Jc();let G;const J=oe=>{var ce;const he=(ce=oe.raw.pseudoElement)!==null&&ce!==void 0?ce:"";return yn(oe.target,A)&&El(he)&&Je(Tv,oe.raw.propertyName)},j=oe=>{if(jr(oe)||J(oe)){I.clear(),Y.clear();const ce=oe==null?void 0:oe.raw.type;(jr(ce)||ce===Tc())&&(clearTimeout(G),$r(A,mc),ai(A,P.classes))}},Z=Wi(A,Yp(),oe=>{J(oe)&&(Z.unbind(),I.set(Wi(A,Tc(),j)),Y.set(Wi(A,xb(),j)))}),te=(oe=>{const ce=Ue=>{const Ve=Vs(oe,Ue).split(/\s*,\s*/);return So(Ve,za)},he=Ue=>{if(Dt(Ue)&&/^[\d.]+/.test(Ue)){const Ve=parseFloat(Ue);return Sl(Ue,"ms")?Ve:1e3*Ve}return 0},we=ce("transition-delay"),Ae=ce("transition-duration");return uo(Ae,(Ue,Ve,Ye)=>{const ft=he(we[Ye])+he(Ve);return Math.max(Ue,ft)},0)})(A);requestAnimationFrame(()=>{G=setTimeout(j,te+17),io(A,mc,G)})})(E,w)})(o,l),cl(o))}else ai(o,l.classes)},vu=(o,s)=>{((a,l)=>{const d=Md.max(a,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Zt(a,"max-height",d+"px")})(o,Math.floor(s))},Y1=ue((o,s)=>{vu(o,s),Qa(o,{"overflow-x":"hidden","overflow-y":"auto"})}),Wd=ue((o,s)=>{vu(o,s)}),_u=(o,s,a)=>o[s]===void 0?a:o[s],Ov=(o,s,a,l)=>{const d=((f,p,b,y)=>{ln(p,"max-height"),ln(p,"max-width");const _={width:_e(E=p),height:Ta(E)};var E;return((w,A,P,I,Y,G)=>{const J=I.width,j=I.height,Z=(te,oe,ce,he,we)=>{const Ae=te(P,I,Y,w,G),Ue=zv(Ae,J,j,G);return Ue.fold(ue(Ue),(Ve,Ye,ft,Ut)=>(we===Ut?ft>he||Ye>ce:!we&&Ut)?Ue:lg.nofit(oe,ce,he,we))};return uo(A,(te,oe)=>{const ce=ht(Z,oe);return te.fold(ue(te),ce)},lg.nofit({rect:P,maxHeight:I.height,maxWidth:I.width,direction:Rc(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:P.y},-1,-1,!1)).fold(Et,Et)})(p,y.preference,f,_,b,y.bounds)})(o,s,a,l);return((f,p,b)=>{const y=Ub(b.origin,p);b.transition.each(_=>{K1(f,b.origin,y,_,p,b.lastPlacement)}),Kg(f,y)})(s,d,l),((f,p)=>{((b,y)=>{io(b,lf,y)})(f,p.placement)})(s,d),((f,p)=>{const b=p.classes;ai(f,b.off),hl(f,b.on)})(s,d),((f,p,b)=>{(0,b.maxHeightFunction)(f,p.maxHeight)})(s,d,l),((f,p,b)=>{(0,b.maxWidthFunction)(f,p.maxWidth)})(s,d,l),{layout:d.layout,placement:d.placement}},Xf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],xl=(o,s,a,l=1)=>{const d=o*l,f=s*l,p=y=>dt(a,y).getOr([]),b=(y,_,E)=>{const w=on(Xf,E);return{offset:Dn(y,_),classesOn:Xo(E,p),classesOff:Xo(w,p)}};return{southeast:()=>b(-o,s,["top","alignLeft"]),southwest:()=>b(o,s,["top","alignRight"]),south:()=>b(-o/2,s,["top","alignCentre"]),northeast:()=>b(-o,-s,["bottom","alignLeft"]),northwest:()=>b(o,-s,["bottom","alignRight"]),north:()=>b(-o/2,-s,["bottom","alignCentre"]),east:()=>b(o,-s/2,["valignCentre","left"]),west:()=>b(-o,-s/2,["valignCentre","right"]),insetNortheast:()=>b(d,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-d,f,["top","alignRight","inset"]),insetNorth:()=>b(-d/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(d,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-d,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-d/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-d,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(d,-f/2,["valignCentre","left","inset"])}},uh=()=>xl(0,0,{}),fh=Et,Ll=(o,s)=>a=>cf(a)==="rtl"?s:o,cf=o=>Vs(o,"direction")==="rtl"?"rtl":"ltr";var df;(function(o){o.TopToBottom="toptobottom",o.BottomToTop="bottomtotop"})(df||(df={}));const qs="data-alloy-vertical-dir",mh=o=>Tr(o,s=>lr(s)&&ls(s,"data-alloy-vertical-dir")===df.BottomToTop),wa=()=>un("layouts",[Ge("onLtr"),Ge("onRtl"),tn("onBottomLtr"),tn("onBottomRtl")]),qb=(o,s,a,l,d,f,p)=>{const b=p.map(mh).getOr(!1),y=s.layouts.map(A=>A.onLtr(o)),_=s.layouts.map(A=>A.onRtl(o)),E=b?s.layouts.bind(A=>A.onBottomLtr.map(P=>P(o))).or(y).getOr(d):y.getOr(a),w=b?s.layouts.bind(A=>A.onBottomRtl.map(P=>P(o))).or(_).getOr(f):_.getOr(l);return Ll(E,w)(o)};var X1=[Ge("hotspot"),tn("bubble"),Ee("overrides",{}),wa(),Gr("placement",(o,s,a)=>{const l=s.hotspot,d=jb(a,l.element),f=qb(o.element,s,Hb(),$b(),Ai(),Xm(),O.some(s.hotspot.element));return O.some(fh({anchorBox:d,bubble:s.bubble.getOr(uh()),overrides:s.overrides,layouts:f}))})],Qm=[Ge("x"),Ge("y"),Ee("height",0),Ee("width",0),Ee("bubble",uh()),Ee("overrides",{}),wa(),Gr("placement",(o,s,a)=>{const l=fd(a,s.x,s.y),d=En(l.left,l.top,s.width,s.height),f=qb(o.element,s,ag(),ah(),ag(),ah(),O.none());return O.some(fh({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:f}))})];const Jf=S([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Qf=o=>o.fold(Et,(s,a,l)=>s.translate(-a,-l)),pc=o=>o.fold(Et,Et),Gb=o=>uo(o,(s,a)=>s.translate(a.left,a.top),Dn(0,0)),Av=o=>{const s=Se(o,pc);return Gb(s)},J1=Jf.screen,Kb=Jf.absolute,Yb=(o,s,a)=>{const l=fa(o.element),d=ys(l),f=((p,b,y)=>{const _=Dd(y.root).dom;return O.from(_.frameElement).map(_t).filter(E=>{const w=fa(E),A=fa(p.element);return yn(w,A)}).map(Wr)})(o,0,a).getOr(d);return Kb(f,d.left,d.top)},uf=(o,s,a,l)=>{const d=J1(Dn(o,s));return O.some(((f,p,b)=>({point:f,width:p,height:b}))(d,a,l))},cg=(o,s,a,l,d)=>o.map(f=>{const p=[s,f.point],b=(y=()=>Av(p),_=()=>Av(p),E=()=>(Z=>{const te=Se(Z,Qf);return Gb(te)})(p),l.fold(y,_,E));var y,_,E;const w=(Y=b.left,G=b.top,J=f.width,j=f.height,{x:Y,y:G,width:J,height:j}),A=a.showAbove?Ai():Hb(),P=a.showAbove?Xm():$b(),I=qb(d,a,A,P,A,P,O.none());var Y,G,J,j;return fh({anchorBox:w,bubble:a.bubble.getOr(uh()),overrides:a.overrides,layouts:I})});var jw=[Ge("node"),Ge("root"),tn("bubble"),wa(),Ee("overrides",{}),Ee("showAbove",!1),Gr("placement",(o,s,a)=>{const l=Yb(o,0,s);return s.node.filter(Wn).bind(d=>{const f=d.dom.getBoundingClientRect(),p=uf(f.left,f.top,f.width,f.height),b=s.node.getOr(o.element);return cg(p,l,s,a,b)})})];const ep=(o,s,a,l)=>({start:o,soffset:s,finish:a,foffset:l}),ph=S([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),qd=(ph.before,ph.on,ph.after,o=>o.fold(Et,Et,Et)),md=S([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ff={domRange:md.domRange,relative:md.relative,exact:md.exact,exactFromRange:o=>md.exact(o.start,o.soffset,o.finish,o.foffset),getWin:o=>{const s=(a=>a.match({domRange:l=>_t(l.startContainer),relative:(l,d)=>qd(l),exact:(l,d,f,p)=>l}))(o);return Dd(s)},range:ep},tp=(o,s,a)=>{const l=o.document.createRange();var d;return d=l,s.fold(f=>{d.setStartBefore(f.dom)},(f,p)=>{d.setStart(f.dom,p)},f=>{d.setStartAfter(f.dom)}),((f,p)=>{p.fold(b=>{f.setEndBefore(b.dom)},(b,y)=>{f.setEnd(b.dom,y)},b=>{f.setEndAfter(b.dom)})})(l,a),l},Q1=(o,s,a,l,d)=>{const f=o.document.createRange();return f.setStart(s.dom,a),f.setEnd(l.dom,d),f},dg=o=>({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height}),pd=S([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),op=(o,s,a)=>s(_t(a.startContainer),a.startOffset,_t(a.endContainer),a.endOffset),gh=(o,s)=>((a,l)=>{const d=((f,p)=>p.match({domRange:b=>({ltr:ue(b),rtl:O.none}),relative:(b,y)=>({ltr:He(()=>tp(f,b,y)),rtl:He(()=>O.some(tp(f,y,b)))}),exact:(b,y,_,E)=>({ltr:He(()=>Q1(f,b,y,_,E)),rtl:He(()=>O.some(Q1(f,_,E,b,y)))})}))(a,l);return((f,p)=>{const b=p.ltr();return b.collapsed?p.rtl().filter(y=>y.collapsed===!1).map(y=>pd.rtl(_t(y.endContainer),y.endOffset,_t(y.startContainer),y.startOffset)).getOrThunk(()=>op(0,pd.ltr,b)):op(0,pd.ltr,b)})(0,d)})(o,s).match({ltr:(a,l,d,f)=>{const p=o.document.createRange();return p.setStart(a.dom,l),p.setEnd(d.dom,f),p},rtl:(a,l,d,f)=>{const p=o.document.createRange();return p.setStart(d.dom,f),p.setEnd(a.dom,l),p}});pd.ltr,pd.rtl;const ug=(o,s,a)=>So(((l,d)=>{const f=Kt(d)?d:Ie;let p=l.dom;const b=[];for(;p.parentNode!==null&&p.parentNode!==void 0;){const y=p.parentNode,_=_t(y);if(b.push(_),f(_)===!0)break;p=y}return b})(o,a),s),qi=(o,s)=>((a,l)=>{const d=l===void 0?document:l.dom;return Ad(d)?[]:Se(d.querySelectorAll(a),_t)})(s,o),np=o=>{if(o.rangeCount>0){const s=o.getRangeAt(0),a=o.getRangeAt(o.rangeCount-1);return O.some(ep(_t(s.startContainer),s.startOffset,_t(a.endContainer),a.endOffset))}return O.none()},mf=o=>{if(o.anchorNode===null||o.focusNode===null)return np(o);{const s=_t(o.anchorNode),a=_t(o.focusNode);return((l,d,f,p)=>{const b=((_,E,w,A)=>{const P=fa(_).dom.createRange();return P.setStart(_.dom,E),P.setEnd(w.dom,A),P})(l,d,f,p),y=yn(l,f)&&d===p;return b.collapsed&&!y})(s,o.anchorOffset,a,o.focusOffset)?O.some(ep(s,o.anchorOffset,a,o.focusOffset)):np(o)}},e0=(o,s)=>(a=>{const l=a.getClientRects(),d=l.length>0?l[0]:a.getBoundingClientRect();return d.width>0||d.height>0?O.some(d).map(dg):O.none()})(gh(o,s)),Nv=(o=>{const s=a=>o(a)?O.from(a.dom.nodeValue):O.none();return{get:a=>{if(!o(a))throw new Error("Can only get text value of a text node");return s(a).getOr("")},getOption:s,set:(a,l)=>{if(!o(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=l}}})(ua),fg=(o,s)=>({element:o,offset:s}),Rv=(o,s)=>ua(o)?fg(o,s):((a,l)=>{const d=gr(a);if(d.length===0)return fg(a,l);if(l<d.length)return fg(d[l],0);{const f=d[d.length-1],p=ua(f)?(b=>Nv.get(b))(f).length:gr(f).length;return fg(f,p)}})(o,s),Xb=o=>o.foffset!==void 0,Jb=(o,s)=>s.getSelection.getOrThunk(()=>()=>(a=>(l=>O.from(l.getSelection()))(a).filter(l=>l.rangeCount>0).bind(mf))(o))().map(a=>{if(Xb(a)){const l=Rv(a.start,a.soffset),d=Rv(a.finish,a.foffset);return ff.range(l.element,l.offset,d.element,d.offset)}return a});var Zw=[tn("getSelection"),Ge("root"),tn("bubble"),wa(),Ee("overrides",{}),Ee("showAbove",!1),Gr("placement",(o,s,a)=>{const l=Dd(s.root).dom,d=Yb(o,0,s),f=Jb(l,s).bind(b=>{if(Xb(b))return((_,E)=>(w=>{const A=w.getBoundingClientRect();return A.width>0||A.height>0?O.some(A).map(dg):O.none()})(gh(_,E)))(l,ff.exactFromRange(b)).orThunk(()=>{const _=vc("\uFEFF");La(b.start,_);const E=e0(l,ff.exact(_,0,_,1));return Ol(_),E}).bind(_=>uf(_.left,_.top,_.width,_.height));{const y=Rn(b,E=>E.dom.getBoundingClientRect()),_={left:Math.min(y.firstCell.left,y.lastCell.left),right:Math.max(y.firstCell.right,y.lastCell.right),top:Math.min(y.firstCell.top,y.lastCell.top),bottom:Math.max(y.firstCell.bottom,y.lastCell.bottom)};return uf(_.left,_.top,_.right-_.left,_.bottom-_.top)}}),p=Jb(l,s).bind(b=>Xb(b)?lr(b.start)?O.some(b.start):hi(b.start):O.some(b.firstCell)).getOr(o.element);return cg(f,d,s,a,p)})];const mg="link-layout",rp=o=>o.x+o.width,t0=(o,s)=>o.x-s.width,hh=(o,s)=>o.y-s.height+o.height,o0=o=>o.y,Dv=(o,s,a)=>ea(rp(o),o0(o),a.southeast(),Rc(),"southeast",Oi(o,{left:0,top:2}),mg),tl=(o,s,a)=>ea(t0(o,s),o0(o),a.southwest(),Lb(),"southwest",Oi(o,{right:1,top:2}),mg),Qb=(o,s,a)=>ea(rp(o),hh(o,s),a.northeast(),qm(),"northeast",Oi(o,{left:0,bottom:3}),mg),ey=(o,s,a)=>ea(t0(o,s),hh(o,s),a.northwest(),Gm(),"northwest",Oi(o,{right:1,bottom:3}),mg),Mv=()=>[Dv,tl,Qb,ey],Bv=()=>[tl,Dv,ey,Qb];var Pv=[Ge("item"),wa(),Ee("overrides",{}),Gr("placement",(o,s,a)=>{const l=jb(a,s.item.element),d=qb(o.element,s,Mv(),Bv(),Mv(),Bv(),O.none());return O.some(fh({anchorBox:l,bubble:uh(),overrides:s.overrides,layouts:d}))})],Lv=$a("type",{selection:Zw,node:jw,hotspot:X1,submenu:Pv,makeshift:Qm});const Iv=[Vr("classes",Dr),ka("mode","all",["all","layout","placement"])],pg=[Ee("useFixed",Ie),tn("getBounds")],gg=[Xs("anchor",Lv),un("transition",Iv)],ty=(o,s,a,l,d,f)=>{const p=va("placement.info",oo(gg),d),b=p.anchor,y=l.element,_=a.get(l.uid);lh(()=>{Zt(y,"position","fixed");const E=_r(y,"visibility");Zt(y,"visibility","hidden");const w=s.useFixed()?(()=>{const A=document.documentElement;return Zb(0,0,A.clientWidth,A.clientHeight)})():(A=>{const P=Wr(A.element),I=A.element.dom.getBoundingClientRect();return M3(P.left,P.top,I.width,I.height)})(o);b.placement(o,b,w).each(A=>{const P=f.orThunk(()=>s.getBounds.map(Io)),I=((Y,G,J,j,Z,te)=>((oe,ce,he,we,Ae,Ue,Ve,Ye)=>{const ft=_u(Ve,"maxHeightFunction",Y1()),Ut=_u(Ve,"maxWidthFunction",qe),Yt=oe.anchorBox,ro=oe.origin,Zo={bounds:Jm(ro,Ue),origin:ro,preference:we,maxHeightFunction:ft,maxWidthFunction:Ut,lastPlacement:Ae,transition:Ye};return Ov(Yt,ce,he,Zo)})(((oe,ce)=>((he,we)=>({anchorBox:he,origin:we}))(oe,ce))(G.anchorBox,Y),j.element,G.bubble,G.layouts,Z,J,G.overrides,te))(w,A,P,l,_,p.transition);a.set(l.uid,I)}),E.fold(()=>{ln(y,"visibility")},A=>{Zt(y,"visibility",A)}),_r(y,"left").isNone()&&_r(y,"top").isNone()&&_r(y,"right").isNone()&&_r(y,"bottom").isNone()&&Ks(_r(y,"position"),"fixed")&&ln(y,"position")},y)};var bh=Object.freeze({__proto__:null,position:(o,s,a,l,d)=>{const f=O.none();ty(o,s,a,l,d,f)},positionWithinBounds:ty,getMode:(o,s,a)=>s.useFixed()?"fixed":"absolute",reset:(o,s,a,l)=>{const d=l.element;tt(["position","left","right","top","bottom"],f=>ln(d,f)),(f=>{$r(f,lf)})(d),a.clear(l.uid)}});const ps=qt({fields:pg,name:"positioning",active:ih,apis:bh,state:Object.freeze({__proto__:null,init:()=>{let o={};return Le({readState:()=>o,clear:s=>{$t(s)?delete o[s]:o={}},set:(s,a)=>{o[s]=a},get:s=>dt(o,s)})}})}),Dc=o=>o.getSystem().isConnected(),Gd=o=>{Vo(o,ad());const s=o.components();tt(s,Gd)},hg=o=>{const s=o.components();tt(s,hg),Vo(o,it())},sp=(o,s)=>{o.getSystem().addToWorld(s),Wn(o.element)&&hg(s)},yh=o=>{Gd(o),o.getSystem().removeFromWorld(o)},oy=(o,s)=>{ha(o.element,s.element)},em=(o,s)=>{ny(o,s,ha)},ny=(o,s,a)=>{o.getSystem().addToWorld(s),a(o.element,s.element),Wn(o.element)&&hg(s),o.syncComponents()},n0=o=>{Gd(o),Ol(o.element),o.getSystem().removeFromWorld(o)},ku=o=>{const s=es(o.element).bind(a=>o.getSystem().getByDom(a).toOptional());n0(o),s.each(a=>{a.syncComponents()})},r0=o=>{const s=o.components();tt(s,n0),js(o.element),o.syncComponents()},Mc=(o,s)=>{s0(o,s,ha)},gd=(o,s)=>{s0(o,s,lu)},s0=(o,s,a)=>{a(o,s.element);const l=gr(s.element);tt(l,d=>{s.getByDom(d).each(hg)})},$e=o=>{const s=gr(o.element);tt(s,a=>{o.getByDom(a).each(Gd)}),Ol(o.element)},ap=(o,s,a,l)=>{a.get().each(p=>{r0(o)});const d=s.getAttachPoint(o);em(d,o);const f=o.getSystem().build(l);return em(o,f),a.set(f),f},a0=(o,s,a,l)=>{const d=ap(o,s,a,l);return s.onOpen(o,d),d},Fv=(o,s,a)=>{a.get().each(l=>{r0(o),ku(o),s.onClose(o,l),a.clear()})},bg=(o,s,a)=>a.isOpen(),Bc=(o,s,a)=>{const l=s.getAttachPoint(o);Zt(o.element,"position",ps.getMode(l)),((d,f,p)=>{_r(d.element,f).fold(()=>{$r(d.element,p)},b=>{io(d.element,p,b)}),Zt(d.element,f,"hidden")})(o,"visibility",s.cloakVisibilityAttr)},i0=(o,s,a)=>{(l=>fn(["top","left","right","bottom"],d=>_r(l,d).isSome()))(o.element)||ln(o.element,"position"),((l,d,f)=>{cs(l.element,f).fold(()=>ln(l.element,d),p=>Zt(l.element,d,p))})(o,"visibility",s.cloakVisibilityAttr)};var Hv=Object.freeze({__proto__:null,cloak:Bc,decloak:i0,open:a0,openWhileCloaked:(o,s,a,l,d)=>{Bc(o,s),a0(o,s,a,l),d(),i0(o,s)},close:Fv,isOpen:bg,isPartOf:(o,s,a,l)=>bg(0,0,a)&&a.get().exists(d=>s.isPartOf(o,d,l)),getState:(o,s,a)=>a.get(),setContent:(o,s,a,l)=>a.get().map(()=>ap(o,s,a,l))}),$v=Object.freeze({__proto__:null,events:(o,s)=>ur([je(Ud(),(a,l)=>{Fv(a,o,s)})])}),l0=[Bo("onOpen"),Bo("onClose"),Ge("isPartOf"),Ge("getAttachPoint"),Ee("cloakVisibilityAttr","data-precloak-visibility")],Vv=Object.freeze({__proto__:null,init:()=>{const o=dn(),s=ue("not-implemented");return Le({readState:s,isOpen:o.isSet,clear:o.clear,set:o.set,get:o.get})}});const xn=qt({fields:l0,name:"sandboxing",active:$v,apis:Hv,state:Vv}),wu=ue("dismiss.popups"),pf=ue("reposition.popups"),c0=ue("mouse.released"),Uv=wi([Ee("isExtraPart",Ie),un("fireEventInstead",[Ee("event",Gu())])]),d0=o=>{const s=va("Dismissal",Uv,o);return{[wu()]:{schema:wi([Ge("target")]),onReceive:(a,l)=>{xn.isOpen(a)&&(xn.isPartOf(a,l.target)||s.isExtraPart(a,l.target)||s.fireEventInstead.fold(()=>xn.close(a),d=>Vo(a,d.event)))}}}},m=wi([un("fireEventInstead",[Ee("event",sc())]),Ei("doReposition")]),h=o=>{const s=va("Reposition",m,o);return{[pf()]:{onReceive:a=>{xn.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),l=>Vo(a,l.event))}}}},v=(o,s,a)=>{s.store.manager.onLoad(o,s,a)},z=(o,s,a)=>{s.store.manager.onUnload(o,s,a)};var N=Object.freeze({__proto__:null,onLoad:v,onUnload:z,setValue:(o,s,a,l)=>{s.store.manager.setValue(o,s,a,l)},getValue:(o,s,a)=>s.store.manager.getValue(o,s,a),getState:(o,s,a)=>a}),D=Object.freeze({__proto__:null,events:(o,s)=>{const a=o.resetOnDom?[Xn((l,d)=>{v(l,o,s)}),Sr((l,d)=>{z(l,o,s)})]:[T(o,s,v)];return ur(a)}});const F=()=>{const o=Mt(null);return Le({set:o.set,get:o.get,isNotSet:()=>o.get()===null,clear:()=>{o.set(null)},readState:()=>({mode:"memory",value:o.get()})})},V=()=>{const o=Mt({}),s=Mt({});return Le({readState:()=>({mode:"dataset",dataByValue:o.get(),dataByText:s.get()}),lookup:a=>dt(o.get(),a).orThunk(()=>dt(s.get(),a)),update:a=>{const l=o.get(),d=s.get(),f={},p={};tt(a,b=>{f[b.value]=b,dt(b,"meta").each(y=>{dt(y,"text").each(_=>{p[_]=b})})}),o.set({...l,...f}),s.set({...d,...p})},clear:()=>{o.set({}),s.set({})}})};var X=Object.freeze({__proto__:null,memory:F,dataset:V,manual:()=>Le({readState:qe}),init:o=>o.store.manager.state(o)});const ie=(o,s,a,l)=>{const d=s.store;a.update([l]),d.setValue(o,l),s.onSetValue(o,l)};var xe=[tn("initialValue"),Ge("getFallbackEntry"),Ge("getDataKey"),Ge("setValue"),Gr("manager",{setValue:ie,getValue:(o,s,a)=>{const l=s.store,d=l.getDataKey(o);return a.lookup(d).getOrThunk(()=>l.getFallbackEntry(d))},onLoad:(o,s,a)=>{s.store.initialValue.each(l=>{ie(o,s,a,l)})},onUnload:(o,s,a)=>{a.clear()},state:V})],de=[Ge("getValue"),Ee("setValue",qe),tn("initialValue"),Gr("manager",{setValue:(o,s,a,l)=>{s.store.setValue(o,l),s.onSetValue(o,l)},getValue:(o,s,a)=>s.store.getValue(o),onLoad:(o,s,a)=>{s.store.initialValue.each(l=>{s.store.setValue(o,l)})},onUnload:qe,state:be.init})],ge=[tn("initialValue"),Gr("manager",{setValue:(o,s,a,l)=>{a.set(l),s.onSetValue(o,l)},getValue:(o,s,a)=>a.get(),onLoad:(o,s,a)=>{s.store.initialValue.each(l=>{a.isNotSet()&&a.set(l)})},onUnload:(o,s,a)=>{a.clear()},state:F})],fe=[_a("store",{mode:"memory"},$a("mode",{memory:ge,manual:de,dataset:xe})),Bo("onSetValue"),Ee("resetOnDom",!1)];const se=qt({fields:fe,name:"representing",active:D,apis:N,extra:{setValueFrom:(o,s)=>{const a=se.getValue(s);se.setValue(o,a)}},state:X}),ke=(o,s)=>Ff(o,{},Se(s,a=>{return l=a.name(),d="Cannot configure "+a.name()+" for "+o,Cs(l,l,{tag:"option",process:{}},Ql(f=>en("The field: "+l+" is forbidden. "+d)));var l,d}).concat([ia("dump",Et)])),We=o=>o.dump,Fe=(o,s)=>({...ye(s),...o.dump}),Qe=ke,rt=Fe,ut="placeholder",lt=S([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),xt=o=>_o(o,"uiType"),Lt=(o,s,a,l)=>((d,f,p,b)=>xt(p)&&p.uiType===ut?((y,_,E,w)=>y.exists(A=>A!==E.owner)?lt.single(!0,ue(E)):dt(w,E.name).fold(()=>{throw new Error("Unknown placeholder component: "+E.name+`
Known: [`+qo(w)+`]
Namespace: `+y.getOr("none")+`
Spec: `+JSON.stringify(E,null,2))},A=>A.replace()))(d,0,p,b):lt.single(!1,ue(p)))(o,0,a,l).fold((d,f)=>{const p=xt(a)?f(s,a.config,a.validated):f(s),b=dt(p,"components").getOr([]),y=Xo(b,_=>Lt(o,s,_,l));return[{...p,components:y}]},(d,f)=>{if(xt(a)){const p=f(s,a.config,a.validated);return a.validated.preprocess.getOr(Et)(p)}return f(s)}),co=lt.single,vn=lt.multiple,Oo=ue(ut),Ko=S([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Ao=Ee("factory",{sketch:Et}),qn=Ee("schema",[]),vs=Ge("name"),ja=Cs("pname","pname",Xl(o=>"<alloy."+wt(o.name)+">"),Vi()),Ca=ia("schema",()=>[tn("preprocess")]),Gi=Ee("defaults",ue({})),Cu=Ee("overrides",ue({})),vl=oo([Ao,qn,vs,ja,Gi,Cu]),ip=oo([Ao,qn,vs,Gi,Cu]),ry=oo([Ao,qn,vs,ja,Gi,Cu]),sy=oo([Ao,Ca,vs,Ge("unit"),ja,Gi,Cu]),ay=o=>o.fold(O.some,O.none,O.some,O.some),xh=o=>{const s=a=>a.name;return o.fold(s,s,s,s)},lp=(o,s)=>a=>{const l=va("Converting part type",s,a);return o(l)},ol=lp(Ko.required,vl),Su=lp(Ko.external,ip),Kd=lp(Ko.optional,ry),jv=lp(Ko.group,sy),Zv=ue("entirety");var B3=Object.freeze({__proto__:null,required:ol,external:Su,optional:Kd,group:jv,asNamedPart:ay,name:xh,asCommon:o=>o.fold(Et,Et,Et,Et),original:Zv});const Wv=(o,s,a,l)=>Cr(s.defaults(o,a,l),a,{uid:o.partUids[s.name]},s.overrides(o,a,l)),Ww=(o,s)=>{const a={};return tt(s,l=>{ay(l).each(d=>{const f=P3(o,d.pname);a[d.name]=p=>{const b=va("Part: "+d.name+" in "+o,oo(d.schema),p);return{...f,config:p,validated:b}}})}),a},P3=(o,s)=>({uiType:Oo(),owner:o,name:s}),qw=(o,s,a)=>({uiType:Oo(),owner:o,name:s,config:a,validated:{}}),Gw=o=>Xo(o,s=>s.fold(O.none,O.some,O.none,O.none).map(a=>ml(a.name,a.schema.concat([hv(Zv())]))).toArray()),L3=o=>Se(o,xh),Kw=(o,s,a)=>((l,d,f)=>{const p={},b={};return tt(f,y=>{y.fold(_=>{p[_.pname]=co(!0,(E,w,A)=>_.factory.sketch(Wv(E,_,w,A)))},_=>{const E=d.parts[_.name];b[_.name]=ue(_.factory.sketch(Wv(d,_,E[Zv()]),E))},_=>{p[_.pname]=co(!1,(E,w,A)=>_.factory.sketch(Wv(E,_,w,A)))},_=>{p[_.pname]=vn(!0,(E,w,A)=>{const P=E[_.name];return Se(P,I=>_.factory.sketch(Cr(_.defaults(E,I,A),I,_.overrides(E,I))))})})}),{internals:ue(p),externals:ue(b)}})(0,s,a),u0=(o,s,a)=>((l,d,f,p)=>{const b=Rn(p,(_,E)=>((w,A)=>{let P=!1;return{name:ue(w),required:()=>A.fold((I,Y)=>I,(I,Y)=>I),used:()=>P,replace:()=>{if(P)throw new Error("Trying to use the same placeholder more than once: "+w);return P=!0,A}}})(E,_)),y=((_,E,w,A)=>Xo(w,P=>Lt(_,E,P,A)))(l,d,f,b);return Qn(b,_=>{if(_.used()===!1&&_.required())throw new Error("Placeholder: "+_.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),y})(O.some(o),s,s.components,a),Pr=(o,s,a)=>{const l=s.partUids[a];return o.getSystem().getByUid(l).toOptional()},yg=(o,s,a)=>Pr(o,s,a).getOrDie("Could not find part: "+a),I3=(o,s,a)=>{const l={},d=s.partUids,f=o.getSystem();return tt(a,p=>{l[p]=ue(f.getByUid(d[p]))}),l},Yw=(o,s)=>{const a=o.getSystem();return Rn(s.partUids,(l,d)=>ue(a.getByUid(l)))},F3=o=>qo(o.partUids),Xw=(o,s,a)=>{const l={},d=s.partUids,f=o.getSystem();return tt(a,p=>{l[p]=ue(f.getByUid(d[p]).getOrDie())}),l},qv=(o,s)=>{const a=L3(s);return U(Se(a,l=>({key:l,value:o+"-"+l})))},Jw=o=>Cs("partUids","partUids",ed(s=>qv(s.uid,o)),Vi());var iR=Object.freeze({__proto__:null,generate:Ww,generateOne:qw,schemas:Gw,names:L3,substitutes:Kw,components:u0,defaultUids:qv,defaultUidsSchema:Jw,getAllParts:Yw,getAllPartNames:F3,getPart:Pr,getPartOrDie:yg,getParts:I3,getPartsOrDie:Xw});const H3=(o,s,a,l,d)=>{const f=((p,b)=>(p.length>0?[ml("parts",p)]:[]).concat([Ge("uid"),Ee("dom",{}),Ee("components",[]),hv("originalSpec"),Ee("debug.sketcher",{})]).concat(b))(l,d);return va(o+" [SpecSchema]",wi(f.concat(s)),a)},Gv=(o,s,a,l,d)=>{const f=It(d),p=Gw(a),b=Jw(a),y=H3(o,s,f,p,[b]),_=Kw(0,y,a);return l(y,u0(o,y,_.internals()),f,_.externals())},It=o=>(s=>_o(s,"uid"))(o)?o:{...o,uid:ng("uid")},Kv=wi([Ge("name"),Ge("factory"),Ge("configFields"),Ee("apis",{}),Ee("extraApis",{})]),$3=wi([Ge("name"),Ge("factory"),Ge("configFields"),Ge("partFields"),Ee("apis",{}),Ee("extraApis",{})]),hd=o=>{const s=va("Sketcher for "+o.name,Kv,o),a=Rn(s.apis,Mb),l=Rn(s.extraApis,(d,f)=>Uf(d,f));return{name:s.name,configFields:s.configFields,sketch:d=>((f,p,b,y)=>{const _=It(y);return b(H3(f,p,_,[],[]),_)})(s.name,s.configFields,s.factory,d),...a,...l}},_l=o=>{const s=va("Sketcher for "+o.name,$3,o),a=Ww(s.name,s.partFields),l=Rn(s.apis,Mb),d=Rn(s.extraApis,(f,p)=>Uf(f,p));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:f=>Gv(s.name,s.configFields,s.partFields,s.factory,f),parts:a,...l,...d}},iy=o=>Wl("input")(o)&&ls(o,"type")!=="radio"||Wl("textarea")(o);var V3=Object.freeze({__proto__:null,getCurrent:(o,s,a)=>s.find(o)});const lR=[Ge("find")],_n=qt({fields:lR,name:"composing",apis:V3}),U3=["input","button","textarea","select"],j3=(o,s,a)=>{(s.disabled()?Qw:e2)(o,s)},Ki=(o,s)=>s.useNative===!0&&Je(U3,Pa(o.element)),f0=o=>{io(o.element,"disabled","disabled")},cR=o=>{$r(o.element,"disabled")},dR=o=>{io(o.element,"aria-disabled","true")},uR=o=>{io(o.element,"aria-disabled","false")},Qw=(o,s,a)=>{s.disableClass.each(l=>{Er(o.element,l)}),(Ki(o,s)?f0:dR)(o),s.onDisabled(o)},e2=(o,s,a)=>{s.disableClass.each(l=>{ar(o.element,l)}),(Ki(o,s)?cR:uR)(o),s.onEnabled(o)},t2=(o,s)=>Ki(o,s)?(a=>su(a.element,"disabled"))(o):(a=>ls(a.element,"aria-disabled")==="true")(o);var Z3=Object.freeze({__proto__:null,enable:e2,disable:Qw,isDisabled:t2,onLoad:j3,set:(o,s,a,l)=>{(l?Qw:e2)(o,s)}}),fR=Object.freeze({__proto__:null,exhibit:(o,s)=>k({classes:s.disabled()?s.disableClass.toArray():[]}),events:(o,s)=>ur([kb(Qs(),(a,l)=>t2(a,o)),T(o,s,j3)])}),W3=[Yn("disabled",Ie),Ee("useNative",!0),tn("disableClass"),Bo("onDisabled"),Bo("onEnabled")];const Wt=qt({fields:W3,name:"disabling",active:fR,apis:Z3}),q3=(o,s,a,l)=>{const d=qi(o.element,"."+s.highlightClass);tt(d,f=>{fn(l,p=>yn(p.element,f))||(ar(f,s.highlightClass),o.getSystem().getByDom(f).each(p=>{s.onDehighlight(o,p),Vo(p,Im())}))})},m0=(o,s,a,l)=>{q3(o,s,0,[l]),o2(o,s,a,l)||(Er(l.element,s.highlightClass),s.onHighlight(o,l),Vo(l,yr()))},o2=(o,s,a,l)=>ir(l.element,s.highlightClass),G3=(o,s,a)=>$n(o.element,"."+s.itemClass).bind(l=>o.getSystem().getByDom(l).toOptional()),K3=(o,s,a)=>{const l=qi(o.element,"."+s.itemClass);return(l.length>0?O.some(l[l.length-1]):O.none()).bind(d=>o.getSystem().getByDom(d).toOptional())},Yv=(o,s,a,l)=>{const d=qi(o.element,"."+s.itemClass);return as(d,f=>ir(f,s.highlightClass)).bind(f=>{const p=Gf(f,l,0,d.length-1);return o.getSystem().getByDom(d[p]).toOptional()})},n2=(o,s,a)=>{const l=qi(o.element,"."+s.itemClass);return pi(Se(l,d=>o.getSystem().getByDom(d).toOptional()))};var mR=Object.freeze({__proto__:null,dehighlightAll:(o,s,a)=>q3(o,s,0,[]),dehighlight:(o,s,a,l)=>{o2(o,s,a,l)&&(ar(l.element,s.highlightClass),s.onDehighlight(o,l),Vo(l,Im()))},highlight:m0,highlightFirst:(o,s,a)=>{G3(o,s).each(l=>{m0(o,s,a,l)})},highlightLast:(o,s,a)=>{K3(o,s).each(l=>{m0(o,s,a,l)})},highlightAt:(o,s,a,l)=>{((d,f,p,b)=>{const y=qi(d.element,"."+f.itemClass);return O.from(y[b]).fold(()=>re.error(new Error("No element found with index "+b)),d.getSystem().getByDom)})(o,s,0,l).fold(d=>{throw d},d=>{m0(o,s,a,d)})},highlightBy:(o,s,a,l)=>{const d=n2(o,s);H(d,l).each(f=>{m0(o,s,a,f)})},isHighlighted:o2,getHighlighted:(o,s,a)=>$n(o.element,"."+s.highlightClass).bind(l=>o.getSystem().getByDom(l).toOptional()),getFirst:G3,getLast:K3,getPrevious:(o,s,a)=>Yv(o,s,0,-1),getNext:(o,s,a)=>Yv(o,s,0,1),getCandidates:n2}),Y3=[Ge("highlightClass"),Ge("itemClass"),Bo("onHighlight"),Bo("onDehighlight")];const Vn=qt({fields:Y3,name:"highlighting",apis:mR}),pR=[8],cp=[9],gf=[13],Xv=[27],Pc=[32],p0=[37],g0=[38],Jv=[39],vh=[40],gR=(o,s,a)=>{const l=ll(o.slice(0,s)),d=ll(o.slice(s+1));return H(l.concat(d),a)},ly=(o,s,a)=>{const l=ll(o.slice(0,s));return H(l,a)},hR=(o,s,a)=>{const l=o.slice(0,s),d=o.slice(s+1);return H(d.concat(l),a)},r2=(o,s,a)=>{const l=o.slice(s+1);return H(l,a)},wn=o=>s=>{const a=s.raw;return Je(o,a.which)},Lc=o=>s=>mi(o,a=>a(s)),_h=o=>o.raw.shiftKey===!0,bR=o=>o.raw.ctrlKey===!0,h0=gs(_h),An=(o,s)=>({matches:o,classification:s}),X3=(o,s,a)=>{s.exists(l=>a.exists(d=>yn(d,l)))||Vt(o,id(),{prevFocus:s,newFocus:a})},b0=()=>{const o=s=>Ni(s.element);return{get:o,set:(s,a)=>{const l=o(s);s.getSystem().triggerFocus(a,s.element);const d=o(s);X3(s,l,d)}}},yR=()=>{const o=s=>Vn.getHighlighted(s).map(a=>a.element);return{get:o,set:(s,a)=>{const l=o(s);s.getSystem().getByDom(a).fold(qe,f=>{Vn.highlight(s,f)});const d=o(s);X3(s,l,d)}}};var xg;(function(o){o.OnFocusMode="onFocus",o.OnEnterOrSpaceMode="onEnterOrSpace",o.OnApiMode="onApi"})(xg||(xg={}));const kh=(o,s,a,l,d)=>{const f=(b,y,_,E,w)=>{return(A=_(b,y,E,w),P=y.event,H(A,I=>I.matches(P)).map(I=>I.classification)).bind(I=>I(b,y,E,w));var A,P},p={schema:()=>o.concat([Ee("focusManager",b0()),_a("focusInside","onFocus",tc(b=>Je(["onFocus","onEnterOrSpace","onApi"],b)?re.value(b):re.error("Invalid value for focusInside"))),Gr("handler",p),Gr("state",s),Gr("sendFocusIn",d)]),processKey:f,toEvents:(b,y)=>{const _=b.focusInside!==xg.OnFocusMode?O.none():d(b).map(w=>je(Oc(),(A,P)=>{w(A,b,y),P.stop()})),E=[je(qr(),(w,A)=>{f(w,A,a,b,y).fold(()=>{((P,I)=>{const Y=wn(Pc.concat(gf))(I.event);b.focusInside===xg.OnEnterOrSpaceMode&&Y&&no(P,I)&&d(b).each(G=>{G(P,b,y),I.stop()})})(w,A)},P=>{A.stop()})}),je(Bm(),(w,A)=>{f(w,A,l,b,y).each(P=>{A.stop()})})];return ur(_.toArray().concat(E))}};return p},J3=o=>{const s=[tn("onEscape"),tn("onEnter"),Ee("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ee("firstTabstop",0),Ee("useTabstopAt",jt),tn("visibilitySelector")].concat([o]),a=(E,w)=>{const A=E.visibilitySelector.bind(P=>$i(w,P)).getOr(w);return kr(A)>0},l=(E,w)=>w.focusManager.get(E).bind(A=>$i(A,w.selector)),d=(E,w,A)=>{((P,I)=>{const Y=qi(P.element,I.selector),G=So(Y,J=>a(I,J));return O.from(G[I.firstTabstop])})(E,w).each(P=>{w.focusManager.set(E,P)})},f=(E,w,A,P)=>{const I=So(qi(E.element,A.selector),Y=>a(A,Y));return l(E,A).bind(Y=>as(I,ht(yn,Y)).bind(G=>((J,j,Z,te,oe)=>oe(j,Z,ce=>((he,we)=>a(he,we)&&he.useTabstopAt(we))(te,ce)).fold(()=>te.cyclic?O.some(!0):O.none(),ce=>(te.focusManager.set(J,ce),O.some(!0))))(E,I,G,A,P)))},p=(E,w,A)=>{const P=A.cyclic?gR:ly;return f(E,0,A,P)},b=(E,w,A)=>{const P=A.cyclic?hR:r2;return f(E,0,A,P)},y=ue([An(Lc([_h,wn(cp)]),p),An(wn(cp),b),An(Lc([h0,wn(gf)]),(E,w,A)=>A.onEnter.bind(P=>P(E,w)))]),_=ue([An(wn(Xv),(E,w,A)=>A.onEscape.bind(P=>P(E,w))),An(wn(cp),(E,w,A)=>l(E,A).filter(P=>!A.useTabstopAt(P)).bind(P=>((I=>(Y=>es(Y))(I).bind(Fi).exists(Y=>yn(Y,I)))(P)?p:b)(E,w,A)))]);return kh(s,be.init,y,_,()=>O.some(d))};var xR=J3(ia("cyclic",Ie)),vR=J3(ia("cyclic",jt));const cy=(o,s,a)=>iy(a)&&wn(Pc)(s.event)?O.none():((l,d,f)=>(Yu(l,f,Qs()),O.some(!0)))(o,0,a),dy=(o,s)=>O.some(!0),Q3=[Ee("execute",cy),Ee("useSpace",!1),Ee("useEnter",!0),Ee("useControlEnter",!1),Ee("useDown",!1)],y0=(o,s,a)=>a.execute(o,s,o.element);var _R=kh(Q3,be.init,(o,s,a,l)=>{const d=a.useSpace&&!iy(o.element)?Pc:[],f=a.useEnter?gf:[],p=a.useDown?vh:[],b=d.concat(f).concat(p);return[An(wn(b),y0)].concat(a.useControlEnter?[An(Lc([bR,wn(gf)]),y0)]:[])},(o,s,a,l)=>a.useSpace&&!iy(o.element)?[An(wn(Pc),dy)]:[],()=>O.none());const eE=()=>{const o=dn();return Le({readState:()=>o.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,a)=>{o.set({numRows:s,numColumns:a})},getNumRows:()=>o.get().map(s=>s.numRows),getNumColumns:()=>o.get().map(s=>s.numColumns)})};var kR=Object.freeze({__proto__:null,flatgrid:eE,init:o=>o.state(o)});const tE=o=>(s,a,l,d)=>{const f=o(s.element);return oE(f,s,a,l,d)},Qv=(o,s)=>{const a=Ll(o,s);return tE(a)},e_=(o,s)=>{const a=Ll(s,o);return tE(a)},s2=o=>(s,a,l,d)=>oE(o,s,a,l,d),oE=(o,s,a,l,d)=>l.focusManager.get(s).bind(f=>o(s.element,f,l,d)).map(f=>(l.focusManager.set(s,f),!0)),nE=s2,rE=s2,t_=s2,sE=o=>!(s=>s.offsetWidth<=0&&s.offsetHeight<=0)(o.dom),aE=(o,s,a)=>{const l=qi(o,a);return(d=>as(d,f=>yn(f,s)).map(f=>({index:f,candidates:d})))(So(l,sE))},x0=(o,s)=>as(o,a=>yn(s,a)),iE=(o,s,a,l)=>l(Math.floor(s/a),s%a).bind(d=>{const f=d.row*a+d.column;return f>=0&&f<o.length?O.some(o[f]):O.none()}),lE=(o,s,a,l,d)=>iE(o,s,l,(f,p)=>{const b=f===a-1?o.length-f*l:l,y=Gf(p,d,0,b-1);return O.some({row:f,column:y})}),cE=(o,s,a,l,d)=>iE(o,s,l,(f,p)=>{const b=Gf(f,d,0,a-1),y=b===a-1?o.length-b*l:l,_=cc(p,0,y-1);return O.some({row:b,column:_})}),wR=[Ge("selector"),Ee("execute",cy),li("onEscape"),Ee("captureTab",!1),qf()],CR=(o,s,a)=>{$n(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},o_=o=>(s,a,l,d)=>aE(s,a,l.selector).bind(f=>o(f.candidates,f.index,d.getNumRows().getOr(l.initSize.numRows),d.getNumColumns().getOr(l.initSize.numColumns))),dE=(o,s,a)=>a.captureTab?O.some(!0):O.none(),uE=o_((o,s,a,l)=>lE(o,s,a,l,-1)),fE=o_((o,s,a,l)=>lE(o,s,a,l,1)),SR=o_((o,s,a,l)=>cE(o,s,a,l,-1)),ER=o_((o,s,a,l)=>cE(o,s,a,l,1)),zR=ue([An(wn(p0),Qv(uE,fE)),An(wn(Jv),e_(uE,fE)),An(wn(g0),nE(SR)),An(wn(vh),rE(ER)),An(Lc([_h,wn(cp)]),dE),An(Lc([h0,wn(cp)]),dE),An(wn(Pc.concat(gf)),(o,s,a,l)=>((d,f)=>f.focusManager.get(d).bind(p=>$i(p,f.selector)))(o,a).bind(d=>a.execute(o,s,d)))]),mE=ue([An(wn(Xv),(o,s,a)=>a.onEscape(o,s)),An(wn(Pc),dy)]);var TR=kh(wR,eE,zR,mE,()=>O.some(CR));const pE=(o,s,a,l,d)=>{const f=(p,b,y)=>d(p,b,l,0,y.length-1,y[b],_=>{return E=y[_],Pa(E)==="button"&&ls(E,"disabled")==="disabled"?f(p,_,y):O.from(y[_]);var E});return aE(o,a,s).bind(p=>{const b=p.index,y=p.candidates;return f(b,b,y)})},gE=(o,s,a,l)=>pE(o,s,a,l,(d,f,p,b,y,_,E)=>{const w=cc(f+p,b,y);return w===d?O.from(_):E(w)}),n_=(o,s,a,l)=>pE(o,s,a,l,(d,f,p,b,y,_,E)=>{const w=Gf(f,p,b,y);return w===d?O.none():E(w)}),hE=[Ge("selector"),Ee("getInitial",O.none),Ee("execute",cy),li("onEscape"),Ee("executeOnMove",!1),Ee("allowVertical",!0),Ee("allowHorizontal",!0),Ee("cycles",!0)],a2=(o,s,a)=>((l,d)=>d.focusManager.get(l).bind(f=>$i(f,d.selector)))(o,a).bind(l=>a.execute(o,s,l)),OR=(o,s,a)=>{s.getInitial(o).orThunk(()=>$n(o.element,s.selector)).each(l=>{s.focusManager.set(o,l)})},bE=(o,s,a)=>(a.cycles?n_:gE)(o,a.selector,s,-1),yE=(o,s,a)=>(a.cycles?n_:gE)(o,a.selector,s,1),xE=o=>(s,a,l,d)=>o(s,a,l,d).bind(()=>l.executeOnMove?a2(s,a,l):O.some(!0)),vE=ue([An(wn(Pc),dy),An(wn(Xv),(o,s,a)=>a.onEscape(o,s))]);var AR=kh(hE,be.init,(o,s,a,l)=>{const d=[...a.allowHorizontal?p0:[]].concat(a.allowVertical?g0:[]),f=[...a.allowHorizontal?Jv:[]].concat(a.allowVertical?vh:[]);return[An(wn(d),xE(Qv(bE,yE))),An(wn(f),xE(e_(bE,yE))),An(wn(gf),a2),An(wn(Pc),a2)]},vE,()=>O.some(OR));const r_=(o,s,a)=>O.from(o[s]).bind(l=>O.from(l[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),_E=(o,s,a,l)=>{const d=o[s].length,f=Gf(a,l,0,d-1);return r_(o,s,f)},i2=(o,s,a,l)=>{const d=Gf(a,l,0,o.length-1),f=o[d].length,p=cc(s,0,f-1);return r_(o,d,p)},s_=(o,s,a,l)=>{const d=o[s].length,f=cc(a+l,0,d-1);return r_(o,s,f)},kE=(o,s,a,l)=>{const d=cc(a+l,0,o.length-1),f=o[d].length,p=cc(s,0,f-1);return r_(o,d,p)},NR=[ml("selectors",[Ge("row"),Ge("cell")]),Ee("cycles",!0),Ee("previousSelector",O.none),Ee("execute",cy)],RR=(o,s,a)=>{s.previousSelector(o).orThunk(()=>{const l=s.selectors;return $n(o.element,l.cell)}).each(l=>{s.focusManager.set(o,l)})},wh=(o,s)=>(a,l,d)=>{const f=d.cycles?o:s;return $i(l,d.selectors.row).bind(p=>{const b=qi(p,d.selectors.cell);return x0(b,l).bind(y=>{const _=qi(a,d.selectors.row);return x0(_,p).bind(E=>{const w=((A,P)=>Se(A,I=>qi(I,P.selectors.cell)))(_,d);return f(w,E,y).map(A=>A.cell)})})})},wE=wh((o,s,a)=>_E(o,s,a,-1),(o,s,a)=>s_(o,s,a,-1)),l2=wh((o,s,a)=>_E(o,s,a,1),(o,s,a)=>s_(o,s,a,1)),CE=wh((o,s,a)=>i2(o,a,s,-1),(o,s,a)=>kE(o,a,s,-1)),SE=wh((o,s,a)=>i2(o,a,s,1),(o,s,a)=>kE(o,a,s,1)),EE=ue([An(wn(p0),Qv(wE,l2)),An(wn(Jv),e_(wE,l2)),An(wn(g0),nE(CE)),An(wn(vh),rE(SE)),An(wn(Pc.concat(gf)),(o,s,a)=>Ni(o.element).bind(l=>a.execute(o,s,l)))]),zE=ue([An(wn(Pc),dy)]);var DR=kh(NR,be.init,EE,zE,()=>O.some(RR));const MR=[Ge("selector"),Ee("execute",cy),Ee("moveOnTab",!1)],TE=(o,s,a)=>a.focusManager.get(o).bind(l=>a.execute(o,s,l)),BR=(o,s,a)=>{$n(o.element,s.selector).each(l=>{s.focusManager.set(o,l)})},OE=(o,s,a)=>n_(o,a.selector,s,-1),vg=(o,s,a)=>n_(o,a.selector,s,1),PR=ue([An(wn(g0),t_(OE)),An(wn(vh),t_(vg)),An(Lc([_h,wn(cp)]),(o,s,a,l)=>a.moveOnTab?t_(OE)(o,s,a,l):O.none()),An(Lc([h0,wn(cp)]),(o,s,a,l)=>a.moveOnTab?t_(vg)(o,s,a,l):O.none()),An(wn(gf),TE),An(wn(Pc),TE)]),LR=ue([An(wn(Pc),dy)]);var IR=kh(MR,be.init,PR,LR,()=>O.some(BR));const FR=[li("onSpace"),li("onEnter"),li("onShiftEnter"),li("onLeft"),li("onRight"),li("onTab"),li("onShiftTab"),li("onUp"),li("onDown"),li("onEscape"),Ee("stopSpaceKeyup",!1),tn("focusIn")];var AE=kh(FR,be.init,(o,s,a)=>[An(wn(Pc),a.onSpace),An(Lc([h0,wn(gf)]),a.onEnter),An(Lc([_h,wn(gf)]),a.onShiftEnter),An(Lc([_h,wn(cp)]),a.onShiftTab),An(Lc([h0,wn(cp)]),a.onTab),An(wn(g0),a.onUp),An(wn(vh),a.onDown),An(wn(p0),a.onLeft),An(wn(Jv),a.onRight),An(wn(Pc),a.onSpace)],(o,s,a)=>[...a.stopSpaceKeyup?[An(wn(Pc),dy)]:[],An(wn(Xv),a.onEscape)],o=>o.focusIn);const HR=xR.schema(),$R=vR.schema(),NE=AR.schema(),v0=TR.schema(),_0=DR.schema(),VR=_R.schema(),c2=IR.schema(),UR=AE.schema(),Gt=or({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:HR,cyclic:$R,flow:NE,flatgrid:v0,matrix:_0,execution:VR,menu:c2,special:UR}),name:"keying",active:{events:(o,s)=>o.handler.toEvents(o,s)},apis:{focusIn:(o,s,a)=>{s.sendFocusIn(s).fold(()=>{o.getSystem().triggerFocus(o.element,o.element)},l=>{l(o,s,a)})},setGridSize:(o,s,a,l,d)=>{(f=>Fo(f,"setGridSize"))(a)?a.setGridSize(l,d):console.error("Layout does not support setGridSize")}},state:kR}),d2=(o,s)=>{lh(()=>{((a,l,d)=>{const f=a.components();(y=>{tt(y.components(),_=>Ol(_.element)),js(y.element),y.syncComponents()})(a);const p=d(l),b=on(f,p);tt(b,y=>{Gd(y),a.getSystem().removeFromWorld(y)}),tt(p,y=>{Dc(y)?oy(a,y):(a.getSystem().addToWorld(y),oy(a,y),Wn(a.element)&&hg(y))}),a.syncComponents()})(o,s,()=>Se(s,o.getSystem().build))},o.element)},u2=(o,s)=>{lh(()=>{((a,l)=>{const d=a.components(),f=Xo(l,y=>Db(y).toArray());tt(d,y=>{Je(f,y)||yh(y)});const p=((y,_,E)=>dc(y,_,(w,A)=>Zm(y,A,w,E)))(o.element,s,o.getSystem().buildOrPatch),b=on(d,p);tt(b,y=>{Dc(y)&&yh(y)}),tt(p,y=>{Dc(y)||sp(a,y)}),a.syncComponents()})(o,s)},o.element)},jR=(o,s,a,l)=>{yh(s);const d=Zm(o.element,a,l,o.getSystem().buildOrPatch);sp(o,d),o.syncComponents()},f2=(o,s,a)=>{const l=o.getSystem().build(a);ny(o,l,s)},ZR=(o,s,a,l)=>{ku(s),f2(o,(d,f)=>((p,b,y)=>{cr(p,y).fold(()=>{ha(p,b)},_=>{La(_,b)})})(d,f,a),l)},dp=(o,s)=>o.components(),_g=(o,s,a,l,d)=>{const f=dp(o);return O.from(f[l]).map(p=>(d.fold(()=>ku(p),b=>{(s.reuseDom?jR:ZR)(o,p,l,b)}),p))};var a_=Object.freeze({__proto__:null,append:(o,s,a,l)=>{f2(o,ha,l)},prepend:(o,s,a,l)=>{f2(o,Tm,l)},remove:(o,s,a,l)=>{const d=dp(o);H(d,p=>yn(l.element,p.element)).each(ku)},replaceAt:_g,replaceBy:(o,s,a,l,d)=>{const f=dp(o);return as(f,l).bind(p=>_g(o,s,0,p,d))},set:(o,s,a,l)=>(s.reuseDom?u2:d2)(o,l),contents:dp});const bo=qt({fields:[Js("reuseDom",!0)],name:"replacing",apis:a_}),ko=(o,s)=>{const a=((l,d)=>{const f=ur(d);return qt({fields:[Ge("enabled")],name:l,active:{events:ue(f)}})})(o,s);return{key:o,value:{config:{},me:a,configAsRaw:ue({}),initialConfig:{},state:be}}},up=(o,s)=>{s.ignore||(Da(o.element),s.onFocus(o))};var tm=Object.freeze({__proto__:null,focus:up,blur:(o,s)=>{s.ignore||ig(o.element)},isFocused:o=>dd(o.element)}),m2=Object.freeze({__proto__:null,exhibit:(o,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return k(a)},events:o=>ur([je(Oc(),(s,a)=>{up(s,o),a.stop()})].concat(o.stopMousedown?[je(Na(),(s,a)=>{a.event.prevent()})]:[]))}),RE=[Bo("onFocus"),Ee("stopMousedown",!1),Ee("ignore",!1)];const go=qt({fields:RE,name:"focusing",active:m2,apis:tm}),uy=(o,s,a,l)=>{const d=a.get();a.set(l),((f,p,b)=>{p.toggleClass.each(y=>{b.get()?Er(f.element,y):ar(f.element,y)})})(o,s,a),((f,p,b)=>{const y=p.aria;y.update(f,y,b.get())})(o,s,a),d!==l&&s.onToggled(o,l)},fy=(o,s,a)=>{uy(o,s,a,!a.get())},my=(o,s,a)=>{uy(o,s,a,s.selected)};var p2=Object.freeze({__proto__:null,onLoad:my,toggle:fy,isOn:(o,s,a)=>a.get(),on:(o,s,a)=>{uy(o,s,a,!0)},off:(o,s,a)=>{uy(o,s,a,!1)},set:uy}),DE=Object.freeze({__proto__:null,exhibit:()=>k({}),events:(o,s)=>{const a=(l=o,d=s,f=fy,Zd(b=>{f(b,l,d)}));var l,d,f;const p=T(o,s,my);return ur(sr([o.toggleOnExecute?[a]:[],[p]]))}});const py=(o,s,a)=>{io(o.element,"aria-expanded",a)};var i_=[Ee("selected",!1),tn("toggleClass"),Ee("toggleOnExecute",!0),Bo("onToggled"),_a("aria",{mode:"none"},$a("mode",{pressed:[Ee("syncWithExpanded",!1),Gr("update",(o,s,a)=>{io(o.element,"aria-pressed",a),s.syncWithExpanded&&py(o,0,a)})],checked:[Gr("update",(o,s,a)=>{io(o.element,"aria-checked",a)})],expanded:[Gr("update",py)],selected:[Gr("update",(o,s,a)=>{io(o.element,"aria-selected",a)})],none:[Gr("update",qe)]}))];const jo=qt({fields:i_,name:"toggling",active:DE,apis:p2,state:(k0=!1,{init:()=>{const o=Mt(k0);return{get:()=>o.get(),set:s=>o.set(s),clear:()=>o.set(k0),readState:()=>o.get()}}})});var k0;const w0=()=>{const o=(s,a)=>{a.stop(),Zi(s)};return[je(zc(),o),je(rd(),o),ac(Ln()),ac(Na())]},l_=o=>ur(sr([o.map(s=>Zd((a,l)=>{s(a),l.stop()})).toArray(),w0()])),hf="alloy.item-hover",g2="alloy.item-focus",c_="alloy.item-toggled",Ch=o=>{(Ni(o.element).isNone()||go.isFocused(o))&&(go.isFocused(o)||go.focus(o),Vt(o,hf,{item:o}))},h2=o=>{Vt(o,g2,{item:o})},C0=ue(hf),WR=ue(g2),ME=ue(c_),BE=o=>o.role.fold(()=>o.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Et),qR=[Ge("data"),Ge("components"),Ge("dom"),Ee("hasSubmenu",!1),tn("toggling"),tn("role"),Qe("itemBehaviours",[jo,go,Gt,se]),Ee("ignoreFocus",!1),Ee("domModification",{}),Gr("builder",o=>({dom:o.dom,domModification:{...o.domModification,attributes:{role:BE(o),...o.domModification.attributes,"aria-haspopup":o.hasSubmenu,...o.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:rt(o.itemBehaviours,[o.toggling.fold(jo.revoke,s=>jo.config(((a,l)=>({aria:{mode:l?"selected":"checked"},...Fn(a,(d,f)=>f!=="exclusive"),onToggled:(d,f)=>{Kt(a.onToggled)&&a.onToggled(d,f),((p,b)=>{Vt(p,c_,{item:p,state:b})})(d,f)}}))(s,o.role.exists(a=>a==="option")))),go.config({ignore:o.ignoreFocus,stopMousedown:o.ignoreFocus,onFocus:s=>{h2(s)}}),Gt.config({mode:"execution"}),se.config({store:{mode:"memory",initialValue:o.data}}),ko("item-type-events",[...w0(),je(zi(),Ch),je(Pm(),go.focus)])]),components:o.components,eventOrder:o.eventOrder})),Ee("eventOrder",{})],b2=[Ge("dom"),Ge("components"),Gr("builder",o=>({dom:o.dom,components:o.components,events:ur([Ml(Pm())])}))],Eu=ue("item-widget"),y2=ue([ol({name:"widget",overrides:o=>({behaviours:ye([se.config({store:{mode:"manual",getValue:s=>o.data,setValue:qe}})])})})]),GR=[Ge("uid"),Ge("data"),Ge("components"),Ge("dom"),Ee("autofocus",!1),Ee("ignoreFocus",!1),Qe("widgetBehaviours",[se,go,Gt]),Ee("domModification",{}),Jw(y2()),Gr("builder",o=>{const s=Kw(Eu(),o,y2()),a=u0(Eu(),o,s.internals()),l=f=>Pr(f,o,"widget").map(p=>(Gt.focusIn(p),p)),d=(f,p)=>(iy(p.event.target)||o.autofocus&&p.setSource(f.element),O.none());return{dom:o.dom,components:a,domModification:o.domModification,events:ur([Zd((f,p)=>{l(f).each(b=>{p.stop()})}),je(zi(),Ch),je(Pm(),(f,p)=>{o.autofocus?l(f):go.focus(f)})]),behaviours:rt(o.widgetBehaviours,[se.config({store:{mode:"memory",initialValue:o.data}}),go.config({ignore:o.ignoreFocus,onFocus:f=>{h2(f)}}),Gt.config({mode:"special",focusIn:o.autofocus?f=>{l(f)}:nr(),onLeft:d,onRight:d,onEscape:(f,p)=>go.isFocused(f)||o.autofocus?(o.autofocus&&p.setSource(f.element),O.none()):(go.focus(f),O.some(!0))})])}})],PE=$a("type",{widget:GR,item:qR,separator:b2}),LE=ue([jv({factory:{sketch:o=>{const s=va("menu.spec item",PE,o);return s.builder(s)}},name:"items",unit:"item",defaults:(o,s)=>_o(s,"uid")?s:{...s,uid:ng("item")},overrides:(o,s)=>({type:s.type,ignoreFocus:o.fakeFocus,domModification:{classes:[o.markers.item]}})})]),IE=ue([Ur("role"),Ge("value"),Ge("items"),Ge("dom"),Ge("components"),Ee("eventOrder",{}),ke("menuBehaviours",[Vn,se,_n,Gt]),_a("movement",{mode:"menu",moveOnTab:!0},$a("mode",{grid:[qf(),Gr("config",(o,s)=>({mode:"flatgrid",selector:"."+o.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:o.focusManager}))],matrix:[Gr("config",(o,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+o.markers.item},previousSelector:s.previousSelector,focusManager:o.focusManager})),Ge("rowSelector"),Ee("previousSelector",O.none)],menu:[Ee("moveOnTab",!0),Gr("config",(o,s)=>({mode:"menu",selector:"."+o.markers.item,moveOnTab:s.moveOnTab,focusManager:o.focusManager}))]})),Xs("markers",gv()),Ee("fakeFocus",!1),Ee("focusManager",b0()),Bo("onHighlight"),Bo("onDehighlight"),Ee("showMenuRole",!0)]),FE=ue("alloy.menu-focus"),fp=_l({name:"Menu",configFields:IE(),partFields:LE(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Fe(o.menuBehaviours,[Vn.config({highlightClass:o.markers.selectedItem,itemClass:o.markers.item,onHighlight:o.onHighlight,onDehighlight:o.onDehighlight}),se.config({store:{mode:"memory",initialValue:o.value}}),_n.config({find:O.some}),Gt.config(o.movement.config(o,o.movement))]),events:ur([je(WR(),(d,f)=>{const p=f.event;d.getSystem().getByDom(p.target).each(b=>{Vn.highlight(d,b),f.stop(),Vt(d,FE(),{menu:d,item:b})})}),je(C0(),(d,f)=>{const p=f.event.item;Vn.highlight(d,p)}),je(ME(),(d,f)=>{const{item:p,state:b}=f.event;b&&ls(p.element,"role")==="menuitemradio"&&((y,_)=>{const E=qi(y.element,'[role="menuitemradio"][aria-checked="true"]');tt(E,w=>{yn(w,_.element)||y.getSystem().getByDom(w).each(A=>{jo.off(A)})})})(d,p)})]),components:s,eventOrder:o.eventOrder,...o.showMenuRole?{domModification:{attributes:{role:o.role.getOr("menu")}}}:{}})}),bd=(o,s,a,l)=>dt(a,l).bind(d=>dt(o,d).bind(f=>{const p=bd(o,s,a,f);return O.some([f].concat(p))})).getOr([]),Sh=o=>o.type==="prepared"?O.some(o.menu):O.none(),HE=()=>{const o=Mt({}),s=Mt({}),a=Mt({}),l=dn(),d=Mt({}),f=y=>p(y).bind(Sh),p=y=>dt(s.get(),y),b=y=>dt(o.get(),y);return{setMenuBuilt:(y,_)=>{s.set({...s.get(),[y]:{type:"prepared",menu:_}})},setContents:(y,_,E,w)=>{l.set(y),o.set(E),s.set(_),d.set(w);const A=((P,I)=>{const Y={};Qn(P,(Z,te)=>{tt(Z,oe=>{Y[oe]=te})});const G=I,J=Kn(I,(Z,te)=>({k:Z,v:te})),j=Rn(J,(Z,te)=>[te].concat(bd(Y,G,J,te)));return Rn(Y,Z=>dt(j,Z).getOr([Z]))})(w,E);a.set(A)},expand:y=>dt(o.get(),y).map(_=>{const E=dt(a.get(),y).getOr([]);return[_].concat(E)}),refresh:y=>dt(a.get(),y),collapse:y=>dt(a.get(),y).bind(_=>_.length>1?O.some(_.slice(1)):O.none()),lookupMenu:p,lookupItem:b,otherMenus:y=>{const _=d.get();return on(qo(_),y)},getPrimary:()=>l.get().bind(f),getMenus:()=>s.get(),clear:()=>{o.set({}),s.set({}),a.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(y,_)=>{const E=So(b(y).toArray(),w=>f(w).isSome());return dt(a.get(),y).bind(w=>{const A=ll(E.concat(w));return(P=>{const I=[];for(let Y=0;Y<P.length;Y++){const G=P[Y];if(!G.isSome())return O.none();I.push(G.getOrDie())}return O.some(I)})(Xo(A,(P,I)=>((Y,G,J)=>f(Y).bind(j=>(Z=>Qo(o.get(),(te,oe)=>te===Z))(Y).bind(Z=>G(Z).map(te=>({triggeredMenu:j,triggeringItem:te,triggeringPath:J})))))(P,_,A.slice(0,I+1)).fold(()=>Ks(l.get(),P)?[]:[O.none()],Y=>[O.some(Y)])))})}}},gy=Sh,Il=wt("tiered-menu-item-highlight"),gc=wt("tiered-menu-item-dehighlight");var ss;(function(o){o[o.HighlightMenuAndItem=0]="HighlightMenuAndItem",o[o.HighlightJustMenu=1]="HighlightJustMenu",o[o.HighlightNone=2]="HighlightNone"})(ss||(ss={}));const zu=ue("collapse-item"),mp=hd({name:"TieredMenu",configFields:[B1("onExecute"),B1("onEscape"),rf("onOpenMenu"),rf("onOpenSubmenu"),Bo("onRepositionMenu"),Bo("onCollapseMenu"),Ee("highlightOnOpen",ss.HighlightMenuAndItem),ml("data",[Ge("primary"),Ge("menus"),Ge("expansions")]),Ee("fakeFocus",!1),Bo("onHighlightItem"),Bo("onDehighlightItem"),Bo("onHover"),th(),Ge("dom"),Ee("navigateOnHover",!0),Ee("stayInDom",!1),ke("tmenuBehaviours",[Gt,Vn,_n,bo]),Ee("eventOrder",{})],apis:{collapseMenu:(o,s)=>{o.collapseMenu(s)},highlightPrimary:(o,s)=>{o.highlightPrimary(s)},repositionMenus:(o,s)=>{o.repositionMenus(s)}},factory:(o,s)=>{const a=dn(),l=HE(),d=Z=>se.getValue(Z).value,f=Z=>Rn(o.data.menus,(te,oe)=>Xo(te.items,ce=>ce.type==="separator"?[]:[ce.data.value])),p=Vn.highlight,b=(Z,te)=>{p(Z,te),Vn.getHighlighted(te).orThunk(()=>Vn.getFirst(te)).each(oe=>{o.fakeFocus?Vn.highlight(te,oe):Yu(Z,oe.element,Pm())})},y=(Z,te)=>pi(Se(te,oe=>Z.lookupMenu(oe).bind(ce=>ce.type==="prepared"?O.some(ce.menu):O.none()))),_=(Z,te,oe)=>{const ce=y(te,te.otherMenus(oe));tt(ce,he=>{ai(he.element,[o.markers.backgroundMenu]),o.stayInDom||bo.remove(Z,he)})},E=(Z,te)=>{const oe=(ce=>a.get().getOrThunk(()=>{const he={},we=qi(ce.element,`.${o.markers.item}`),Ae=So(we,Ue=>ls(Ue,"aria-haspopup")==="true");return tt(Ae,Ue=>{ce.getSystem().getByDom(Ue).each(Ve=>{const Ye=d(Ve);he[Ye]=Ve})}),a.set(he),he}))(Z);Qn(oe,(ce,he)=>{const we=Je(te,he);io(ce.element,"aria-expanded",we)})},w=(Z,te,oe)=>O.from(oe[0]).bind(ce=>te.lookupMenu(ce).bind(he=>{if(he.type==="notbuilt")return O.none();{const we=he.menu,Ae=y(te,oe.slice(1));return tt(Ae,Ue=>{Er(Ue.element,o.markers.backgroundMenu)}),Wn(we.element)||bo.append(Z,Bl(we)),ai(we.element,[o.markers.backgroundMenu]),b(Z,we),_(Z,te,oe),O.some(we)}}));let A;(function(Z){Z[Z.HighlightSubmenu=0]="HighlightSubmenu",Z[Z.HighlightParent=1]="HighlightParent"})(A||(A={}));const P=(Z,te,oe=A.HighlightSubmenu)=>{if(te.hasConfigured(Wt)&&Wt.isDisabled(te))return O.some(te);{const ce=d(te);return l.expand(ce).bind(he=>(E(Z,he),O.from(he[0]).bind(we=>l.lookupMenu(we).bind(Ae=>{const Ue=((Ve,Ye,ft)=>{if(ft.type==="notbuilt"){const Ut=Ve.getSystem().build(ft.nbMenu());return l.setMenuBuilt(Ye,Ut),Ut}return ft.menu})(Z,we,Ae);return Wn(Ue.element)||bo.append(Z,Bl(Ue)),o.onOpenSubmenu(Z,te,Ue,ll(he)),oe===A.HighlightSubmenu?(Vn.highlightFirst(Ue),w(Z,l,he)):(Vn.dehighlightAll(Ue),O.some(te))}))))}},I=(Z,te)=>{const oe=d(te);return l.collapse(oe).bind(ce=>(E(Z,ce),w(Z,l,ce).map(he=>(o.onCollapseMenu(Z,te,he),he))))},Y=Z=>(te,oe)=>$i(oe.getSource(),`.${o.markers.item}`).bind(ce=>te.getSystem().getByDom(ce).toOptional().bind(he=>Z(te,he).map(jt))),G=ur([je(FE(),(Z,te)=>{const oe=te.event.item;l.lookupItem(d(oe)).each(()=>{const ce=te.event.menu;Vn.highlight(Z,ce);const he=d(te.event.item);l.refresh(he).each(we=>_(Z,l,we))})}),Zd((Z,te)=>{const oe=te.event.target;Z.getSystem().getByDom(oe).each(ce=>{d(ce).indexOf("collapse-item")===0&&I(Z,ce),P(Z,ce,A.HighlightSubmenu).fold(()=>{o.onExecute(Z,ce)},qe)})}),Xn((Z,te)=>{(oe=>{const ce=((we,Ae,Ue)=>Rn(Ue,(Ve,Ye)=>{const ft=()=>fp.sketch({...Ve,value:Ye,markers:o.markers,fakeFocus:o.fakeFocus,onHighlight:(Ut,Yt)=>{Vt(Ut,Il,{menuComp:Ut,itemComp:Yt})},onDehighlight:(Ut,Yt)=>{Vt(Ut,gc,{menuComp:Ut,itemComp:Yt})},focusManager:o.fakeFocus?yR():b0()});return Ye===Ae?{type:"prepared",menu:we.getSystem().build(ft())}:{type:"notbuilt",nbMenu:ft}}))(oe,o.data.primary,o.data.menus),he=f();return l.setContents(o.data.primary,ce,o.data.expansions,he),l.getPrimary()})(Z).each(oe=>{bo.append(Z,Bl(oe)),o.onOpenMenu(Z,oe),o.highlightOnOpen===ss.HighlightMenuAndItem?b(Z,oe):o.highlightOnOpen===ss.HighlightJustMenu&&p(Z,oe)})}),je(Il,(Z,te)=>{o.onHighlightItem(Z,te.event.menuComp,te.event.itemComp)}),je(gc,(Z,te)=>{o.onDehighlightItem(Z,te.event.menuComp,te.event.itemComp)}),...o.navigateOnHover?[je(C0(),(Z,te)=>{const oe=te.event.item;((ce,he)=>{const we=d(he);l.refresh(we).bind(Ae=>(E(ce,Ae),w(ce,l,Ae)))})(Z,oe),P(Z,oe,A.HighlightParent),o.onHover(Z,oe)})]:[]]),J=Z=>Vn.getHighlighted(Z).bind(Vn.getHighlighted),j={collapseMenu:Z=>{J(Z).each(te=>{I(Z,te)})},highlightPrimary:Z=>{l.getPrimary().each(te=>{b(Z,te)})},repositionMenus:Z=>{l.getPrimary().bind(oe=>J(Z).bind(ce=>{const he=d(ce),we=Gs(l.getMenus()),Ae=pi(Se(we,gy));return l.getTriggeringPath(he,Ue=>((Ve,Ye,ft)=>fo(Ye,Ut=>{if(!Ut.getSystem().isConnected())return O.none();const Yt=Vn.getCandidates(Ut);return H(Yt,ro=>d(ro)===ft)}))(0,Ae,Ue))}).map(ce=>({primary:oe,triggeringPath:ce}))).fold(()=>{(oe=>O.from(oe.components()[0]).filter(ce=>ls(ce.element,"role")==="menu"))(Z).each(oe=>{o.onRepositionMenu(Z,oe,[])})},({primary:oe,triggeringPath:ce})=>{o.onRepositionMenu(Z,oe,ce)})}};return{uid:o.uid,dom:o.dom,markers:o.markers,behaviours:Fe(o.tmenuBehaviours,[Gt.config({mode:"special",onRight:Y((Z,te)=>iy(te.element)?O.none():P(Z,te,A.HighlightSubmenu)),onLeft:Y((Z,te)=>iy(te.element)?O.none():I(Z,te)),onEscape:Y((Z,te)=>I(Z,te).orThunk(()=>o.onEscape(Z,te).map(()=>Z))),focusIn:(Z,te)=>{l.getPrimary().each(oe=>{Yu(Z,oe.element,Pm())})}}),Vn.config({highlightClass:o.markers.selectedMenu,itemClass:o.markers.menu}),_n.config({find:Z=>Vn.getHighlighted(Z)}),bo.config({})]),eventOrder:o.eventOrder,apis:j,events:G}},extraApis:{tieredData:(o,s,a)=>({primary:o,menus:s,expansions:a}),singleData:(o,s)=>({primary:o,menus:M(o,s),expansions:{}}),collapseItem:o=>({value:wt(zu()),meta:{text:o}})}}),Gn=hd({name:"InlineView",configFields:[Ge("lazySink"),Bo("onShow"),Bo("onHide"),Oa("onEscape"),ke("inlineBehaviours",[xn,se,Pl]),un("fireDismissalEventInstead",[Ee("event",Gu())]),un("fireRepositionEventInstead",[Ee("event",sc())]),Ee("getRelated",O.none),Ee("isExtraPart",Ie),Ee("eventOrder",O.none)],factory:(o,s)=>{const a=(p,b,y,_)=>{const E=o.lazySink(p).getOrDie();xn.openWhileCloaked(p,b,()=>ps.positionWithinBounds(E,p,y,_())),se.setValue(p,O.some({mode:"position",config:y,getBounds:_}))},l=(p,b,y,_)=>{const E=((w,A,P,I,Y)=>{const G=()=>w.lazySink(A),J=I.type==="horizontal"?{layouts:{onLtr:()=>Hb(),onRtl:()=>$b()}}:{},j=Z=>(te=>te.length===2)(Z)?J:{};return mp.sketch({dom:{tag:"div"},data:I.data,markers:I.menu.markers,highlightOnOpen:I.menu.highlightOnOpen,fakeFocus:I.menu.fakeFocus,onEscape:()=>(xn.close(A),w.onEscape.map(Z=>Z(A)),O.some(!0)),onExecute:()=>O.some(!0),onOpenMenu:(Z,te)=>{ps.positionWithinBounds(G().getOrDie(),te,P,Y())},onOpenSubmenu:(Z,te,oe,ce)=>{const he=G().getOrDie();ps.position(he,oe,{anchor:{type:"submenu",item:te,...j(ce)}})},onRepositionMenu:(Z,te,oe)=>{const ce=G().getOrDie();ps.positionWithinBounds(ce,te,P,Y()),tt(oe,he=>{const we=j(he.triggeringPath);ps.position(ce,he.triggeredMenu,{anchor:{type:"submenu",item:he.triggeringItem,...we}})})}})})(o,p,b,y,_);xn.open(p,E),se.setValue(p,O.some({mode:"menu",menu:E}))},d=p=>{xn.isOpen(p)&&se.getValue(p).each(b=>{switch(b.mode){case"menu":xn.getState(p).each(mp.repositionMenus);break;case"position":const y=o.lazySink(p).getOrDie();ps.positionWithinBounds(y,p,b.config,b.getBounds())}})},f={setContent:(p,b)=>{xn.setContent(p,b)},showAt:(p,b,y)=>{const _=O.none;a(p,b,y,_)},showWithinBounds:a,showMenuAt:(p,b,y)=>{l(p,b,y,O.none)},showMenuWithinBounds:l,hide:p=>{xn.isOpen(p)&&(se.setValue(p,O.none()),xn.close(p))},getContent:p=>xn.getState(p),reposition:d,isOpen:xn.isOpen};return{uid:o.uid,dom:o.dom,behaviours:Fe(o.inlineBehaviours,[xn.config({isPartOf:(p,b,y)=>Wm(b,y)||((_,E)=>o.getRelated(_).exists(w=>Wm(w,E)))(p,y),getAttachPoint:p=>o.lazySink(p).getOrDie(),onOpen:p=>{o.onShow(p)},onClose:p=>{o.onHide(p)}}),se.config({store:{mode:"memory",initialValue:O.none()}}),Pl.config({channels:{...d0({isExtraPart:s.isExtraPart,...o.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...h({...o.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:d})}})]),eventOrder:o.eventOrder,apis:f}},apis:{showAt:(o,s,a,l)=>{o.showAt(s,a,l)},showWithinBounds:(o,s,a,l,d)=>{o.showWithinBounds(s,a,l,d)},showMenuAt:(o,s,a,l)=>{o.showMenuAt(s,a,l)},showMenuWithinBounds:(o,s,a,l,d)=>{o.showMenuWithinBounds(s,a,l,d)},hide:(o,s)=>{o.hide(s)},isOpen:(o,s)=>o.isOpen(s),getContent:(o,s)=>o.getContent(s),setContent:(o,s,a)=>{o.setContent(s,a)},reposition:(o,s)=>{o.reposition(s)}}});var nl,S0,d_=tinymce.util.Tools.resolve("tinymce.util.Delay"),E0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$E=tinymce.util.Tools.resolve("tinymce.EditorManager"),Eh=tinymce.util.Tools.resolve("tinymce.Env");(function(o){o.default="wrap",o.floating="floating",o.sliding="sliding",o.scrolling="scrolling"})(nl||(nl={})),function(o){o.auto="auto",o.top="top",o.bottom="bottom"}(S0||(S0={}));const Jn=o=>s=>s.options.get(o),hy=o=>s=>O.from(o(s)),VE=o=>{const s=Eh.deviceType.isPhone(),a=Eh.deviceType.isTablet()||s,l=o.options.register,d=p=>Dt(p)||p===!1,f=p=>Dt(p)||Go(p);l("skin",{processor:p=>Dt(p)||p===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:f,default:Math.max(o.getElement().offsetHeight,400)}),l("width",{processor:f,default:E0.DOM.getStyle(o.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:p=>Dt(p)||Cn(p),default:!s}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:p=>Cn(p)||Dt(p)||Po(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Bi(9,p=>{l("toolbar"+(p+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:S0.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:o.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:d,default:"#top"}),l("anchor_bottom",{processor:d,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:p=>p==="both"||Cn(p),default:!Eh.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:o.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},UE=Jn("readonly"),u_=Jn("disabled"),x2=Jn("height"),f_=Jn("width"),m_=hy(Jn("min_width")),z0=hy(Jn("min_height")),T0=hy(Jn("max_width")),v2=hy(Jn("max_height")),jE=hy(Jn("style_formats")),ZE=Jn("style_formats_merge"),WE=Jn("style_formats_autohide"),qE=Jn("content_langs"),GE=Jn("removed_menuitems"),kl=Jn("toolbar_mode"),KR=Jn("toolbar_groups"),by=Jn("toolbar_location"),zh=Jn("fixed_toolbar_container"),_2=Jn("fixed_toolbar_container_target"),p_=Jn("toolbar_persist"),KE=Jn("toolbar_sticky_offset"),YE=Jn("menubar"),g_=Jn("toolbar"),XE=Jn("file_picker_callback"),k2=Jn("file_picker_validator_handler"),Th=Jn("font_size_input_default_unit"),yy=Jn("file_picker_types"),JE=Jn("typeahead_urls"),QE=Jn("anchor_top"),w2=Jn("anchor_bottom"),h_=Jn("draggable_modal"),b_=Jn("statusbar"),y_=Jn("elementpath"),xy=Jn("branding"),x_=Jn("resize"),C2=Jn("paste_as_text"),vy=Jn("sidebar_show"),v_=Jn("promotion"),ez=Jn("help_accessibility"),S2=Jn("default_font_stack"),tz=Jn("skin"),__=o=>o.options.get("skin")===!1,_y=o=>o.options.get("menubar")!==!1,Oh=o=>{const s=o.options.get("skin_url");if(__(o))return s;if(s)return o.documentBaseURI.toAbsolute(s);{const a=o.options.get("skin");return $E.baseURL+"/skins/ui/"+a}},k_=o=>o.options.get("line_height_formats").split(" "),w_=o=>{const s=g_(o),a=Dt(s),l=Po(s)&&s.length>0;return!ky(o)&&(l||a||s===!0)},E2=o=>{const s=Bi(9,l=>o.options.get("toolbar"+(l+1))),a=So(s,Dt);return Ho(a.length>0,a)},ky=o=>E2(o).fold(()=>{const s=g_(o);return Lo(s,Dt)&&s.length>0},jt),om=o=>by(o)===S0.bottom,C_=o=>{var s;if(!o.inline)return O.none();const a=(s=zh(o))!==null&&s!==void 0?s:"";if(a.length>0)return $n(pa(),a);const l=_2(o);return $t(l)?O.some(_t(l)):O.none()},kg=o=>o.inline&&C_(o).isSome(),wy=o=>C_(o).getOrThunk(()=>hr(is(_t(o.getElement())))),S_=o=>o.inline&&!_y(o)&&!w_(o)&&!ky(o),pp=o=>(o.options.get("toolbar_sticky")||o.inline)&&!kg(o)&&!S_(o),nm=o=>!kg(o)&&o.options.get("ui_mode")==="split",oz=o=>{const s=o.options.get("menu");return Rn(s,a=>({...a,items:a.items}))};var YR=Object.freeze({__proto__:null,get ToolbarMode(){return nl},get ToolbarLocation(){return S0},register:VE,getSkinUrl:Oh,getSkinUrlOption:o=>O.from(o.options.get("skin_url")),isReadOnly:UE,isDisabled:u_,getSkin:tz,isSkinDisabled:__,getHeightOption:x2,getWidthOption:f_,getMinWidthOption:m_,getMinHeightOption:z0,getMaxWidthOption:T0,getMaxHeightOption:v2,getUserStyleFormats:jE,shouldMergeStyleFormats:ZE,shouldAutoHideStyleFormats:WE,getLineHeightFormats:k_,getContentLanguages:qE,getRemovedMenuItems:GE,isMenubarEnabled:_y,isMultipleToolbars:ky,isToolbarEnabled:w_,isToolbarPersist:p_,getMultipleToolbarsOption:E2,getUiContainer:wy,useFixedContainer:kg,isSplitUiMode:nm,getToolbarMode:kl,isDraggableModal:h_,isDistractionFree:S_,isStickyToolbar:pp,getStickyToolbarOffset:KE,getToolbarLocation:by,isToolbarLocationBottom:om,getToolbarGroups:KR,getMenus:oz,getMenubar:YE,getToolbar:g_,getFilePickerCallback:XE,getFilePickerTypes:yy,useTypeaheadUrls:JE,getAnchorTop:QE,getAnchorBottom:w2,getFilePickerValidatorHandler:k2,getFontSizeInputDefaultUnit:Th,useStatusBar:b_,useElementPath:y_,promotionEnabled:v_,useBranding:xy,getResize:x_,getPasteAsText:C2,getSidebarShow:vy,useHelpAccessibility:ez,getDefaultFontStack:S2});const rm=["visible","hidden","clip"],nz=o=>Yi(o).length>0&&!Je(rm,o),rz=o=>{if(Li(o)){const s=Vs(o,"overflow-x"),a=Vs(o,"overflow-y");return nz(s)||nz(a)}return!1},yd=o=>o.plugins.fullscreen&&o.plugins.fullscreen.isFullscreen(),Ms=(o,s)=>nm(o)?((a,l)=>{const d=ug(l,rz),f=d.length===0?yi(l).map($s).map(p=>ug(p,rz)).getOr([]):d;return at(f).map(p=>({element:p,others:f.slice(1),isFullscreen:()=>yd(a)}))})(o,s):O.none(),Ah=o=>{const s=[...Se(o.others,As),ws()];return o.isFullscreen()?ws():((a,l)=>uo(l,(d,f)=>Ns(d,f),a))(As(o.element),s)},Za=hd({name:"Button",factory:o=>{const s=l_(o.action),a=o.dom.tag,l=d=>dt(o.dom,"attributes").bind(f=>dt(f,d));return{uid:o.uid,dom:o.dom,components:o.components,events:s,behaviours:rt(o.buttonBehaviours,[go.config({}),Gt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:a==="button"?{type:l("type").getOr("button"),...l("role").map(d=>({role:d})).getOr({})}:{role:o.role.getOr(l("role").getOr("button"))}},eventOrder:o.eventOrder}},configFields:[Ee("uid",void 0),Ge("dom"),Ee("components",[]),Qe("buttonBehaviours",[go,Gt]),tn("action"),tn("role"),Ee("eventOrder",{})]}),gp=o=>{const s=Ga(o),a=gr(s),l=(p=>{const b=p.dom.attributes!==void 0?p.dom.attributes:[];return uo(b,(y,_)=>_.name==="class"?y:{...y,[_.name]:_.value},{})})(s),d=(p=>Array.prototype.slice.call(p.dom.classList,0))(s),f=a.length===0?{}:{innerHtml:eh(s)};return{tag:Pa(s),classes:d,attributes:l,...f}},Bn=o=>{const s=(a=>a.uid!==void 0)(o)&&Fo(o,"uid")?o.uid:ng("memento");return{get:a=>a.getSystem().getByUid(s).getOrDie(),getOpt:a=>a.getSystem().getByUid(s).toOptional(),asSpec:()=>({...o,uid:s})}};var z2=Object.freeze({__proto__:null,exhibit:(o,s)=>k({attributes:U([{key:s.tabAttr,value:"true"}])})}),Cy=[Ee("tabAttr","data-alloy-tabstop")];const xr=qt({fields:Cy,name:"tabstopping",active:z2}),T2=wt("tooltip.exclusive"),O0=wt("tooltip.show"),A0=wt("tooltip.hide"),Sy=wt("tooltip.immediateHide"),Ey=wt("tooltip.immediateShow"),sz=(o,s,a)=>{o.getSystem().broadcastOn([T2],{})};var XR=Object.freeze({__proto__:null,hideAllExclusive:sz,immediateOpenClose:(o,s,a,l)=>Vo(o,l?Ey:Sy),isEnabled:(o,s,a)=>a.isEnabled(),setComponents:(o,s,a,l)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&bo.set(d,l)})},setEnabled:(o,s,a,l)=>a.setEnabled(l)}),az=Object.freeze({__proto__:null,events:(o,s)=>{const a=f=>{s.getTooltip().each(p=>{p.getSystem().isConnected()&&(ku(p),o.onHide(f,p),s.clearTooltip())}),s.clearTimer()},l=f=>{if(!s.isShowing()&&s.isEnabled()){sz(f);const p=o.lazySink(f).getOrDie(),b=f.getSystem().build({dom:o.tooltipDom,components:o.tooltipComponents,events:ur(o.mode==="normal"?[je(zi(),y=>{Vo(f,O0)}),je(Vd(),y=>{Vo(f,A0)})]:[]),behaviours:ye([bo.config({})])});s.setTooltip(b),em(p,b),o.onShow(f,b),ps.position(p,b,{anchor:o.anchor(f)})}},d=f=>{s.getTooltip().each(p=>{const b=o.lazySink(f).getOrDie();ps.position(b,p,{anchor:o.anchor(f)})})};return ur(sr([[ef(f=>{o.onSetup(f)}),je(O0,f=>{s.resetTimer(()=>{l(f)},o.delayForShow())}),je(A0,f=>{s.resetTimer(()=>{a(f)},o.delayForHide())}),je(Ey,f=>{s.resetTimer(()=>{l(f)},0)}),je(Sy,f=>{s.resetTimer(()=>{a(f)},0)}),je(Ot(),(f,p)=>{const b=p;b.universal||Je(b.channels,T2)&&a(f)}),Sr(f=>{a(f)})],(()=>{switch(o.mode){case"normal":return[je(pl(),f=>{Vo(f,Ey)}),je(gl(),f=>{Vo(f,Sy)}),je(zi(),f=>{Vo(f,O0)}),je(Vd(),f=>{Vo(f,A0)})];case"follow-highlight":return[je(yr(),(f,p)=>{Vo(f,O0)}),je(Im(),f=>{Vo(f,A0)})];case"children-normal":return[je(pl(),(f,p)=>{Ni(f.element).each(b=>{Ii(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Vo(f,Ey)},y=>{s.isShowing()&&(o.onShow(f,y),d(f))})})}),je(gl(),f=>{Ni(f.element).fold(()=>{Vo(f,Sy)},qe)}),je(zi(),f=>{$n(f.element,"[data-mce-tooltip]:hover").each(p=>{s.getTooltip().fold(()=>{Vo(f,O0)},b=>{s.isShowing()&&(o.onShow(f,b),d(f))})})}),je(Vd(),f=>{$n(f.element,"[data-mce-tooltip]:hover").fold(()=>{Vo(f,A0)},qe)})];default:return[je(pl(),(f,p)=>{Ni(f.element).each(b=>{Ii(p.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Vo(f,Ey)},y=>{s.isShowing()&&(o.onShow(f,y),d(f))})})}),je(gl(),f=>{Ni(f.element).fold(()=>{Vo(f,Sy)},qe)})]}})()]))}}),iz=[Ge("lazySink"),Ge("tooltipDom"),Ee("exclusive",!0),Ee("tooltipComponents",[]),Yn("delayForShow",ue(300)),Yn("delayForHide",ue(100)),Yn("onSetup",qe),ka("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ee("anchor",o=>({type:"hotspot",hotspot:o,layouts:{onLtr:ue([ms,xs,zs,Ua,Ds,la]),onRtl:ue([ms,xs,zs,Ua,Ds,la])},bubble:xl(0,-2,{})})),Bo("onHide"),Bo("onShow")],lz=Object.freeze({__proto__:null,init:()=>{const o=Mt(!0),s=dn(),a=dn(),l=()=>{s.on(clearTimeout)},d=ue("not-implemented");return Le({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:l,resetTimer:(f,p)=>{l(),s.set(setTimeout(f,p))},readState:d,isEnabled:()=>o.get(),setEnabled:f=>o.set(f)})}});const Kr=qt({fields:iz,name:"tooltipping",active:az,state:lz,apis:XR}),{entries:N0,setPrototypeOf:O2,isFrozen:Nh,getPrototypeOf:R0,getOwnPropertyDescriptor:JR}=Object;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:Ic,seal:Tu,create:cz}=Object,{apply:E_,construct:A2}=typeof Reflect<"u"&&Reflect;Ic||(Ic=function(o){return o}),Tu||(Tu=function(o){return o}),E_||(E_=function(o,s,a){return o.apply(s,a)}),A2||(A2=function(o,s){return new o(...s)});const D0=Fc(Array.prototype.forEach),QR=Fc(Array.prototype.lastIndexOf),dz=Fc(Array.prototype.pop),zy=Fc(Array.prototype.push),M0=Fc(Array.prototype.splice),B0=Fc(String.prototype.toLowerCase),z_=Fc(String.prototype.toString),N2=Fc(String.prototype.match),Ty=Fc(String.prototype.replace),R2=Fc(String.prototype.indexOf),eD=Fc(String.prototype.trim),sm=Fc(Object.prototype.hasOwnProperty),hc=Fc(RegExp.prototype.test),Rh=(uz=TypeError,function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return A2(uz,s)});var uz;function Fc(o){return function(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),d=1;d<a;d++)l[d-1]=arguments[d];return E_(o,s,l)}}function Lr(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B0;O2&&O2(o,null);let l=s.length;for(;l--;){let d=s[l];if(typeof d=="string"){const f=a(d);f!==d&&(Nh(s)||(s[l]=f),d=f)}o[d]=!0}return o}function tD(o){for(let s=0;s<o.length;s++)sm(o,s)||(o[s]=null);return o}function Dh(o){const s=cz(null);for(const[a,l]of N0(o))sm(o,a)&&(Array.isArray(l)?s[a]=tD(l):l&&typeof l=="object"&&l.constructor===Object?s[a]=Dh(l):s[a]=l);return s}function Yd(o,s){for(;o!==null;){const a=JR(o,s);if(a){if(a.get)return Fc(a.get);if(typeof a.value=="function")return Fc(a.value)}o=R0(o)}return function(){return null}}const P0=Ic(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D2=Ic(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M2=Ic(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oD=Ic(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B2=Ic(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nD=Ic(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fz=Ic(["#text"]),mz=Ic(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wg=Ic(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P2=Ic(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),T_=Ic(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pz=Tu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),gz=Tu(/<%[\w\W]*|[\w\W]*%>/gm),rD=Tu(/\$\{[\w\W]*/gm),sD=Tu(/^data-[\-\w.\u00B7-\uFFFF]+$/),aD=Tu(/^aria-[\-\w]+$/),hz=Tu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iD=Tu(/^(?:\w+script|data):/i),lD=Tu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),L0=Tu(/^html$/i),L2=Tu(/^[a-z][.\w]*(-[.\w]+)+$/i);var bz=Object.freeze({__proto__:null,ARIA_ATTR:aD,ATTR_WHITESPACE:lD,CUSTOM_ELEMENT:L2,DATA_ATTR:sD,DOCTYPE_NAME:L0,ERB_EXPR:gz,IS_ALLOWED_URI:hz,IS_SCRIPT_OR_DATA:iD,MUSTACHE_EXPR:pz,TMPLIT_EXPR:rD});const vP=function(){return typeof window>"u"?null:window};var yz=function o(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vP();const a=Te=>o(Te);if(a.version="3.2.4",a.removed=[],!s||!s.document||s.document.nodeType!==9||!s.Element)return a.isSupported=!1,a;let{document:l}=s;const d=l,f=d.currentScript,{DocumentFragment:p,HTMLTemplateElement:b,Node:y,Element:_,NodeFilter:E,NamedNodeMap:w=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:A,DOMParser:P,trustedTypes:I}=s,Y=_.prototype,G=Yd(Y,"cloneNode"),J=Yd(Y,"remove"),j=Yd(Y,"nextSibling"),Z=Yd(Y,"childNodes"),te=Yd(Y,"parentNode");if(typeof b=="function"){const Te=l.createElement("template");Te.content&&Te.content.ownerDocument&&(l=Te.content.ownerDocument)}let oe,ce="";const{implementation:he,createNodeIterator:we,createDocumentFragment:Ae,getElementsByTagName:Ue}=l,{importNode:Ve}=d;let Ye={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};a.isSupported=typeof N0=="function"&&typeof te=="function"&&he&&he.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ft,ERB_EXPR:Ut,TMPLIT_EXPR:Yt,DATA_ATTR:ro,ARIA_ATTR:Zo,IS_SCRIPT_OR_DATA:fr,ATTR_WHITESPACE:Xr,CUSTOM_ELEMENT:Nn}=bz;let{IS_ALLOWED_URI:cn}=bz,Xt=null;const mr=Lr({},[...P0,...D2,...M2,...B2,...fz]);let Un=null;const ta=Lr({},[...mz,...wg,...P2,...T_]);let rr=Object.seal(cz(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oa=null,Ea=null,Fp=!0,fb=!0,_w=!1,kw=!0,Hp=!1,Bg=!0,vm=!1,g1=!1,mb=!1,_m=!1,pb=!1,$p=!1,tv=!0,ov=!1,h1=!0,Pg=!1,km={},kn=null;const Lg=Lr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zf=null;const u3=Lr({},["audio","video","img","source","image","track"]);let ww=null;const cN=Lr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Cw="http://www.w3.org/1998/Math/MathML",nv="http://www.w3.org/2000/svg",Vp="http://www.w3.org/1999/xhtml";let b1=Vp,xo=!1,gb=null;const dN=Lr({},[Cw,nv,Vp],z_);let rv=Lr({},["mi","mo","mn","ms","mtext"]),sv=Lr({},["annotation-xml"]);const uN=Lr({},["title","style","font","a","script"]);let y1=null;const kP=["application/xhtml+xml","text/html"];let di=null,x1=null;const fN=l.createElement("form"),mN=function(Te){return Te instanceof RegExp||Te instanceof Function},f3=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!x1||x1!==Te){if(Te&&typeof Te=="object"||(Te={}),Te=Dh(Te),y1=kP.indexOf(Te.PARSER_MEDIA_TYPE)===-1?"text/html":Te.PARSER_MEDIA_TYPE,di=y1==="application/xhtml+xml"?z_:B0,Xt=sm(Te,"ALLOWED_TAGS")?Lr({},Te.ALLOWED_TAGS,di):mr,Un=sm(Te,"ALLOWED_ATTR")?Lr({},Te.ALLOWED_ATTR,di):ta,gb=sm(Te,"ALLOWED_NAMESPACES")?Lr({},Te.ALLOWED_NAMESPACES,z_):dN,ww=sm(Te,"ADD_URI_SAFE_ATTR")?Lr(Dh(cN),Te.ADD_URI_SAFE_ATTR,di):cN,zf=sm(Te,"ADD_DATA_URI_TAGS")?Lr(Dh(u3),Te.ADD_DATA_URI_TAGS,di):u3,kn=sm(Te,"FORBID_CONTENTS")?Lr({},Te.FORBID_CONTENTS,di):Lg,oa=sm(Te,"FORBID_TAGS")?Lr({},Te.FORBID_TAGS,di):{},Ea=sm(Te,"FORBID_ATTR")?Lr({},Te.FORBID_ATTR,di):{},km=!!sm(Te,"USE_PROFILES")&&Te.USE_PROFILES,Fp=Te.ALLOW_ARIA_ATTR!==!1,fb=Te.ALLOW_DATA_ATTR!==!1,_w=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,kw=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hp=Te.SAFE_FOR_TEMPLATES||!1,Bg=Te.SAFE_FOR_XML!==!1,vm=Te.WHOLE_DOCUMENT||!1,_m=Te.RETURN_DOM||!1,pb=Te.RETURN_DOM_FRAGMENT||!1,$p=Te.RETURN_TRUSTED_TYPE||!1,mb=Te.FORCE_BODY||!1,tv=Te.SANITIZE_DOM!==!1,ov=Te.SANITIZE_NAMED_PROPS||!1,h1=Te.KEEP_CONTENT!==!1,Pg=Te.IN_PLACE||!1,cn=Te.ALLOWED_URI_REGEXP||hz,b1=Te.NAMESPACE||Vp,rv=Te.MATHML_TEXT_INTEGRATION_POINTS||rv,sv=Te.HTML_INTEGRATION_POINTS||sv,rr=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&mN(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rr.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&mN(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rr.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rr.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hp&&(fb=!1),pb&&(_m=!0),km&&(Xt=Lr({},fz),Un=[],km.html===!0&&(Lr(Xt,P0),Lr(Un,mz)),km.svg===!0&&(Lr(Xt,D2),Lr(Un,wg),Lr(Un,T_)),km.svgFilters===!0&&(Lr(Xt,M2),Lr(Un,wg),Lr(Un,T_)),km.mathMl===!0&&(Lr(Xt,B2),Lr(Un,P2),Lr(Un,T_))),Te.ADD_TAGS&&(Xt===mr&&(Xt=Dh(Xt)),Lr(Xt,Te.ADD_TAGS,di)),Te.ADD_ATTR&&(Un===ta&&(Un=Dh(Un)),Lr(Un,Te.ADD_ATTR,di)),Te.ADD_URI_SAFE_ATTR&&Lr(ww,Te.ADD_URI_SAFE_ATTR,di),Te.FORBID_CONTENTS&&(kn===Lg&&(kn=Dh(kn)),Lr(kn,Te.FORBID_CONTENTS,di)),h1&&(Xt["#text"]=!0),vm&&Lr(Xt,["html","head","body"]),Xt.table&&(Lr(Xt,["tbody"]),delete oa.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=Te.TRUSTED_TYPES_POLICY,ce=oe.createHTML("")}else oe===void 0&&(oe=function(Wo,yo){if(typeof Wo!="object"||typeof Wo.createPolicy!="function")return null;let Jr=null;const _s="data-tt-policy-suffix";yo&&yo.hasAttribute(_s)&&(Jr=yo.getAttribute(_s));const Or="dompurify"+(Jr?"#"+Jr:"");try{return Wo.createPolicy(Or,{createHTML:al=>al,createScriptURL:al=>al})}catch{return console.warn("TrustedTypes policy "+Or+" could not be created."),null}}(I,f)),oe!==null&&typeof ce=="string"&&(ce=oe.createHTML(""));Ic&&Ic(Te),x1=Te}},pN=Lr({},[...D2,...M2,...oD]),m3=Lr({},[...B2,...nD]),Iu=function(Te){zy(a.removed,{element:Te});try{te(Te).removeChild(Te)}catch{J(Te)}},v1=function(Te,Wo){try{zy(a.removed,{attribute:Wo.getAttributeNode(Te),from:Wo})}catch{zy(a.removed,{attribute:null,from:Wo})}if(Wo.removeAttribute(Te),Te==="is")if(_m||pb)try{Iu(Wo)}catch{}else try{Wo.setAttribute(Te,"")}catch{}},gN=function(Te){let Wo=null,yo=null;if(mb)Te="<remove></remove>"+Te;else{const Or=N2(Te,/^[\r\n\t ]+/);yo=Or&&Or[0]}y1==="application/xhtml+xml"&&b1===Vp&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Jr=oe?oe.createHTML(Te):Te;if(b1===Vp)try{Wo=new P().parseFromString(Jr,y1)}catch{}if(!Wo||!Wo.documentElement){Wo=he.createDocument(b1,"template",null);try{Wo.documentElement.innerHTML=xo?ce:Jr}catch{}}const _s=Wo.body||Wo.documentElement;return Te&&yo&&_s.insertBefore(l.createTextNode(yo),_s.childNodes[0]||null),b1===Vp?Ue.call(Wo,vm?"html":"body")[0]:vm?Wo.documentElement:_s},hN=function(Te){return we.call(Te.ownerDocument||Te,Te,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},p3=function(Te){return Te instanceof A&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof w)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},bN=function(Te){return typeof y=="function"&&Te instanceof y};function Up(Te,Wo,yo){D0(Te,Jr=>{Jr.call(a,Wo,yo,x1)})}const yN=function(Te){let Wo=null;if(Up(Ye.beforeSanitizeElements,Te,null),p3(Te))return Iu(Te),!0;const yo=di(Te.nodeName);if(Up(Ye.uponSanitizeElement,Te,{tagName:yo,allowedTags:Xt}),Te.hasChildNodes()&&!bN(Te.firstElementChild)&&hc(/<[/\w]/g,Te.innerHTML)&&hc(/<[/\w]/g,Te.textContent)||Te.nodeType===7||Bg&&Te.nodeType===8&&hc(/<[/\w]/g,Te.data))return Iu(Te),!0;if(!Xt[yo]||oa[yo]){if(!oa[yo]&&vN(yo)&&(rr.tagNameCheck instanceof RegExp&&hc(rr.tagNameCheck,yo)||rr.tagNameCheck instanceof Function&&rr.tagNameCheck(yo)))return!1;if(h1&&!kn[yo]){const Jr=te(Te)||Te.parentNode,_s=Z(Te)||Te.childNodes;if(_s&&Jr)for(let Or=_s.length-1;Or>=0;--Or){const al=G(_s[Or],!0);al.__removalCount=(Te.__removalCount||0)+1,Jr.insertBefore(al,j(Te))}}return Iu(Te),!0}return Te instanceof _&&!function(Jr){let _s=te(Jr);_s&&_s.tagName||(_s={namespaceURI:b1,tagName:"template"});const Or=B0(Jr.tagName),al=B0(_s.tagName);return!!gb[Jr.namespaceURI]&&(Jr.namespaceURI===nv?_s.namespaceURI===Vp?Or==="svg":_s.namespaceURI===Cw?Or==="svg"&&(al==="annotation-xml"||rv[al]):!!pN[Or]:Jr.namespaceURI===Cw?_s.namespaceURI===Vp?Or==="math":_s.namespaceURI===nv?Or==="math"&&sv[al]:!!m3[Or]:Jr.namespaceURI===Vp?!(_s.namespaceURI===nv&&!sv[al])&&!(_s.namespaceURI===Cw&&!rv[al])&&!m3[Or]&&(uN[Or]||!pN[Or]):!(y1!=="application/xhtml+xml"||!gb[Jr.namespaceURI]))}(Te)?(Iu(Te),!0):yo!=="noscript"&&yo!=="noembed"&&yo!=="noframes"||!hc(/<\/no(script|embed|frames)/i,Te.innerHTML)?(Hp&&Te.nodeType===3&&(Wo=Te.textContent,D0([ft,Ut,Yt],Jr=>{Wo=Ty(Wo,Jr," ")}),Te.textContent!==Wo&&(zy(a.removed,{element:Te.cloneNode()}),Te.textContent=Wo)),Up(Ye.afterSanitizeElements,Te,null),!1):(Iu(Te),!0)},xN=function(Te,Wo,yo){if(tv&&(Wo==="id"||Wo==="name")&&(yo in l||yo in fN))return!1;if(!(fb&&!Ea[Wo]&&hc(ro,Wo))){if(!(Fp&&hc(Zo,Wo))){if(!Un[Wo]||Ea[Wo]){if(!(vN(Te)&&(rr.tagNameCheck instanceof RegExp&&hc(rr.tagNameCheck,Te)||rr.tagNameCheck instanceof Function&&rr.tagNameCheck(Te))&&(rr.attributeNameCheck instanceof RegExp&&hc(rr.attributeNameCheck,Wo)||rr.attributeNameCheck instanceof Function&&rr.attributeNameCheck(Wo))||Wo==="is"&&rr.allowCustomizedBuiltInElements&&(rr.tagNameCheck instanceof RegExp&&hc(rr.tagNameCheck,yo)||rr.tagNameCheck instanceof Function&&rr.tagNameCheck(yo))))return!1}else if(!ww[Wo]){if(!hc(cn,Ty(yo,Xr,""))){if((Wo!=="src"&&Wo!=="xlink:href"&&Wo!=="href"||Te==="script"||R2(yo,"data:")!==0||!zf[Te])&&!(_w&&!hc(fr,Ty(yo,Xr,"")))){if(yo)return!1}}}}}return!0},vN=function(Te){return Te!=="annotation-xml"&&N2(Te,Nn)},_N=function(Te){Up(Ye.beforeSanitizeAttributes,Te,null);const{attributes:Wo}=Te;if(!Wo||p3(Te))return;const yo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Un,forceKeepAttr:void 0};let Jr=Wo.length;for(;Jr--;){const _s=Wo[Jr],{name:Or,namespaceURI:al,value:jp}=_s,wm=di(Or);let Zl=Or==="value"?jp:eD(jp);const pB=Zl;if(yo.attrName=wm,yo.attrValue=Zl,yo.keepAttr=!0,yo.forceKeepAttr=void 0,Up(Ye.uponSanitizeAttribute,Te,yo),Zl=yo.attrValue,!ov||wm!=="id"&&wm!=="name"||(v1(Or,Te),Zl="user-content-"+Zl),Bg&&hc(/((--!?|])>)|<\/(style|title)/i,Zl)){v1(Or,Te);continue}if(yo.forceKeepAttr)continue;if(!yo.keepAttr){v1(Or,Te);continue}if(!kw&&hc(/\/>/i,Zl)){v1(Or,Te);continue}Hp&&D0([ft,Ut,Yt],g3=>{Zl=Ty(Zl,g3," ")});const kN=di(Te.nodeName);if(xN(kN,wm,Zl)){if(oe&&typeof I=="object"&&typeof I.getAttributeType=="function"&&!al)switch(I.getAttributeType(kN,wm)){case"TrustedHTML":Zl=oe.createHTML(Zl);break;case"TrustedScriptURL":Zl=oe.createScriptURL(Zl)}if(Zl!==pB)try{al?Te.setAttributeNS(al,Or,Zl):Te.setAttribute(Or,Zl),p3(Te)?Iu(Te):dz(a.removed)}catch{}}else v1(Or,Te)}Up(Ye.afterSanitizeAttributes,Te,null)},mB=function Te(Wo){let yo=null;const Jr=hN(Wo);for(Up(Ye.beforeSanitizeShadowDOM,Wo,null);yo=Jr.nextNode();)Up(Ye.uponSanitizeShadowNode,yo,null),yN(yo),_N(yo),yo.content instanceof p&&Te(yo.content);Up(Ye.afterSanitizeShadowDOM,Wo,null)};return a.sanitize=function(Te){let Wo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yo=null,Jr=null,_s=null,Or=null;if(xo=!Te,xo&&(Te="<!-->"),typeof Te!="string"&&!bN(Te)){if(typeof Te.toString!="function")throw Rh("toString is not a function");if(typeof(Te=Te.toString())!="string")throw Rh("dirty is not a string, aborting")}if(!a.isSupported)return Te;if(g1||f3(Wo),a.removed=[],typeof Te=="string"&&(Pg=!1),Pg){if(Te.nodeName){const wm=di(Te.nodeName);if(!Xt[wm]||oa[wm])throw Rh("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof y)yo=gN("<!---->"),Jr=yo.ownerDocument.importNode(Te,!0),Jr.nodeType===1&&Jr.nodeName==="BODY"||Jr.nodeName==="HTML"?yo=Jr:yo.appendChild(Jr);else{if(!_m&&!Hp&&!vm&&Te.indexOf("<")===-1)return oe&&$p?oe.createHTML(Te):Te;if(yo=gN(Te),!yo)return _m?null:$p?ce:""}yo&&mb&&Iu(yo.firstChild);const al=hN(Pg?Te:yo);for(;_s=al.nextNode();)yN(_s),_N(_s),_s.content instanceof p&&mB(_s.content);if(Pg)return Te;if(_m){if(pb)for(Or=Ae.call(yo.ownerDocument);yo.firstChild;)Or.appendChild(yo.firstChild);else Or=yo;return(Un.shadowroot||Un.shadowrootmode)&&(Or=Ve.call(d,Or,!0)),Or}let jp=vm?yo.outerHTML:yo.innerHTML;return vm&&Xt["!doctype"]&&yo.ownerDocument&&yo.ownerDocument.doctype&&yo.ownerDocument.doctype.name&&hc(L0,yo.ownerDocument.doctype.name)&&(jp="<!DOCTYPE "+yo.ownerDocument.doctype.name+`>
`+jp),Hp&&D0([ft,Ut,Yt],wm=>{jp=Ty(jp,wm," ")}),oe&&$p?oe.createHTML(jp):jp},a.setConfig=function(){f3(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),g1=!0},a.clearConfig=function(){x1=null,g1=!1},a.isValidAttribute=function(Te,Wo,yo){x1||f3({});const Jr=di(Te),_s=di(Wo);return xN(Jr,_s,yo)},a.addHook=function(Te,Wo){typeof Wo=="function"&&zy(Ye[Te],Wo)},a.removeHook=function(Te,Wo){if(Wo!==void 0){const yo=QR(Ye[Te],Wo);return yo===-1?void 0:M0(Ye[Te],yo,1)[0]}return dz(Ye[Te])},a.removeHooks=function(Te){Ye[Te]=[]},a.removeAllHooks=function(){Ye={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},a}();const xz=o=>yz().sanitize(o);var Xd=tinymce.util.Tools.resolve("tinymce.util.I18n");const Jd={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},vz="temporary-placeholder",I2=o=>()=>dt(o,vz).getOr("!not found!"),F2=(o,s)=>{const a=o.toLowerCase();if(Xd.isRtl()){const l=((d,f)=>Sl(d,f)?d:((p,b)=>p+b)(d,f))(a,"-rtl");return _o(s,l)?l:a}return a},_z=(o,s)=>dt(s,F2(o,s)),kz=(o,s)=>{const a=s();return _z(o,a).getOrThunk(I2(a))},Mh=()=>ko("add-focusable",[Xn(o=>{Id(o.element,"svg").each(s=>io(s,"focusable","false"))})]),O_=(o,s,a,l)=>{var d,f;const p=(y=>!!Xd.isRtl()&&_o(Jd,y))(s)?["tox-icon--flip"]:[],b=dt(a,F2(s,a)).or(l).getOrThunk(I2(a));return{dom:{tag:o.tag,attributes:(d=o.attributes)!==null&&d!==void 0?d:{},classes:o.classes.concat(p),innerHtml:b},behaviours:ye([...(f=o.behaviours)!==null&&f!==void 0?f:[],Mh()])}},xd=(o,s,a,l=O.none())=>O_(s,o,a(),l),H2={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Oy=hd({name:"Notification",factory:o=>{const s=wt("notification-text"),a=Bn({dom:gp(`<p id=${s}>${xz(o.backstageProvider.translate(o.text))}</p>`),behaviours:ye([bo.config({})])}),l=w=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${w}%`}}}),d=w=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${w}%`}}),f=Bn({dom:{tag:"div",classes:o.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},d(0)],behaviours:ye([bo.config({})])}),p={updateProgress:(w,A)=>{w.getSystem().isConnected()&&f.getOpt(w).each(P=>{bo.set(P,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(A)]},d(A)])})},updateText:(w,A)=>{if(w.getSystem().isConnected()){const P=a.get(w);bo.set(P,[zr(A)])}}},b=sr([o.icon.toArray(),[o.level],O.from(H2[o.level]).toArray()]),y=Bn(Za.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":o.backstageProvider.translate("Close")}},components:[xd("close",{tag:"span",classes:["tox-icon"]},o.iconProvider)],buttonBehaviours:ye([xr.config({}),Kr.config({...o.backstageProvider.tooltips.getConfig({tooltipText:o.backstageProvider.translate("Close")})})]),action:w=>{o.onAction(w)}})),_=((w,A,P)=>{const I=P(),Y=H(w,G=>_o(I,F2(G,I)));return O_({tag:"div",classes:["tox-notification__icon"]},Y.getOr(vz),I,O.none())})(b,0,o.iconProvider),E=[_,{dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:ye([bo.config({})])}];return{uid:o.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:["tox-notification","tox-notification--in",`tox-notification--${o.level}`]},behaviours:ye([xr.config({}),go.config({}),Gt.config({mode:"special",onEscape:w=>(o.onAction(w),O.some(!0))})]),components:E.concat(o.progress?[f.asSpec()]:[]).concat([y.asSpec()]),apis:p}},configFields:[ka("level","info",["success","error","warning","warn","info"]),Ge("progress"),tn("icon"),Ge("onAction"),Ge("text"),Ge("iconProvider"),Ge("backstageProvider")],apis:{updateProgress:(o,s,a)=>{o.updateProgress(s,a)},updateText:(o,s,a)=>{o.updateText(s,a)}}});var $2=(o,s,a,l)=>{const d=s.backstage.shared,f=()=>_t(o.queryCommandValue("ToggleView")===""?o.getContentAreaContainer():o.getContainer()),p=()=>{const y=As(f());return O.some(y)},b=y=>{p().each(_=>{tt(y,E=>{ln(E.element,"width"),ae(E.element)>_.width&&Zt(E.element,"width",_.width+"px")})})};return{open:(y,_,E)=>{const w=()=>{l.on(I=>{_();const Y=E();(G=>{bo.remove(G,A),P()})(I),((G,J)=>{gr(G.element).length===0?((j,Z)=>{Gn.hide(j),l.clear(),Z&&o.focus()})(G,J):((j,Z)=>{Z&&Gt.focusIn(j)})(G,J)})(I,Y)})},A=Ws(Oy.sketch({text:y.text,level:Je(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:y.icon,onAction:w,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(l.isSet()){const I=Bl(A);l.on(Y=>{bo.append(Y,I),Gn.reposition(Y),A.hasConfigured(Mn)&&Mn.refresh(Y),b(Y.components())})}else{const I=Ws(Gn.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ye([Gt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),bo.config({}),...pp(o)&&d.header.isPositionedAtTop()?[]:[Mn.config({contextual:{lazyContext:()=>O.some(As(f())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:j=>Ms(o,j.element).map(Z=>({bounds:Ah(Z),optScrollEnv:O.some({currentScrollTop:Z.element.dom.scrollTop,scrollElmTop:Wr(Z.element).top})})).getOrThunk(()=>({bounds:ws(),optScrollEnv:O.none()}))})]])})),Y=Bl(A),G={maxHeightFunction:Wd()},J={...d.anchors.banner(),overrides:G};l.set(I),a.add(I),Gn.showWithinBounds(I,Y,{anchor:J},p)}Go(y.timeout)&&y.timeout>0&&d_.setEditorTimeout(o,()=>{w()},y.timeout);const P=()=>{l.on(I=>{Gn.reposition(I),I.hasConfigured(Mn)&&Mn.refresh(I),b(I.components())})};return{close:w,reposition:P,text:I=>{Oy.updateText(A,I)},settings:y,getEl:()=>A.element.dom,progressBar:{value:I=>{Oy.updateProgress(A,I)}}}},close:y=>{y.close()},getArgs:y=>y.settings}},V2;(function(o){o[o.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",o[o.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(V2||(V2={}));var Ou=V2;const U2="tox-menu-nav__js",A_="tox-collection__item",wz="tox-swatch",cD={normal:U2,color:wz},j2="tox-collection__item--enabled",Z2="tox-collection__item-icon",Ay="tox-collection__item-label",Cz="tox-collection__item-caret",Bh="tox-collection__item--active",Sz="tox-collection__item-container",Ez="tox-collection__item-container--row",Ph=o=>dt(cD,o).getOr(U2),W2=o=>o==="color"?"tox-swatches":"tox-menu",q2=o=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:W2(o),tieredMenu:"tox-tiered-menu"}),am=o=>{const s=q2(o);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:Ph(o)}},dD=(o,s,a)=>{const l=q2(a);return{tag:"div",classes:sr([[l.menu,`tox-menu-${s}-column`],o?[l.hasIcons]:[]])}},Ht=[fp.parts.items({})],im=(o,s,a)=>{const l=q2(a);return{dom:{tag:"div",classes:sr([[l.tieredMenu]])},markers:am(a)}},zz=ue([tr("type","text"),tn("data"),Ee("inputAttributes",{}),Ee("inputStyles",{}),Ee("tag","input"),Ee("inputClasses",[]),Bo("onSetValue"),Yn("fromInputValue",Et),Yn("toInputValue",Et),Ee("styles",{}),Ee("eventOrder",{}),ke("inputBehaviours",[se,go]),Ee("selectOnFocus",!0)]),G2=o=>ye([go.config({onFocus:o.selectOnFocus?s=>{const a=s.element,l=sf(a);o.type!=="range"&&a.dom.setSelectionRange(0,l.length)}:qe})]),N_=o=>({...G2(o),...Fe(o.inputBehaviours,[se.config({store:{mode:"manual",...o.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>o.fromInputValue(sf(s.element)),setValue:(s,a)=>{sf(s.element)!==a&&cd(s.element,o.toInputValue(a))}},onSetValue:o.onSetValue})])}),R_=o=>({tag:o.tag,attributes:{type:o.type,...o.inputAttributes},styles:o.inputStyles,classes:o.inputClasses}),hp=hd({name:"Input",configFields:zz(),factory:(o,s)=>({uid:o.uid,dom:R_(o),components:[],behaviours:N_(o),eventOrder:o.eventOrder})}),K2=wt("refetch-trigger-event"),Tz=wt("redirect-menu-item-interaction"),Oz="tox-menu__searcher",I0=o=>$n(o.element,`.${Oz}`).bind(s=>o.getSystem().getByDom(s).toOptional()),D_=I0,Ny=o=>({fetchPattern:se.getValue(o),selectionStart:o.element.dom.selectionStart,selectionEnd:o.element.dom.selectionEnd}),Az=o=>{const s=(d,f)=>(f.cut(),O.none()),a=(d,f)=>{const p={interactionEvent:f.event,eventType:f.event.raw.type};return Vt(d,Tz,p),O.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[A_]},components:[hp.sketch({inputClasses:[Oz,"tox-textfield"],inputAttributes:{...o.placeholder.map(d=>({placeholder:o.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ye([ko(l,[je(os(),d=>{Vo(d,K2)}),je(qr(),(d,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),Gt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[l,Gt.name()]}})]}},M_="tox-collection--results__js",Nz=o=>{var s;return o.dom?{...o,dom:{...o.dom,attributes:{...(s=o.dom.attributes)!==null&&s!==void 0?s:{},id:wt("aria-item-search-result-id"),"aria-selected":"false"}}}:o},B_=(o,s)=>a=>{const l=De(a,s);return Se(l,d=>({dom:o,components:d}))},Rz=(o,s)=>{const a=[];let l=[];return tt(o,(d,f)=>{s(d,f)?(l.length>0&&a.push(l),l=[],(_o(d.dom,"innerHtml")||d.components&&d.components.length>0)&&l.push(d)):l.push(d)}),l.length>0&&a.push(l),Se(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},Y2=(o,s,a)=>fp.parts.items({preprocess:l=>{const d=Se(l,a);return o!=="auto"&&o>1?B_({tag:"div",classes:["tox-collection__group"]},o)(d):Rz(d,(f,p)=>s[p].type==="separator")}}),Dz=(o,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(o===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Y2(o,s,Et)]}),F0=o=>fn(o,s=>"icon"in s&&s.icon!==void 0),vd=o=>(console.error(ni(o)),console.log(o),O.none()),uD=(o,s,a,l,d)=>{const f=(p=a,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[fp.parts.items({preprocess:b=>Rz(b,(y,_)=>p[_].type==="separator")})]});var p;return{value:o,dom:f.dom,components:f.components,items:a}},P_=(o,s,a,l,d)=>{if(d.menuType==="color"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[fp.parts.items({preprocess:p!=="auto"?B_({tag:"div",classes:["tox-swatches__row"]},p):Et})]}]}))(l);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="imageselector"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[fp.parts.items({preprocess:p!=="auto"?B_({tag:"div",classes:["tox-image-selector__row"]},p):Et})]}]}))(l);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="normal"&&l==="auto"){const f=Dz(l,a);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="normal"||d.menuType==="searchable"){const f=d.menuType!=="searchable"?Dz(l,a):d.searchMode.searchMode==="search-with-field"?((p,b,y)=>{const _=wt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(p===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Az({i18n:Xd.translate,placeholder:y.placeholder}),{dom:{tag:"div",classes:[...p===1?["tox-collection--list"]:["tox-collection--grid"],M_],attributes:{id:_}},components:[Y2(p,b,Nz)]}]}})(l,a,d.searchMode):((p,b)=>{const y=wt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",M_].concat(p===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:y}},components:[Y2(p,b,Nz)]}})(l,a);return{value:o,dom:f.dom,components:f.components,items:a}}if(d.menuType==="listpreview"&&l!=="auto"){const f=(p=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[fp.parts.items({preprocess:B_({tag:"div",classes:["tox-collection__group"]},p)})]}))(l);return{value:o,dom:f.dom,components:f.components,items:a}}return{value:o,dom:dD(s,l,d.menuType),components:Ht,items:a}},Bs=us("type"),H0=us("name"),L_=us("label"),bp=us("text"),X2=us("title"),$0=us("icon"),fD=us("url"),Lh=us("value"),mD=Ei("fetch"),pD=Ei("getSubmenuItems"),Ih=Ei("onAction"),gD=Ei("onItemAction"),Fh=Yn("onSetup",()=>qe),J2=Ur("name"),yp=Ur("text"),I_=Ur("role"),bc=Ur("icon"),lm=Ur("tooltip"),bf=Ur("label"),Mz=Ur("shortcut"),hD=Oa("select"),Ry=Js("active",!1),Bz=Js("borderless",!1),Au=Js("enabled",!0),Q2=Js("primary",!1),bD=o=>Ee("columns",o),eC=Ee("meta",{}),tC=Yn("onAction",qe),xp=o=>tr("type",o),oC=o=>Cs("name","name",Xl(()=>wt(`${o}-name`)),Dr),Pz=oo([Bs,yp]),yD=oo([xp("autocompleteitem"),Ry,Au,eC,Lh,yp,bc]),Hh=[Au,lm,bc,yp,Fh,tr("context","mode:design")],xD=oo([Bs,Ih,Mz].concat(Hh)),nC=o=>er("toolbarbutton",xD,o),F_=[Ry].concat(Hh),Lz=oo(F_.concat([Bs,Ih,Mz])),Iz=o=>er("ToggleButton",Lz,o),V0=[Yn("predicate",Ie),ka("scope","node",["node","editor"]),ka("position","selection",["node","selection","line"])],vD=Hh.concat([xp("contextformbutton"),tr("align","end"),Q2,Ih,ia("original",Et)]),rC=F_.concat([xp("contextformbutton"),tr("align","end"),Q2,Ih,ia("original",Et)]),Fz=Hh.concat([xp("contextformbutton")]),Hz=F_.concat([xp("contextformtogglebutton")]),H_=[bf,Vr("commands",$a("type",{contextformbutton:vD,contextformtogglebutton:rC})),Ui("launch",$a("type",{contextformbutton:Fz,contextformtogglebutton:Hz})),Yn("onInput",qe),Yn("onSetup",qe)],_D=[...V0,...H_,Zs("type",["contextform"]),Yn("initValue",ue("")),Ur("placeholder")],kD=[...V0,...H_,Zs("type",["contextsliderform"]),Yn("initValue",ue(0)),Yn("min",ue(0)),Yn("max",ue(100))],wD=[...V0,...H_,Zs("type",["contextsizeinputform"]),Yn("initValue",ue({width:"",height:""}))],CD=$a("type",{contextform:_D,contextsliderform:kD,contextsizeinputform:wD}),SD=Hh.concat([xp("contexttoolbarbutton")]),U0=oo([xp("contexttoolbar"),un("launch",SD),Xs("items",td([Dr,gu([Ur("name"),Ur("label"),Vr("items",Dr)])]))].concat(V0)),$z=o=>({name:o.name.getOrUndefined(),label:o.label.getOrUndefined(),items:o.items}),Vz=[Bs,us("src"),Ur("alt"),nc("classes",[],Dr)],Uz=oo(Vz),jz=[Bs,bp,J2,nc("classes",["tox-collection__item-label"],Dr)],Zz=oo(jz),Wz=fu(()=>ec("type",{cardimage:Uz,cardtext:Zz,cardcontainer:ED})),ED=oo([Bs,tr("direction","horizontal"),tr("align","left"),tr("valign","middle"),Vr("items",Wz)]),Cg=[Au,yp,I_,Mz,Cs("value","value",Xl(()=>wt("menuitem-value")),Vi()),eC,tr("context","mode:design")],sC=oo([Bs,bf,Vr("items",Wz),Fh,tC].concat(Cg)),zD=oo([Bs,Ry,bc,bf].concat(Cg)),Dy=[Bs,us("fancytype"),tC],TD=[Ee("initData",{})].concat(Dy),qz=[Oa("select"),Ff("initData",{},[Js("allowCustomColors",!0),tr("storageKey","default"),oc("colors",Vi())])].concat(Dy),Fl=[Oa("select"),ml("initData",[Si("columns"),nc("items",[],Vi())])].concat(Dy),OD=$a("fancytype",{inserttable:TD,colorswatch:qz,imageselect:Fl}),Gz=oo([Bs,Ry,fD,bf,lm].concat(Cg)),Kz=oo([Bs,Ry,$0,L_,lm,Lh].concat(Cg)),AD=oo([Bs,Fh,tC,bc].concat(Cg)),Yz=oo([Bs,pD,Fh,bc].concat(Cg)),Xz=oo([Bs,bc,Ry,Fh,Ih].concat(Cg)),aC=(o,s,a)=>{const l=qi(o.element,"."+a);if(l.length>0){const d=as(l,f=>{const p=f.dom.getBoundingClientRect().top,b=l[0].dom.getBoundingClientRect().top;return Math.abs(p-b)>s}).getOr(l.length);return O.some({numColumns:d,numRows:Math.ceil(l.length/d)})}return O.none()},j0=o=>((s,a)=>ye([ko(s,a)]))(wt("unnamed-events"),o),Jz=o=>Wt.config({disabled:o,disableClass:"tox-collection__item--state-disabled"}),Z0=o=>Wt.config({disabled:o}),iC=o=>Wt.config({disabled:o,disableClass:"tox-tbtn--disabled"}),$_=o=>Wt.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}),W0=(o,s)=>{const a=o.getApi(s);return l=>{l(a)}},Nu=(o,s)=>Xn(a=>{Kt(o.onBeforeSetup)&&o.onBeforeSetup(a),W0(o,a)(l=>{const d=o.onSetup(l);Kt(d)&&s.set(d)})}),vp=(o,s)=>Sr(a=>W0(o,a)(s.get())),V_=(o,s,a)=>Sr(l=>(a.set(se.getValue(l)),W0(o,l)(s.get()))),Qz="silver.uistate",q0="setDisabled",eT="init",ND=["switchmode",eT],My=(o,s)=>{const a=o.mainUi.outerContainer,l=[o.mainUi.mothership,...o.uiMotherships];s===q0&&tt(l,d=>{d.broadcastOn([wu()],{target:a.element})}),tt(l,d=>{d.broadcastOn([Qz],s)})},lC=(o,s)=>{o.on("init SwitchMode",a=>{My(s,a.type)}),o.on("DisabledStateChange",a=>{if(!a.isDefaultPrevented()){const l=a.state?q0:eT;My(s,l),a.state||o.nodeChanged()}}),o.on("NodeChange",a=>{const l=o.ui.isEnabled()?a.type:q0;My(s,l)}),UE(o)&&o.mode.set("readonly")},Yr=o=>Pl.config({channels:{[Qz]:{onReceive:(s,a)=>{if(a===q0||a==="setEnabled")return void Wt.set(s,a===q0);const{contextType:l,shouldDisable:d}=o();(l!=="mode"||Je(ND,a))&&Wt.set(s,d)}}}}),tT=(o,s)=>Zd((a,l)=>{W0(o,a)(o.onAction),o.triggersSubmenu||s!==Ou.CLOSE_ON_EXECUTE||(a.getSystem().isConnected()&&Vo(a,Ud()),l.stop())}),oT={[Qs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},$h=pi,Vh=(o,s,a,l)=>{const d=Mt(qe);return{type:"item",dom:s.dom,components:$h(s.optComponents),data:o.data,eventOrder:oT,hasSubmenu:o.triggersSubmenu,itemBehaviours:ye([ko("item-events",[tT(o,a),Nu(o,d),vp(o,d)]),Jz(()=>!o.enabled||l.checkUiComponentContext(o.context).shouldDisable),Yr(()=>l.checkUiComponentContext(o.context)),bo.config({})].concat(o.itemBehaviours))}},Ru=o=>({value:o.value,meta:{text:o.text.getOr(""),...o.meta}}),nT=o=>new Promise((s,a)=>{const l=()=>{f(),s(o)},d=[Wi(o,"load",l),Wi(o,"error",()=>{f(),a("Unable to load data from image: "+o.dom.src)})],f=()=>tt(d,p=>p.unbind());o.dom.complete&&l()}),RD=(o,s)=>{var a,l;const d=Ts("div");return Er(d,"tox-image-selector-loading-spinner"),{dom:{tag:o.tag,attributes:(a=o.attributes)!==null&&a!==void 0?a:{},classes:o.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:s},classes:["tox-image-selector-image-img"]}}]},...o.checkMark.toArray()],behaviours:ye([...(l=o.behaviours)!==null&&l!==void 0?l:[],ko("render-image-events",[Xn(f=>{var p;p=f.element,Er(p,"tox-image-selector-loading-spinner-wrapper"),ha(p,d),$n(f.element,"img").each(b=>{nT(b).catch(y=>{console.error(y)}).finally(()=>{(y=>{ar(y,"tox-image-selector-loading-spinner-wrapper"),Ol(d)})(f.element)})})})])])}},U_=o=>{const s=Eh.os.isMacOS()||Eh.os.isiOS(),a=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=o.split("+"),d=Se(l,f=>{const p=f.toLowerCase().trim();return _o(a,p)?a[p]:f});return s?d.join(""):d.join("+")},cC=(o,s,a=[Z2])=>xd(o,{tag:"div",classes:a},s),rT=o=>({dom:{tag:"div",classes:[Ay]},components:[zr(Xd.translate(o))]}),sT=(o,s)=>({dom:{tag:"div",classes:s,innerHtml:o}}),aT=(o,s)=>({dom:{tag:"div",classes:[Ay]},components:[{dom:{tag:o.tag,styles:o.styles},components:[zr(Xd.translate(s))]}]}),dC=o=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[zr(U_(o))]}),G0=o=>cC("checkmark",o,["tox-collection__item-checkmark"]),uC=(o,s)=>{const a=o.map(l=>({attributes:{id:wt("menu-item"),"aria-label":Xd.translate(l)}})).getOr({});return{tag:"div",classes:[U2,A_].concat(s),...a}},_p=o=>({dom:{tag:"label"},components:[zr(o)]}),Uh=(o,s,a,l=O.none())=>o.presets==="color"?((d,f,p)=>{const b=d.value,y=d.iconContent.map(E=>((w,A,P)=>{const I=A();return _z(w,I).or(P).getOrThunk(I2(I))})(E,f.icons,p)),_=d.ariaLabel.map(E=>({"aria-label":f.translate(E),"data-mce-name":E})).getOr({});return{dom:(()=>{const E=wz,w=y.getOr(""),A={tag:"div",attributes:_,classes:[E]};return b==="custom"?{...A,tag:"button",classes:[...A.classes,"tox-swatches__picker-btn"],innerHtml:w}:b==="remove"?{...A,classes:[...A.classes,"tox-swatch--remove"],innerHtml:w}:$t(b)?{...A,attributes:{...A.attributes,"data-mce-color":b},styles:{"background-color":b},innerHtml:w}:A})(),optComponents:[]}})(o,s,l):o.presets==="img"?(d=>{var f,p;return{dom:uC(d.ariaLabel,["tox-collection__item-image-selector"]),optComponents:[O.some((f=d.iconContent.getOrDie(),p={tag:"div",classes:["tox-collection__item-image"],checkMark:d.checkMark},RD(p,f))),d.labelContent.map(_p)]}})(o):((d,f,p,b)=>{const y={tag:"div",classes:[Z2]},_=p?d.iconContent.map(P=>xd(P,y,f.icons,b)).orThunk(()=>O.some({dom:y})):O.none(),E=d.checkMark,w=O.from(d.meta).fold(()=>rT,P=>_o(P,"style")?ht(aT,P.style):rT),A=d.htmlContent.fold(()=>d.textContent.map(w),P=>O.some(sT(P,[Ay])));return{dom:uC(d.ariaLabel,[]),optComponents:[_,A,d.shortcutContent.map(dC),E,d.caret,d.labelContent.map(_p)]}})(o,s,a,l),fC=(o,s,a)=>dt(o,"tooltipWorker").map(l=>[Kr.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:Wd}}),mode:"follow-highlight",onShow:(d,f)=>{l(p=>{Kr.setComponents(d,[Kf({element:_t(p)})])})}})]).getOrThunk(()=>a.map(l=>[Kr.config({...s.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),iT=(o,s)=>{const a=(l=>E0.DOM.encode(l))(Xd.translate(o));if(s.length>0){const l=new RegExp((d=>d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(s),"gi");return a.replace(l,d=>`<span class="tox-autocompleter-highlight">${d}</span>`)}return a},lT=(o,s)=>Se(o,a=>{switch(a.type){case"cardcontainer":return((f,p)=>{const b=f.direction==="vertical"?"tox-collection__item-container--column":Ez,y=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Sz,b,y,(()=>{switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:p}})(a,lT(a.items,s));case"cardimage":return((f,p,b)=>({dom:{tag:"img",classes:p,attributes:{src:f,alt:b.getOr("")}}}))(a.src,a.classes,a.alt);case"cardtext":const l=a.name.exists(f=>Je(s.cardText.highlightOn,f)),d=l?O.from(s.cardText.matchText).getOr(""):"";return sT(iT(a.text,d),a.classes)}}),By=(o,s,a,l,d,f,p,b=!0)=>{const y=Uh({presets:a,textContent:s?o.text:O.none(),htmlContent:O.none(),labelContent:o.label,ariaLabel:o.text,iconContent:o.icon,shortcutContent:s?o.shortcut:O.none(),checkMark:s?O.some(G0(p.icons)):O.none(),caret:O.none(),value:o.value},p,b),_=o.text.filter(ue(!s)).map(E=>Kr.config(p.tooltips.getConfig({tooltipText:p.translate(E)})));return Cr(Vh({context:o.context,data:Ru(o),enabled:o.enabled,getApi:E=>({setActive:w=>{jo.set(E,w)},isActive:()=>jo.isOn(E),isEnabled:()=>!Wt.isDisabled(E),setEnabled:w=>Wt.set(E,!w)}),onAction:E=>l(o.value),onSetup:E=>(E.setActive(d),qe),triggersSubmenu:!1,itemBehaviours:[..._.toArray()]},y,f,p),{toggling:{toggleClass:j2,toggleOnExecute:!1,selected:o.active,exclusive:!0}})},jh=Ww(Eu(),y2()),mC=o=>({value:cT(o)}),j_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,kp=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,wp=o=>j_.test(o)||kp.test(o),cT=o=>Zn(o,"#").toUpperCase(),pC=o=>{const s=o.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Py=o=>{const s=pC(o.red)+pC(o.green)+pC(o.blue);return mC(s)},cm=Math.min,Z_=Math.max,W_=Math.round,dT=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,uT=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Sg=(o,s,a,l)=>({red:o,green:s,blue:a,alpha:l}),K0=o=>{const s=parseInt(o,10);return s.toString()===o&&s>=0&&s<=255},gC=o=>{let s,a,l;const d=(o.hue||0)%360;let f=o.saturation/100,p=o.value/100;if(f=Z_(0,cm(f,1)),p=Z_(0,cm(p,1)),f===0)return s=a=l=W_(255*p),Sg(s,a,l,1);const b=d/60,y=p*f,_=y*(1-Math.abs(b%2-1)),E=p-y;switch(Math.floor(b)){case 0:s=y,a=_,l=0;break;case 1:s=_,a=y,l=0;break;case 2:s=0,a=y,l=_;break;case 3:s=0,a=_,l=y;break;case 4:s=_,a=0,l=y;break;case 5:s=y,a=0,l=_;break;default:s=a=l=0}return s=W_(255*(s+E)),a=W_(255*(a+E)),l=W_(255*(l+E)),Sg(s,a,l,1)},Y0=o=>{const s=(f=>{const p=(y=>({value:y.value.replace(j_,(E,w,A,P)=>w+w+A+A+P+P)}))(f),b=kp.exec(p.value);return b===null?["FFFFFF","FF","FF","FF"]:b})(o),a=parseInt(s[1],16),l=parseInt(s[2],16),d=parseInt(s[3],16);return Sg(a,l,d,1)},fT=(o,s,a,l)=>{const d=parseInt(o,10),f=parseInt(s,10),p=parseInt(a,10),b=parseFloat(l);return Sg(d,f,p,b)},hC=o=>{const s=dT.exec(o);if(s!==null)return O.some(fT(s[1],s[2],s[3],"1"));const a=uT.exec(o);return a!==null?O.some(fT(a[1],a[2],a[3],a[4])):O.none()},X0=o=>`rgba(${o.red},${o.green},${o.blue},${o.alpha})`,q_=Sg(255,0,0,1),Ly=(o,s)=>{o.dispatch("ResizeContent",s)},bC=(o,s)=>{o.dispatch("TextColorChange",s)},DD=(o,s)=>o.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),yC=o=>{o.dispatch("ContextToolbarClose")},J0=(o,s)=>()=>{o(),s()},rl=o=>Zh(o,"NodeChange",s=>{s.setEnabled(o.selection.isEditable())}),Q0=(o,s)=>a=>{const l=rl(o)(a),d=((f,p)=>b=>{const y=Jc(),_=()=>{b.setActive(f.formatter.match(p));const E=f.formatter.formatChanged(p,b.setActive);y.set(E)};return f.initialized?_():f.once("init",_),()=>{f.off("init",_),y.clear()}})(o,s)(a);return()=>{l(),d()}},Zh=(o,s,a)=>l=>{const d=()=>a(l),f=()=>{a(l),o.on(s,d)};return o.initialized?f():o.once("init",f),()=>{o.off("init",f),o.off(s,d)}},G_=o=>s=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("mceToggleFormat",!1,s.format)})},Hc=(o,s)=>()=>o.execCommand(s);var Wh=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const mT={},pT=o=>dt(mT,o).getOrThunk(()=>{const s=`tinymce-custom-colors-${o}`,a=Wh.getItem(s);if(jr(a)){const d=Wh.getItem("tinymce-custom-colors");Wh.setItem(s,$t(d)?d:"[]")}const l=((d,f=10)=>{const p=Wh.getItem(d),b=Dt(p)?JSON.parse(p):[],y=f-(_=b).length<0?_.slice(0,f):_;var _;const E=w=>{y.splice(w,1)};return{add:w=>{((A,P)=>{const I=Zr(A,P);return I===-1?O.none():O.some(I)})(y,w).each(E),y.unshift(w),y.length>f&&y.pop(),Wh.setItem(d,JSON.stringify(y))},state:()=>y.slice(0)}})(s,10);return mT[o]=l,l}),xC=(o,s)=>{pT(o).add(s)},ex=(o,s,a)=>({hue:o,saturation:s,value:a}),vC=o=>{let s=0,a=0,l=0;const d=o.red/255,f=o.green/255,p=o.blue/255,b=Math.min(d,Math.min(f,p)),y=Math.max(d,Math.max(f,p));return b===y?(l=b,ex(0,0,100*l)):(s=d===b?3:p===b?1:5,s=60*(s-(d===b?f-p:p===b?d-f:p-d)/(y-b)),a=(y-b)/y,l=y,ex(Math.round(s),Math.round(100*a),Math.round(100*l)))},_C=o=>Py(gC(o)),qh="forecolor",kC="hilitecolor",Iy=o=>{const s=[];for(let a=0;a<o.length;a+=2)s.push({text:o[a+1],value:o[a],icon:"checkmark",type:"choiceitem"});return s},Qd=o=>s=>s.options.get(o),K_="#000000",tx=(o,s)=>s===qh&&o.options.isSet("color_map_foreground")?Qd("color_map_foreground")(o):s===kC&&o.options.isSet("color_map_background")?Qd("color_map_background")(o):o.options.isSet("color_map_raw")?Qd("color_map_raw")(o):Qd("color_map")(o),wC=(o,s="default")=>Math.max(5,Math.ceil(Math.sqrt(tx(o,s).length))),gT=(o,s)=>{const a=Qd("color_cols")(o),l=wC(o,s);return a===wC(o)?l:a},CC=(o,s="default")=>Math.round(s===qh?Qd("color_cols_foreground")(o):s===kC?Qd("color_cols_background")(o):Qd("color_cols")(o)),hT=Qd("custom_colors"),bT=Qd("color_default_foreground"),MD=Qd("color_default_background"),yT=(o,s)=>{const a=_t(o.selection.getStart()),l=s==="hilitecolor"?ot(a,d=>{if(lr(d)){const f=Vs(d,"background-color");return Ho(hC(f).exists(p=>p.alpha!==0),f)}return O.none()}).getOr("rgba(0, 0, 0, 0)"):Vs(a,"color");return hC(l).map(d=>"#"+Py(d).value)},SC=o=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return o?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},Fy=(o,s,a,l)=>{a==="custom"?_T(o)(d=>{d.each(f=>{xC(s,f),o.execCommand("mceApplyTextcolor",s,f),l(f)})},yT(o,s).getOr(K_)):a==="remove"?(l(""),o.execCommand("mceRemoveTextcolor",s)):(l(a),o.execCommand("mceApplyTextcolor",s,a))},ox=(o,s,a)=>o.concat((l=>Se(pT(l).state(),d=>({type:"choiceitem",text:d,icon:"checkmark",value:d})))(s).concat(SC(a))),Y_=(o,s,a)=>l=>{l(ox(o,s,a))},EC=(o,s,a)=>{const l=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";o.setIconFill(l,a)},xT=(o,s)=>{o.setTooltip(s)},vT=(o,s)=>a=>{const l=yT(o,s);return Ks(l,a.toUpperCase())},zC=(o,s,a)=>{if(El(a))return s==="forecolor"?"Text color":"Background color";const l=s==="forecolor"?"Text color {0}":"Background color {0}",d=ox(tx(o,s),s,!1),f=H(d,p=>p.value===a).getOr({text:""}).text;return o.translate([l,o.translate(f)])},TC=(o,s,a,l)=>{o.ui.registry.addSplitButton(s,{tooltip:zC(o,a,l.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:vT(o,a),columns:CC(o,a),fetch:Y_(tx(o,a),a,hT(o)),onAction:d=>{Fy(o,a,l.get(),qe)},onItemAction:(d,f)=>{Fy(o,a,f,p=>{l.set(p),bC(o,{name:s,color:p})})},onSetup:d=>{EC(d,s,l.get());const f=p=>{p.name===s&&(EC(d,p.name,p.color),xT(d,zC(o,a,p.color)))};return o.on("TextColorChange",f),J0(rl(o)(d),()=>{o.off("TextColorChange",f)})}})},OC=(o,s,a,l,d)=>{o.ui.registry.addNestedMenuItem(s,{text:l,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(xT(f,zC(o,a,d.get())),EC(f,s,d.get()),rl(o)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:vT(o,a),initData:{storageKey:a},onAction:f=>{Fy(o,a,f.value,p=>{d.set(p),bC(o,{name:s,color:p})})}}]})},_T=o=>(s,a)=>{let l=!1;const d={colorpicker:a};o.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:(f,p)=>{p.name==="hex-valid"&&(l=p.value)},onSubmit:f=>{const p=f.getData().colorpicker;l?(s(O.from(p)),f.close()):o.windowManager.alert(o.translate(["Invalid hex color code: {0}",p]))},onClose:qe,onCancel:()=>{s(O.none())}})},X_=(o,s,a,l,d,f,p,b)=>{const y=F0(s),_=BD(s,a,l,d!=="color"?"normal":"color",f,p,b);return P_(o,y,_,l,{menuType:d})},BD=(o,s,a,l,d,f,p)=>pi(Se(o,b=>{return b.type==="choiceitem"?(y=b,er("choicemenuitem",zD,y)).fold(vd,_=>O.some(By(_,a===1,l,s,f(_.value),d,p,F0(o)))):b.type==="imageitem"?(_=>er("imagemenuitem",Gz,_))(b).fold(vd,_=>O.some(((E,w,A,P,I)=>{const Y=Uh({presets:"img",textContent:O.none(),htmlContent:O.none(),ariaLabel:E.tooltip,iconContent:O.some(E.url),labelContent:E.label,shortcutContent:O.none(),checkMark:O.some(G0(I.icons)),caret:O.none(),value:E.value},I,!0),G=E.tooltip.map(J=>Kr.config(I.tooltips.getConfig({tooltipText:I.translate(J)})));return Cr(Vh({context:E.context,data:Ru(E),enabled:E.enabled,getApi:J=>({setActive:j=>{jo.set(J,j)},isActive:()=>jo.isOn(J),isEnabled:()=>!Wt.isDisabled(J),setEnabled:j=>Wt.set(J,!j)}),onAction:J=>{w(E.value),J.setActive(!0)},onSetup:J=>(J.setActive(A),qe),triggersSubmenu:!1,itemBehaviours:[...G.toArray()]},Y,P,I),{toggling:{toggleClass:j2,toggleOnExecute:!1,selected:E.active,exclusive:!0}})})(_,s,f(_.value),d,p))):b.type==="resetimage"?(_=>er("resetimageitem",Kz,_))(b).fold(vd,_=>O.some(By({..._,text:_.tooltip,icon:O.some(_.icon),label:O.some(_.label)},a===1,l,s,f(_.value),d,p,F0(o)))):O.none();var y})),nx=(o,s)=>{const a=am(s);return o===1?{mode:"menu",moveOnTab:!0}:o==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[s],previousSelector:l=>s==="color"?$n(l.element,"[aria-checked=true]"):O.none()}},kT=wt("cell-over"),wT=wt("cell-execute"),CT=(o,s,a)=>{const l=f=>Vt(f,wT,{row:o,col:s}),d=(f,p)=>{p.stop(),l(f)};return Ws({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:ye([ko("insert-table-picker-cell",[je(zi(),go.focus),je(Qs(),l),je(zc(),d),je(rd(),d)]),jo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),go.config({onFocus:f=>Vt(f,kT,{row:o,col:s})})])})},PD=o=>Xo(o,s=>Se(s,Bl)),ST=(o,s)=>zr(`${s}x${o}`),LD={inserttable:(o,s)=>{const a=(p=>(b,y)=>p.shared.providers.translate(["{0} columns, {1} rows",y,b]))(s),l=(p=>{const b=[];for(let y=0;y<10;y++){const _=[];for(let E=0;E<10;E++){const w=p(y+1,E+1);_.push(CT(y,E,w))}b.push(_)}return b})(a),d=ST(0,0),f=Bn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[d],behaviours:ye([bo.config({})])});return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[jh.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:PD(l).concat(f.asSpec()),behaviours:ye([ko("insert-table-picker",[Xn(p=>{bo.set(f.get(p),[d])}),Qu(kT,(p,b,y)=>{const{row:_,col:E}=y.event;((w,A,P)=>{for(let I=0;I<10;I++)for(let Y=0;Y<10;Y++)jo.set(w[I][Y],I<=A&&Y<=P)})(l,_,E),bo.set(f.get(p),[ST(_+1,E+1)])}),Qu(wT,(p,b,y)=>{const{row:_,col:E}=y.event;Vo(p,Ud()),o.onAction({numRows:_+1,numColumns:E+1})})]),Gt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(o,s)=>{const a=((p,b)=>{const y=p.initData.allowCustomColors&&b.colorinput.hasCustomColors();return p.initData.colors.fold(()=>ox(b.colorinput.getColors(p.initData.storageKey),p.initData.storageKey,y),_=>_.concat(SC(y)))})(o,s),l=s.colorinput.getColorCols(o.initData.storageKey),d="color",f={...X_(wt("menu-value"),a,p=>{o.onAction({value:p})},l,d,Ou.CLOSE_ON_EXECUTE,o.select.getOr(Ie),s.shared.providers),markers:am(d),movement:nx(l,d),showMenuRole:!1};return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[jh.widget(fp.sketch(f))]}},imageselect:(o,s)=>{const a="imageselector",l=o.initData.columns,d={...X_(wt("menu-value"),o.initData.items,f=>{o.onAction({value:f})},l,a,Ou.CLOSE_ON_EXECUTE,o.select.getOr(Ie),s.shared.providers),markers:am(a),movement:nx(l,a),showMenuRole:!1};return{type:"widget",data:{value:wt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[jh.widget(fp.sketch(d))]}}},ET=o=>({type:"separator",dom:{tag:"div",classes:[A_,"tox-collection__group-heading"]},components:o.text.map(zr).toArray()});var ID=Object.freeze({__proto__:null,getCoupled:(o,s,a,l)=>a.getOrCreate(o,s,l),getExistingCoupled:(o,s,a,l)=>a.getExisting(o,s,l)}),Gh=[Xs("others",nd(re.value,Vi()))],FD=Object.freeze({__proto__:null,init:()=>{const o={},s=(l,d)=>{if(qo(l.others).length===0)throw new Error("Cannot find any known coupled components");return dt(o,d)},a=ue({});return Le({readState:a,getExisting:(l,d,f)=>s(d,f).orThunk(()=>(dt(d.others,f).getOrDie("No information found for coupled component: "+f),O.none())),getOrCreate:(l,d,f)=>s(d,f).getOrThunk(()=>{const p=dt(d.others,f).getOrDie("No information found for coupled component: "+f)(l),b=l.getSystem().build(p);return o[f]=b,b})})}});const Ps=qt({fields:Gh,name:"coupling",apis:ID,state:FD}),Cp=o=>{let s=O.none(),a=[];const l=p=>{d()?f(p):a.push(p)},d=()=>s.isSome(),f=p=>{s.each(b=>{setTimeout(()=>{p(b)},0)})};return o(p=>{d()||(s=O.some(p),tt(a,f),a=[])}),{get:l,map:p=>Cp(b=>{l(y=>{b(p(y))})}),isReady:d}},zT={nu:Cp,pure:o=>Cp(s=>{s(o)})},HD=o=>{setTimeout(()=>{throw o},0)},eu=o=>{const s=a=>{o().then(a,HD)};return{map:a=>eu(()=>o().then(a)),bind:a=>eu(()=>o().then(l=>a(l).toPromise())),anonBind:a=>eu(()=>o().then(()=>a.toPromise())),toLazy:()=>zT.nu(s),toCached:()=>{let a=null;return eu(()=>(a===null&&(a=o()),a))},toPromise:o,get:s}},Eg=o=>eu(()=>new Promise(o)),Sp=o=>eu(()=>Promise.resolve(o)),_d=ue("sink"),AC=ue(Kd({name:_d(),overrides:ue({dom:{tag:"div"},behaviours:ye([ps.config({useFixed:jt})]),events:ur([ac(qr()),ac(Na()),ac(zc())])})})),NC=(o,s)=>{const a=o.getHotspot(s).getOr(s),l="hotspot",d=o.getAnchorOverrides();return o.layouts.fold(()=>({type:l,hotspot:a,overrides:d}),f=>({type:l,hotspot:a,overrides:d,layouts:f}))},rx=(o,s,a,l,d,f,p)=>((y,_,E,w,A,P,I)=>{const Y=((J,j,Z)=>(0,J.fetch)(Z).map(j))(y,_,w),G=RC(w,y);return Y.map(J=>J.bind(j=>{const Z=j.menus[j.primary];return O.from(Z).each(te=>{y.listRole.each(oe=>{te.role=oe})}),O.from(mp.sketch({...P.menu(),uid:ng(""),data:j,highlightOnOpen:I,onOpenMenu:(te,oe)=>{const ce=G().getOrDie();ps.position(ce,oe,{anchor:E}),xn.decloak(A)},onOpenSubmenu:(te,oe,ce)=>{const he=G().getOrDie();ps.position(he,ce,{anchor:{type:"submenu",item:oe}}),xn.decloak(A)},onRepositionMenu:(te,oe,ce)=>{const he=G().getOrDie();ps.position(he,oe,{anchor:E}),tt(ce,we=>{ps.position(he,we.triggeredMenu,{anchor:{type:"submenu",item:we.triggeringItem}})})},onEscape:()=>(go.focus(w),xn.close(A),O.some(!0))}))}))})(o,s,NC(o,a),a,l,d,p).map(y=>(y.fold(()=>{xn.isOpen(l)&&xn.close(l)},_=>{xn.cloak(l),xn.open(l,_),f(l)}),l)),$D=(o,s,a,l,d,f,p)=>(xn.close(l),Sp(l)),Hy=(o,s,a,l,d,f)=>{const p=Ps.getCoupled(a,"sandbox");return(xn.isOpen(p)?$D:rx)(o,s,a,p,l,d,f)},RC=(o,s)=>o.getSystem().getByUid(s.uid+"-"+_d()).map(a=>()=>re.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>re.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(o))),TT=o=>{xn.getState(o).each(s=>{mp.repositionMenus(s)})},DC=(o,s,a)=>{const l=wv(),d=RC(s,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:l.id}},behaviours:rt(o.sandboxBehaviours,[se.config({store:{mode:"memory",initialValue:s}}),xn.config({onOpen:(f,p)=>{const b=NC(o,s);l.link(s.element),o.matchWidth&&((y,_,E)=>{const w=_n.getCurrent(_).getOr(_),A=ae(y.element);E?Zt(w.element,"min-width",A+"px"):((P,I)=>{q.set(P,I)})(w.element,A)})(b.hotspot,p,o.useMinWidth),o.onOpen(b,f,p),a!==void 0&&a.onOpen!==void 0&&a.onOpen(f,p)},onClose:(f,p)=>{l.unlink(s.element),d().getOr(p).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(f,p)},isPartOf:(f,p,b)=>Wm(p,b)||Wm(s,b),getAttachPoint:()=>d().getOrDie()}),_n.config({find:f=>xn.getState(f).bind(p=>_n.getCurrent(p))}),Pl.config({channels:{...d0({isExtraPart:Ie}),...h({doReposition:TT})}})])}},sx=o=>{const s=Ps.getCoupled(o,"sandbox");TT(s)},ax=()=>[Ee("sandboxClasses",[]),Qe("sandboxBehaviours",[_n,Pl,xn,se])],OT=ue([Ge("dom"),Ge("fetch"),Bo("onOpen"),li("onExecute"),Ee("getHotspot",O.some),Ee("getAnchorOverrides",ue({})),wa(),ke("dropdownBehaviours",[jo,Ps,Gt,go]),Ge("toggleClass"),Ee("eventOrder",{}),tn("lazySink"),Ee("matchWidth",!1),Ee("useMinWidth",!1),tn("role"),tn("listRole")].concat(ax())),AT=ue([Su({schema:[th(),Ee("fakeFocus",!1)],name:"menu",defaults:o=>({onExecute:o.onExecute})}),AC()]),$c=_l({name:"Dropdown",configFields:OT(),partFields:AT(),factory:(o,s,a,l)=>{const d=y=>{xn.getState(y).each(_=>{mp.highlightPrimary(_)})},f=(y,_,E)=>Hy(o,Et,y,l,_,E),p={expand:y=>{jo.isOn(y)||f(y,qe,ss.HighlightNone).get(qe)},open:y=>{jo.isOn(y)||f(y,qe,ss.HighlightMenuAndItem).get(qe)},refetch:y=>Ps.getExistingCoupled(y,"sandbox").fold(()=>f(y,qe,ss.HighlightMenuAndItem).map(qe),_=>rx(o,Et,y,_,l,qe,ss.HighlightMenuAndItem).map(qe)),isOpen:jo.isOn,close:y=>{jo.isOn(y)&&f(y,qe,ss.HighlightMenuAndItem).get(qe)},repositionMenus:y=>{jo.isOn(y)&&sx(y)}},b=(y,_)=>(Zi(y),O.some(!0));return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.dropdownBehaviours,[jo.config({toggleClass:o.toggleClass,aria:{mode:"expanded"}}),Ps.config({others:{sandbox:y=>DC(o,y,{onOpen:()=>jo.on(y),onClose:()=>jo.off(y)})}}),Gt.config({mode:"special",onSpace:b,onEnter:b,onDown:(y,_)=>{if($c.isOpen(y)){const E=Ps.getCoupled(y,"sandbox");d(E)}else $c.open(y);return O.some(!0)},onEscape:(y,_)=>$c.isOpen(y)?($c.close(y),O.some(!0)):O.none()}),go.config({})]),events:l_(O.some(y=>{f(y,d,ss.HighlightMenuAndItem).get(qe)})),eventOrder:{...o.eventOrder,[Qs()]:["disabling","toggling","alloy.base.behaviour"]},apis:p,domModification:{attributes:{"aria-haspopup":o.listRole.getOr("true"),...o.role.fold(()=>({}),y=>({role:y})),...o.dom.tag==="button"?{type:dt(o.dom,"attributes").bind(y=>dt(y,"type")).getOr("button")}:{}}}}},apis:{open:(o,s)=>o.open(s),refetch:(o,s)=>o.refetch(s),expand:(o,s)=>o.expand(s),close:(o,s)=>o.close(s),isOpen:(o,s)=>o.isOpen(s),repositionMenus:(o,s)=>o.repositionMenus(s)}}),NT=(o,s,a)=>{D_(o).each(l=>{var d;((f,p)=>{cs(p.element,"id").each(b=>io(f.element,"aria-activedescendant",b))})(l,a),(ir((d=s).element,M_)?O.some(d.element):$n(d.element,"."+M_)).each(f=>{cs(f,"id").each(p=>io(l.element,"aria-controls",p))})}),io(a.element,"aria-selected","true")},MC=(o,s,a)=>{io(a.element,"aria-selected","false")},RT=o=>Ps.getExistingCoupled(o,"sandbox").bind(I0).map(Ny).map(s=>s.fetchPattern).getOr("");var J_;(function(o){o[o.ContentFocus=0]="ContentFocus",o[o.UiFocus=1]="UiFocus"})(J_||(J_={}));const VD=(o,s,a,l,d)=>{const f=a.shared.providers,p=y=>d?{...y,shortcut:O.none(),icon:y.text.isSome()?O.none():y.icon}:y;switch(o.type){case"menuitem":return(b=o,er("menuitem",AD,b)).fold(vd,y=>O.some(((_,E,w,A=!0)=>{const P=Uh({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:O.none(),labelContent:O.none(),ariaLabel:_.text,caret:O.none(),checkMark:O.none(),shortcutContent:_.shortcut},w,A);return Vh({context:_.context,data:Ru(_),getApi:I=>({isEnabled:()=>!Wt.isDisabled(I),setEnabled:Y=>Wt.set(I,!Y)}),enabled:_.enabled,onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},P,E,w)})(p(y),s,f,l)));case"nestedmenuitem":return(y=>er("nestedmenuitem",Yz,y))(o).fold(vd,y=>O.some(((_,E,w,A=!0,P=!1)=>{const I=P?(Y=w.icons,cC("chevron-down",Y,[Cz])):(J=>cC("chevron-right",J,[Cz]))(w.icons);var Y;const G=Uh({presets:"normal",iconContent:_.icon,textContent:_.text,htmlContent:O.none(),ariaLabel:_.text,labelContent:O.none(),caret:O.some(I),checkMark:O.none(),shortcutContent:_.shortcut},w,A);return Vh({context:_.context,data:Ru(_),getApi:J=>({isEnabled:()=>!Wt.isDisabled(J),setEnabled:j=>Wt.set(J,!j),setIconFill:(j,Z)=>{$n(J.element,`svg path[class="${j}"], rect[class="${j}"]`).each(te=>{io(te,"fill",Z)})},setTooltip:j=>{const Z=w.translate(j);io(J.element,"aria-label",Z)}}),enabled:_.enabled,onAction:qe,onSetup:_.onSetup,triggersSubmenu:!0,itemBehaviours:[]},G,E,w)})(p(y),s,f,l,d)));case"togglemenuitem":return(y=>er("togglemenuitem",Xz,y))(o).fold(vd,y=>O.some(((_,E,w,A=!0)=>{const P=Uh({iconContent:_.icon,textContent:_.text,htmlContent:O.none(),labelContent:O.none(),ariaLabel:_.text,checkMark:O.some(G0(w.icons)),caret:O.none(),shortcutContent:_.shortcut,presets:"normal",meta:_.meta},w,A);return Cr(Vh({context:_.context,data:Ru(_),enabled:_.enabled,getApi:I=>({setActive:Y=>{jo.set(I,Y)},isActive:()=>jo.isOn(I),isEnabled:()=>!Wt.isDisabled(I),setEnabled:Y=>Wt.set(I,!Y)}),onAction:_.onAction,onSetup:_.onSetup,triggersSubmenu:!1,itemBehaviours:[]},P,E,w),{toggling:{toggleClass:j2,toggleOnExecute:!1,selected:_.active},role:_.role.getOrUndefined()})})(p(y),s,f,l)));case"separator":return(y=>er("separatormenuitem",Pz,y))(o).fold(vd,y=>O.some(ET(y)));case"fancymenuitem":return(y=>er("fancymenuitem",OD,y))(o).fold(vd,y=>((_,E)=>dt(LD,_.fancytype).map(w=>w(_,E)))(y,a));default:return console.error("Unknown item in general menu",o),O.none()}var b},UD=(o,s,a,l,d,f,p)=>{const b=l===1,y=!b||F0(o);return pi(Se(o,_=>{switch(_.type){case"separator":return(E=_,er("Autocompleter.Separator",Pz,E)).fold(vd,w=>O.some(ET(w)));case"cardmenuitem":return(w=>er("cardmenuitem",sC,w))(_).fold(vd,w=>O.some(((A,P,I,Y)=>{const G={dom:uC(A.label,[]),optComponents:[O.some({dom:{tag:"div",classes:[Sz,Ez]},components:lT(A.items,Y)})]};return Vh({context:"mode:design",data:Ru({text:O.none(),...A}),enabled:A.enabled,getApi:J=>({isEnabled:()=>!Wt.isDisabled(J),setEnabled:j=>{Wt.set(J,!j),tt(qi(J.element,"*"),Z=>{J.getSystem().getByDom(Z).each(te=>{te.hasConfigured(Wt)&&Wt.set(te,!j)})})}}),onAction:A.onAction,onSetup:A.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(Y.itemBehaviours).getOr([])},G,P,I.providers)})({...w,onAction:A=>{w.onAction(A),a(w.value,w.meta)}},d,f,{itemBehaviours:fC(w.meta,f,O.none()),cardText:{matchText:s,highlightOn:p}})));default:return(w=>er("Autocompleter.Item",yD,w))(_).fold(vd,w=>O.some(((A,P,I,Y,G,J,j,Z=!0)=>{const te=Uh({presets:Y,textContent:O.none(),htmlContent:I?A.text.map(ce=>iT(ce,P)):O.none(),ariaLabel:A.text,labelContent:O.none(),iconContent:A.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:A.value},j.providers,Z,A.icon),oe=A.text.filter(ce=>!I&&ce!=="");return Vh({context:"mode:design",data:Ru(A),enabled:A.enabled,getApi:ue({}),onAction:ce=>G(A.value,A.meta),onSetup:ue(qe),triggersSubmenu:!1,itemBehaviours:fC(A,j,oe)},te,J,j.providers)})(w,s,b,"normal",a,d,f,y)))}var E}))},Q_=(o,s,a,l,d,f)=>{const p=F0(s),b=pi(Se(s,_=>{const E=w=>VD(w,a,l,(A=>d?!_o(A,"text"):p)(w),d);return _.type==="nestedmenuitem"&&_.getSubmenuItems().length<=0?E({..._,enabled:!1}):E(_)})),y=(_=>_.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:_})(f);return(d?uD:P_)(o,p,b,1,y)},BC=o=>mp.singleData(o.value,o),ix=o=>ep(_t(o.startContainer),o.startOffset,_t(o.endContainer),o.endOffset),ek=(o,s)=>{const a=wt("autocompleter"),l=Mt(!1),d=Mt(!1),f=dn(),p=Ws(Gn.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ye([ko("dismissAutocompleter",[je(Gu(),()=>w()),je(yr(),(I,Y)=>{cs(Y.event.target,"id").each(G=>io(_t(o.getBody()),"aria-activedescendant",G))})])]),lazySink:s.getSink})),b=()=>Gn.isOpen(p),y=d.get,_=()=>{if(b()){Gn.hide(p),o.dom.remove(a,!1);const I=_t(o.getBody());cs(I,"aria-owns").filter(Y=>Y===a).each(()=>{$r(I,"aria-owns"),$r(I,"aria-activedescendant")})}},E=()=>Gn.getContent(p).bind(I=>yt(I.components(),0)),w=()=>o.execCommand("mceAutocompleterClose"),A=I=>{const Y=(G=>{const J=fo(G,j=>O.from(j.columns)).getOr(1);return Xo(G,j=>{const Z=j.items;return UD(Z,j.matchText,(te,oe)=>{const ce={hide:()=>w(),reload:he=>{_(),o.execCommand("mceAutocompleterReload",!1,{fetchOptions:he})}};o.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(he=>{l.set(!0),j.onAction(ce,he,te,oe),l.set(!1)})},J,Ou.BUBBLE_TO_SANDBOX,s,j.highlightOn)})})(I);Y.length>0?(((G,J)=>{const j=fo(G,Z=>O.from(Z.columns)).getOr(1);Gn.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>f.get().map(ix),root:_t(o.getBody())}},((Z,te,oe,ce)=>{const he=nx(te,ce),we=am(ce);return{data:BC({...Z,movement:he,menuBehaviours:j0(te!=="auto"?[]:[Xn((Ae,Ue)=>{aC(Ae,4,we.item).each(({numColumns:Ve,numRows:Ye})=>{Gt.setGridSize(Ae,Ye,Ve)})})])}),menu:{markers:am(ce),fakeFocus:oe===J_.ContentFocus}}})(P_("autocompleter-value",!0,J,j,{menuType:"normal"}),j,J_.ContentFocus,"normal")),E().each(Vn.highlightFirst)})(I,Y),io(_t(o.getBody()),"aria-owns",a),o.inline||P()):_()},P=()=>{o.dom.get(a)&&o.dom.remove(a,!1);const I=o.getDoc().documentElement,Y=o.selection.getNode(),G=(J=>pv(J,!0))(p.element);Qa(G,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Y.offsetTop}px`,left:`${Y.offsetLeft}px`}),o.dom.add(I,G.dom),$n(G,'[role="menu"]').each(J=>{ln(J,"position"),ln(J,"max-height")})};o.on("AutocompleterStart",({lookupData:I})=>{d.set(!0),l.set(!1),A(I)}),o.on("AutocompleterUpdate",({lookupData:I})=>A(I)),o.on("AutocompleterUpdateActiveRange",({range:I})=>f.set(I)),o.on("AutocompleterEnd",()=>{_(),d.set(!1),l.set(!1),f.clear()}),((I,Y)=>{const G=(j,Z)=>{Vt(j,qr(),{raw:Z})},J=()=>I.getMenu().bind(Vn.getHighlighted);Y.on("keydown",j=>{const Z=j.which;I.isActive()&&(I.isMenuOpen()?Z===13?(J().each(Zi),j.preventDefault()):Z===40?(J().fold(()=>{I.getMenu().each(Vn.highlightFirst)},te=>{G(te,j)}),j.preventDefault(),j.stopImmediatePropagation()):Z!==37&&Z!==38&&Z!==39||J().each(te=>{G(te,j),j.preventDefault(),j.stopImmediatePropagation()}):Z!==13&&Z!==38&&Z!==40||I.cancelIfNecessary())}),Y.on("NodeChange",()=>{!I.isActive()||I.isProcessingAction()||Y.queryCommandState("mceAutoCompleterInRange")||I.cancelIfNecessary()})})({cancelIfNecessary:w,isMenuOpen:b,isActive:y,isProcessingAction:l.get,getMenu:E},o)},$y=(o,s,a)=>$i(o,s,a).isSome(),PC=(o,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...l)=>{a=setTimeout(()=>{o.apply(null,l),a=null},s)}}},DT=o=>{const s=o.raw;return s.touches===void 0||s.touches.length!==1?O.none():O.some(s.touches[0])},jD=(o,s)=>{const a={stopBackspace:!0,...s},l=(w=>{const A=dn(),P=Mt(!1),I=PC(G=>{w.triggerEvent(Dl(),G),P.set(!0)},400),Y=U([{key:Ln(),value:G=>(DT(G).each(J=>{I.cancel();const j={x:J.clientX,y:J.clientY,target:G.target};I.schedule(G),P.set(!1),A.set(j)}),O.none())},{key:ts(),value:G=>(I.cancel(),DT(G).each(J=>{A.on(j=>{((Z,te)=>{const oe=Math.abs(Z.clientX-te.x),ce=Math.abs(Z.clientY-te.y);return oe>5||ce>5})(J,j)&&A.clear()})}),O.none())},{key:ji(),value:G=>(I.cancel(),A.get().filter(J=>yn(J.target,G.target)).map(J=>P.get()?(G.prevent(),!1):w.triggerEvent(rd(),G)))}]);return{fireIfReady:(G,J)=>dt(Y,J).bind(j=>j(G))}})(a),d=Se(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),w=>Wi(o,w,A=>{l.fireIfReady(A,w).each(P=>{P&&A.kill()}),a.triggerEvent(w,A)&&A.kill()})),f=dn(),p=Wi(o,"paste",w=>{l.fireIfReady(w,"paste").each(A=>{A&&w.kill()}),a.triggerEvent("paste",w)&&w.kill(),f.set(setTimeout(()=>{a.triggerEvent(Hf(),w)},0))}),b=Wi(o,"keydown",w=>{a.triggerEvent("keydown",w)?w.kill():a.stopBackspace&&(A=>A.raw.which===pR[0]&&!Je(["input","textarea"],Pa(A.target))&&!$y(A.target,'[contenteditable="true"]'))(w)&&w.prevent()}),y=Wi(o,"focusin",w=>{a.triggerEvent("focusin",w)&&w.kill()}),_=dn(),E=Wi(o,"focusout",w=>{a.triggerEvent("focusout",w)&&w.kill(),_.set(setTimeout(()=>{a.triggerEvent(gl(),w)},0))});return{unbind:()=>{tt(d,w=>{w.unbind()}),b.unbind(),y.unbind(),E.unbind(),p.unbind(),f.on(clearTimeout),_.on(clearTimeout)}}},MT=(o,s)=>{const a=dt(o,"target").getOr(s);return Mt(a)},lx=S([{stopped:[]},{resume:["element"]},{complete:[]}]),tk=(o,s,a,l,d,f)=>{const p=o(s,l),b=((y,_)=>{const E=Mt(!1),w=Mt(!1);return{stop:()=>{E.set(!0)},cut:()=>{w.set(!0)},isStopped:E.get,isCut:w.get,event:y,setSource:_.set,getSource:_.get}})(a,d);return p.fold(()=>(f.logEventNoHandlers(s,l),lx.complete()),y=>{const _=y.descHandler;return F1(_)(b),b.isStopped()?(f.logEventStopped(s,y.element,_.purpose),lx.stopped()):b.isCut()?(f.logEventCut(s,y.element,_.purpose),lx.complete()):es(y.element).fold(()=>(f.logNoParent(s,y.element,_.purpose),lx.complete()),E=>(f.logEventResponse(s,y.element,_.purpose),lx.resume(E)))})},LC=(o,s,a,l,d,f)=>tk(o,s,a,l,d,f).fold(jt,p=>LC(o,s,a,p,d,f),Ie),IC=(o,s,a,l,d)=>{const f=MT(a,l);return LC(o,s,a,l,f,d)},FC=()=>{const o=(()=>{const l={};return{registerId:(d,f,p)=>{Qn(p,(b,y)=>{const _=l[y]!==void 0?l[y]:{};_[f]=((E,w)=>({cHandler:ht.apply(void 0,[E.handler].concat(w)),purpose:E.purpose}))(b,d),l[y]=_})},unregisterId:d=>{Qn(l,(f,p)=>{_o(f,d)&&delete f[d]})},filterByType:d=>dt(l,d).map(f=>Hr(f,(p,b)=>((y,_)=>({id:y,descHandler:_}))(b,p))).getOr([]),find:(d,f,p)=>dt(l,f).bind(b=>ot(p,y=>((_,E)=>og(E).bind(w=>dt(_,w)).map(w=>((A,P)=>({element:A,descHandler:P}))(E,w)))(b,y),d))}})(),s={},a=l=>{og(l.element).each(d=>{delete s[d],o.unregisterId(d)})};return{find:(l,d,f)=>o.find(l,d,f),filter:l=>o.filterByType(l),register:l=>{const d=(p=>{const b=p.element;return og(b).getOrThunk(()=>((y,_)=>{const E=wt(I1+"uid-");return Ab(_,E),E})(0,p.element))})(l);Fo(s,d)&&((p,b)=>{const y=s[b];if(y!==p)throw new Error('The tagId "'+b+'" is already used by: '+$m(y.element)+`
Cannot use it for: `+$m(p.element)+`
The conflicting element is`+(Wn(y.element)?" ":" not ")+"already in the DOM");a(p)})(l,d);const f=[l];o.registerId(f,d,l.events),s[d]=l},unregister:a,getById:l=>dt(s,l)}},yf=hd({name:"Container",factory:o=>{const{attributes:s,...a}=o.dom;return{uid:o.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:o.components,behaviours:We(o.containerBehaviours),events:o.events,domModification:o.domModification,eventOrder:o.eventOrder}},configFields:[Ee("components",[]),ke("containerBehaviours",[]),Ee("events",{}),Ee("domModification",{}),Ee("eventOrder",{})]}),ok=o=>{const s=G=>es(o.element).fold(jt,J=>yn(G,J)),a=FC(),l=(G,J)=>a.find(s,G,J),d=jD(o.element,{triggerEvent:(G,J)=>zb(G,J.target,j=>((Z,te,oe,ce)=>IC(Z,te,oe,oe.target,ce))(l,G,J,j))}),f={debugInfo:ue("real"),triggerEvent:(G,J,j)=>{zb(G,J,Z=>IC(l,G,j,J,Z))},triggerFocus:(G,J)=>{og(G).fold(()=>{Da(G)},j=>{zb(Oc(),G,Z=>(((te,oe,ce,he,we)=>{const Ae=MT(ce,he);tk(te,oe,ce,he,Ae,we)})(l,Oc(),{originator:J,kill:qe,prevent:qe,target:G},G,Z),!1))})},triggerEscape:(G,J)=>{f.triggerEvent("keydown",G.element,J.event)},getByUid:G=>I(G),getByDom:G=>Y(G),build:Ws,buildOrPatch:Pb,addToGui:G=>{y(G)},removeFromGui:G=>{_(G)},addToWorld:G=>{p(G)},removeFromWorld:G=>{b(G)},broadcast:G=>{w(G)},broadcastOn:(G,J)=>{A(G,J)},broadcastEvent:(G,J)=>{P(G,J)},isConnected:jt},p=G=>{G.connect(f),ua(G.element)||(a.register(G),tt(G.components(),p),f.triggerEvent(rc(),G.element,{target:G.element}))},b=G=>{ua(G.element)||(tt(G.components(),b),a.unregister(G)),G.disconnect()},y=G=>{em(o,G)},_=G=>{ku(G)},E=G=>{const J=a.filter(Ot());tt(J,j=>{const Z=j.descHandler;F1(Z)(G)})},w=G=>{E({universal:!0,data:G})},A=(G,J)=>{E({universal:!1,channels:G,data:J})},P=(G,J)=>((j,Z)=>{const te=(oe=>{const ce=Mt(!1);return{stop:()=>{ce.set(!0)},cut:qe,isStopped:ce.get,isCut:Ie,event:oe,setSource:Nr("Cannot set source of a broadcasted event"),getSource:Nr("Cannot get source of a broadcasted event")}})(Z);return tt(j,oe=>{const ce=oe.descHandler;F1(ce)(te)}),te.isStopped()})(a.filter(G),J),I=G=>a.getById(G).fold(()=>re.error(new Error('Could not find component with uid: "'+G+'" in system.')),re.value),Y=G=>{const J=og(G).getOr("not found");return I(J)};return p(o),{root:o,element:o.element,destroy:()=>{d.unbind(),Ol(o.element)},add:y,remove:_,getByUid:I,getByDom:Y,addToWorld:p,removeFromWorld:b,broadcast:w,broadcastOn:A,broadcastEvent:P}},ZD=ue([Ee("prefix","form-field"),ke("fieldBehaviours",[_n,se])]),WD=ue([Kd({schema:[Ge("dom")],name:"label"}),Kd({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ge("text")],name:"aria-descriptor"}),ol({factory:{sketch:o=>{const s=((a,l)=>{const d={};return Qn(a,(f,p)=>{Je(l,p)||(d[p]=f)}),d})(o,["factory"]);return o.factory.sketch(s)}},schema:[Ge("factory")],name:"field"})]),nn=_l({name:"FormField",configFields:ZD(),partFields:WD(),factory:(o,s,a,l)=>{const d=Fe(o.fieldBehaviours,[_n.config({find:b=>Pr(b,o,"field")}),se.config({store:{mode:"manual",getValue:b=>_n.getCurrent(b).bind(se.getValue),setValue:(b,y)=>{_n.getCurrent(b).each(_=>{se.setValue(_,y)})}}})]),f=ur([Xn((b,y)=>{const _=I3(b,o,["label","field","aria-descriptor"]);_.field().each(E=>{const w=wt(o.prefix);_.label().each(A=>{io(A.element,"for",w),io(E.element,"id",w)}),_["aria-descriptor"]().each(A=>{const P=wt(o.prefix);io(A.element,"id",P),io(E.element,"aria-describedby",P)})})})]),p={getField:b=>Pr(b,o,"field"),getLabel:b=>Pr(b,o,"label")};return{uid:o.uid,dom:o.dom,components:s,behaviours:d,events:f,apis:p}},apis:{getField:(o,s)=>o.getField(s),getLabel:(o,s)=>o.getLabel(s)}});var BT=tinymce.util.Tools.resolve("tinymce.html.Entities");const cx=(o,s,a,l)=>{const d=qD(o,s,a,l);return nn.sketch(d)},qD=(o,s,a,l)=>({dom:nk(a),components:o.toArray().concat([s]),fieldBehaviours:ye(l)}),nk=o=>({tag:"div",classes:["tox-form__group"].concat(o)}),Ep=(o,s)=>nn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[zr(s.translate(o))]}),Hl=wt("form-component-change"),PT=wt("form-component-input"),Kh=wt("form-close"),zg=wt("form-cancel"),dm=wt("form-action"),dx=wt("form-submit"),HC=wt("form-block"),$C=wt("form-unblock"),VC=wt("form-tabchange"),rk=wt("form-resize"),GD=(o,s,a)=>{const l=o.label.map(w=>Ep(w,s)),d=s.icons(),f=w=>(A,P)=>{$i(P.event.target,"[data-collection-item-value]").each(I=>{w(A,P,I,ls(I,"data-collection-item-value"))})},p=f((w,A,P,I)=>{A.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||Vt(w,dm,{name:o.name,value:I})}),b=[je(zi(),f((w,A,P)=>{Da(P,!0)})),je(zc(),p),je(rd(),p),je(pl(),f((w,A,P)=>{$n(w.element,"."+Bh).each(I=>{ar(I,Bh)}),Er(P,Bh)})),je(Kp(),f(w=>{$n(w.element,"."+Bh).each(A=>{ar(A,Bh),ig(A)})})),Zd(f((w,A,P,I)=>{Vt(w,dm,{name:o.name,value:I})}))],y=(w,A)=>Se(qi(w.element,".tox-collection__item"),A),_=nn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(o.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Et},behaviours:ye([Wt.config({disabled:()=>s.checkUiComponentContext(o.context).shouldDisable,onDisabled:w=>{y(w,A=>{Er(A,"tox-collection__item--state-disabled"),io(A,"aria-disabled",!0)})},onEnabled:w=>{y(w,A=>{ar(A,"tox-collection__item--state-disabled"),$r(A,"aria-disabled")})}}),Yr(()=>s.checkUiComponentContext(o.context)),bo.config({}),Kr.config({...s.tooltips.getConfig({tooltipText:"",onShow:w=>{$n(w.element,"."+Bh+"[data-mce-tooltip]").each(A=>{cs(A,"data-mce-tooltip").each(P=>{Kr.setComponents(w,s.tooltips.getComponents({tooltipText:P}))})})}}),mode:"children-keyboard-focus",anchor:w=>({type:"node",node:$n(w.element,"."+Bh).orThunk(()=>Nd(".tox-collection__item")),root:w.element,layouts:{onLtr:ue([ms,xs,zs,Ua,Ds,la]),onRtl:ue([ms,xs,zs,Ua,Ds,la])},bubble:xl(0,-2,{})})}),se.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(w,A)=>{((P,I)=>{const Y=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",G=Se(I,Z=>{const te=Xd.translate(Z.text),oe=o.columns===1?`<div class="tox-collection__item-label">${te}</div>`:"",ce=`<div class="tox-collection__item-icon">${(Ae=>{var Ue;return(Ue=d[Ae])!==null&&Ue!==void 0?Ue:Ae})(Z.icon)}</div>`,he={_:" "," - ":" ","-":" "},we=te.replace(/\_| \- |\-/g,Ae=>he[Ae]);return`<div data-mce-tooltip="${we}" class="tox-collection__item${Y}" tabindex="-1" data-collection-item-value="${BT.encodeAllRaw(Z.value)}" aria-label="${we}">${ce}${oe}</div>`}),J=o.columns!=="auto"&&o.columns>1?De(G,o.columns):[G],j=Se(J,Z=>`<div class="tox-collection__group">${Z.join("")}</div>`);of(P.element,j.join(""))})(w,A),o.columns==="auto"&&aC(w,5,"tox-collection__item").each(({numRows:P,numColumns:I})=>{Gt.setGridSize(w,P,I)}),Vo(w,rk)}}),xr.config({}),Gt.config((E=o.columns,E===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:E==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${A_}`}})),ko("collection-events",b)]),eventOrder:{[Qs()]:["disabling","alloy.base.behaviour","collection-events"],[pl()]:["collection-events","tooltipping"]}});var E;return cx(l,_,["tox-form__group--collection"],[])},sk=["input","textarea"],LT=o=>{const s=Pa(o);return Je(sk,s)},IT=(o,s)=>{const a=s.getRoot(o).getOr(o.element);ar(a,s.invalidClass),s.notify.each(l=>{LT(o.element)&&io(o.element,"aria-invalid",!1),l.getContainer(o).each(d=>{of(d,l.validHtml)}),l.onValid(o)})},FT=(o,s,a,l)=>{const d=s.getRoot(o).getOr(o.element);Er(d,s.invalidClass),s.notify.each(f=>{LT(o.element)&&io(o.element,"aria-invalid",!0),f.getContainer(o).each(p=>{of(p,l)}),f.onInvalid(o,l)})},HT=(o,s,a)=>s.validator.fold(()=>Sp(re.value(!0)),l=>l.validate(o)),UC=(o,s,a)=>(s.notify.each(l=>{l.onValidate(o)}),HT(o,s).map(l=>o.getSystem().isConnected()?l.fold(d=>(FT(o,s,0,d),re.error(d)),d=>(IT(o,s),re.value(d))):re.error("No longer in system")));var KD=Object.freeze({__proto__:null,markValid:IT,markInvalid:FT,query:HT,run:UC,isInvalid:(o,s)=>{const a=s.getRoot(o).getOr(o.element);return ir(a,s.invalidClass)}}),$T=Object.freeze({__proto__:null,events:(o,s)=>o.validator.map(a=>ur([je(a.onEvent,l=>{UC(l,o).get(Et)})].concat(a.validateOnLoad?[Xn(l=>{UC(l,o).get(qe)})]:[]))).getOr({})}),YD=[Ge("invalidClass"),Ee("getRoot",O.none),un("notify",[Ee("aria","alert"),Ee("getContainer",O.none),Ee("validHtml",""),Bo("onValid"),Bo("onInvalid"),Bo("onValidate")]),un("validator",[Ge("validate"),Ee("onEvent","input"),Ee("validateOnLoad",!0)])];const um=qt({fields:YD,name:"invalidating",active:$T,apis:KD,extra:{validation:o=>s=>{const a=se.getValue(s);return Sp(o(a))}}}),Yh=qt({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>ur([kb(vb(),jt)]),exhibit:()=>k({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),Tg=wt("color-input-change"),VT=wt("color-swatch-change"),UT=wt("color-picker-cancel"),jC=Kd({schema:[Ge("dom")],name:"label"}),zp=o=>Kd({name:o+"-edge",overrides:s=>s.model.manager.edgeActions[o].fold(()=>({}),a=>({events:ur([Xu(Ln(),(l,d,f)=>a(l,f),[s]),Xu(Na(),(l,d,f)=>a(l,f),[s]),Xu(Mm(),(l,d,f)=>{f.mouseIsDown.get()&&a(l,f)},[s])])}))}),XD=zp("top-left"),JD=zp("top"),jT=zp("top-right"),QD=zp("right"),ZT=zp("bottom-right"),WT=zp("bottom"),ZC=zp("bottom-left"),e7=zp("left"),qT=ol({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:o=>({events:ur([Ju(Ln(),o,"spectrum"),Ju(ts(),o,"spectrum"),Ju(ji(),o,"spectrum"),Ju(Na(),o,"spectrum"),Ju(Mm(),o,"spectrum"),Ju(Rs(),o,"spectrum")])})}),ak=o=>_h(o.event);var ux=[jC,e7,QD,JD,WT,XD,jT,ZC,ZT,qT,ol({schema:[ia("mouseIsDown",()=>Mt(!1))],name:"spectrum",overrides:o=>{const s=o.model.manager,a=(l,d)=>s.getValueFromEvent(d).map(f=>s.setValueFrom(l,o,f));return{behaviours:ye([Gt.config({mode:"special",onLeft:(l,d)=>s.onLeft(l,o,ak(d)),onRight:(l,d)=>s.onRight(l,o,ak(d)),onUp:(l,d)=>s.onUp(l,o,ak(d)),onDown:(l,d)=>s.onDown(l,o,ak(d))}),xr.config({}),go.config({})]),events:ur([je(Ln(),a),je(ts(),a),je(Na(),a),je(Mm(),(l,d)=>{o.mouseIsDown.get()&&a(l,d)})])}}})];const fx=ue("slider.change.value"),WC=o=>{const s=o.event.raw;if((a=>a.type.indexOf("touch")!==-1)(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?O.some(a.touches[0]).map(l=>Dn(l.clientX,l.clientY)):O.none()}{const a=s;return a.clientX!==void 0?O.some(a).map(l=>Dn(l.clientX,l.clientY)):O.none()}},Tp=o=>o.model.minX,Op=o=>o.model.minY,ik=o=>o.model.minX-1,Vy=o=>o.model.minY-1,Xh=o=>o.model.maxX,Jh=o=>o.model.maxY,Uy=o=>o.model.maxX+1,lk=o=>o.model.maxY+1,GT=(o,s,a)=>s(o)-a(o),qC=o=>GT(o,Xh,Tp),GC=o=>GT(o,Jh,Op),KT=o=>qC(o)/2,YT=o=>GC(o)/2,jy=(o,s)=>s?o.stepSize*o.speedMultiplier:o.stepSize,XT=o=>o.snapToGrid,JT=o=>o.snapStart,QT=o=>o.rounded,ck=(o,s)=>o[s+"-edge"]!==void 0,e5=o=>ck(o,"left"),dk=o=>ck(o,"right"),t5=o=>ck(o,"top"),o5=o=>ck(o,"bottom"),Ap=o=>o.model.value.get(),Np=(o,s)=>({x:o,y:s}),Du=(o,s)=>{Vt(o,fx(),{value:s})},KC=(o,s,a,l)=>o<s?o:o>a?a:o===s?s-1:Math.max(s,o-l),YC=(o,s,a,l)=>o>a?o:o<s?s:o===a?a+1:Math.min(a,o+l),n5=(o,s,a)=>Math.max(s,Math.min(a,o)),r5=o=>{const{min:s,max:a,range:l,value:d,step:f,snap:p,snapStart:b,rounded:y,hasMinEdge:_,hasMaxEdge:E,minBound:w,maxBound:A,screenRange:P}=o,I=_?s-1:s,Y=E?a+1:a;if(d<w)return I;if(d>A)return Y;{const G=((j,Z,te)=>Math.min(te,Math.max(j,Z))-Z)(d,w,A),J=n5(G/P*l+s,I,Y);return p&&J>=s&&J<=a?((j,Z,te,oe,ce)=>ce.fold(()=>{const he=j-Z,we=Math.round(he/oe)*oe;return n5(Z+we,Z-1,te+1)},he=>{const we=(j-he)%oe,Ae=Math.round(we/oe),Ue=Math.floor((j-he)/oe),Ve=Math.floor((te-he)/oe),Ye=he+Math.min(Ve,Ue+Ae)*oe;return Math.max(he,Ye)}))(J,s,a,f,b):y?Math.round(J):J}},s5=o=>{const{min:s,max:a,range:l,value:d,hasMinEdge:f,hasMaxEdge:p,maxBound:b,maxOffset:y,centerMinEdge:_,centerMaxEdge:E}=o;return d<s?f?0:_:d>a?p?b:E:(d-s)/l*y},mx="top",a5="right",i5="bottom",XC="left",fm=o=>o.element.dom.getBoundingClientRect(),Mu=(o,s)=>o[s],uk=o=>{const s=fm(o);return Mu(s,XC)},l5=o=>{const s=fm(o);return Mu(s,a5)},fk=o=>{const s=fm(o);return Mu(s,mx)},c5=o=>{const s=fm(o);return Mu(s,i5)},d5=o=>{const s=fm(o);return Mu(s,"width")},u5=o=>{const s=fm(o);return Mu(s,"height")},f5=(o,s,a)=>(o+s)/2-a,m5=(o,s)=>{const a=fm(o),l=fm(s),d=Mu(a,XC),f=Mu(a,a5),p=Mu(l,XC);return f5(d,f,p)},p5=(o,s)=>{const a=fm(o),l=fm(s),d=Mu(a,mx),f=Mu(a,i5),p=Mu(l,mx);return f5(d,f,p)},Qh=(o,s)=>{Vt(o,fx(),{value:s})},JC=(o,s,a)=>{const l={min:Tp(s),max:Xh(s),range:qC(s),value:a,step:jy(s),snap:XT(s),snapStart:JT(s),rounded:QT(s),hasMinEdge:e5(s),hasMaxEdge:dk(s),minBound:uk(o),maxBound:l5(o),screenRange:d5(o)};return r5(l)},mk=o=>(s,a,l)=>((d,f,p,b)=>{const y=(d>0?YC:KC)(Ap(p),Tp(p),Xh(p),jy(p,b));return Qh(f,y),O.some(y)})(o,s,a,l).map(jt),QC=(o,s,a,l,d,f)=>{const p=((b,y,_,E,w)=>{const A=d5(b),P=E.bind(G=>O.some(m5(G,b))).getOr(0),I=w.bind(G=>O.some(m5(G,b))).getOr(A),Y={min:Tp(y),max:Xh(y),range:qC(y),value:_,hasMinEdge:e5(y),hasMaxEdge:dk(y),minBound:uk(b),maxBound:l5(b),maxOffset:A,centerMinEdge:P,centerMaxEdge:I};return s5(Y)})(s,f,a,l,d);return uk(s)-uk(o)+p},t7=mk(-1),o7=mk(1),g5=O.none,n7=O.none,eS={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some((o,s)=>{Du(o,Uy(s))}),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some((o,s)=>{Du(o,ik(s))})};var tS=Object.freeze({__proto__:null,setValueFrom:(o,s,a)=>{const l=JC(o,s,a);return Qh(o,l),l},setToMin:(o,s)=>{const a=Tp(s);Qh(o,a)},setToMax:(o,s)=>{const a=Xh(s);Qh(o,a)},findValueOfOffset:JC,getValueFromEvent:o=>WC(o).map(s=>s.left),findPositionOfValue:QC,setPositionFromValue:(o,s,a,l)=>{const d=Ap(a),f=QC(o,l.getSpectrum(o),d,l.getLeftEdge(o),l.getRightEdge(o),a),p=ae(s.element)/2;Zt(s.element,"left",f-p+"px")},onLeft:t7,onRight:o7,onUp:g5,onDown:n7,edgeActions:eS});const px=(o,s)=>{Vt(o,fx(),{value:s})},gx=(o,s,a)=>{const l={min:Op(s),max:Jh(s),range:GC(s),value:a,step:jy(s),snap:XT(s),snapStart:JT(s),rounded:QT(s),hasMinEdge:t5(s),hasMaxEdge:o5(s),minBound:fk(o),maxBound:c5(o),screenRange:u5(o)};return r5(l)},hx=o=>(s,a,l)=>((d,f,p,b)=>{const y=(d>0?YC:KC)(Ap(p),Op(p),Jh(p),jy(p,b));return px(f,y),O.some(y)})(o,s,a,l).map(jt),pk=(o,s,a,l,d,f)=>{const p=((b,y,_,E,w)=>{const A=u5(b),P=E.bind(G=>O.some(p5(G,b))).getOr(0),I=w.bind(G=>O.some(p5(G,b))).getOr(A),Y={min:Op(y),max:Jh(y),range:GC(y),value:_,hasMinEdge:t5(y),hasMaxEdge:o5(y),minBound:fk(b),maxBound:c5(b),maxOffset:A,centerMinEdge:P,centerMaxEdge:I};return s5(Y)})(s,f,a,l,d);return fk(s)-fk(o)+p},mm=O.none,oS=O.none,r7=hx(-1),s7=hx(1),a7={"top-left":O.none(),top:O.some((o,s)=>{Du(o,Vy(s))}),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some((o,s)=>{Du(o,lk(s))}),"bottom-left":O.none(),left:O.none()};var i7=Object.freeze({__proto__:null,setValueFrom:(o,s,a)=>{const l=gx(o,s,a);return px(o,l),l},setToMin:(o,s)=>{const a=Op(s);px(o,a)},setToMax:(o,s)=>{const a=Jh(s);px(o,a)},findValueOfOffset:gx,getValueFromEvent:o=>WC(o).map(s=>s.top),findPositionOfValue:pk,setPositionFromValue:(o,s,a,l)=>{const d=Ap(a),f=pk(o,l.getSpectrum(o),d,l.getTopEdge(o),l.getBottomEdge(o),a),p=kr(s.element)/2;Zt(s.element,"top",f-p+"px")},onLeft:mm,onRight:oS,onUp:r7,onDown:s7,edgeActions:a7});const Og=(o,s)=>{Vt(o,fx(),{value:s})},gk=(o,s)=>({x:o,y:s}),bx=(o,s)=>(a,l,d)=>((f,p,b,y,_)=>{const E=f>0?YC:KC,w=p?Ap(y).x:E(Ap(y).x,Tp(y),Xh(y),jy(y,_)),A=p?E(Ap(y).y,Op(y),Jh(y),jy(y,_)):Ap(y).y;return Og(b,gk(w,A)),O.some(w)})(o,s,a,l,d).map(jt),nS=bx(-1,!1),l7=bx(1,!1),rS=bx(-1,!0),sS=bx(1,!0),c7={"top-left":O.some((o,s)=>{Du(o,Np(ik(s),Vy(s)))}),top:O.some((o,s)=>{Du(o,Np(KT(s),Vy(s)))}),"top-right":O.some((o,s)=>{Du(o,Np(Uy(s),Vy(s)))}),right:O.some((o,s)=>{Du(o,Np(Uy(s),YT(s)))}),"bottom-right":O.some((o,s)=>{Du(o,Np(Uy(s),lk(s)))}),bottom:O.some((o,s)=>{Du(o,Np(KT(s),lk(s)))}),"bottom-left":O.some((o,s)=>{Du(o,Np(ik(s),lk(s)))}),left:O.some((o,s)=>{Du(o,Np(ik(s),YT(s)))})};var h5=Object.freeze({__proto__:null,setValueFrom:(o,s,a)=>{const l=JC(o,s,a.left),d=gx(o,s,a.top),f=gk(l,d);return Og(o,f),f},setToMin:(o,s)=>{const a=Tp(s),l=Op(s);Og(o,gk(a,l))},setToMax:(o,s)=>{const a=Xh(s),l=Jh(s);Og(o,gk(a,l))},getValueFromEvent:o=>WC(o),setPositionFromValue:(o,s,a,l)=>{const d=Ap(a),f=QC(o,l.getSpectrum(o),d.x,l.getLeftEdge(o),l.getRightEdge(o),a),p=pk(o,l.getSpectrum(o),d.y,l.getTopEdge(o),l.getBottomEdge(o),a),b=ae(s.element)/2,y=kr(s.element)/2;Zt(s.element,"left",f-b+"px"),Zt(s.element,"top",p-y+"px")},onLeft:nS,onRight:l7,onUp:rS,onDown:sS,edgeActions:c7});const tu=_l({name:"Slider",configFields:[Ee("stepSize",1),Ee("speedMultiplier",10),Ee("onChange",qe),Ee("onChoose",qe),Ee("onInit",qe),Ee("onDragStart",qe),Ee("onDragEnd",qe),Ee("snapToGrid",!1),Ee("rounded",!0),tn("snapStart"),Xs("model",$a("mode",{x:[Ee("minX",0),Ee("maxX",100),ia("value",o=>Mt(o.mode.minX)),Ge("getInitialValue"),Gr("manager",tS)],y:[Ee("minY",0),Ee("maxY",100),ia("value",o=>Mt(o.mode.minY)),Ge("getInitialValue"),Gr("manager",i7)],xy:[Ee("minX",0),Ee("maxX",100),Ee("minY",0),Ee("maxY",100),ia("value",o=>Mt({x:o.mode.minX,y:o.mode.minY})),Ge("getInitialValue"),Gr("manager",h5)]})),ke("sliderBehaviours",[Gt,se]),ia("mouseIsDown",()=>Mt(!1))],partFields:ux,factory:(o,s,a,l)=>{const d=j=>yg(j,o,"thumb"),f=j=>yg(j,o,"spectrum"),p=j=>Pr(j,o,"left-edge"),b=j=>Pr(j,o,"right-edge"),y=j=>Pr(j,o,"top-edge"),_=j=>Pr(j,o,"bottom-edge"),E=o.model,w=E.manager,A=(j,Z)=>{w.setPositionFromValue(j,Z,o,{getLeftEdge:p,getRightEdge:b,getTopEdge:y,getBottomEdge:_,getSpectrum:f})},P=(j,Z)=>{E.value.set(Z);const te=d(j);A(j,te)},I=j=>{const Z=o.mouseIsDown.get();o.mouseIsDown.set(!1),Z&&Pr(j,o,"thumb").each(te=>{const oe=E.value.get();o.onChoose(j,te,oe)})},Y=(j,Z)=>{Z.stop(),o.mouseIsDown.set(!0),o.onDragStart(j,d(j))},G=(j,Z)=>{Z.stop(),o.onDragEnd(j,d(j)),I(j)},J=j=>{Pr(j,o,"spectrum").map(Gt.focusIn)};return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.sliderBehaviours,[Gt.config({mode:"special",focusIn:J}),se.config({store:{mode:"manual",getValue:j=>E.value.get(),setValue:P}}),Pl.config({channels:{[c0()]:{onReceive:I}}})]),events:ur([je(fx(),(j,Z)=>{((te,oe)=>{P(te,oe);const ce=d(te);o.onChange(te,ce,oe)})(j,Z.event.value)}),Xn((j,Z)=>{const te=E.getInitialValue();E.value.set(te);const oe=d(j);A(j,oe);const ce=f(j);o.onInit(j,oe,ce,E.value.get())}),je(Ln(),Y),je(ji(),G),je(Na(),(j,Z)=>{J(j),Y(j,Z)}),je(Rs(),G)]),apis:{resetToMin:j=>{w.setToMin(j,o)},resetToMax:j=>{w.setToMax(j,o)},setValue:P,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:(o,s,a)=>{o.setValue(s,a)},resetToMin:(o,s)=>{o.resetToMin(s)},resetToMax:(o,s)=>{o.resetToMax(s)},refresh:(o,s)=>{o.refresh(s)}}}),aS=wt("rgb-hex-update"),iS=wt("slider-update"),lS=wt("palette-update"),b5="form",d7=[ke("formBehaviours",[se])],y5=o=>"<alloy.field."+o+">",u7=(o,s)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.formBehaviours,[se.config({store:{mode:"manual",getValue:a=>{const l=Yw(a,o);return Rn(l,(d,f)=>d().bind(p=>{return b=_n.getCurrent(p),y=new Error(`Cannot find a current component to extract the value from for form part '${f}': `+$m(p.element)),b.fold(()=>re.error(y),re.value);var b,y}).map(se.getValue))},setValue:(a,l)=>{Qn(l,(d,f)=>{Pr(a,o,f).each(p=>{_n.getCurrent(p).each(b=>{se.setValue(b,d)})})})}}})]),apis:{getField:(a,l)=>Pr(a,o,l).bind(_n.getCurrent)}}),Zy={getField:Mb((o,s,a)=>o.getField(s,a)),sketch:o=>{const s=(()=>{const f=[];return{field:(p,b)=>(f.push(p),qw(b5,y5(p),b)),record:ue(f)}})(),a=o(s),l=s.record(),d=Se(l,f=>ol({name:f,pname:y5(f)}));return Gv(b5,d7,d,u7,a)}},cS=wt("valid-input"),dS=wt("invalid-input"),x5=wt("validating-input"),hk="colorcustom.rgb.",yx={isEnabled:jt,setEnabled:qe,immediatelyShow:qe,immediatelyHide:qe},v5=(o,s,a,l,d,f)=>{const p=(P,I)=>{const Y=I.get();P!==Y.isEnabled()&&(Y.setEnabled(P),P?Y.immediatelyShow():Y.immediatelyHide())},b=(P,I,Y)=>um.config({invalidClass:s("invalid"),notify:{onValidate:G=>{Vt(G,x5,{type:P})},onValid:G=>{p(!1,Y),Vt(G,cS,{type:P,value:se.getValue(G)})},onInvalid:G=>{p(!0,Y),Vt(G,dS,{type:P,value:se.getValue(G)})}},validator:{validate:G=>{const J=se.getValue(G),j=I(J)?re.value(!0):re.error(o("aria.input.invalid"));return Sp(j)},validateOnLoad:!1}}),y=(P,I,Y,G,J)=>{const j=Mt(yx),Z=o(hk+"range"),te=nn.parts.label({dom:{tag:"label"},components:[zr(Y)]}),oe=nn.parts.field({data:J,factory:hp,inputAttributes:{type:"text","aria-label":G,...I==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:ye([b(I,P,j),xr.config({}),Kr.config({...d({tooltipText:"",onSetup:Ve=>{j.set({isEnabled:()=>Kr.isEnabled(Ve),setEnabled:Ye=>Kr.setEnabled(Ve,Ye),immediatelyShow:()=>Kr.immediateOpenClose(Ve,!0),immediatelyHide:()=>Kr.immediateOpenClose(Ve,!1)}),Kr.setEnabled(Ve,!1)},onShow:(Ve,Ye)=>{Kr.setComponents(Ve,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[zr(o(I==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Ve=>{um.isInvalid(Ve)&&um.run(Ve).get(qe)}}),ce=wt("aria-invalid"),he=Bn(f("invalid",O.some(ce),"warning")),we=[te,oe,Bn({dom:{tag:"div",classes:[s("invalid-icon")]},components:[he.asSpec()]}).asSpec()],Ae=I!=="hex"?[nn.parts["aria-descriptor"]({text:Z})]:[],Ue=we.concat(Ae);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Ue}},_=(P,I)=>{const Y=I.red,G=I.green,J=I.blue;se.setValue(P,{red:Y,green:G,blue:J})},E=Bn({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=(P,I)=>{E.getOpt(P).each(Y=>{Zt(Y.element,"background-color","#"+I.value)})};return hd({factory:()=>{const P={red:Mt(O.some(255)),green:Mt(O.some(255)),blue:Mt(O.some(255)),hex:Mt(O.some("ffffff"))},I=we=>P[we].get(),Y=(we,Ae)=>{P[we].set(Ae)},G=we=>{const Ae=we.red,Ue=we.green,Ve=we.blue;Y("red",O.some(Ae)),Y("green",O.some(Ue)),Y("blue",O.some(Ve))},J=(we,Ae)=>{const Ue=Ae.event;Ue.type!=="hex"?Y(Ue.type,O.none()):l(we)},j=(we,Ae)=>{const Ue=Ae.event;(Ve=>Ve.type==="hex")(Ue)?((Ve,Ye)=>{a(Ve);const ft=mC(Ye);Y("hex",O.some(ft.value));const Ut=Y0(ft);_(Ve,Ut),G(Ut),Vt(Ve,aS,{hex:ft}),w(Ve,ft)})(we,Ue.value):((Ve,Ye,ft)=>{const Ut=parseInt(ft,10);Y(Ye,O.some(Ut)),I("red").bind(Yt=>I("green").bind(ro=>I("blue").map(Zo=>Sg(Yt,ro,Zo,1)))).each(Yt=>{const ro=((Zo,fr)=>{const Xr=Py(fr);return Zy.getField(Zo,"hex").each(Nn=>{go.isFocused(Nn)||se.setValue(Zo,{hex:Xr.value})}),Xr})(Ve,Yt);Vt(Ve,aS,{hex:ro}),w(Ve,ro)})})(we,Ue.type,Ue.value)},Z=we=>({label:o(hk+we+".label"),description:o(hk+we+".description")}),te=Z("red"),oe=Z("green"),ce=Z("blue"),he=Z("hex");return Cr(Zy.sketch(we=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":o("aria.color.picker")}},components:[we.field("red",nn.sketch(y(K0,"red",te.label,te.description,255))),we.field("green",nn.sketch(y(K0,"green",oe.label,oe.description,255))),we.field("blue",nn.sketch(y(K0,"blue",ce.label,ce.description,255))),we.field("hex",nn.sketch(y(wp,"hex",he.label,he.description,"ffffff"))),E.asSpec()],formBehaviours:ye([um.config({invalidClass:s("form-invalid")}),ko("rgb-form-events",[je(cS,j),je(dS,J),je(x5,J)])])})),{apis:{updateHex:(we,Ae)=>{se.setValue(we,{hex:Ae.value}),((Ue,Ve)=>{const Ye=Y0(Ve);_(Ue,Ye),G(Ye)})(we,Ae),w(we,Ae)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(P,I,Y)=>{P.updateHex(I,Y)}},extraApis:{}})},f7=(o,s,a,l)=>hd({name:"ColourPicker",configFields:[Ge("dom"),Ee("onValidHex",qe),Ee("onInvalidHex",qe)],factory:f=>{const p=v5(o,s,f.onValidHex,f.onInvalidHex,a,l),b=((J,j)=>{const Z=tu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[j("sv-palette-spectrum")]}}),te=tu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[j("sv-palette-thumb")],innerHtml:`<div class=${j("sv-palette-inner-thumb")} role="presentation"></div>`}}),oe=(ce,he)=>{const{width:we,height:Ae}=ce,Ue=ce.getContext("2d");if(Ue===null)return;Ue.fillStyle=he,Ue.fillRect(0,0,we,Ae);const Ve=Ue.createLinearGradient(0,0,we,0);Ve.addColorStop(0,"rgba(255,255,255,1)"),Ve.addColorStop(1,"rgba(255,255,255,0)"),Ue.fillStyle=Ve,Ue.fillRect(0,0,we,Ae);const Ye=Ue.createLinearGradient(0,0,0,Ae);Ye.addColorStop(0,"rgba(0,0,0,0)"),Ye.addColorStop(1,"rgba(0,0,0,1)"),Ue.fillStyle=Ye,Ue.fillRect(0,0,we,Ae)};return hd({factory:ce=>{const he=ue({x:0,y:0}),we=ye([_n.config({find:O.some}),go.config({})]);return tu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":J(["Saturation {0}%, Brightness {1}%",0,0])},classes:[j("sv-palette")]},model:{mode:"xy",getInitialValue:he},rounded:!1,components:[Z,te],onChange:(Ae,Ue,Ve)=>{Go(Ve)||io(Ae.element,"aria-valuetext",J(["Saturation {0}%, Brightness {1}%",Math.floor(Ve.x),Math.floor(100-Ve.y)])),Vt(Ae,lS,{value:Ve})},onInit:(Ae,Ue,Ve,Ye)=>{oe(Ve.element.dom,X0(q_))},sliderBehaviours:we})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ce,he,we)=>{((Ae,Ue)=>{const Ve=Ae.components()[0].element.dom,Ye=ex(Ue,100,100),ft=gC(Ye);oe(Ve,X0(ft))})(he,we)},setThumb:(ce,he,we)=>{((Ae,Ue)=>{const Ve=vC(Y0(Ue));tu.setValue(Ae,{x:Ve.saturation,y:100-Ve.value}),io(Ae.element,"aria-valuetext",J(["Saturation {0}%, Brightness {1}%",Ve.saturation,Ve.value]))})(he,we)}},extraApis:{}})})(o,s),y={paletteRgba:Mt(q_),paletteHue:Mt(0)},_=Bn(((J,j)=>{const Z=tu.parts.spectrum({dom:{tag:"div",classes:[j("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=tu.parts.thumb({dom:{tag:"div",classes:[j("hue-slider-thumb")],attributes:{role:"presentation"}}});return tu.sketch({dom:{tag:"div",classes:[j("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ue(0)},components:[Z,te],sliderBehaviours:ye([go.config({})]),onChange:(oe,ce,he)=>{io(oe.element,"aria-valuenow",Math.floor(360-3.6*he)),Vt(oe,iS,{value:he})}})})(0,s)),E=Bn(b.sketch({})),w=Bn(p.sketch({})),A=(J,j,Z)=>{E.getOpt(J).each(te=>{b.setHue(te,Z)})},P=(J,j)=>{w.getOpt(J).each(Z=>{p.updateHex(Z,j)})},I=(J,j,Z)=>{_.getOpt(J).each(te=>{tu.setValue(te,(oe=>100-oe/360*100)(Z))})},Y=(J,j)=>{E.getOpt(J).each(Z=>{b.setThumb(Z,j)})},G=(J,j,Z,te)=>{((oe,ce)=>{const he=Y0(oe);y.paletteRgba.set(he),y.paletteHue.set(ce)})(j,Z),tt(te,oe=>{oe(J,j,Z)})};return{uid:f.uid,dom:f.dom,components:[E.asSpec(),_.asSpec(),w.asSpec()],behaviours:ye([ko("colour-picker-events",[je(aS,(()=>{const J=[A,I,Y];return(j,Z)=>{const te=Z.event.hex,oe=(ce=>vC(Y0(ce)))(te);G(j,te,oe.hue,J)}})()),je(lS,(()=>{const J=[P];return(j,Z)=>{const te=Z.event.value,oe=y.paletteHue.get(),ce=ex(oe,te.x,100-te.y),he=_C(ce);G(j,he,oe,J)}})()),je(iS,(()=>{const J=[A,P];return(j,Z)=>{const te=(Ae=>(100-Ae)/100*360)(Z.event.value),oe=y.paletteRgba.get(),ce=vC(oe),he=ex(te,ce.saturation,ce.value),we=_C(he);G(j,we,te,J)}})())]),_n.config({find:J=>w.getOpt(J)}),Gt.config({mode:"acyclic"})])}}}),Ag=()=>_n.config({find:O.some}),bk=o=>_n.config({find:s=>cr(s.element,o).bind(a=>s.getSystem().getByDom(a).toOptional())}),m7=oo([Ee("preprocess",Et),Ee("postprocess",Et)]),p7=(o,s)=>{const a=va("RepresentingConfigs.memento processors",m7,s);return se.config({store:{mode:"manual",getValue:l=>{const d=o.get(l),f=se.getValue(d);return a.postprocess(f)},setValue:(l,d)=>{const f=a.preprocess(d),p=o.get(l);se.setValue(p,f)}}})},Ng=(o,s,a)=>se.config({store:{mode:"manual",...o.map(l=>({initialValue:l})).getOr({}),getValue:s,setValue:a}}),uS=(o,s,a)=>Ng(o,l=>s(l.element),(l,d)=>a(l.element,d)),xx=o=>se.config({store:{mode:"memory",initialValue:o}}),_5={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var g7=tinymce.util.Tools.resolve("tinymce.Resource");const k5=o=>_o(o,"init");var pm=tinymce.util.Tools.resolve("tinymce.util.Tools");const vx=wt("browse.files.event"),fS=(o,s,a)=>{const l=(_,E)=>{E.stop()},d=_=>(E,w)=>{tt(_,A=>{A(E,w)})},f=Bn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ye([ko("input-file-events",[ac(zc()),ac(rd())])])}),p=o.label.map(_=>Ep(_,s)),b=nn.parts.field({factory:Za,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[zr(s.translate("Browse for an image")),f.asSpec()],action:_=>{f.get(_).element.dom.click()},buttonBehaviours:ye([Ag(),xx(a.getOr([])),xr.config({}),Z0(()=>s.checkUiComponentContext(o.context).shouldDisable),Yr(()=>s.checkUiComponentContext(o.context))])}),y={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ye([Wt.config({disabled:()=>s.checkUiComponentContext(o.context).shouldDisable}),Yr(()=>s.checkUiComponentContext(o.context)),jo.config({toggleClass:"dragenter",toggleOnExecute:!1}),ko("dropzone-events",[je("dragenter",d([l,jo.toggle])),je("dragleave",d([l,jo.toggle])),je("dragover",l),je("drop",d([l,(_,E)=>{var w;if(!Wt.isDisabled(_)){const A=E.event.raw;Vt(_,vx,{files:(w=A.dataTransfer)===null||w===void 0?void 0:w.files})}}])),je(Ec(),(_,E)=>{const w=E.event.raw.target;Vt(_,vx,{files:w.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[zr(s.translate("Drop an image here"))]},b]}]};return cx(p,y,["tox-form__group--stretched"],[ko("handle-files",[je(vx,(_,E)=>{nn.getField(_).each(w=>{var A,P;A=w,(P=E.event.files)&&(se.setValue(A,((I,Y)=>{const G=pm.explode(Y.getOption("images_file_types"));return So(eo(I),J=>fn(G,j=>Sl(J.name.toLowerCase(),`.${j.toLowerCase()}`)))})(P,s)),Vt(A,Hl,{name:o.name}))})})])])},yk=(o,s)=>{let a=null;const l=()=>{lo(a)||(clearTimeout(a),a=null)};return{cancel:l,throttle:(...d)=>{l(),a=setTimeout(()=>{a=null,o.apply(null,d)},s)}}},xk=wt("alloy-fake-before-tabstop"),vk=wt("alloy-fake-after-tabstop"),w5=o=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:o},behaviours:ye([go.config({ignore:!0}),xr.config({})])}),_k=(o,s)=>({dom:{tag:"div",classes:["tox-navobj",...o.getOr([])]},components:[w5([xk]),s,w5([vk])],behaviours:ye([bk(1)])}),C5=(o,s)=>{Vt(o,qr(),{raw:{which:9,shiftKey:s}})},S5=(o,s)=>{const a=s.element;ir(a,xk)?C5(o,!0):ir(a,vk)&&C5(o,!1)},Wy=o=>$y(o,["."+xk,"."+vk].join(","),Ie),gm=wt("update-dialog"),E5=wt("update-title"),kk=wt("update-body"),_x=wt("update-footer"),z5=wt("body-send-message"),kx=wt("dialog-focus-shifted"),wk=Ys().browser,qy=wk.isSafari(),mS=wk.isFirefox(),pS=qy||mS,h7=wk.isChromium(),T5=({scrollTop:o,scrollHeight:s,clientHeight:a})=>Math.ceil(o)+a>=s,gS=(o,s)=>o.scrollTo(0,s==="bottom"?99999999:s),hS=(o,s,a)=>{const l=o.dom;O.from(l.contentDocument).fold(a,d=>{let f=0;const p=((y,_)=>{const E=y.body;return O.from(!/^<!DOCTYPE (html|HTML)/.test(_)&&(!h7&&!qy||$t(E)&&(E.scrollTop!==0||Math.abs(E.scrollHeight-E.clientHeight)>1))?E:y.documentElement)})(d,s).map(y=>(f=y.scrollTop,y)).forall(T5),b=()=>{const y=l.contentWindow;$t(y)&&(p?gS(y,"bottom"):!p&&pS&&f!==0&&gS(y,f))};qy&&l.addEventListener("load",b,{once:!0}),d.open(),d.write(s),d.close(),qy||b()})},O5=Ho(pS,qy?500:200).map(o=>((s,a)=>{let l=null,d=null;return{cancel:()=>{lo(l)||(clearTimeout(l),l=null,d=null)},throttle:(...f)=>{d=f,lo(l)&&(l=setTimeout(()=>{const p=d;l=null,d=null,s.apply(null,p)},a))}}})(hS,o)),bS=wt("toolbar.button.execute"),Rp=wt("common-button-display-events"),A5={[Qs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[it()]:["toolbar-button-events",Rp],[ad()]:["toolbar-button-events","dropdown-events","tooltipping"],[Na()]:["focusing","alloy.base.behaviour",Rp]},yS=o=>Zt(o.element,"width",Vs(o.element,"width")),N5=(o,s,a)=>xd(o,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),xS=(o,s)=>N5(o,s,[]),Dp=(o,s)=>N5(o,s,[bo.config({})]),Gy=(o,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[zr(a.translate(o))],behaviours:ye([bo.config({})])}),kd=wt("update-menu-text"),eb=wt("update-menu-icon"),R5=wt("update-tooltip-text"),vS=(o,s,a,l)=>{const d=Mt(qe),f=Mt(o.tooltip),p=o.text.map(G=>Bn(Gy(G,s,a.providers))),b=o.icon.map(G=>Bn(Dp(G,a.providers.icons))),y=(G,J)=>{const j=se.getValue(G);return go.focus(j),Vt(j,"keydown",{raw:J.event.raw}),$c.close(j),O.some(!0)},_=o.role.fold(()=>({}),G=>({role:G})),E=O.from(o.listRole).map(G=>({listRole:G})).getOr({}),w=o.ariaLabel.fold(()=>({}),G=>({"aria-label":a.providers.translate(G)})),A=xd("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),P=wt("common-button-display-events"),I="dropdown-events";return Bn($c.sketch({...o.uid?{uid:o.uid}:{},..._,...E,dom:{tag:"button",classes:[s,`${s}--select`].concat(Se(o.classes,G=>`${s}--${G}`)),attributes:{...w,...$t(l)?{"data-mce-name":l}:{}}},components:$h([b.map(G=>G.asSpec()),p.map(G=>G.asSpec()),O.some(A)]),matchWidth:!0,useMinWidth:!0,onOpen:(G,J,j)=>{o.searchable&&(Z=>{D_(Z).each(te=>go.focus(te))})(j)},dropdownBehaviours:ye([...o.dropdownBehaviours,Z0(()=>o.disabled||a.providers.checkUiComponentContext(o.context).shouldDisable),Yr(()=>a.providers.checkUiComponentContext(o.context)),Yh.config({}),bo.config({}),...o.tooltip.map(G=>Kr.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(G),onShow:J=>{if(nt(f.get(),o.tooltip,(j,Z)=>Z!==j).getOr(!1)){const j=a.providers.translate(f.get().getOr(""));Kr.setComponents(J,a.providers.tooltips.getComponents({tooltipText:j}))}}}))).toArray(),ko(I,[Nu(o,d),vp(o,d)]),ko(P,[Xn((G,J)=>{o.listRole!=="listbox"&&yS(G)})]),ko("update-dropdown-width-variable",[je(yu(),(G,J)=>$c.close(G))]),ko("menubutton-update-display-text",[je(kd,(G,J)=>{p.bind(j=>j.getOpt(G)).each(j=>{bo.set(j,[zr(a.providers.translate(J.event.text))])})}),je(eb,(G,J)=>{b.bind(j=>j.getOpt(G)).each(j=>{bo.set(j,[Dp(J.event.icon,a.providers.icons)])})}),je(R5,(G,J)=>{const j=a.providers.translate(J.event.text);io(G.element,"aria-label",j),f.set(O.some(J.event.text))})])]),eventOrder:Cr(A5,{[Na()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[it()]:["toolbar-button-events",Kr.name(),I,P]}),sandboxBehaviours:ye([Gt.config({mode:"special",onLeft:y,onRight:y}),ko("dropdown-sandbox-events",[je(K2,(G,J)=>{(j=>{const Z=se.getValue(j),te=I0(j).map(Ny);$c.refetch(Z).get(()=>{const oe=Ps.getCoupled(Z,"sandbox");te.each(ce=>I0(oe).each(he=>((we,Ae)=>{se.setValue(we,Ae.fetchPattern),we.element.dom.selectionStart=Ae.selectionStart,we.element.dom.selectionEnd=Ae.selectionEnd})(he,ce)))})})(G),J.stop()}),je(Tz,(G,J)=>{((j,Z)=>{(te=>xn.getState(te).bind(Vn.getHighlighted).bind(Vn.getHighlighted))(j).each(te=>{((oe,ce,he,we)=>{const Ae={...we,target:ce};oe.getSystem().triggerEvent(he,ce,Ae)})(j,te.element,Z.event.eventType,Z.event.interactionEvent)})})(G,J),J.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...im(0,o.columns,o.presets),fakeFocus:o.searchable,...o.listRole==="listbox"?{}:{onHighlightItem:NT,onCollapseMenu:(G,J,j)=>{Vn.getHighlighted(j).each(Z=>{NT(G,j,Z)})},onDehighlightItem:MC}}},getAnchorOverrides:()=>({maxHeightFunction:(G,J)=>{Y1()(G,J-10)}}),fetch:G=>Eg(ht(o.fetch,G))})).asSpec()},D5=o=>o.type==="separator",b7={type:"separator"},wx=(o,s)=>{const a=((l,d)=>{const f=uo(l,(p,b)=>(y=>Dt(y))(b)?b===""?p:b==="|"?p.length>0&&!D5(p[p.length-1])?p.concat([b7]):p:_o(d,b.toLowerCase())?p.concat([d[b.toLowerCase()]]):p:p.concat([b]),[]);return f.length>0&&D5(f[f.length-1])&&f.pop(),f})(Dt(o)?o.split(" "):o,s);return ho(a,(l,d)=>{if((f=>_o(f,"getSubmenuItems"))(d)){const f=(b=>{const y=dt(b,"value").getOrThunk(()=>wt("generated-menu-item"));return Cr({value:y},b)})(d),p=((b,y)=>{const _=b.getSubmenuItems(),E=wx(_,y);return{item:b,menus:Cr(E.menus,{[b.value]:E.items}),expansions:Cr(E.expansions,{[b.value]:b.value})}})(f,s);return{menus:Cr(l.menus,p.menus),items:[p.item,...l.items],expansions:Cr(l.expansions,p.expansions)}}return{...l,items:[d,...l.items]}},{menus:{},expansions:{},items:[]})},Ky=(o,s,a,l)=>{const d=wt("primary-menu"),f=wx(o,a.shared.providers.menuItems());if(f.items.length===0)return O.none();const p=(w=>w.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-field",placeholder:A.placeholder})))(l),b=Q_(d,f.items,s,a,l.isHorizontalMenu,p),y=(w=>w.search.fold(()=>({searchMode:"no-search"}),A=>({searchMode:"search-with-results"})))(l),_=Rn(f.menus,(w,A)=>Q_(A,w,s,a,!1,y)),E=Cr(_,M(d,b));return O.from(mp.tieredData(d,E,f.expansions))},Cx=o=>!_o(o,"items"),M5="data-value",_S=(o,s,a,l,d)=>Se(a,f=>Cx(f)?{type:"togglemenuitem",...d?{}:{role:"option"},text:f.text,value:f.value,active:f.value===l,onAction:()=>{se.setValue(o,f.value),Vt(o,Hl,{name:s}),go.focus(o)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>_S(o,s,f.items,l,d)}),Ck=(o,s)=>fo(o,a=>Cx(a)?Ho(a.value===s,a):Ck(a.items,s)),y7=hd({name:"HtmlSelect",configFields:[Ge("options"),ke("selectBehaviours",[go,se]),Ee("selectClasses",[]),Ee("selectAttributes",{}),tn("data")],factory:(o,s)=>{const a=Se(o.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),l=o.data.map(d=>M("initialValue",d)).getOr({});return{uid:o.uid,dom:{tag:"select",classes:o.selectClasses,attributes:o.selectAttributes},components:a,behaviours:Fe(o.selectBehaviours,[go.config({}),se.config({store:{mode:"manual",getValue:d=>sf(d.element),setValue:(d,f)=>{const p=at(o.options);H(o.options,b=>b.value===f).isSome()?cd(d.element,f):d.element.dom.selectedIndex===-1&&f===""&&p.each(b=>cd(d.element,b.value))},...l}})])}}}),B5=ue([Ee("field1Name","field1"),Ee("field2Name","field2"),rf("onLockedChange"),nf(["lockClass"]),Ee("locked",!1),Qe("coupledFieldBehaviours",[_n,se]),Yn("onInput",qe)]),kS=(o,s)=>ol({factory:nn,name:o,overrides:a=>({fieldBehaviours:ye([ko("coupled-input-behaviour",[je(os(),l=>{((d,f,p)=>Pr(d,f,p).bind(_n.getCurrent))(l,a,s).each(d=>{Pr(l,a,"lock").each(f=>{jo.isOn(f)&&a.onLockedChange(l,d,f),a.onInput(l)})})})])])})}),P5=ue([kS("field1","field2"),kS("field2","field1"),ol({factory:Za,schema:[Ge("dom")],name:"lock",overrides:o=>({buttonBehaviours:ye([jo.config({selected:o.locked,toggleClass:o.markers.lockClass,aria:{mode:"pressed"}})])})})]),Ls=_l({name:"FormCoupledInputs",configFields:B5(),partFields:P5(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:rt(o.coupledFieldBehaviours,[_n.config({find:O.some}),se.config({store:{mode:"manual",getValue:d=>{const f=Xw(d,o,["field1","field2"]);return{[o.field1Name]:se.getValue(f.field1()),[o.field2Name]:se.getValue(f.field2())}},setValue:(d,f)=>{const p=Xw(d,o,["field1","field2"]);Fo(f,o.field1Name)&&se.setValue(p.field1(),f[o.field1Name]),Fo(f,o.field2Name)&&se.setValue(p.field2(),f[o.field2Name])}}})]),apis:{getField1:d=>Pr(d,o,"field1"),getField2:d=>Pr(d,o,"field2"),getLock:d=>Pr(d,o,"lock")}}),apis:{getField1:(o,s)=>o.getField1(s),getField2:(o,s)=>o.getField2(s),getLock:(o,s)=>o.getLock(s)}}),L5=o=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let a=o.value.toFixed((l=o.unit)in s?s[l]:1);var l;return a.indexOf(".")!==-1&&(a=a.replace(/\.?0*$/,"")),a+o.unit},Sk=o=>{const s=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(o);if(s!==null){const a=parseFloat(s[1]),l=s[2];return re.value({value:a,unit:l})}return re.error(o)},I5=(o,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=d=>_o(a,d);return o.unit===s?O.some(o.value):l(o.unit)&&l(s)?a[o.unit]===a[s]?O.some(o.value):O.some(o.value/a[o.unit]*a[s]):O.none()},Ek=o=>O.none(),wS=(o,s)=>{const a=Sk(o).toOptional(),l=Sk(s).toOptional();return nt(a,l,(d,f)=>I5(d,f.unit).map(p=>f.value/p).map(p=>{return b=p,y=f.unit,_=>I5(_,y).map(E=>({value:E*b,unit:y}));var b,y}).getOr(Ek)).getOr(Ek)},CS=(o,s)=>{const a=o.label.map(E=>Ep(E,s)),l=[Wt.config({disabled:()=>o.disabled||s.checkUiComponentContext(o.context).shouldDisable}),Yr(()=>s.checkUiComponentContext(o.context)),Gt.config({mode:"execution",useEnter:o.multiline!==!0,useControlEnter:o.multiline===!0,execute:E=>(Vo(E,dx),O.some(!0))}),ko("textfield-change",[je(os(),(E,w)=>{Vt(E,Hl,{name:o.name})}),je(Hf(),(E,w)=>{Vt(E,Hl,{name:o.name})})]),xr.config({})],d=o.validation.map(E=>um.config({getRoot:w=>hi(w.element),invalidClass:"tox-invalid",validator:{validate:w=>{const A=se.getValue(w),P=E.validator(A);return Sp(P===!0?re.value(A):re.error(P))},validateOnLoad:E.validateOnLoad}})).toArray(),f={...o.placeholder.fold(ue({}),E=>({placeholder:s.translate(E)})),...o.inputMode.fold(ue({}),E=>({inputmode:E})),"data-mce-name":o.name},p=nn.parts.field({tag:o.multiline===!0?"textarea":"input",...o.data.map(E=>({data:E})).getOr({}),inputAttributes:f,inputClasses:[o.classname],inputBehaviours:ye(sr([l,d])),selectOnFocus:!1,factory:hp}),b=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[p]}:p,y=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),_=[Wt.config({disabled:()=>o.disabled||s.checkUiComponentContext(o.context).shouldDisable,onDisabled:E=>{nn.getField(E).each(Wt.disable)},onEnabled:E=>{nn.getField(E).each(Wt.enable)}}),Yr(()=>s.checkUiComponentContext(o.context))];return cx(a,b,y,_)},Sx=(o,s)=>s.getAnimationRoot.fold(()=>o.element,a=>a(o)),Mp=o=>o.dimension.property,tb=(o,s)=>o.dimension.getDimension(s),zk=(o,s)=>{const a=Sx(o,s);ai(a,[s.shrinkingClass,s.growingClass])},SS=(o,s)=>{ar(o.element,s.openClass),Er(o.element,s.closedClass),Zt(o.element,Mp(s),"0px"),cl(o.element)},ES=(o,s)=>{ar(o.element,s.closedClass),Er(o.element,s.openClass),ln(o.element,Mp(s))},F5=(o,s,a,l)=>{a.setCollapsed(),Zt(o.element,Mp(s),tb(s,o.element)),zk(o,s),SS(o,s),s.onStartShrink(o),s.onShrunk(o)},x7=(o,s,a,l)=>{const d=l.getOrThunk(()=>tb(s,o.element));a.setCollapsed(),Zt(o.element,Mp(s),d),cl(o.element);const f=Sx(o,s);ar(f,s.growingClass),Er(f,s.shrinkingClass),SS(o,s),s.onStartShrink(o)},Tk=(o,s,a)=>{const l=tb(s,o.element);(l==="0px"?F5:x7)(o,s,a,O.some(l))},zS=(o,s,a)=>{const l=Sx(o,s),d=ir(l,s.shrinkingClass),f=tb(s,o.element);ES(o,s);const p=tb(s,o.element);(d?()=>{Zt(o.element,Mp(s),f),cl(o.element)}:()=>{SS(o,s)})(),ar(l,s.shrinkingClass),Er(l,s.growingClass),ES(o,s),Zt(o.element,Mp(s),p),a.setExpanded(),s.onStartGrow(o)},H5=(o,s,a)=>{const l=Sx(o,s);return ir(l,s.growingClass)===!0},$5=(o,s,a)=>{const l=Sx(o,s);return ir(l,s.shrinkingClass)===!0};var V5=Object.freeze({__proto__:null,refresh:(o,s,a)=>{if(a.isExpanded()){ln(o.element,Mp(s));const l=tb(s,o.element);Zt(o.element,Mp(s),l)}},grow:(o,s,a)=>{a.isExpanded()||zS(o,s,a)},shrink:(o,s,a)=>{a.isExpanded()&&Tk(o,s,a)},immediateShrink:(o,s,a)=>{a.isExpanded()&&F5(o,s,a)},hasGrown:(o,s,a)=>a.isExpanded(),hasShrunk:(o,s,a)=>a.isCollapsed(),isGrowing:H5,isShrinking:$5,isTransitioning:(o,s,a)=>H5(o,s)||$5(o,s),toggleGrow:(o,s,a)=>{(a.isExpanded()?Tk:zS)(o,s,a)},disableTransitions:zk,immediateGrow:(o,s,a)=>{a.isExpanded()||(ES(o,s),Zt(o.element,Mp(s),tb(s,o.element)),zk(o,s),a.setExpanded(),s.onStartGrow(o),s.onGrown(o))}}),v7=Object.freeze({__proto__:null,exhibit:(o,s,a)=>{const l=s.expanded;return k(l?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:M(s.dimension.property,"0px")})},events:(o,s)=>ur([Ss(Tc(),(a,l)=>{l.event.raw.propertyName===o.dimension.property&&(zk(a,o),s.isExpanded()&&ln(a.element,o.dimension.property),(s.isExpanded()?o.onGrown:o.onShrunk)(a))})])}),_7=[Ge("closedClass"),Ge("openClass"),Ge("shrinkingClass"),Ge("growingClass"),tn("getAnimationRoot"),Bo("onShrunk"),Bo("onStartShrink"),Bo("onGrown"),Bo("onStartGrow"),Ee("expanded",!1),Xs("dimension",$a("property",{width:[Gr("property","width"),Gr("getDimension",o=>ae(o)+"px")],height:[Gr("property","height"),Gr("getDimension",o=>kr(o)+"px")]}))];const $l=qt({fields:_7,name:"sliding",active:v7,apis:V5,state:Object.freeze({__proto__:null,init:o=>{const s=Mt(o.expanded);return Le({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:ht(s.set,!1),setExpanded:ht(s.set,!0),readState:()=>"expanded: "+s.get()})}})}),TS=o=>({isEnabled:()=>!Wt.isDisabled(o),setEnabled:s=>Wt.set(o,!s),setActive:s=>{const a=o.element;s?(Er(a,"tox-tbtn--enabled"),io(a,"aria-pressed",!0)):(ar(a,"tox-tbtn--enabled"),$r(a,"aria-pressed"))},isActive:()=>ir(o.element,"tox-tbtn--enabled"),setTooltip:s=>{Vt(o,R5,{text:s})},setText:s=>{Vt(o,kd,{text:s})},setIcon:s=>Vt(o,eb,{icon:s})}),Yy=(o,s,a,l,d=!0,f)=>{const p=o.buttonType==="bordered"?["bordered"]:[];return vS({text:o.text,icon:o.icon,tooltip:o.tooltip,ariaLabel:o.tooltip,searchable:o.search.isSome(),role:l,fetch:(b,y)=>{const _={pattern:o.search.isSome()?RT(b):""};o.fetch(E=>{y(Ky(E,Ou.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:o.search}))},_,TS(b))},onSetup:o.onSetup,getApi:b=>TS(b),columns:1,presets:"normal",classes:p,dropdownBehaviours:[...d?[xr.config({})]:[]],context:o.context},s,a.shared,f)},k7=(o,s,a)=>{const l=f=>p=>{const b=!p.isActive();p.setActive(b),f.storage.set(b),a.shared.getSink().each(y=>{s().getOpt(y).each(_=>{Da(_.element),Vt(_,dm,{name:f.name,value:f.storage.get()})})})},d=f=>p=>{p.setActive(f.storage.get())};return f=>{f(Se(o,p=>{const b=p.text.fold(()=>({}),y=>({text:y}));return{type:p.type,active:!1,...b,context:p.context,onAction:l(p),onSetup:d(p)}}))}},U5=o=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":o}},components:[zr(o)]}),j5=(o,s,a)=>{o.customStateIcon.each(l=>s.push(Z5(l,a.shared.providers.icons,o.customStateIconTooltip.fold(()=>[],d=>[Kr.config(a.shared.providers.tooltips.getConfig({tooltipText:d}))]),["tox-icon-custom-state"])))},OS=wt("leaf-label-event-id"),Ex=({leaf:o,onLeafAction:s,visible:a,treeId:l,selectedId:d,backstage:f})=>{const p=o.menu.map(y=>Yy(y,"tox-mbtn",f,O.none(),a)),b=[U5(o.title)];return j5(o,b,f),p.each(y=>b.push(y)),Za.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:y=>{s(o.id),y.getSystem().broadcastOn([`update-active-item-${l}`],{value:o.id})},eventOrder:{[qr()]:[OS,"keying"]},buttonBehaviours:ye([...a?[xr.config({})]:[],jo.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Pl.config({channels:{[`update-active-item-${l}`]:{onReceive:(y,_)=>{(_.value===o.id?jo.on:jo.off)(y)}}}}),ko(OS,[Xn((y,_)=>{d.each(E=>{(E===o.id?jo.on:jo.off)(y)})}),je(qr(),(y,_)=>{const E=_.event.raw.code==="ArrowLeft",w=_.event.raw.code==="ArrowRight";E?(Ia(y.element,".tox-tree--directory").each(A=>{y.getSystem().getByDom(A).each(P=>{Id(A,".tox-tree--directory__label").each(I=>{P.getSystem().getByDom(I).each(go.focus)})})}),_.stop()):w&&_.stop()})])])})},Z5=(o,s,a,l,d)=>xd(o,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:a,attributes:d},s),W5=wt("directory-label-event-id"),w7=({directory:o,visible:s,noChildren:a,backstage:l})=>{const d=o.menu.map(y=>Yy(y,"tox-mbtn",l,O.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(p=l.shared.providers.icons,Z5("chevron-right",p,[]))]},U5(o.title)];var p;j5(o,f,l),d.each(y=>{f.push(y)});const b=y=>{Ia(y.element,".tox-tree--directory").each(_=>{y.getSystem().getByDom(_).each(E=>{const w=!jo.isOn(E);jo.toggle(E),Vt(y,"expand-tree-node",{expanded:w,node:o.id})})})};return Za.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:b,eventOrder:{[qr()]:[W5,"keying"]},buttonBehaviours:ye([...s?[xr.config({})]:[],ko(W5,[je(qr(),(y,_)=>{const E=_.event.raw.code==="ArrowRight",w=_.event.raw.code==="ArrowLeft";E&&a&&_.stop(),(E||w)&&Ia(y.element,".tox-tree--directory").each(A=>{y.getSystem().getByDom(A).each(P=>{!jo.isOn(P)&&E||jo.isOn(P)&&w?(b(y),_.stop()):w&&!jo.isOn(P)&&(Ia(P.element,".tox-tree--directory").each(I=>{Id(I,".tox-tree--directory__label").each(Y=>{P.getSystem().getByDom(Y).each(go.focus)})}),_.stop())})})})])])})},C7=({children:o,onLeafAction:s,visible:a,treeId:l,expandedIds:d,selectedId:f,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:o.map(b=>b.type==="leaf"?Ex({leaf:b,selectedId:f,onLeafAction:s,visible:a,treeId:l,backstage:p}):AS({directory:b,expandedIds:d,selectedId:f,onLeafAction:s,labelTabstopping:a,treeId:l,backstage:p})),behaviours:ye([$l.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),bo.config({})])}),S7=wt("directory-event-id"),AS=({directory:o,onLeafAction:s,labelTabstopping:a,treeId:l,backstage:d,expandedIds:f,selectedId:p})=>{const{children:b}=o,y=Mt(f),_=f.includes(o.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[w7({directory:o,visible:a,noChildren:o.children.length===0,backstage:d}),C7({children:b,expandedIds:f,selectedId:p,onLeafAction:s,visible:_,treeId:l,backstage:d})],behaviours:ye([ko(S7,[Xn((E,w)=>{jo.set(E,_)}),je("expand-tree-node",(E,w)=>{const{expanded:A,node:P}=w.event;y.set(A?[...y.get(),P]:y.get().filter(I=>I!==P))})]),jo.config({...o.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(E,w)=>{const A=E.components()[1],P=(I=w,b.map(Y=>Y.type==="leaf"?Ex({leaf:Y,selectedId:p,onLeafAction:s,visible:I,treeId:l,backstage:d}):AS({directory:Y,expandedIds:y.get(),selectedId:p,onLeafAction:s,labelTabstopping:I,treeId:l,backstage:d})));var I;w?$l.grow(A):$l.shrink(A),bo.set(A,P)}})])}},q5=wt("tree-event-id");var G5=Object.freeze({__proto__:null,events:(o,s)=>{const a=o.stream.streams.setup(o,s);return ur([je(o.event,a),Sr(()=>s.cancel())].concat(o.cancelEvent.map(l=>[je(l,()=>s.cancel())]).getOr([])))}});const K5=o=>{const s=Mt(null);return Le({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:a=>{s.set(a)},cancel:()=>{const a=s.get();a!==null&&a.cancel()}})};var E7=Object.freeze({__proto__:null,throttle:K5,init:o=>o.stream.streams.state(o)}),z7=[Xs("stream",$a("mode",{throttle:[Ge("delay"),Ee("stopEvent",!0),Gr("streams",{setup:(o,s)=>{const a=o.stream,l=yk(o.onStream,a.delay);return s.setTimer(l),(d,f)=>{l.throttle(d,f),a.stopEvent&&f.stop()}},state:K5})]})),Ee("event","input"),tn("cancelEvent"),rf("onStream")];const Vl=qt({fields:z7,name:"streaming",active:G5,state:E7}),Vc=(o,s,a)=>{const l=se.getValue(a);se.setValue(s,l),Ok(s)},NS=(o,s)=>{const a=o.element,l=sf(a),d=a.dom;ls(a,"type")!=="number"&&s(d,l)},Ok=o=>{NS(o,(s,a)=>s.setSelectionRange(a.length,a.length))},zx=ue("alloy.typeahead.itemexecute"),Ak=ue([tn("lazySink"),Ge("fetch"),Ee("minChars",5),Ee("responseTime",1e3),Bo("onOpen"),Ee("getHotspot",O.some),Ee("getAnchorOverrides",ue({})),Ee("layouts",O.none()),Ee("eventOrder",{}),Ff("model",{},[Ee("getDisplayText",o=>o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.value),Ee("selectsOver",!0),Ee("populateFromBrowse",!0)]),Bo("onSetValue"),li("onExecute"),Bo("onItemExecute"),Ee("inputClasses",[]),Ee("inputAttributes",{}),Ee("inputStyles",{}),Ee("matchWidth",!0),Ee("useMinWidth",!1),Ee("dismissOnBlur",!0),nf(["openClass"]),tn("initialData"),tn("listRole"),ke("typeaheadBehaviours",[go,se,Vl,Gt,jo,Ps]),ia("lazyTypeaheadComp",()=>Mt(O.none)),ia("previewing",()=>Mt(!0))].concat(zz()).concat(ax())),T7=ue([Su({schema:[th()],name:"menu",overrides:o=>({fakeFocus:!0,onHighlightItem:(s,a,l)=>{o.previewing.get()?o.lazyTypeaheadComp.get().each(d=>{((f,p,b)=>{if(f.selectsOver){const y=se.getValue(p),_=f.getDisplayText(y),E=se.getValue(b);return f.getDisplayText(E).indexOf(_)===0?O.some(()=>{Vc(0,p,b),((w,A)=>{NS(w,(P,I)=>P.setSelectionRange(A,I.length))})(p,_.length)}):O.none()}return O.none()})(o.model,d,l).fold(()=>{o.model.selectsOver?(Vn.dehighlight(a,l),o.previewing.set(!0)):o.previewing.set(!1)},f=>{f(),o.previewing.set(!1)})}):o.lazyTypeaheadComp.get().each(d=>{o.model.populateFromBrowse&&Vc(o.model,d,l),cs(l.element,"id").each(f=>io(d.element,"aria-activedescendant",f))})},onExecute:(s,a)=>o.lazyTypeaheadComp.get().map(l=>(Vt(l,zx(),{item:a}),!0)),onHover:(s,a)=>{o.previewing.set(!1),o.lazyTypeaheadComp.get().each(l=>{o.model.populateFromBrowse&&Vc(o.model,l,a)})}})})]),Y5=_l({name:"Typeahead",configFields:Ak(),partFields:T7(),factory:(o,s,a,l)=>{const d=(w,A,P)=>{o.previewing.set(!1);const I=Ps.getCoupled(w,"sandbox");if(xn.isOpen(I))_n.getCurrent(I).each(Y=>{Vn.getHighlighted(Y).fold(()=>{P(Y)},()=>{Gg(I,Y.element,"keydown",A)})});else{const Y=G=>{_n.getCurrent(G).each(P)};rx(o,p(w),w,I,l,Y,ss.HighlightMenuAndItem).get(qe)}},f=G2(o),p=w=>A=>A.map(P=>{const I=Gs(P.menus),Y=Xo(I,G=>So(G.items,J=>J.type==="item"));return se.getState(w).update(Se(Y,G=>G.data)),P}),b=w=>_n.getCurrent(w),y="typeaheadevents",_=[go.config({}),se.config({onSetValue:o.onSetValue,store:{mode:"dataset",getDataKey:w=>sf(w.element),getFallbackEntry:w=>({value:w,meta:{}}),setValue:(w,A)=>{cd(w.element,o.model.getDisplayText(A))},...o.initialData.map(w=>M("initialValue",w)).getOr({})}}),Vl.config({stream:{mode:"throttle",delay:o.responseTime,stopEvent:!1},onStream:(w,A)=>{const P=Ps.getCoupled(w,"sandbox");if(go.isFocused(w)&&sf(w.element).length>=o.minChars){const I=b(P).bind(G=>Vn.getHighlighted(G).map(se.getValue));o.previewing.set(!0);const Y=G=>{b(P).each(J=>{I.fold(()=>{o.model.selectsOver&&Vn.highlightFirst(J)},j=>{Vn.highlightBy(J,Z=>se.getValue(Z).value===j.value),Vn.getHighlighted(J).orThunk(()=>(Vn.highlightFirst(J),O.none()))})})};rx(o,p(w),w,P,l,Y,ss.HighlightJustMenu).get(qe)}},cancelEvent:$f()}),Gt.config({mode:"special",onDown:(w,A)=>(d(w,A,Vn.highlightFirst),O.some(!0)),onEscape:w=>{const A=Ps.getCoupled(w,"sandbox");return xn.isOpen(A)?(xn.close(A),O.some(!0)):O.none()},onUp:(w,A)=>(d(w,A,Vn.highlightLast),O.some(!0)),onEnter:w=>{const A=Ps.getCoupled(w,"sandbox"),P=xn.isOpen(A);if(P&&!o.previewing.get())return b(A).bind(I=>Vn.getHighlighted(I)).map(I=>(Vt(w,zx(),{item:I}),!0));{const I=se.getValue(w);return Vo(w,$f()),o.onExecute(A,w,I),P&&xn.close(A),O.some(!0)}}}),jo.config({toggleClass:o.markers.openClass,aria:{mode:"expanded"}}),Ps.config({others:{sandbox:w=>DC(o,w,{onOpen:()=>jo.on(w),onClose:()=>{o.lazyTypeaheadComp.get().each(A=>$r(A.element,"aria-activedescendant")),jo.off(w)}})}}),ko(y,[Xn(w=>{o.lazyTypeaheadComp.set(O.some(w))}),Sr(w=>{o.lazyTypeaheadComp.set(O.none())}),Zd(w=>{const A=qe;Hy(o,p(w),w,l,A,ss.HighlightMenuAndItem).get(qe)}),je(zx(),(w,A)=>{const P=Ps.getCoupled(w,"sandbox");Vc(o.model,w,A.event.item),Vo(w,$f()),o.onItemExecute(w,P,A.event.item,se.getValue(w)),xn.close(P),Ok(w)})].concat(o.dismissOnBlur?[je(gl(),w=>{const A=Ps.getCoupled(w,"sandbox");Ni(A.element).isNone()&&xn.close(A)})]:[]))],E={[ad()]:[se.name(),Vl.name(),y],...o.eventOrder};return{uid:o.uid,dom:R_(Cr(o,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...Fe(o.typeaheadBehaviours,_)},eventOrder:E}}}),xf=o=>({...o,toCached:()=>xf(o.toCached()),bindFuture:s=>xf(o.bind(a=>a.fold(l=>Sp(re.error(l)),l=>s(l)))),bindResult:s=>xf(o.map(a=>a.bind(s))),mapResult:s=>xf(o.map(a=>a.map(s))),mapError:s=>xf(o.map(a=>a.mapError(s))),foldResult:(s,a)=>o.map(l=>l.fold(s,a)),withTimeout:(s,a)=>xf(Eg(l=>{let d=!1;const f=setTimeout(()=>{d=!0,l(re.error(a()))},s);o.get(p=>{d||(clearTimeout(f),l(p))})}))}),O7=o=>xf(Eg(o)),ob=(o,s,a=[],l,d,f,p)=>{const b=s.fold(()=>({}),E=>({action:E})),y={buttonBehaviours:ye([Jz(()=>!o.enabled||p.checkUiComponentContext(o.context).shouldDisable),Yr(()=>p.checkUiComponentContext(o.context)),xr.config({}),...f.map(E=>Kr.config(p.tooltips.getConfig({tooltipText:p.translate(E)}))).toArray(),ko("button press",[T1("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},_=Cr(y,{dom:l});return Cr(_,{components:d})},RS=(o,s,a,l=[],d)=>{const f={tag:"button",classes:["tox-tbtn"],attributes:{...o.tooltip.map(y=>({"aria-label":a.translate(y)})).getOr({}),"data-mce-name":d}},p=o.icon.map(y=>xS(y,a.icons)),b=$h([p]);return ob(o,s,l,f,b,o.tooltip,a)},Nk=o=>{switch(o){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},Xy=(o,s,a,l=[],d=[])=>{const f=a.translate(o.text),p=o.icon.map(w=>xS(w,a.icons)),b=[p.getOrThunk(()=>zr(f))],y=o.buttonType.getOr(o.primary||o.borderless?"primary":"secondary"),_={tag:"button",classes:[...Nk(y),...p.isSome()?["tox-button--icon"]:[],...o.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":f,"data-mce-name":o.text}},E=o.icon.map(ue(f));return ob(o,s,l,_,b,E,a)},X5=(o,s,a,l=[],d=[])=>{const f=Xy(o,O.some(s),a,l,d);return Za.sketch(f)},J5=(o,s)=>a=>{s==="custom"?Vt(a,dm,{name:o,value:{}}):s==="submit"?Vo(a,dx):s==="cancel"?Vo(a,zg):console.error("Unknown button type: ",s)},wd=(o,s,a)=>{if(((l,d)=>d==="menu")(0,s)){const l=()=>p,d=o,f={...o,buttonType:"default",type:"menubutton",search:O.none(),onSetup:b=>(b.setEnabled(o.enabled),qe),fetch:k7(d.items,l,a)},p=Bn(Yy(f,"tox-tbtn",a,O.none(),!0,o.text.or(o.tooltip).getOrUndefined()));return p.asSpec()}if(((l,d)=>d==="custom"||d==="cancel"||d==="submit")(0,s)){const l=J5(o.name,s),d={...o,context:s==="cancel"?"any":o.context,borderless:!1};return X5(d,l,a.shared.providers,[])}if(((l,d)=>d==="togglebutton")(0,s))return((l,d,f)=>{var p,b;const y=l.icon.map(Z=>Dp(Z,d.icons)).map(Bn),_=l.buttonType.getOr(l.primary?"primary":"secondary"),E={...l,name:(p=l.name)!==null&&p!==void 0?p:"",tooltip:l.tooltip,enabled:(b=l.enabled)!==null&&b!==void 0&&b},w=E.tooltip.or(l.text).map(Z=>({"aria-label":d.translate(Z)})).getOr({}),A=Nk(_??"secondary"),P=l.icon.isSome()&&l.text.isSome(),I={tag:"button",classes:[...A.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...P?["tox-button--icon-and-text"]:[]],attributes:{...w,...$t(f)?{"data-mce-name":f}:{}}},Y=d.translate(l.text.getOr("")),G=zr(Y),J=[...$h([y.map(Z=>Z.asSpec())]),...l.text.isSome()?[G]:[]],j=ob(E,O.some(Z=>{Vt(Z,dm,{name:l.name,value:{setIcon:te=>{y.map(oe=>oe.getOpt(Z).each(ce=>{bo.set(ce,[Dp(te,d.icons)])}))}}})}),[],I,J,l.tooltip,d);return Za.sketch(j)})(o,a.shared.providers,o.text.or(o.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")},Uc={type:"separator"},Tx=o=>({type:"menuitem",value:o.url,text:o.title,meta:{attach:o.attach},onAction:qe}),Ul=(o,s)=>({type:"menuitem",value:s,text:o,meta:{attach:void 0},onAction:qe}),Q5=(o,s)=>(a=>Se(a,Tx))(((a,l)=>So(l,d=>d.type===a))(o,s)),Ir=o=>Q5("header",o.targets),A7=o=>Q5("anchor",o.targets),nb=o=>O.from(o.anchorTop).map(s=>Ul("<top>",s)).toArray(),Ox=o=>O.from(o.anchorBottom).map(s=>Ul("<bottom>",s)).toArray(),Rk=(o,s)=>{const a=o.toLowerCase();return So(s,l=>{var d;const f=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,p=(d=l.value)!==null&&d!==void 0?d:"";return hs(f.toLowerCase(),a)||hs(p.toLowerCase(),a)})},Dk=wt("aria-invalid"),DS=(o,s)=>{o.dom.checked=s},N7=o=>o.dom.checked,ca=o=>(s,a,l,d,f)=>dt(a,"name").fold(()=>o(a,d,O.none(),f),p=>s.field(p,o(a,d,dt(l,p),f))),R7={bar:ca((o,s)=>((a,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Se(a.items,l.interpreter)}))(o,s.shared)),collection:ca((o,s,a)=>GD(o,s.shared.providers,a)),alertbanner:ca((o,s)=>((a,l)=>{const d=kz(a.icon,l.icons);return yf.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${a.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:a.url?void 0:d},components:a.url?[Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:d,attributes:{title:l.translate(a.iconTooltip)}},action:f=>Vt(f,dm,{name:"alert-banner",value:a.url}),buttonBehaviours:ye([Mh()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(a.text)}}]})})(o,s.shared.providers)),input:ca((o,s,a)=>((l,d,f)=>CS({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:O.none(),maximized:l.maximized,data:f,context:l.context},d))(o,s.shared.providers,a)),textarea:ca((o,s,a)=>((l,d,f)=>CS({name:l.name,multiline:!0,label:l.label,inputMode:O.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:O.none(),maximized:l.maximized,data:f,context:l.context},d))(o,s.shared.providers,a)),label:ca((o,s,a,l)=>((d,f,p)=>{const b="tox-label",y=d.align==="center"?[`${b}--center`]:[],_=d.align==="end"?[`${b}--end`]:[],E=Bn({dom:{tag:"label",classes:[b,...y,..._]},components:[zr(f.providers.translate(d.label))]}),w=Se(d.items,f.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[E.asSpec(),...w],behaviours:ye([Ag(),bo.config({}),(A=O.none(),uS(A,eh,of)),Gt.config({mode:"acyclic"}),ko("label",[Xn(P=>{d.for.each(I=>{p(I).each(Y=>{E.getOpt(P).each(G=>{var J;const j=(J=ls(Y.element,"id"))!==null&&J!==void 0?J:wt("form-field");io(Y.element,"id",j),io(G.element,"for",j)})})})})])])};var A})(o,s.shared,l)),iframe:(SO=(o,s,a)=>((l,d,f)=>{const p="tox-dialog__iframe",b=l.transparent?[]:[`${p}--opaque`],y=l.border?["tox-navobj-bordered"]:[],_={...l.label.map(P=>({title:P})).getOr({}),...f.map(P=>({srcdoc:P})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},E=((P,I)=>{const Y=Mt(P.getOr(""));return{getValue:G=>Y.get(),setValue:(G,J)=>{if(Y.get()!==J){const j=G.element,Z=()=>io(j,"srcdoc",J);I?O5.fold(ue(hS),te=>te.throttle)(j,J,Z):Z()}Y.set(J)}}})(f,l.streamContent),w=l.label.map(P=>Ep(P,d)),A=nn.parts.field({factory:{sketch:P=>_k(O.from(y),{uid:P.uid,dom:{tag:"iframe",attributes:_,classes:[p,...b]},behaviours:ye([xr.config({}),go.config({}),Ng(f,E.getValue,E.setValue),Pl.config({channels:{[kx]:{onReceive:(I,Y)=>{Y.newFocus.each(G=>{hi(I.element).each(J=>{(yn(I.element,G)?Er:ar)(J,"tox-navobj-bordered-focus")})})}}}})])})}});return cx(w,A,["tox-form__group--stretched"],[])})(o,s.shared.providers,a),(o,s,a,l,d)=>{const f=Cr(s,{source:"dynamic"});return ca(SO)(o,f,a,l,d)}),button:ca((o,s)=>((a,l)=>{const d=J5(a.name,"custom");return f=O.none(),p=nn.parts.field({factory:Za,...Xy(a,O.some(d),l,[xx(""),Ag()])}),cx(f,p,[],[]);var f,p})(o,s.shared.providers)),checkbox:ca((o,s,a)=>((l,d,f)=>{const p=w=>(w.element.dom.click(),O.some(!0)),b=nn.parts.field({factory:{sketch:Et},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ye([Ag(),Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:w=>{hi(w.element).each(A=>Er(A,"tox-checkbox--disabled"))},onEnabled:w=>{hi(w.element).each(A=>ar(A,"tox-checkbox--disabled"))}}),xr.config({}),go.config({}),uS(f,N7,DS),Gt.config({mode:"special",onEnter:p,onSpace:p,stopSpaceKeyup:!0}),ko("checkbox-events",[je(Ec(),(w,A)=>{Vt(w,Hl,{name:l.name})})])])}),y=nn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[zr(d.translate(l.label))],behaviours:ye([Yh.config({})])}),_=w=>xd(w==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+w]},d.icons),E=Bn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[_("checked"),_("unchecked")]});return nn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[b,E.asSpec(),y],fieldBehaviours:ye([Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),Yr(()=>d.checkUiComponentContext(l.context))])})})(o,s.shared.providers,a)),colorinput:ca((o,s,a)=>((l,d,f,p)=>{const b=nn.parts.field({factory:hp,inputClasses:["tox-textfield"],data:p,onSetValue:w=>um.run(w).get(qe),inputBehaviours:ye([Wt.config({disabled:()=>d.providers.isDisabled()||d.providers.checkUiComponentContext(l.context).shouldDisable}),Yr(()=>d.providers.checkUiComponentContext(l.context)),xr.config({}),um.config({invalidClass:"tox-textbox-field-invalid",getRoot:w=>hi(w.element),notify:{onValid:w=>{const A=se.getValue(w);Vt(w,Tg,{color:A})}},validator:{validateOnLoad:!1,validate:w=>{const A=se.getValue(w);if(A.length===0)return Sp(re.value(!0));{const P=Ts("span");Zt(P,"background-color",A);const I=_r(P,"background-color").fold(()=>re.error("blah"),Y=>re.value(A));return Sp(I)}}}})]),selectOnFocus:!1}),y=l.label.map(w=>Ep(w,d.providers)),_=(w,A)=>{Vt(w,VT,{value:A})},E=Bn(((w,A)=>$c.sketch({dom:w.dom,components:w.components,toggleClass:"mce-active",dropdownBehaviours:ye([Z0(()=>A.providers.isDisabled()||A.providers.checkUiComponentContext(w.context).shouldDisable),Yr(()=>A.providers.checkUiComponentContext(w.context)),Yh.config({}),xr.config({})]),layouts:w.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:A.getSink,fetch:P=>Eg(I=>w.fetch(I)).map(I=>O.from(BC(Cr(X_(wt("menu-value"),I,Y=>{w.onItemAction(P,Y)},w.columns,w.presets,Ou.CLOSE_ON_EXECUTE,Ie,A.providers),{movement:nx(w.columns,w.presets)})))),parts:{menu:im(0,0,w.presets)}}))({dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ds,zs,ms],onLtr:()=>[zs,Ds,ms]},components:[],fetch:Y_(f.getColors(l.storageKey),l.storageKey,f.hasCustomColors()),columns:f.getColorCols(l.storageKey),presets:"color",onItemAction:(w,A)=>{E.getOpt(w).each(P=>{A==="custom"?f.colorPicker(I=>{I.fold(()=>Vo(P,UT),Y=>{_(P,Y),xC(l.storageKey,Y)})},"#ffffff"):_(P,A==="remove"?"":A)})},context:l.context},d));return nn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:y.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,E.asSpec()]}]),fieldBehaviours:ye([ko("form-field-events",[je(Tg,(w,A)=>{E.getOpt(w).each(P=>{Zt(P.element,"background-color",A.event.color)}),Vt(w,Hl,{name:l.name})}),je(VT,(w,A)=>{nn.getField(w).each(P=>{se.setValue(P,A.event.value),_n.getCurrent(w).each(go.focus)})}),je(UT,(w,A)=>{nn.getField(w).each(P=>{_n.getCurrent(w).each(go.focus)})})])])})})(o,s.shared,s.colorinput,a)),colorpicker:ca((o,s,a)=>((l,d,f)=>{const p=_=>"tox-"+_,b=f7((_=>E=>Dt(E)?_.translate(_5[E]):_.translate(E))(d),p,d.tooltips.getConfig,(_,E,w=_,A=_)=>xd(w,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+_],attributes:{title:d.translate(A),"aria-live":"polite",...E.fold(()=>({}),P=>({id:P}))}},d.icons)),y=Bn(b.sketch({dom:{tag:"div",classes:[p("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_=>{Vt(_,dm,{name:"hex-valid",value:!0})},onInvalidHex:_=>{Vt(_,dm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[y.asSpec()],behaviours:ye([Ng(f,_=>{const E=y.get(_);return _n.getCurrent(E).bind(w=>se.getValue(w).hex).map(w=>"#"+Zn(w,"#")).getOr("")},(_,E)=>{const w=O.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(E)).bind(P=>yt(P,1)),A=y.get(_);_n.getCurrent(A).fold(()=>{console.log("Can not find form")},P=>{se.setValue(P,{hex:w.getOr("")}),Zy.getField(P,"hex").each(I=>{Vo(I,os())})})}),Ag()])}})(0,s.shared.providers,a)),dropzone:ca((o,s,a)=>fS(o,s.shared.providers,a)),grid:ca((o,s)=>((a,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${a.columns}col`]},components:Se(a.items,l.interpreter)}))(o,s.shared)),listbox:ca((o,s,a)=>((l,d,f)=>{const p=fn(l.items,A=>!Cx(A)),b=d.shared.providers,y=f.bind(A=>Ck(l.items,A)).orThunk(()=>at(l.items).filter(Cx)),_=l.label.map(A=>Ep(A,b)),E=nn.parts.field({dom:{},factory:{sketch:A=>vS({context:l.context,uid:A.uid,text:y.map(P=>P.text),icon:O.none(),tooltip:O.none(),role:Ho(!p,"combobox"),...p?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(P,I)=>{const Y=_S(P,l.name,l.items,se.getValue(P),p);I(Ky(Y,Ou.CLOSE_ON_EXECUTE,d,{isHorizontalMenu:!1,search:O.none()}))},onSetup:ue(qe),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[xr.config({}),Ng(y.map(P=>P.value),P=>ls(P.element,M5),(P,I)=>{Ck(l.items,I).each(Y=>{io(P.element,M5,Y.value),Vt(P,kd,{text:Y.text})})})]},"tox-listbox",d.shared)}}),w={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return nn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:sr([_.toArray(),[w]]),fieldBehaviours:ye([Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:A=>{nn.getField(A).each(Wt.disable)},onEnabled:A=>{nn.getField(A).each(Wt.enable)}})])})})(o,s,a)),selectbox:ca((o,s,a)=>((l,d,f)=>{const p=Se(l.items,w=>({text:d.translate(w.text),value:w.value})),b=l.label.map(w=>Ep(w,d)),y=nn.parts.field({dom:{},...f.map(w=>({data:w})).getOr({}),selectAttributes:{size:l.size},options:p,factory:y7,selectBehaviours:ye([Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable}),xr.config({}),ko("selectbox-change",[je(Ec(),(w,A)=>{Vt(w,Hl,{name:l.name})})])])}),_=l.size>1?O.none():O.some(xd("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},d.icons)),E={dom:{tag:"div",classes:["tox-selectfield"]},components:sr([[y],_.toArray()])};return nn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:sr([b.toArray(),[E]]),fieldBehaviours:ye([Wt.config({disabled:()=>!l.enabled||d.checkUiComponentContext(l.context).shouldDisable,onDisabled:w=>{nn.getField(w).each(Wt.disable)},onEnabled:w=>{nn.getField(w).each(Wt.enable)}}),Yr(()=>d.checkUiComponentContext(l.context))])})})(o,s.shared.providers,a)),sizeinput:ca((o,s)=>((a,l)=>{let d=Ek;const f=wt("ratio-event"),p=J=>xd(J,{tag:"span",classes:["tox-icon","tox-lock-icon__"+J]},l.icons),b=()=>!a.enabled||l.checkUiComponentContext(a.context).shouldDisable,y=Yr(()=>l.checkUiComponentContext(a.context)),_=a.label.getOr("Constrain proportions"),E=l.translate(_),w=Ls.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":E,"data-mce-name":_}},components:[p("lock"),p("unlock")],buttonBehaviours:ye([Wt.config({disabled:b}),y,xr.config({}),Kr.config(l.tooltips.getConfig({tooltipText:E}))])}),A=J=>({dom:{tag:"div",classes:["tox-form__group"]},components:J}),P=J=>nn.parts.field({factory:hp,inputClasses:["tox-textfield"],inputBehaviours:ye([Wt.config({disabled:b}),y,xr.config({}),ko("size-input-events",[je(pl(),(j,Z)=>{Vt(j,f,{isField1:J})}),je(Ec(),(j,Z)=>{Vt(j,Hl,{name:a.name})})])]),selectOnFocus:!1}),I=J=>({dom:{tag:"label",classes:["tox-label"]},components:[zr(l.translate(J))]}),Y=Ls.parts.field1(A([nn.parts.label(I("Width")),P(!0)])),G=Ls.parts.field2(A([nn.parts.label(I("Height")),P(!1)]));return Ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[Y,G,A([I(" "),w])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(J,j,Z)=>{Sk(se.getValue(J)).each(te=>{d(te).each(oe=>{se.setValue(j,L5(oe))})})},coupledFieldBehaviours:ye([Wt.config({disabled:b,onDisabled:J=>{Ls.getField1(J).bind(nn.getField).each(Wt.disable),Ls.getField2(J).bind(nn.getField).each(Wt.disable),Ls.getLock(J).each(Wt.disable)},onEnabled:J=>{Ls.getField1(J).bind(nn.getField).each(Wt.enable),Ls.getField2(J).bind(nn.getField).each(Wt.enable),Ls.getLock(J).each(Wt.enable)}}),Yr(()=>l.checkUiComponentContext("mode:design")),ko("size-input-events2",[je(f,(J,j)=>{const Z=j.event.isField1,te=Z?Ls.getField1(J):Ls.getField2(J),oe=Z?Ls.getField2(J):Ls.getField1(J),ce=te.map(se.getValue).getOr(""),he=oe.map(se.getValue).getOr("");d=wS(ce,he)})])])})})(o,s.shared.providers)),slider:ca((o,s,a)=>((l,d,f)=>{const p=tu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[zr(d.translate(l.label))]}),b=tu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),y=tu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return tu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ue(f.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[p,b,y],sliderBehaviours:ye([Ag(),go.config({})]),onChoose:(_,E,w)=>{Vt(_,Hl,{name:l.name,value:w})},onChange:(_,E,w)=>{Vt(_,Hl,{name:l.name,value:w})}})})(o,s.shared.providers,a)),urlinput:ca((o,s,a)=>((l,d,f,p)=>{const b=d.shared.providers,y=j=>{const Z=se.getValue(j);f.addToHistory(Z.value,l.filetype)},_={...p.map(j=>({initialData:j})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Dk,type:"url"},minChars:0,responseTime:0,fetch:j=>{const Z=((oe,ce,he)=>{var we,Ae;const Ue=se.getValue(ce),Ve=(Ae=(we=Ue==null?void 0:Ue.meta)===null||we===void 0?void 0:we.text)!==null&&Ae!==void 0?Ae:Ue.value;return he.getLinkInformation().fold(()=>[],Ye=>{const ft=Rk(Ve,(Yt=>Se(Yt,ro=>Ul(ro,ro)))(he.getHistory(oe)));return oe==="file"?(Ut=[ft,Rk(Ve,Ir(Ye)),Rk(Ve,sr([nb(Ye),A7(Ye),Ox(Ye)]))],uo(Ut,(Yt,ro)=>Yt.length===0||ro.length===0?Yt.concat(ro):Yt.concat(Uc,ro),[])):ft;var Ut})})(l.filetype,j,f),te=Ky(Z,Ou.BUBBLE_TO_SANDBOX,d,{isHorizontalMenu:!1,search:O.none()});return Sp(te)},getHotspot:j=>G.getOpt(j),onSetValue:(j,Z)=>{j.hasConfigured(um)&&um.run(j).get(qe)},typeaheadBehaviours:ye([...f.getValidationHandler().map(j=>um.config({getRoot:Z=>hi(Z.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Z,te)=>{A.getOpt(Z).each(oe=>{io(oe.element,"title",b.translate(te))})}},validator:{validate:Z=>{const te=se.getValue(Z);return O7(oe=>{j({type:l.filetype,url:te.value},ce=>{if(ce.status==="invalid"){const he=re.error(ce.message);oe(he)}else{const he=re.value(ce.message);oe(he)}})})},validateOnLoad:!1}})).toArray(),Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable}),xr.config({}),ko("urlinput-events",[je(os(),j=>{const Z=sf(j.element),te=Z.trim();te!==Z&&cd(j.element,te),l.filetype==="file"&&Vt(j,Hl,{name:l.name})}),je(Ec(),j=>{Vt(j,Hl,{name:l.name}),y(j)}),je(Hf(),j=>{Vt(j,Hl,{name:l.name}),y(j)})])]),eventOrder:{[os()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:j=>j.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:d.shared.getSink,parts:{menu:im(0,0,"normal")},onExecute:(j,Z,te)=>{Vt(Z,dx,{})},onItemExecute:(j,Z,te,oe)=>{y(j),Vt(j,Hl,{name:l.name})}},E=nn.parts.field({..._,factory:Y5}),w=l.label.map(j=>Ep(j,b)),A=Bn(((j,Z,te=j,oe=j)=>xd(te,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+j],attributes:{title:b.translate(oe),"aria-live":"polite",...Z.fold(()=>({}),ce=>({id:ce}))}},b.icons))("invalid",O.some(Dk),"warning")),P=Bn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),I=f.getUrlPicker(l.filetype),Y=wt("browser.url.event"),G=Bn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[E,P.asSpec()],behaviours:ye([Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable})])}),J=Bn(X5({context:l.context,name:l.name,icon:O.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:O.none(),borderless:!0},j=>Vo(j,Y),b,[],["tox-browse-url"]));return nn.sketch({dom:nk([]),components:w.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:sr([[G.asSpec()],I.map(()=>J.asSpec()).toArray()])}]),fieldBehaviours:ye([Wt.config({disabled:()=>!l.enabled||b.checkUiComponentContext(l.context).shouldDisable,onDisabled:j=>{nn.getField(j).each(Wt.disable),J.getOpt(j).each(Wt.disable)},onEnabled:j=>{nn.getField(j).each(Wt.enable),J.getOpt(j).each(Wt.enable)}}),Yr(()=>b.checkUiComponentContext(l.context)),ko("url-input-events",[je(Y,j=>{_n.getCurrent(j).each(Z=>{const te=se.getValue(Z),oe={fieldname:l.name,...te};I.each(ce=>{ce(oe).get(he=>{se.setValue(Z,he),Vt(j,Hl,{name:l.name})})})})})])])})})(o,s,s.urlinput,a)),customeditor:ca(o=>{const s=dn(),a=Bn({dom:{tag:o.tag}}),l=dn(),d=!k5(o)&&o.onFocus.isSome()?[go.config({onFocus:f=>{o.onFocus.each(p=>{p(f.element.dom)})}}),xr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ye([ko("custom-editor-events",[Xn(f=>{a.getOpt(f).each(p=>{(k5(o)?o.init(p.element.dom):g7.load(o.scriptId,o.scriptUrl).then(b=>b(p.element.dom,o.settings))).then(b=>{l.on(y=>{b.setValue(y)}),l.clear(),s.set(b)})})})]),Ng(O.none(),()=>s.get().fold(()=>l.get().getOr(""),f=>f.getValue()),(f,p)=>{s.get().fold(()=>l.set(p),b=>b.setValue(p))}),Ag()].concat(d)),components:[a.asSpec()]}}),htmlpanel:ca((o,s)=>((a,l)=>{const d=["tox-form__group",...a.stretched?["tox-form__group--stretched"]:[]],f=ko("htmlpanel",[Xn(p=>{a.onInit(p.element.dom)})]);return a.presets==="presentation"?yf.sketch({dom:{tag:"div",classes:d,innerHtml:a.html},containerBehaviours:ye([Kr.config({...l.tooltips.getConfig({tooltipText:"",onShow:p=>{$n(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Ni(p.element)).each(b=>{cs(b,"data-mce-tooltip").each(y=>{Kr.setComponents(p,l.tooltips.getComponents({tooltipText:y}))})})}}),mode:"children-normal",anchor:p=>({type:"node",node:$n(p.element,"[data-mce-tooltip]:hover").orThunk(()=>Ni(p.element).filter(b=>cs(b,"data-mce-tooltip").isSome())),root:p.element,layouts:{onLtr:ue([ms,xs,zs,Ua,Ds,la]),onRtl:ue([ms,xs,zs,Ua,Ds,la])},bubble:xl(0,-2,{})})}),f])}):yf.sketch({dom:{tag:"div",classes:d,innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:ye([xr.config({}),go.config({}),f])})})(o,s.shared.providers)),imagepreview:ca((o,s,a)=>((l,d)=>{const f=Mt(d.getOr({url:""})),p=Bn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:d.map(E=>({src:E.url})).getOr({})}}),b=Bn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[p.asSpec()]}),y={};l.height.each(E=>y.height=E);const _=d.map(E=>({url:E.url,zoom:O.from(E.zoom),cachedWidth:O.from(E.cachedWidth),cachedHeight:O.from(E.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:y,attributes:{role:"presentation"}},components:[b.asSpec()],behaviours:ye([Ag(),Ng(_,()=>f.get(),(E,w)=>{const A={url:w.url};w.zoom.each(I=>A.zoom=I),w.cachedWidth.each(I=>A.cachedWidth=I),w.cachedHeight.each(I=>A.cachedHeight=I),f.set(A);const P=()=>{const{cachedWidth:I,cachedHeight:Y,zoom:G}=A;if(!pr(I)&&!pr(Y)){if(pr(G)){const j=((Z,te,oe)=>{const ce=ae(Z),he=kr(Z);return Math.min(ce/te,he/oe,1)})(E.element,I,Y);A.zoom=j}const J=((j,Z,te,oe,ce)=>{const he=te*ce,we=oe*ce,Ae=Math.max(0,j/2-he/2),Ue=Math.max(0,Z/2-we/2);return{left:Ae.toString()+"px",top:Ue.toString()+"px",width:he.toString()+"px",height:we.toString()+"px"}})(ae(E.element),kr(E.element),I,Y,A.zoom);b.getOpt(E).each(j=>{Qa(j.element,J)})}};p.getOpt(E).each(I=>{const Y=I.element;w.url!==ls(Y,"src")&&(io(Y,"src",w.url),ar(E.element,"tox-imagepreview__loaded")),P(),nT(Y).then(G=>{E.getSystem().isConnected()&&(Er(E.element,"tox-imagepreview__loaded"),A.cachedWidth=G.dom.naturalWidth,A.cachedHeight=G.dom.naturalHeight,P())})})})])}})(o,a)),table:ca((o,s)=>((a,l)=>{const d=b=>({dom:{tag:"td",innerHtml:l.translate(b)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(p=a.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Se(p,b=>({dom:{tag:"th",innerHtml:l.translate(b)}}))}]}),(f=a.cells,{dom:{tag:"tbody"},components:Se(f,b=>({dom:{tag:"tr"},components:Se(b,d)}))})],behaviours:ye([xr.config({}),go.config({})])};var f,p})(o,s.shared.providers)),tree:ca((o,s)=>((a,l)=>{const d=a.onLeafAction.getOr(qe),f=a.onToggleExpand.getOr(qe),p=a.defaultExpandedIds,b=Mt(p),y=Mt(a.defaultSelectedId),_=wt("tree-id"),E=(w,A)=>a.items.map(P=>P.type==="leaf"?Ex({leaf:P,selectedId:w,onLeafAction:d,visible:!0,treeId:_,backstage:l}):AS({directory:P,selectedId:w,onLeafAction:d,expandedIds:A,labelTabstopping:!0,treeId:_,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:E(y.get(),b.get()),behaviours:ye([Gt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),ko(q5,[je("expand-tree-node",(w,A)=>{const{expanded:P,node:I}=A.event;b.set(P?[...b.get(),I]:b.get().filter(Y=>Y!==I)),f(b.get(),{expanded:P,node:I})})]),Pl.config({channels:{[`update-active-item-${_}`]:{onReceive:(w,A)=>{y.set(O.some(A.value)),bo.set(w,E(O.some(A.value),b.get()))}}}}),bo.config({})])}})(o,s)),panel:ca((o,s)=>((a,l)=>({dom:{tag:"div",classes:a.classes},components:Se(a.items,l.shared.interpreter)}))(o,s))},eO={field:(o,s)=>s,record:ue([])},MS=(o,s,a,l,d)=>{const f=Cr(l,{shared:{interpreter:p=>Ax(o,p,a,f,d)}});return Ax(o,s,a,f,d)},Ax=(o,s,a,l,d)=>dt(R7,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(o,s,a,l,d)),BS=(o,s,a,l)=>Ax(eO,o,s,a,l),vf="layout-inset",PS=o=>o.x,tO=(o,s)=>o.x+o.width/2-s.width/2,LS=(o,s)=>o.x+o.width-s.width,IS=o=>o.y,FS=(o,s)=>o.y+o.height-s.height,HS=(o,s)=>o.y+o.height/2-s.height/2,Mk=(o,s,a)=>ea(LS(o,s),FS(o,s),a.insetSouthwest(),Gm(),"southwest",Oi(o,{right:0,bottom:3}),vf),Bk=(o,s,a)=>ea(PS(o),FS(o,s),a.insetSoutheast(),qm(),"southeast",Oi(o,{left:1,bottom:3}),vf),Jy=(o,s,a)=>ea(LS(o,s),IS(o),a.insetNorthwest(),Lb(),"northwest",Oi(o,{right:0,top:2}),vf),Nx=(o,s,a)=>ea(PS(o),IS(o),a.insetNortheast(),Rc(),"northeast",Oi(o,{left:1,top:2}),vf),ou=(o,s,a)=>ea(tO(o,s),IS(o),a.insetNorth(),Yf(),"north",Oi(o,{top:2}),vf),Bp=(o,s,a)=>ea(tO(o,s),FS(o,s),a.insetSouth(),sh(),"south",Oi(o,{bottom:3}),vf),oO=(o,s,a)=>ea(LS(o,s),HS(o,s),a.insetEast(),Cv(),"east",Oi(o,{right:0}),vf),nO=(o,s,a)=>ea(PS(o),HS(o,s),a.insetWest(),j1(),"west",Oi(o,{left:1}),vf),rO=o=>{switch(o){case"north":return ou;case"northeast":return Nx;case"northwest":return Jy;case"south":return Bp;case"southeast":return Bk;case"southwest":return Mk;case"east":return oO;case"west":return nO}},$S=(o,s,a,l,d)=>G1(l).map(rO).getOr(ou)(o,s,a,l,d),VS=o=>{switch(o){case"north":return Bp;case"northeast":return Bk;case"northwest":return Mk;case"south":return ou;case"southeast":return Nx;case"southwest":return Jy;case"east":return nO;case"west":return oO}},sO=(o,s,a,l,d)=>G1(l).map(VS).getOr(ou)(o,s,a,l,d),Rx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},D7=(o,s,a)=>{const l={maxHeightFunction:Wd()};return()=>a()?{type:"node",root:hr(is(o())),node:O.from(o()),bubble:xl(12,12,Rx),layouts:{onRtl:()=>[Nx],onLtr:()=>[Jy]},overrides:l}:{type:"hotspot",hotspot:s(),bubble:xl(-12,12,Rx),layouts:{onRtl:()=>[zs,Ds,ms],onLtr:()=>[Ds,zs,ms]},overrides:l}},M7=(o,s,a,l)=>{const d={maxHeightFunction:Wd()};return()=>l()?{type:"node",root:hr(is(s())),node:O.from(s()),bubble:xl(12,12,Rx),layouts:{onRtl:()=>[ou],onLtr:()=>[ou]},overrides:d}:o?{type:"node",root:hr(is(s())),node:O.from(s()),bubble:xl(0,-Ta(s()),Rx),layouts:{onRtl:()=>[xs],onLtr:()=>[xs]},overrides:d}:{type:"hotspot",hotspot:a(),bubble:xl(0,0,Rx),layouts:{onRtl:()=>[xs],onLtr:()=>[xs]},overrides:d}},B7=(o,s,a)=>()=>a()?{type:"node",root:hr(is(o())),node:O.from(o()),layouts:{onRtl:()=>[ou],onLtr:()=>[ou]}}:{type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[ms],onLtr:()=>[ms]}},P7=(o,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=o.selection.getRng(),l=o.model.table.getSelectedCells();if(l.length>1){const d=l[0],f=l[l.length-1],p={firstCell:_t(d),lastCell:_t(f)};return O.some(p)}return O.some(ff.range(_t(a.startContainer),a.startOffset,_t(a.endContainer),a.endOffset))}}),L7=o=>s=>({type:"node",root:o(),node:s}),aO=(o,s,a,l)=>{const d=kg(o),f=()=>_t(o.getBody()),p=()=>_t(o.getContentAreaContainer()),b=()=>d||!l();return{inlineDialog:D7(p,s,b),inlineBottomDialog:M7(o.inline,p,a,b),banner:B7(p,s,b),cursor:P7(o,f),node:L7(f)}},Bu=o=>(s,a)=>{_T(o)(s,a)},I7=o=>()=>hT(o),US=o=>s=>tx(o,s),iO=o=>s=>CC(o,s),lO=o=>()=>h_(o),cO=o=>Fo(o,"items"),jS=o=>Fo(o,"format"),ZS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],WS=o=>uo(o,(s,a)=>{if(_o(a,"items")){const l=WS(a.items);return{customFormats:s.customFormats.concat(l.customFormats),formats:s.formats.concat([{title:a.title,items:l.formats}])}}if(_o(a,"inline")||(l=>_o(l,"block"))(a)||(l=>_o(l,"selector"))(a)){const l=`custom-${Dt(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:l,format:a}]),formats:s.formats.concat([{title:a.title,format:l,icon:a.icon}])}}return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),dO=o=>jE(o).map(s=>{const a=((l,d)=>{const f=WS(d),p=b=>{tt(b,y=>{l.formatter.has(y.name)||l.formatter.register(y.name,y.format)})};return l.formatter?p(f.customFormats):l.on("init",()=>{p(f.customFormats)}),f.formats})(o,s);return ZE(o)?ZS.concat(a):a}).getOr(ZS),uO=(o,s,a)=>({...o,type:"formatter",isSelected:s(o.format),getStylePreview:a(o.format)}),fO=(o,s,a,l)=>{const d=f=>Se(f,p=>cO(p)?(b=>{const y=d(b.items);return{...b,type:"submenu",getStyleItems:ue(y)}})(p):jS(p)?(b=>uO(b,a,l))(p):(b=>{const y=qo(b);return y.length===1&&Je(y,"title")})(p)?{...p,type:"separator"}:(b=>{const y=Dt(b.name)?b.name:wt(b.title),_=`custom-${y}`,E={...b,type:"formatter",format:_,isSelected:a(_),getStylePreview:l(_)};return o.formatter.register(y,E),E})(p));return d(s)},F7=o=>{let s=0;const a=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[zr(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>s>0?60:300,delayForHide:ue(300),exclusive:!0,lazySink:o,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:a(l),onShow:(d,f)=>{s++,l.onShow&&l.onShow(d,f)},onHide:(d,f)=>{s--,l.onHide&&l.onHide(d,f)},onSetup:l.onSetup}),getComponents:a}},H7=pm.trim,mO=o=>s=>!!((a=>$t(a)&&a.nodeType===1)(s)&&(s.contentEditable===o||s.getAttribute("data-mce-contenteditable")===o)),$7=mO("true"),pO=mO("false"),qS=(o,s,a,l,d)=>({type:o,title:s,url:a,level:l,attach:d}),GS=o=>o.innerText||o.textContent,V7=o=>(s=>s&&s.nodeName==="A"&&(s.id||s.name)!==void 0)(o)&&hO(o),gO=o=>o&&/^(H[1-6])$/.test(o.nodeName),hO=o=>(s=>{let a=s;for(;a=a.parentNode;){const l=a.contentEditable;if(l&&l!=="inherit")return $7(a)}return!1})(o)&&!pO(o),Qy=o=>gO(o)&&hO(o),U7=o=>{var s;const a=(l=>l.id?l.id:wt("h"))(o);return qS("header",(s=GS(o))!==null&&s!==void 0?s:"","#"+a,(l=>gO(l)?parseInt(l.nodeName.substr(1),10):0)(o),()=>{o.id=a})},bO=o=>{const s=o.id||o.name,a=GS(o);return qS("anchor",a||"#"+s,"#"+s,0,qe)},yO=o=>H7(o.title).length>0,xO=o=>{const s=(a=>Se(qi(_t(a),"h1,h2,h3,h4,h5,h6,a:not([href])"),d=>d.dom))(o);return So((a=>Se(So(a,Qy),U7))(s).concat((a=>Se(So(a,V7),bO))(s)),yO)},Dx="tinymce-url-history",Pk=o=>Dt(o)&&/^https?/.test(o),Lk=o=>Ro(o)&&Qo(o,s=>{return!(Po(a=s)&&a.length<=5&&mi(a,Pk));var a}).isNone(),Ik=()=>{const o=Wh.getItem(Dx);if(o===null)return{};let s;try{s=JSON.parse(o)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+Dx+" was not valid JSON",a),{};throw a}return Lk(s)?s:(console.log("Local storage "+Dx+" was not valid format",s),{})},vO=o=>{const s=Ik();return dt(s,o).getOr([])},j7=(o,s)=>{if(!Pk(o))return;const a=Ik(),l=dt(a,s).getOr([]),d=So(l,f=>f!==o);a[s]=[o].concat(d).slice(0,5),(f=>{if(!Lk(f))throw new Error(`Bad format for history:
`+JSON.stringify(f));Wh.setItem(Dx,JSON.stringify(f))})(a)},KS=o=>!!o,Z7=o=>Rn(pm.makeMap(o,/[, ]/),KS),YS=o=>O.from(XE(o)),_O=o=>O.from(o).filter(Dt).getOrUndefined(),kO=o=>({getHistory:vO,addToHistory:j7,getLinkInformation:()=>(s=>JE(s)?O.some({targets:xO(s.getBody()),anchorTop:_O(QE(s)),anchorBottom:_O(w2(s))}):O.none())(o),getValidationHandler:()=>(s=>O.from(k2(s)))(o),getUrlPicker:s=>((a,l)=>((d,f)=>{const p=(b=>{const y=O.from(yy(b)).filter(KS).map(Z7);return YS(b).fold(Ie,_=>y.fold(jt,E=>qo(E).length>0&&E))})(d);return Cn(p)?p?YS(d):O.none():p[f]?YS(d):O.none()})(a,l).map(d=>f=>Eg(p=>{const b={filetype:l,fieldname:f.fieldname,...O.from(f.meta).getOr({})};d.call(a,(y,_)=>{if(!Dt(y))throw new Error("Expected value to be string");if(_!==void 0&&!Ro(_))throw new Error("Expected meta to be a object");p({value:y,meta:_})},f.value,b)})))(o,s)}),Ma=iR,_f=B3,W7=ue([Ee("shell",!1),Ge("makeItem"),Ee("setupItem",qe),Qe("listBehaviours",[bo])]),q7=Kd({name:"items",overrides:()=>({behaviours:ye([bo.config({})])})}),G7=ue([q7]),wO=_l({name:ue("CustomList")(),configFields:W7(),partFields:G7(),factory:(o,s,a,l)=>{const d=o.shell?{behaviours:[bo.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:Fe(o.listBehaviours,d.behaviours),apis:{setItems:(f,p)=>{var b;(b=f,o.shell?O.some(b):Pr(b,o,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},y=>{const _=bo.contents(y),E=p.length,w=E-_.length,A=w>0?Bi(w,()=>o.makeItem()):[],P=_.slice(E);tt(P,Y=>bo.remove(y,Y)),tt(A,Y=>bo.append(y,Y));const I=bo.contents(y);tt(I,(Y,G)=>{o.setupItem(f,Y,p[G],G)})})}}}},apis:{setItems:(o,s,a)=>{o.setItems(s,a)}}}),e1=ue([Ge("dom"),Ee("shell",!0),ke("toolbarBehaviours",[bo])]),K7=ue([Kd({name:"groups",overrides:()=>({behaviours:ye([bo.config({})])})})]),kf=_l({name:"Toolbar",configFields:e1(),partFields:K7(),factory:(o,s,a,l)=>{const d=o.shell?{behaviours:[bo.config({})],components:[]}:{behaviours:[],components:s};return{uid:o.uid,dom:o.dom,components:d.components,behaviours:Fe(o.toolbarBehaviours,d.behaviours),apis:{setGroups:(f,p)=>{var b;(b=f,o.shell?O.some(b):Pr(b,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},y=>{bo.set(y,p)})},refresh:qe},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)}}}),Y7=qe,X7=Ie,CO=ue([]);var SO,EO=Object.freeze({__proto__:null,setup:Y7,isDocked:X7,getBehaviours:CO});const XS=ue(wt("toolbar-height-change")),hm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},zO="tox-tinymce--toolbar-sticky-on",TO="tox-tinymce--toolbar-sticky-off",Fk=(o,s)=>Je(Mn.getModes(o),s),t1=o=>{const s=o.element;hi(s).each(a=>{const l="padding-"+Mn.getModes(o)[0];if(Mn.isDocked(o)){const d=ae(a);Zt(s,"width",d+"px"),Zt(a,l,(f=>Ta(f)+(parseInt(Vs(f,"margin-top"),10)||0)+(parseInt(Vs(f,"margin-bottom"),10)||0))(s)+"px")}else ln(s,"width"),ln(a,l)})},JS=(o,s)=>{s?(ar(o,hm.fadeOutClass),hl(o,[hm.transitionClass,hm.fadeInClass])):(ar(o,hm.fadeInClass),hl(o,[hm.fadeOutClass,hm.transitionClass]))},OO=(o,s)=>{const a=_t(o.getContainer());s?(Er(a,zO),ar(a,TO)):(Er(a,TO),ar(a,zO))},AO=(o,s)=>{const a=dn(),l=s.getSink,d=b=>{l().each(y=>b(y.element))},f=b=>{o.inline||t1(b),OO(o,Mn.isDocked(b)),b.getSystem().broadcastOn([pf()],{}),l().each(y=>y.getSystem().broadcastOn([pf()],{}))},p=o.inline?[]:[Pl.config({channels:{[XS()]:{onReceive:t1}}})];return[go.config({}),Mn.config({contextual:{lazyContext:b=>{const y=Ta(b.element),_=o.inline?o.getContentAreaContainer():o.getContainer();return O.from(_).map(E=>{const w=As(_t(E));return Ms(o,b.element).fold(()=>{const A=w.height-y,P=w.y+(Fk(b,"top")?0:y);return En(w.x,P,w.width,A)},A=>{const P=Ns(w,Ah(A)),I=Fk(b,"top")?P.y:P.y+y;return En(P.x,I,P.width,P.height-y)})})},onShow:()=>{d(b=>JS(b,!0))},onShown:b=>{d(y=>ai(y,[hm.transitionClass,hm.fadeInClass])),a.get().each(y=>{((_,E)=>{const w=fa(E);fc(w).filter(A=>!yn(E,A)).filter(A=>yn(A,_t(w.dom.body))||bs(_,A)).each(()=>Da(E))})(b.element,y),a.clear()})},onHide:b=>{((y,_)=>Ni(y).orThunk(()=>_().toOptional().bind(E=>Ni(E.element))))(b.element,l).fold(a.clear,a.set),d(y=>JS(y,!1))},onHidden:()=>{d(b=>ai(b,[hm.transitionClass]))},...hm},lazyViewport:b=>Ms(o,b.element).fold(()=>{const y=ws(),_=KE(o),E=y.y+(Fk(b,"top")&&!yd(o)?_:0),w=y.height-(Fk(b,"bottom")?_:0);return{bounds:En(y.x,E,y.width,w),optScrollEnv:O.none()}},y=>({bounds:Ah(y),optScrollEnv:O.some({currentScrollTop:y.element.dom.scrollTop,scrollElmTop:Wr(y.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...p]};var J7=Object.freeze({__proto__:null,setup:(o,s,a)=>{o.inline||(s.header.isPositionedAtTop()||o.on("ResizeEditor",()=>{a().each(Mn.reset)}),o.on("ResizeWindow ResizeEditor",()=>{a().each(t1)}),o.on("SkinLoaded",()=>{a().each(l=>{Mn.isDocked(l)?Mn.reset(l):Mn.refresh(l)})}),o.on("FullscreenStateChanged",()=>{a().each(Mn.reset)})),o.on("AfterScrollIntoView",l=>{a().each(d=>{Mn.refresh(d);const f=d.element;sE(f)&&((p,b)=>{const y=fa(b),_=Dd(b).dom.innerHeight,E=ys(y),w=_t(p.elm),A=Al(w),P=kr(w),I=A.y,Y=I+P,G=Wr(b),J=kr(b),j=G.top,Z=j+J,te=Math.abs(j-E.top)<2,oe=Math.abs(Z-(E.top+_))<2;if(te&&I<Z)sa(E.left,I-J,y);else if(oe&&Y>j){const ce=I-_+P+J;sa(E.left,ce,y)}})(l,f)})}),o.on("PostRender",()=>{OO(o,!1)})},isDocked:o=>o().map(Mn.isDocked).getOr(!1),getBehaviours:AO});const Q7=oo([Bs,Xs("items",td([gu([H0,Vr("items",Dr)]),Dr]))].concat(Hh)),e8=[tr("buttonType","default"),Ur("text"),Ur("tooltip"),Ur("icon"),_a("search",!1,td([bu,oo([Ur("placeholder")])],o=>Cn(o)?o?O.some({placeholder:O.none()}):O.none():O.some(o))),Ei("fetch"),Yn("onSetup",()=>qe),tr("context","mode:design")],NO=oo([Bs,...e8]),Hk=o=>er("menubutton",NO,o),RO=oo([Bs,lm,bc,yp,hD,mD,Fh,ka("presets","normal",["normal","color","listpreview"]),bD(1),Ih,gD,tr("context","mode:design")]);var $k=hd({factory:(o,s)=>{const a={focus:Gt.focusIn,setMenus:(l,d)=>{const f=Se(d,p=>{const b={type:"menubutton",text:p.text,fetch:_=>{_(p.getItems())},context:"any"},y=Hk(b).mapError(_=>ni(_)).getOrDie();return Yy(y,"tox-mbtn",s.backstage,O.some("menuitem"))});bo.set(l,f)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:ye([bo.config({}),ko("menubar-events",[Xn(l=>{o.onSetup(l)}),je(zi(),(l,d)=>{$n(l.element,".tox-mbtn--active").each(f=>{$i(d.event.target,".tox-mbtn").each(p=>{yn(f,p)||l.getSystem().getByDom(f).each(b=>{l.getSystem().getByDom(p).each(y=>{$c.expand(y),$c.close(b),go.focus(y)})})})})}),je(id(),(l,d)=>{d.event.prevFocus.bind(f=>l.getSystem().getByDom(f).toOptional()).each(f=>{d.event.newFocus.bind(p=>l.getSystem().getByDom(p).toOptional()).each(p=>{$c.isOpen(f)&&($c.expand(p),$c.close(f))})})})]),Gt.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(o.onEscape(l),O.some(!0))}),xr.config({})]),apis:a,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ge("dom"),Ge("uid"),Ge("onEscape"),Ge("backstage"),Ee("onSetup",qe)],apis:{focus:(o,s)=>{o.focus(s)},setMenus:(o,s,a)=>{o.setMenus(s,a)}}});const DO="container",MO=[ke("slotBehaviours",[])],BO=o=>"<alloy.field."+o+">",t8=(o,s)=>{const a=E=>F3(o),l=(E,w)=>(A,P)=>Pr(A,o,P).map(I=>E(I,P)).getOr(w),d=(E,w)=>ls(E.element,"aria-hidden")!=="true",f=l(d,!1),p=l((E,w)=>{if(d(E)){const A=E.element;Zt(A,"display","none"),io(A,"aria-hidden","true"),Vt(E,Ku(),{name:w,visible:!1})}}),b=(E=>(w,A)=>{tt(A,P=>E(w,P))})(p),y=l((E,w)=>{if(!d(E)){const A=E.element;ln(A,"display"),$r(A,"aria-hidden"),Vt(E,Ku(),{name:w,visible:!0})}}),_={getSlotNames:a,getSlot:(E,w)=>Pr(E,o,w),isShowing:f,hideSlot:p,hideAllSlots:E=>b(E,a()),showSlot:y};return{uid:o.uid,dom:o.dom,components:s,behaviours:We(o.slotBehaviours),apis:_}},sl={...Rn({getSlotNames:(o,s)=>o.getSlotNames(s),getSlot:(o,s,a)=>o.getSlot(s,a),isShowing:(o,s,a)=>o.isShowing(s,a),hideSlot:(o,s,a)=>o.hideSlot(s,a),hideAllSlots:(o,s)=>o.hideAllSlots(s),showSlot:(o,s,a)=>o.showSlot(s,a)},o=>Mb(o)),sketch:o=>{const s=(()=>{const f=[];return{slot:(p,b)=>(f.push(p),qw(DO,BO(p),b)),record:ue(f)}})(),a=o(s),l=s.record(),d=Se(l,f=>ol({name:f,pname:BO(f)}));return Gv(DO,MO,d,t8,a)}},o8=oo([bc,lm,Yn("onShow",qe),Yn("onHide",qe),Fh]),n8=o=>({element:()=>o.element.dom}),r8=(o,s)=>{const a=Se(qo(s),l=>{const d=s[l],f=aa((p=>er("sidebar",o8,p))(d));return{name:l,getApi:n8,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return Se(a,l=>{const d=Mt(qe);return o.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:j0([Nu(l,d),vp(l,d),je(Ku(),(f,p)=>{const b=p.event;H(a,_=>_.name===b.name).each(_=>{(b.visible?_.onShow:_.onHide)(_.getApi(f))})})])})})},s8=o=>sl.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:r8(s,o),slotBehaviours:j0([Xn(a=>sl.hideAllSlots(a))])})),Vk=(o,s)=>{io(o,"role",s)},a8=o=>_n.getCurrent(o).bind(s=>$l.isGrowing(s)||$l.hasGrown(s)?_n.getCurrent(s).bind(a=>H(sl.getSlotNames(a),l=>sl.isShowing(a,l))):O.none()),QS=wt("FixSizeEvent"),o1=wt("AutoSizeEvent");var e4=Object.freeze({__proto__:null,block:(o,s,a,l)=>{io(o.element,"aria-busy",!0);const d=s.getRoot(o).getOr(o),f=ye([Gt.config({mode:"special",onTab:()=>O.some(!0),onShiftTab:()=>O.some(!0)}),go.config({})]),p=l(d,f),b=d.getSystem().build(p);bo.append(d,Bl(b)),b.hasConfigured(Gt)&&s.focus&&Gt.focusIn(b),a.isBlocked()||s.onBlock(o),a.blockWith(()=>bo.remove(d,b))},unblock:(o,s,a)=>{$r(o.element,"aria-busy"),a.isBlocked()&&s.onUnblock(o),a.clear()},isBlocked:(o,s,a)=>a.isBlocked()}),t4=[Yn("getRoot",O.none),Js("focus",!0),Bo("onBlock"),Bo("onUnblock")];const Pu=qt({fields:t4,name:"blocking",apis:e4,state:Object.freeze({__proto__:null,init:()=>{const o=Nl(s=>s.destroy());return Le({readState:o.isSet,blockWith:s=>{o.set({destroy:s})},clear:o.clear,isBlocked:o.isSet})}})}),PO=o=>_n.getCurrent(o).each(s=>Da(s.element,!0)),i8=(o,s,a)=>{const l=Mt(!1),d=dn(),f=b=>{var y;l.get()&&(!(_=>_.type==="focusin")(y=b)||!(y.composed?at(y.composedPath()):O.from(y.target)).map(_t).filter(lr).exists(_=>ir(_,"mce-pastebin")))&&(b.preventDefault(),PO(s()),o.editorManager.setActive(o))};o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",f),o.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const p=b=>{b!==l.get()&&(l.set(b),((y,_,E,w)=>{const A=_.element;if(((P,I)=>{const Y="tabindex",G=`data-mce-${Y}`;O.from(P.iframeElement).map(_t).each(J=>{I?(cs(J,Y).each(j=>io(J,G,j)),io(J,Y,-1)):($r(J,Y),cs(J,G).each(j=>{io(J,Y,j),$r(J,G)}))})})(y,E),E)Pu.block(_,(P=>(I,Y)=>({dom:{tag:"div",attributes:{"aria-label":P.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:gp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(w)),ln(A,"display"),$r(A,"aria-hidden"),y.hasFocus()&&PO(_);else{const P=_n.getCurrent(_).exists(I=>dd(I.element));Pu.unblock(_),Zt(A,"display","none"),io(A,"aria-hidden","true"),P&&y.focus()}})(o,s(),b,a.providers),((y,_)=>{y.dispatch("AfterProgressState",{state:_})})(o,b))};o.on("ProgressState",b=>{if(d.on(clearTimeout),Go(b.time)){const y=d_.setEditorTimeout(o,()=>p(b.state),b.time);d.set(y)}else p(b.state),d.clear()})},Mx=(o,s,a)=>({within:o,extra:s,withinWidth:a}),Uk=(o,s,a)=>{const l=uo(o,(p,b)=>((y,_)=>{const E=a(y);return O.some({element:y,start:_,finish:_+E,width:E})})(b,p.len).fold(ue(p),y=>({len:y.finish,list:p.list.concat([y])})),{len:0,list:[]}).list,d=So(l,p=>p.finish<=s),f=ho(d,(p,b)=>p+b.width,0);return{within:d,extra:l.slice(d.length),withinWidth:f}},rb=o=>Se(o,s=>s.element),o4=(o,s)=>{const a=Se(s,l=>Bl(l));kf.setGroups(o,a)},LO=(o,s,a)=>{const l=s.builtGroups.get();if(l.length===0)return;const d=yg(o,s,"primary"),f=Ps.getCoupled(o,"overflowGroup");Zt(d.element,"visibility","hidden");const p=l.concat([f]),b=fo(p,_=>Ni(_.element).bind(E=>_.getSystem().getByDom(E).toOptional()));a([]),o4(d,p);const y=((_,E,w,A)=>{const P=((J,j,Z)=>{const te=Uk(j,J,Z);return te.extra.length===0?O.some(te):O.none()})(_,E,w).getOrThunk(()=>Uk(E,_-w(A),w)),I=P.within,Y=P.extra,G=P.withinWidth;return Y.length===1&&Y[0].width<=w(A)?((J,j,Z)=>{const te=rb(J.concat(j));return Mx(te,[],Z)})(I,Y,G):Y.length>=1?((J,j,Z,te)=>{const oe=rb(J).concat([Z]);return Mx(oe,rb(j),te)})(I,Y,A,G):((J,j,Z)=>Mx(rb(J),[],Z))(I,0,G)})(ae(d.element),s.builtGroups.get(),_=>Math.ceil(_.element.dom.getBoundingClientRect().width),f);y.extra.length===0?(bo.remove(d,f),a([])):(o4(d,y.within),a(y.extra)),ln(d.element,"visibility"),cl(d.element),b.each(go.focus)},IO=ue([ke("splitToolbarBehaviours",[Ps]),ia("builtGroups",()=>Mt([]))]),l8=ue([nf(["overflowToggledClass"]),Oa("getOverflowBounds"),Ge("lazySink"),ia("overflowGroups",()=>Mt([])),Bo("onOpened"),Bo("onClosed")].concat(IO())),c8=ue([ol({factory:kf,schema:e1(),name:"primary"}),Su({schema:e1(),name:"overflow"}),Su({name:"overflow-button"}),Su({name:"overflow-group"})]),n4=ue((o,s)=>{((a,l)=>{const d=q.max(a,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Zt(a,"max-width",d+"px")})(o,Math.floor(s))}),d8=ue([nf(["toggledClass"]),Ge("lazySink"),Ei("fetch"),Oa("getBounds"),un("fireDismissalEventInstead",[Ee("event",Gu())]),wa(),Bo("onToggled")]),u8=ue([Su({name:"button",overrides:o=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ye([jo.config({toggleClass:o.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:o.onToggled})])})}),Su({factory:kf,schema:e1(),name:"toolbar",overrides:o=>({toolbarBehaviours:ye([Gt.config({mode:"cyclic",onEscape:s=>(Pr(s,o,"button").each(go.focus),O.none())})])})})]),jk=dn(),r4=(o,s)=>{const a=Ps.getCoupled(o,"toolbarSandbox");xn.isOpen(a)?xn.close(a):xn.open(a,s.toolbar())},s4=(o,s,a,l)=>{const d=a.getBounds.map(p=>p()),f=a.lazySink(o).getOrDie();ps.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:o,layouts:l,overrides:{maxWidthFunction:n4()}}},d)},FO=(o,s,a,l,d)=>{kf.setGroups(s,d),s4(o,s,a,l),jo.on(o)},Rg=_l({name:"FloatingToolbarButton",factory:(o,s,a,l)=>({...Za.sketch({...l.button(),action:d=>{r4(d,l)},buttonBehaviours:rt({dump:l.button().buttonBehaviours},[Ps.config({others:{toolbarSandbox:d=>((f,p,b)=>{const y=wv();return{dom:{tag:"div",attributes:{id:y.id}},behaviours:ye([Gt.config({mode:"special",onEscape:_=>(xn.close(_),O.some(!0))}),xn.config({onOpen:(_,E)=>{const w=jk.get().getOr(!1);b.fetch().get(A=>{FO(f,E,b,p.layouts,A),y.link(f.element),w||Gt.focusIn(E)})},onClose:()=>{jo.off(f),jk.get().getOr(!1)||go.focus(f),y.unlink(f.element)},isPartOf:(_,E,w)=>Wm(E,w)||Wm(f,w),getAttachPoint:()=>b.lazySink(f).getOrDie()}),Pl.config({channels:{...d0({isExtraPart:Ie,...b.fireDismissalEventInstead.map(_=>({fireEventInstead:{event:_.event}})).getOr({})}),...h({doReposition:()=>{xn.getState(Ps.getCoupled(f,"toolbarSandbox")).each(_=>{s4(f,_,b,p.layouts)})}})}})])}})(d,a,o)}})])}),apis:{setGroups:(d,f)=>{xn.getState(Ps.getCoupled(d,"toolbarSandbox")).each(p=>{FO(d,p,o,a.layouts,f)})},reposition:d=>{xn.getState(Ps.getCoupled(d,"toolbarSandbox")).each(f=>{s4(d,f,o,a.layouts)})},toggle:d=>{r4(d,l)},toggleWithoutFocusing:d=>{((f,p)=>{jk.set(!0),r4(f,p),jk.clear()})(d,l)},getToolbar:d=>xn.getState(Ps.getCoupled(d,"toolbarSandbox")),isOpen:d=>xn.isOpen(Ps.getCoupled(d,"toolbarSandbox"))}}),configFields:d8(),partFields:u8(),apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggleWithoutFocusing(s)},getToolbar:(o,s)=>o.getToolbar(s),isOpen:(o,s)=>o.isOpen(s)}}),f8=ue([Ge("items"),nf(["itemSelector"]),ke("tgroupBehaviours",[Gt])]),HO=ue([jv({name:"items",unit:"item"})]),Zk=_l({name:"ToolbarGroup",configFields:f8(),partFields:HO(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.tgroupBehaviours,[Gt.config({mode:"flow",selector:o.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),$O=o=>Se(o,s=>Bl(s)),wf=(o,s,a)=>{LO(o,a,l=>{a.overflowGroups.set(l),s.getOpt(o).each(d=>{Rg.setGroups(d,$O(l))})})},VO=_l({name:"SplitFloatingToolbar",configFields:l8(),partFields:c8(),factory:(o,s,a,l)=>{const d=Bn(Rg.sketch({fetch:()=>Eg(f=>{f($O(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Ds,zs],onRtl:()=>[zs,Ds],onBottomLtr:()=>[la,Ua],onBottomRtl:()=>[Ua,la]},getBounds:a.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(f,p)=>o[p?"onOpened":"onClosed"](f)}));return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.splitToolbarBehaviours,[Ps.config({others:{overflowGroup:()=>Zk.sketch({...l["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(f,p)=>{o.builtGroups.set(Se(p,f.getSystem().build)),wf(f,d,o)},refresh:f=>wf(f,d,o),toggle:f=>{d.getOpt(f).each(p=>{Rg.toggle(p)})},toggleWithoutFocusing:f=>{d.getOpt(f).each(Rg.toggleWithoutFocusing)},isOpen:f=>d.getOpt(f).map(Rg.isOpen).getOr(!1),reposition:f=>{d.getOpt(f).each(p=>{Rg.reposition(p)})},getOverflow:f=>d.getOpt(f).bind(Rg.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)},refresh:(o,s)=>{o.refresh(s)},reposition:(o,s)=>{o.reposition(s)},toggle:(o,s)=>{o.toggle(s)},toggleWithoutFocusing:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s),getOverflow:(o,s)=>o.getOverflow(s)}}),m8=ue([nf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Bo("onOpened"),Bo("onClosed")].concat(IO())),a4=ue([ol({factory:kf,schema:e1(),name:"primary"}),ol({factory:kf,schema:e1(),name:"overflow",overrides:o=>({toolbarBehaviours:ye([$l.config({dimension:{property:"height"},closedClass:o.markers.closedClass,openClass:o.markers.openClass,shrinkingClass:o.markers.shrinkingClass,growingClass:o.markers.growingClass,onShrunk:s=>{Pr(s,o,"overflow-button").each(a=>{jo.off(a)}),o.onClosed(s)},onGrown:s=>{o.onOpened(s)},onStartGrow:s=>{Pr(s,o,"overflow-button").each(jo.on)}}),Gt.config({mode:"acyclic",onEscape:s=>(Pr(s,o,"overflow-button").each(go.focus),O.some(!0))})])})}),Su({name:"overflow-button",overrides:o=>({buttonBehaviours:ye([jo.config({toggleClass:o.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Su({name:"overflow-group"})]),Sa=(o,s,a)=>{Pr(o,s,"overflow-button").each(l=>{Pr(o,s,"overflow").each(d=>{if(i4(o,s),$l.hasShrunk(d)){const f=s.onOpened;s.onOpened=p=>{a||Gt.focusIn(d),f(p),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=p=>{a||go.focus(l),f(p),s.onClosed=f}}$l.toggleGrow(d)})})},i4=(o,s)=>{Pr(o,s,"overflow").each(a=>{LO(o,s,l=>{const d=Se(l,f=>Bl(f));kf.setGroups(a,d)}),Pr(o,s,"overflow-button").each(l=>{$l.hasGrown(a)&&jo.on(l)}),$l.refresh(a)})},l4=_l({name:"SplitSlidingToolbar",configFields:m8(),partFields:a4(),factory:(o,s,a,l)=>{const d="alloy.toolbar.toggle";return{uid:o.uid,dom:o.dom,components:s,behaviours:Fe(o.splitToolbarBehaviours,[Ps.config({others:{overflowGroup:f=>Zk.sketch({...l["overflow-group"](),items:[Za.sketch({...l["overflow-button"](),action:p=>{Vo(f,d)}})]})}}),ko("toolbar-toggle-events",[je(d,f=>{Sa(f,o,!1)})])]),apis:{setGroups:(f,p)=>{((b,y)=>{const _=Se(y,b.getSystem().build);o.builtGroups.set(_)})(f,p),i4(f,o)},refresh:f=>i4(f,o),toggle:f=>{Sa(f,o,!1)},toggleWithoutFocusing:f=>{Sa(f,o,!0)},isOpen:f=>((p,b)=>Pr(p,b,"overflow").map($l.hasGrown).getOr(!1))(f,o)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(o,s,a)=>{o.setGroups(s,a)},refresh:(o,s)=>{o.refresh(s)},toggle:(o,s)=>{o.toggle(s)},isOpen:(o,s)=>o.isOpen(s)}}),UO=o=>{const s=o.label.isNone()?o.title.fold(()=>({}),a=>({attributes:{"aria-label":a}})):o.label.fold(()=>({}),a=>({attributes:{"aria-label":a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(o.label.isSome()?["tox-toolbar__group_with_label"]:[]),...s},components:[...o.label.map(a=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[zr(a)]})).toArray(),Zk.parts.items({})],items:o.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ye([xr.config({}),go.config({ignore:!0})])}},Wk=o=>Zk.sketch(UO(o)),jO=(o,s)=>{const a=Xn(l=>{const d=Se(o.initGroups,Wk);kf.setGroups(l,d)});return ye([$_(()=>o.providers.checkUiComponentContext("any").shouldDisable),Yr(()=>o.providers.checkUiComponentContext("any")),Gt.config({mode:s,onEscape:o.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),ko("toolbar-events",[a])])},ZO=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return{uid:o.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":UO({title:O.none(),label:O.none(),items:[]}),"overflow-button":RS({context:"any",icon:O.some("more-drawer"),enabled:!0,tooltip:O.some("Reveal or hide additional toolbar items")},O.none(),o.providers,[],"overflow-button")},splitToolbarBehaviours:jO(o,s)}},p8=o=>{const s=ZO(o),a=VO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return VO.sketch({...s,lazySink:o.getSink,getOverflowBounds:()=>{const l=o.moreDrawerData.lazyHeader().element,d=Al(l),f=Uu(l),p=Al(f),b=Math.max(f.dom.scrollHeight,p.height);return En(d.x+4,p.y,d.width-8,b)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}},components:[a],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>o.onToggled(l,!0),onClosed:l=>o.onToggled(l,!1)})},g8=o=>{const s=l4.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=l4.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=ZO(o);return l4.sketch({...l,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([XS()],{type:"opened"}),o.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([XS()],{type:"closed"}),o.onToggled(d,!1)}})},c4=o=>{const s=o.cyclicKeying?"cyclic":"acyclic";return kf.sketch({uid:o.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(o.type===nl.scrolling?["tox-toolbar--scrolling"]:[])},components:[kf.parts.groups({})],toolbarBehaviours:jO(o,s)})},WO=[yp,bc,Ur("tooltip"),ka("buttonType","secondary",["primary","secondary"]),Js("borderless",!1),Ei("onAction"),tr("context","mode:design")],qO={button:[...WO,bp,Zs("type",["button"])],togglebutton:[...WO,Js("active",!1),Zs("type",["togglebutton"])]},h8=[Zs("type",["group"]),nc("buttons",[],$a("type",qO))],b8=$a("type",{...qO,group:h8}),y8=oo([nc("buttons",[],b8),Ei("onShow"),Ei("onHide")]),GO=(o,s)=>((a,l)=>{var d,f;const p=a.type==="togglebutton",b=a.icon.map(j=>Dp(j,l.icons)).map(Bn),y={...a,name:p?a.text.getOr(a.icon.getOr("")):(d=a.text)!==null&&d!==void 0?d:a.icon.getOr(""),primary:a.buttonType==="primary",buttonType:O.from(a.buttonType),tooltip:a.tooltip,icon:a.icon,enabled:!0,borderless:a.borderless},_=Nk((f=a.buttonType)!==null&&f!==void 0?f:"secondary"),E=p?a.text.map(l.translate):O.some(l.translate(a.text)),w=E.map(zr),A=y.tooltip.or(E).map(j=>({"aria-label":l.translate(j)})).getOr({}),P=b.map(j=>j.asSpec()),I=$h([P,w]),Y=a.icon.isSome()&&w.isSome(),G={tag:"button",classes:_.concat(...a.icon.isSome()&&!Y?["tox-button--icon"]:[]).concat(...Y?["tox-button--icon-and-text"]:[]).concat(...a.borderless?["tox-button--naked"]:[]).concat(...a.type==="togglebutton"&&a.active?["tox-button--enabled"]:[]),attributes:A},J=ob(y,O.some(j=>{const Z=te=>{b.map(oe=>oe.getOpt(j).each(ce=>{bo.set(ce,[Dp(te,l.icons)])}))};return p?a.onAction({setIcon:Z,setActive:te=>{const oe=j.element;te?(Er(oe,"tox-button--enabled"),io(oe,"aria-pressed",!0)):(ar(oe,"tox-button--enabled"),$r(oe,"aria-pressed"))},isActive:()=>ir(j.element,"tox-button--enabled"),focus:()=>Da(j.element)}):a.type==="button"?a.onAction({setIcon:Z}):void 0}),[],G,I,a.tooltip,l);return Za.sketch(J)})(o,s),KO=Ys().deviceType,x8=KO.isPhone(),v8=KO.isTablet();var n1=_l({name:"silver.View",configFields:[Ge("viewConfig")],partFields:[Kd({factory:{sketch:o=>{let s=!1;const a=Se(o.buttons,l=>l.type==="group"?(s=!0,((d,f)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Se(d.buttons,p=>GO(p,f))}))(l,o.providers)):GO(l,o.providers));return{uid:o.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...x8||v8?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ye([go.config({}),Gt.config({mode:"flow",selector:"button, .tox-button",focusInside:xg.OnEnterOrSpaceMode})]),components:s?a:[yf.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),yf.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}}},schema:[Ge("buttons"),Ge("providers")],name:"header"}),Kd({factory:{sketch:o=>({uid:o.uid,behaviours:ye([go.config({}),xr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(o,s,a,l)=>{const d={getPane:f=>Ma.getPart(f,o,"pane"),getOnShow:f=>o.viewConfig.onShow,getOnHide:f=>o.viewConfig.onHide};return{uid:o.uid,dom:o.dom,components:s,behaviours:ye([go.config({}),Gt.config({mode:"cyclic",focusInside:xg.OnEnterOrSpaceMode})]),apis:d}},apis:{getPane:(o,s)=>o.getPane(s),getOnShow:(o,s)=>o.getOnShow(s),getOnHide:(o,s)=>o.getOnHide(s)}});const _8=(o,s,a)=>Hr(s,(l,d)=>{const f=aa(er("view",y8,l));return o.slot(d,n1.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[n1.parts.header({buttons:f.buttons,providers:a})]:[],n1.parts.pane({})]}))}),k8=(o,s)=>sl.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:_8(a,o,s),slotBehaviours:j0([Xn(l=>sl.hideAllSlots(l))])})),YO=o=>H(sl.getSlotNames(o),s=>sl.isShowing(o,s)),XO=(o,s,a)=>{sl.getSlot(o,s).each(l=>{n1.getPane(l).each(d=>{var f;a(l)((f=d.element.dom,{getContainer:ue(f)}))})})};var qk=hd({factory:(o,s)=>{const a={setViews:(l,d)=>{bo.set(l,[k8(d,s.backstage.shared.providers)])},whichView:l=>_n.getCurrent(l).bind(YO),toggleView:(l,d,f,p)=>_n.getCurrent(l).exists(b=>{const y=YO(b),_=y.exists(w=>p===w),E=sl.getSlot(b,p).isSome();return E&&(sl.hideAllSlots(b),_?((w=>{const A=w.element;Zt(A,"display","none"),io(A,"aria-hidden","true")})(l),d()):(f(),(w=>{const A=w.element;ln(A,"display"),$r(A,"aria-hidden")})(l),sl.showSlot(b,p),((w,A)=>{XO(w,A,n1.getOnShow)})(b,p)),y.each(w=>((A,P)=>XO(A,P,n1.getOnHide))(b,w))),E})};return{uid:o.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ye([bo.config({}),_n.config({find:l=>{const d=bo.contents(l);return at(d)}})]),apis:a}},name:"silver.ViewWrapper",configFields:[Ge("backstage")],apis:{setViews:(o,s,a)=>o.setViews(s,a),toggleView:(o,s,a,l,d)=>o.toggleView(s,a,l,d),whichView:(o,s)=>o.whichView(s)}});const w8=_f.optional({factory:$k,name:"menubar",schema:[Ge("backstage")]}),JO=_f.optional({factory:{sketch:o=>wO.sketch({uid:o.uid,dom:o.dom,listBehaviours:ye([Gt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>c4({type:o.type,uid:wt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:o.providers,onEscape:()=>(o.onEscape(),O.some(!0))}),setupItem:(s,a,l,d)=>{kf.setGroups(a,l)},shell:!0})},name:"multiple-toolbar",schema:[Ge("dom"),Ge("onEscape")]}),C8=_f.optional({factory:{sketch:o=>(a=>a.type===nl.sliding?g8:a.type===nl.floating?p8:c4)(o)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),O.some(!0)),onToggled:(a,l)=>o.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[Ge("dom"),Ge("onEscape"),Ge("getSink")]}),QO=_f.optional({factory:{sketch:o=>{const s=o.editor,a=o.sticky?AO:CO;return{uid:o.uid,dom:o.dom,components:o.components,behaviours:ye(a(s,o.sharedBackstage))}}},name:"header",schema:[Ge("dom")]}),S8=_f.optional({factory:{sketch:o=>{const s=o.promotionLink?[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"💝Get all features"}}]:[];return{uid:o.uid,dom:o.dom,components:s}}},name:"promotion",schema:[Ge("dom"),Ge("promotionLink")]}),E8=_f.optional({name:"socket",schema:[Ge("dom")]}),z8=_f.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ye([xr.config({}),go.config({}),$l.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{_n.getCurrent(s).each(sl.hideAllSlots),Vo(s,o1)},onGrown:s=>{Vo(s,o1)},onStartGrow:s=>{Vt(s,QS,{width:_r(s.element,"width").getOr("")})},onStartShrink:s=>{Vt(s,QS,{width:ae(s.element)+"px"})}}),bo.config({}),_n.config({find:s=>{const a=bo.contents(s);return at(a)}})])}],behaviours:ye([bk(0),ko("sidebar-sliding-events",[je(QS,(s,a)=>{Zt(s.element,"width",a.event.width)}),je(o1,(s,a)=>{ln(s.element,"width")})])])})},name:"sidebar",schema:[Ge("dom")]}),eA=_f.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ye([bo.config({}),Pu.config({focus:!1}),_n.config({find:s=>at(s.components())})]),components:[]})},name:"throbber",schema:[Ge("dom")]}),T8=_f.optional({factory:qk,name:"viewWrapper",schema:[Ge("backstage")]}),O8=_f.optional({factory:{sketch:o=>({uid:o.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:o.components})},name:"editorContainer",schema:[]});var Fr=_l({name:"OuterContainer",factory:(o,s,a)=>{let l=!1;const d=p=>{Om(p,".tox-statusbar").each(b=>{Vs(b,"display")==="none"&&ls(b,"aria-hidden")==="true"?(ln(b,"display"),$r(b,"aria-hidden")):(Zt(b,"display","none"),io(b,"aria-hidden","true"))})},f={getSocket:p=>Ma.getPart(p,o,"socket"),setSidebar:(p,b,y)=>{Ma.getPart(p,o,"sidebar").each(_=>((E,w,A)=>{_n.getCurrent(E).each(P=>{bo.set(P,[s8(w)]);const I=A==null?void 0:A.toLowerCase();Dt(I)&&_o(w,I)&&_n.getCurrent(P).each(Y=>{sl.showSlot(Y,I),$l.immediateGrow(P),ln(P.element,"width"),Vk(E.element,"region")})})})(_,b,y))},toggleSidebar:(p,b)=>{Ma.getPart(p,o,"sidebar").each(y=>((_,E)=>{_n.getCurrent(_).each(w=>{_n.getCurrent(w).each(A=>{$l.hasGrown(w)?sl.isShowing(A,E)?($l.shrink(w),Vk(_.element,"presentation")):(sl.hideAllSlots(A),sl.showSlot(A,E),Vk(_.element,"region")):(sl.hideAllSlots(A),sl.showSlot(A,E),$l.grow(w),Vk(_.element,"region"))})})})(y,b))},whichSidebar:p=>Ma.getPart(p,o,"sidebar").bind(a8).getOrNull(),getHeader:p=>Ma.getPart(p,o,"header"),getToolbar:p=>Ma.getPart(p,o,"toolbar"),setToolbar:(p,b)=>{Ma.getPart(p,o,"toolbar").each(y=>{const _=Se(b,Wk);y.getApis().setGroups(y,_)})},setToolbars:(p,b)=>{Ma.getPart(p,o,"multiple-toolbar").each(y=>{const _=Se(b,E=>Se(E,Wk));wO.setItems(y,_)})},refreshToolbar:p=>{Ma.getPart(p,o,"toolbar").each(b=>b.getApis().refresh(b))},toggleToolbarDrawer:p=>{Ma.getPart(p,o,"toolbar").each(b=>{qa(b.getApis().toggle,y=>y(b))})},toggleToolbarDrawerWithoutFocusing:p=>{Ma.getPart(p,o,"toolbar").each(b=>{qa(b.getApis().toggleWithoutFocusing,y=>y(b))})},isToolbarDrawerToggled:p=>Ma.getPart(p,o,"toolbar").bind(b=>O.from(b.getApis().isOpen).map(y=>y(b))).getOr(!1),getThrobber:p=>Ma.getPart(p,o,"throbber"),focusToolbar:p=>{Ma.getPart(p,o,"toolbar").orThunk(()=>Ma.getPart(p,o,"multiple-toolbar")).each(b=>{Gt.focusIn(b)})},setMenubar:(p,b)=>{Ma.getPart(p,o,"menubar").each(y=>{$k.setMenus(y,b)})},focusMenubar:p=>{Ma.getPart(p,o,"menubar").each(b=>{$k.focus(b)})},setViews:(p,b)=>{Ma.getPart(p,o,"viewWrapper").each(y=>{qk.setViews(y,b)})},toggleView:(p,b)=>Ma.getPart(p,o,"viewWrapper").exists(y=>qk.toggleView(y,()=>f.showMainView(p),()=>f.hideMainView(p),b)),whichView:p=>Ma.getPart(p,o,"viewWrapper").bind(qk.whichView).getOrNull(),hideMainView:p=>{l=f.isToolbarDrawerToggled(p),l&&f.toggleToolbarDrawer(p),Ma.getPart(p,o,"editorContainer").each(b=>{const y=b.element;d(y),Zt(y,"display","none"),io(y,"aria-hidden","true")})},showMainView:p=>{l&&f.toggleToolbarDrawer(p),Ma.getPart(p,o,"editorContainer").each(b=>{const y=b.element;d(y),ln(y,"display"),$r(y,"aria-hidden")})}};return{uid:o.uid,dom:o.dom,components:s,apis:f,behaviours:o.behaviours}},configFields:[Ge("dom"),Ge("behaviours")],partFields:[QO,w8,C8,JO,E8,z8,S8,eA,T8,O8],apis:{getSocket:(o,s)=>o.getSocket(s),setSidebar:(o,s,a,l)=>{o.setSidebar(s,a,l)},toggleSidebar:(o,s,a)=>{o.toggleSidebar(s,a)},whichSidebar:(o,s)=>o.whichSidebar(s),getHeader:(o,s)=>o.getHeader(s),getToolbar:(o,s)=>o.getToolbar(s),setToolbar:(o,s,a)=>{o.setToolbar(s,a)},setToolbars:(o,s,a)=>{o.setToolbars(s,a)},refreshToolbar:(o,s)=>o.refreshToolbar(s),toggleToolbarDrawer:(o,s)=>{o.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(o,s)=>{o.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(o,s)=>o.isToolbarDrawerToggled(s),getThrobber:(o,s)=>o.getThrobber(s),setMenubar:(o,s,a)=>{o.setMenubar(s,a)},focusMenubar:(o,s)=>{o.focusMenubar(s)},focusToolbar:(o,s)=>{o.focusToolbar(s)},setViews:(o,s,a)=>{o.setViews(s,a)},toggleView:(o,s,a)=>o.toggleView(s,a),whichView:(o,s)=>o.whichView(s)}});const tA={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Gk=o=>o.split(" "),oA=(o,s)=>{const a={...tA,...s.menus},l=qo(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?Gk("file edit view insert format tools table help"):Gk(s.menubar===!1?"":s.menubar),f=So(d,b=>{const y=_o(tA,b);return l?y||dt(s.menus,b).exists(_=>_o(_,"items")):y}),p=Se(f,b=>{const y=a[b];return((_,E,w)=>{const A=GE(w).split(/[ ,]/);return{text:_.title,getItems:()=>Xo(_.items,P=>{const I=P.toLowerCase();return I.trim().length===0||fn(A,Y=>Y===I)?[]:I==="separator"||I==="|"?[{type:"separator"}]:E.menuItems[I]?[E.menuItems[I]]:[]})}})({title:y.title,items:Gk(y.items)},s,o)});return So(p,b=>b.getItems().length>0&&fn(b.getItems(),y=>Dt(y)||y.type!=="separator"))},d4=(o,s,a)=>(o.on("remove",()=>a.unload(s)),a.load(s)),Kk=(o,s,a,l)=>(o.on("remove",()=>l.unloadRawCss(s)),l.loadRawCss(s,a)),nA=o=>O.from(tinymce.Resource.get(o)).filter(Dt),u4=(o,s,a="")=>{const l=(f=>{const p=tz(f);return p?O.from(p):O.none()})(o).map(f=>((p,b)=>"ui/"+p+"/"+b)(f,`${s}.css`)),d=l.bind(nA);return nt(l,d,(f,p)=>({_kind:"load-raw",key:f,css:p})).getOrThunk(()=>{const f=o.editorManager.suffix;return{_kind:"load-stylesheet",url:a+`/${s}${f}.css`}})},A8=(o,s)=>{const a=o.ui.styleSheetLoader,l=u4(o,"skin",s);switch(l._kind){case"load-raw":const{key:d,css:f}=l;return Kk(o,d,f,a),Promise.resolve();case"load-stylesheet":const{url:p}=l;return d4(o,p,a);default:return Promise.resolve()}},N8=(o,s)=>{var a;if(a=_t(o.getElement()),!yi(a).isSome())return Promise.resolve();{const l=E0.DOM.styleSheetLoader,d=u4(o,"skin.shadowdom",s);switch(d._kind){case"load-raw":const{key:f,css:p}=d;return Kk(o,f,p,l),Promise.resolve();case"load-stylesheet":const{url:b}=d;return d4(o,b,l);default:return Promise.resolve()}}},rA=(o,s)=>(async(a,l)=>{const d=Oh(l);if(await((f,p,b)=>{const y=u4(f,p?"content.inline":"content",b);switch(y._kind){case"load-raw":const{key:_,css:E}=y;return p?Kk(f,_,E,f.ui.styleSheetLoader):f.on("PostRender",()=>{Kk(f,_,E,f.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:w}=y;return b&&f.contentCSS.push(w),Promise.resolve();default:return Promise.resolve()}})(l,a,d),!__(l)&&Dt(d))return Promise.all([A8(l,d),N8(l,d)]).then()})(o,s).then((a=>{const l=()=>{a._skinLoaded=!0,(d=>{d.dispatch("SkinLoaded")})(a)};return()=>{a.initialized?l():a.on("init",l)}})(s),(a=>()=>((l,d)=>{l.dispatch("SkinLoadError",d)})(a,{message:"Skin could not be loaded"}))(s)),R8=ht(rA,!1),D8=ht(rA,!0),M8=ue([Ge("toggleClass"),Ge("fetch"),rf("onExecute"),Ee("getHotspot",O.some),Ee("getAnchorOverrides",ue({})),wa(),rf("onItemExecute"),tn("lazySink"),Ge("dom"),Bo("onOpen"),ke("splitDropdownBehaviours",[Ps,Gt,go]),Ee("matchWidth",!1),Ee("useMinWidth",!1),Ee("eventOrder",{}),tn("role"),tn("listRole")].concat(ax())),B8=ol({factory:Za,schema:[Ge("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ye([go.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(Zi)},buttonBehaviours:ye([jo.config({toggleOnExecute:!1,toggleClass:o.toggleClass})])})}),P8=ol({factory:Za,schema:[Ge("dom")],name:"button",defaults:()=>({buttonBehaviours:ye([go.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(o.uid).each(a=>{o.onExecute(a,s)})}})}),L8=ue([B8,P8,Kd({factory:{sketch:o=>({uid:o.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:o.text}})},schema:[Ge("text")],name:"aria-descriptor"}),Su({schema:[th()],name:"menu",defaults:o=>({onExecute:(s,a)=>{s.getSystem().getByUid(o.uid).each(l=>{o.onItemExecute(l,s,a)})}})}),AC()]),Yk=_l({name:"SplitDropdown",configFields:M8(),partFields:L8(),factory:(o,s,a,l)=>{const d=_=>{_n.getCurrent(_).each(E=>{Vn.highlightFirst(E),Gt.focusIn(E)})},f=_=>{Hy(o,Et,_,l,d,ss.HighlightMenuAndItem).get(qe)},p=_=>{const E=yg(_,o,"button");return Zi(E),O.some(!0)},b={...ur([Xn((_,E)=>{Pr(_,o,"aria-descriptor").each(w=>{const A=wt("aria");io(w.element,"id",A),io(_.element,"aria-describedby",A)})})]),...l_(O.some(f))},y={repositionMenus:_=>{jo.isOn(_)&&sx(_)}};return{uid:o.uid,dom:o.dom,components:s,apis:y,eventOrder:{...o.eventOrder,[Qs()]:["disabling","toggling","alloy.base.behaviour"]},events:b,behaviours:Fe(o.splitDropdownBehaviours,[Ps.config({others:{sandbox:_=>{const E=yg(_,o,"arrow");return DC(o,_,{onOpen:()=>{jo.on(E),jo.on(_)},onClose:()=>{jo.off(E),jo.off(_)}})}}}),Gt.config({mode:"special",onSpace:p,onEnter:p,onDown:_=>(f(_),O.some(!0))}),go.config({}),jo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:o.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(o,s)=>o.repositionMenus(s)}}),sA=o=>({isEnabled:()=>!Wt.isDisabled(o),setEnabled:s=>Wt.set(o,!s),setText:s=>Vt(o,kd,{text:s}),setIcon:s=>Vt(o,eb,{icon:s})}),I8=o=>({setActive:s=>{jo.set(o,s)},isActive:()=>jo.isOn(o),isEnabled:()=>!Wt.isDisabled(o),setEnabled:s=>Wt.set(o,!s),setText:s=>Vt(o,kd,{text:s}),setIcon:s=>Vt(o,eb,{icon:s})}),f4=(o,s)=>o.map(a=>({"aria-label":s.translate(a)})).getOr({}),aA=wt("focus-button"),m4=(o,s,a,l,d,f,p)=>{const b=s.map(_=>Bn(Gy(_,"tox-tbtn",d))),y=o.map(_=>Bn(Dp(_,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...f4(a,d),...$t(p)?{"data-mce-name":p}:{}}},components:$h([y.map(_=>_.asSpec()),b.map(_=>_.asSpec())]),eventOrder:{[Na()]:["focusing","alloy.base.behaviour",Rp],[it()]:[Rp,"toolbar-group-button-events"],[ad()]:[Rp,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:ye([$_(()=>d.checkUiComponentContext(f).shouldDisable),Yr(()=>d.checkUiComponentContext(f)),ko(Rp,[Xn((_,E)=>yS(_)),je(kd,(_,E)=>{b.bind(w=>w.getOpt(_)).each(w=>{bo.set(w,[zr(d.translate(E.event.text))])})}),je(eb,(_,E)=>{y.bind(w=>w.getOpt(_)).each(w=>{bo.set(w,[Dp(E.event.icon,d.icons)])})}),je(Na(),(_,E)=>{E.event.prevent(),Vo(_,aA)})])].concat(l.getOr([])))}},iA=(o,s,a,l)=>{var d;const f=Mt(qe),p=m4(o.icon,o.text,o.tooltip,O.none(),a,o.context,l);return Za.sketch({dom:p.dom,components:p.components,eventOrder:A5,buttonBehaviours:{...ye([ko("toolbar-button-events",[(b={onAction:o.onAction,getApi:s.getApi},Zd((y,_)=>{W0(b,y)(E=>{Vt(y,bS,{buttonApi:E}),b.onAction(E)})})),Nu(s,f),vp(s,f)]),...o.tooltip.map(y=>Kr.config(a.tooltips.getConfig({tooltipText:a.translate(y)+o.shortcut.map(_=>` (${U_(_)})`).getOr("")}))).toArray(),$_(()=>!o.enabled||a.checkUiComponentContext(o.context).shouldDisable),Yr(()=>a.checkUiComponentContext(o.context))].concat(s.toolbarButtonBehaviours)),[Rp]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[Rp]}});var b},p4=(o,s,a,l)=>iA(o,{toolbarButtonBehaviours:a.length>0?[ko("toolbarButtonWith",a)]:[],getApi:sA,onSetup:o.onSetup},s,l),lA=(o,s,a,l)=>iA(o,{toolbarButtonBehaviours:[bo.config({}),jo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[ko("toolbarToggleButtonWith",a)]:[]),getApi:I8,onSetup:o.onSetup},s,l),g4=(o,s,a)=>l=>Eg(d=>s.fetch(d)).map(d=>O.from(BC(Cr(X_(wt("menu-value"),d,f=>{s.onItemAction(o(l),f)},s.columns,s.presets,Ou.CLOSE_ON_EXECUTE,s.select.getOr(Ie),a),{movement:nx(s.columns,s.presets),menuBehaviours:j0(s.columns!=="auto"?[]:[Xn((f,p)=>{aC(f,4,Ph(s.presets)).each(({numRows:b,numColumns:y})=>{Gt.setGridSize(f,b,y)})})])})))),cA=o=>{Gn.getContent(o).each(s=>{$n(s.element,".tox-toolbar-slider__input,.tox-toolbar-textfield").fold(()=>Gt.focusIn(s),Da)})},dA=wt("forward-slide"),Xk=wt("backward-slide"),Jk=wt("change-slide-event"),Qk="tox-pop--resizing",r1=(o,s,a)=>El(a)?o.translate(s):o.translate([s,o.translate(a)]),F8=(o,s)=>{const a=(f,p,b,y)=>{const _=o.shared.providers.translate(f.title);if(f.type==="separator")return O.some({type:"separator",text:_});if(f.type==="submenu"){const E=Xo(f.getStyleItems(),w=>l(w,p,y));return p===0&&E.length<=0?O.none():O.some({type:"nestedmenuitem",text:_,enabled:E.length>0,getSubmenuItems:()=>Xo(f.getStyleItems(),w=>l(w,p,y))})}return O.some({type:"togglemenuitem",text:_,icon:f.icon,active:f.isSelected(y),enabled:!b,onAction:s.onAction(f),...f.getStylePreview().fold(()=>({}),E=>({meta:{style:E}}))})},l=(f,p,b)=>{const y=f.type==="formatter"&&s.isInvalid(f);return p===0?y?[]:a(f,p,!1,b).toArray():a(f,p,y,b).toArray()},d=f=>{const p=s.getCurrentValue(),b=s.shouldHide?0:1;return Xo(f,y=>l(y,b,p))};return{validateItems:d,getFetch:(f,p)=>(b,y)=>{const _=p(),E=d(_);y(Ky(E,Ou.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:O.none()}))}}},sb=(o,s)=>{const a=s.dataset,l=a.type==="basic"?()=>Se(a.data,d=>uO(d,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:F8(o,s),getStyleItems:l}},Bx=(o,s,a,l,d,f)=>{const{items:p,getStyleItems:b}=sb(s,a),y=Mt(a.tooltip);return vS({context:"mode:design",text:a.icon.isSome()?O.none():a.text,icon:a.icon,ariaLabel:O.some(a.tooltip),tooltip:O.none(),role:O.none(),fetch:p.getFetch(s,b),onSetup:_=>{const E=w=>_.setTooltip(r1(o,l(w.value),w.value));return o.on(d,E),J0(Zh(o,"NodeChange",w=>{const A=w.getComponent();a.updateText(A),Wt.set(w.getComponent(),!o.selection.isEditable())})(_),()=>o.off(d,E))},getApi:_=>({getComponent:ue(_),setTooltip:E=>{const w=s.shared.providers.translate(E);io(_.element,"aria-label",w),y.set(E)}}),columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Kr.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:_=>{if(a.tooltip!==y.get()){const E=s.shared.providers.translate(y.get());Kr.setComponents(_,s.shared.providers.tooltips.getComponents({tooltipText:E}))}}})})]},"tox-tbtn",s.shared,f)};var s1;(function(o){o[o.SemiColon=0]="SemiColon",o[o.Space=1]="Space"})(s1||(s1={}));const h4=(o,s,a)=>{const l=(d=((f,p)=>p===s1.SemiColon?f.replace(/;$/,"").split(";"):f.split(" "))(o.options.get(s),a),Se(d,f=>{let p=f,b=f;const y=f.split("=");return y.length>1&&(p=y[0],b=y[1]),{title:p,format:b}}));var d;return{type:"basic",data:l}},uA=ue("Alignment {0}"),fA="left",b4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Px=o=>{const s={type:"basic",data:b4};return{tooltip:r1(o,uA(),fA),text:O.none(),icon:O.some("align-left"),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:O.none,getPreviewFor:a=>O.none,onAction:a=>()=>H(b4,l=>l.format===a.format).each(l=>o.execCommand(l.command)),updateText:a=>{const l=H(b4,d=>o.formatter.match(d.format)).fold(ue(fA),d=>d.title.toLowerCase());Vt(a,eb,{icon:`align-${l}`}),((d,f)=>{d.dispatch("AlignTextUpdate",f)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},mA=(o,s)=>{const a=s(),l=Se(a,d=>d.format);return O.from(o.formatter.closest(l)).bind(d=>H(a,f=>f.format===d))},Lx=ue("Block {0}"),y4="Paragraph",pA=o=>{const s=h4(o,"block_formats",s1.SemiColon);return{tooltip:r1(o,Lx(),y4),text:O.some(y4),icon:O.none(),isSelectedFor:a=>()=>o.formatter.match(a),getCurrentValue:O.none,getPreviewFor:a=>()=>{const l=o.formatter.get(a);return l?O.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(a))}):O.none()},onAction:G_(o),updateText:a=>{const l=mA(o,()=>s.data).fold(ue(y4),d=>d.title);Vt(a,kd,{text:l}),((d,f)=>{d.dispatch("BlocksTextUpdate",f)})(o,{value:l})},dataset:s,shouldHide:!1,isInvalid:a=>!o.formatter.canApply(a.format)}},gA=ue("Font {0}"),x4="System Font",_P=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Ix=o=>{const s=o.split(/\s*,\s*/);return Se(s,a=>a.replace(/^['"]+|['"]+$/g,""))},ab=(o,s)=>s.length>0&&mi(s,a=>o.indexOf(a.toLowerCase())>-1),v4=o=>{const s=()=>{const l=_=>_?Ix(_)[0]:"",d=o.queryCommandValue("FontName"),f=a.data,p=d?d.toLowerCase():"",b=S2(o);return{matchOpt:H(f,_=>{const E=_.format;return E.toLowerCase()===p||l(E).toLowerCase()===l(p).toLowerCase()}).orThunk(()=>Ho(((_,E)=>{if(_.indexOf("-apple-system")===0||E.length>0){const w=Ix(_.toLowerCase());return ab(w,_P)||ab(w,E)}return!1})(p,b),{title:x4,format:p})),font:d}},a=h4(o,"font_family_formats",s1.SemiColon);return{tooltip:r1(o,gA(),x4),text:O.some(x4),icon:O.none(),isSelectedFor:l=>d=>d.exists(f=>f.format===l),getCurrentValue:()=>{const{matchOpt:l}=s();return l},getPreviewFor:l=>()=>O.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:d,font:f}=s(),p=d.fold(ue(f),b=>b.title);Vt(l,kd,{text:p}),((b,y)=>{b.dispatch("FontFamilyTextUpdate",y)})(o,{value:p})},dataset:a,shouldHide:!1,isInvalid:Ie}},hA={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},H8=(()=>{const o="[0-9]+",s="[eE][+-]?"+o,a=d=>`(?:${d})?`,l=["Infinity",o+"\\."+a(o)+a(s),"\\."+o+a(s),o+a(s)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),ew=(o,s)=>O.from(H8.exec(o)).bind(a=>{const l=Number(a[1]),d=a[2];return((f,p)=>fn(p,b=>fn(hA[b],y=>f===y)))(d,s)?O.some({value:l,unit:d}):O.none()}),bA={tab:ue(9),escape:ue(27),enter:ue(13),backspace:ue(8),delete:ue(46),left:ue(37),up:ue(38),right:ue(39),down:ue(40),space:ue(32),home:ue(36),end:ue(35),pageUp:ue(33),pageDown:ue(34)},yA=ue("Font size {0}"),xA="12pt",$8={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},V8={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},U8=(o,s)=>/[0-9.]+px$/.test(o)?((a,l)=>{const d=Math.pow(10,l);return Math.round(a*d)/d})(72*parseInt(o,10)/96,s||0)+"pt":dt(V8,o).getOr(o),j8=o=>dt($8,o).getOr(""),vA=o=>{const s=()=>{let d=O.none();const f=l.data,p=o.queryCommandValue("FontSize");if(p)for(let b=3;d.isNone()&&b>=0;b--){const y=U8(p,b),_=j8(y);d=H(f,E=>E.format===p||E.format===y||E.format===_)}return{matchOpt:d,size:p}},a=ue(O.none),l=h4(o,"font_size_formats",s1.Space);return{tooltip:r1(o,yA(),xA),text:O.some(xA),icon:O.none(),isSelectedFor:d=>f=>f.exists(p=>p.format===d),getPreviewFor:a,getCurrentValue:()=>{const{matchOpt:d}=s();return d},onAction:d=>()=>{o.undoManager.transact(()=>{o.focus(),o.execCommand("FontSize",!1,d.format)})},updateText:d=>{const{matchOpt:f,size:p}=s(),b=f.fold(ue(p),y=>y.title);Vt(d,kd,{text:b}),((y,_)=>{y.dispatch("FontSizeTextUpdate",_)})(o,{value:b})},dataset:l,shouldHide:!1,isInvalid:Ie}},_A=o=>El(o)?"Formats":"Format {0}",_4=(o,s)=>{const a="Formats";return{tooltip:r1(o,_A(""),""),text:O.some(a),icon:O.none(),isSelectedFor:l=>()=>o.formatter.match(l),getCurrentValue:O.none,getPreviewFor:l=>()=>{const d=o.formatter.get(l);return d!==void 0?O.some({tag:d.length>0&&(d[0].inline||d[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(l))}):O.none()},onAction:G_(o),updateText:l=>{const d=b=>cO(b)?Xo(b.items,d):jS(b)?[{title:b.title,format:b.format}]:[],f=Xo(dO(o),d),p=mA(o,ue(f)).fold(ue({title:a,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));Vt(l,kd,{text:p.title}),((b,y)=>{b.dispatch("StylesTextUpdate",y)})(o,{value:p.tooltipLabel})},shouldHide:WE(o),isInvalid:l=>!o.formatter.canApply(l.format),dataset:s}},a1=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Cf=(o,s)=>(a,l,d,f)=>{const p=o(a).mapError(b=>ni(b)).getOrDie();return s(p,l,d,f)},Z8={button:Cf(nC,(o,s,a,l)=>((d,f,p)=>p4(d,f,[],p))(o,s.shared.providers,l)),togglebutton:Cf(Iz,(o,s,a,l)=>((d,f,p)=>lA(d,f,[],p))(o,s.shared.providers,l)),menubutton:Cf(Hk,(o,s,a,l)=>Yy(o,"tox-tbtn",s,O.none(),!1,l)),splitbutton:Cf(o=>er("SplitButton",RO,o),(o,s,a,l)=>((d,f,p)=>{const b=Mt(d.tooltip.getOr("")),y=w=>({isEnabled:()=>!Wt.isDisabled(w),setEnabled:A=>Wt.set(w,!A),setIconFill:(A,P)=>{$n(w.element,`svg path[class="${A}"], rect[class="${A}"]`).each(I=>{io(I,"fill",P)})},setActive:A=>{io(w.element,"aria-pressed",A),$n(w.element,"span").each(P=>{w.getSystem().getByDom(P).each(I=>jo.set(I,A))})},isActive:()=>$n(w.element,"span").exists(A=>w.getSystem().getByDom(A).exists(jo.isOn)),setText:A=>$n(w.element,"span").each(P=>w.getSystem().getByDom(P).each(I=>Vt(I,kd,{text:A}))),setIcon:A=>$n(w.element,"span").each(P=>w.getSystem().getByDom(P).each(I=>Vt(I,eb,{icon:A}))),setTooltip:A=>{const P=f.providers.translate(A);io(w.element,"aria-label",P),b.set(A)}}),_=Mt(qe),E={getApi:y,onSetup:d.onSetup};return Yk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...f4(d.tooltip,f.providers),...$t(p)?{"data-mce-name":p}:{}}},onExecute:w=>{const A=y(w);A.isEnabled()&&d.onAction(A)},onItemExecute:(w,A,P)=>{},splitDropdownBehaviours:ye([ko("split-dropdown-events",[Xn((w,A)=>yS(w)),je(aA,go.focus),Nu(E,_),vp(E,_)]),iC(()=>f.providers.isDisabled()||f.providers.checkUiComponentContext(d.context).shouldDisable),Yr(()=>f.providers.checkUiComponentContext(d.context)),Yh.config({}),...d.tooltip.map(w=>Kr.config({...f.providers.tooltips.getConfig({tooltipText:f.providers.translate(w),onShow:A=>{if(b.get()!==w){const P=f.providers.translate(b.get());Kr.setComponents(A,f.providers.tooltips.getComponents({tooltipText:P}))}}})})).toArray()]),eventOrder:{[it()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[ad()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:f.getSink,fetch:g4(y,d,f.providers),parts:{menu:im(0,d.columns,d.presets)},components:[Yk.parts.button(m4(d.icon,d.text,O.none(),O.some([jo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),$_(Ie),Yr(ue({contextType:"any",shouldDisable:!1}))]),f.providers,d.context)),Yk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:kz("chevron-down",f.providers.icons)},buttonBehaviours:ye([iC(Ie),Yr(ue({contextType:"any",shouldDisable:!1}))])}),Yk.parts["aria-descriptor"]({text:f.providers.translate("To open the popup, press Shift+Enter")})]})})(o,s.shared,l)),grouptoolbarbutton:Cf(o=>er("GroupToolbarButton",Q7,o),(o,s,a,l)=>{const d=a.ui.registry.getAll().buttons,f={[qs]:s.shared.header.isPositionedAtTop()?df.TopToBottom:df.BottomToTop};if(kl(a)===nl.floating)return((p,b,y,_,E)=>{const w=b.shared,A=Mt(qe),P={toolbarButtonBehaviours:[],getApi:sA,onSetup:p.onSetup},I=[ko("toolbar-group-button-events",[Nu(P,A),vp(P,A)]),...p.tooltip.map(Y=>Kr.config(b.shared.providers.tooltips.getConfig({tooltipText:b.shared.providers.translate(Y)}))).toArray()];return Rg.sketch({lazySink:w.getSink,fetch:()=>Eg(Y=>{Y(Se(y(p.items),Wk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:m4(p.icon,p.text,p.tooltip,O.some(I),w.providers,p.context,E),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:_}}}})})(o,s,p=>Fx(a,{buttons:d,toolbar:p,allowToolbarGroups:!1},s,O.none()),f,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},k4={styles:(o,s)=>{const a={type:"advanced",...s.styles};return Bx(o,s,_4(o,a),_A,"StylesTextUpdate","styles")},fontsize:(o,s)=>Bx(o,s,vA(o),yA,"FontSizeTextUpdate","fontsize"),fontsizeinput:(o,s)=>((a,l,d,f)=>{let p=O.none();const b=Zh(a,"NodeChange SwitchMode DisabledStateChange",te=>{const oe=te.getComponent();p=O.some(oe),d.updateInputValue(oe),Wt.set(oe,!a.selection.isEditable()||u_(a))}),y=te=>({getComponent:ue(te)}),_=Mt(qe),E=wt("custom-number-input-events"),w=(te,oe,ce)=>{const he=p.map(Ye=>se.getValue(Ye)).getOr(""),we=d.getNewValue(he,te),Ae=he.length-`${we}`.length,Ue=p.map(Ye=>Ye.element.dom.selectionStart-Ae),Ve=p.map(Ye=>Ye.element.dom.selectionEnd-Ae);d.onAction(we,ce),p.each(Ye=>{se.setValue(Ye,we),oe&&(Ue.each(ft=>Ye.element.dom.selectionStart=ft),Ve.each(ft=>Ye.element.dom.selectionEnd=ft))})},A=(te,oe)=>w((ce,he)=>ce-he,te,oe),P=(te,oe)=>w((ce,he)=>ce+he,te,oe),I=te=>hi(te.element).fold(O.none,oe=>(Da(oe),O.some(!0))),Y=te=>dd(te.element)?(Fi(te.element).each(oe=>Da(oe)),O.some(!0)):O.none(),G=(te,oe,ce,he)=>{const we=Mt(qe),Ae=l.shared.providers.translate(ce),Ue=wt("altExecuting"),Ve=Zh(a,"NodeChange SwitchMode DisabledStateChange",ft=>{Wt.set(ft.getComponent(),!a.selection.isEditable()||u_(a))}),Ye=ft=>{Wt.isDisabled(ft)||te(!0)};return Za.sketch({dom:{tag:"button",attributes:{"aria-label":Ae,"data-mce-name":oe},classes:he.concat(oe)},components:[xS(oe,l.shared.providers.icons)],buttonBehaviours:ye([Wt.config({}),Kr.config(l.shared.providers.tooltips.getConfig({tooltipText:Ae})),ko(Ue,[Nu({onSetup:Ve,getApi:y},we),vp({getApi:y},we),je(qr(),(ft,Ut)=>{Ut.event.raw.keyCode!==bA.space()&&Ut.event.raw.keyCode!==bA.enter()||Wt.isDisabled(ft)||te(!1)}),je(zc(),Ye),je(ji(),Ye)])]),eventOrder:{[qr()]:[Ue,"keying"],[zc()]:[Ue,"alloy.base.behaviour"],[ji()]:[Ue,"alloy.base.behaviour"],[it()]:["alloy.base.behaviour",Ue,"tooltipping"],[ad()]:[Ue,"tooltipping"]}})},J=Bn(G(te=>A(!1,te),"minus","Decrease font size",[])),j=Bn(G(te=>P(!1,te),"plus","Increase font size",[])),Z=Bn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[hp.sketch({inputBehaviours:ye([Wt.config({}),ko(E,[Nu({onSetup:b,getApi:y},_),vp({getApi:y},_)]),ko("input-update-display-text",[je(kd,(te,oe)=>{se.setValue(te,oe.event.text)}),je(Kp(),te=>{d.onAction(se.getValue(te))}),je(Ec(),te=>{d.onAction(se.getValue(te))})]),Gt.config({mode:"special",onEnter:te=>(w(Et,!0,!0),O.some(!0)),onEscape:I,onUp:te=>(P(!0,!1),O.some(!0)),onDown:te=>(A(!0,!1),O.some(!0)),onLeft:(te,oe)=>(oe.cut(),O.none()),onRight:(te,oe)=>(oe.cut(),O.none())})])})],behaviours:ye([go.config({}),Gt.config({mode:"special",onEnter:Y,onSpace:Y,onEscape:I}),ko("input-wrapper-events",[je(zi(),te=>{tt([J,j],oe=>{const ce=_t(oe.get(te).element.dom);dd(ce)&&ig(ce)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...$t(f)?{"data-mce-name":f}:{}}},components:[J.asSpec(),Z.asSpec(),j.asSpec()],behaviours:ye([go.config({}),Gt.config({mode:"flow",focusInside:xg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:te=>dd(te.element)?O.none():(Da(te.element),O.some(!0))})])}})(o,s,(a=>{const l=()=>a.queryCommandValue("FontSize");return{updateInputValue:d=>Vt(d,kd,{text:l()}),onAction:(d,f)=>a.execCommand("FontSize",!1,d,{skip_focus:!f}),getNewValue:(d,f)=>{ew(d,["unsupportedLength","empty"]);const p=l(),b=ew(d,["unsupportedLength","empty"]).or(ew(p,["unsupportedLength","empty"])),y=b.map(P=>P.value).getOr(16),_=Th(a),E=b.map(P=>P.unit).filter(P=>P!=="").getOr(_),w=f(y,(P=>{var I;return(I={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[P])!==null&&I!==void 0?I:{step:1}})(E).step),A=`${(P=>P>=0)(w)?w:y}${E}`;return A!==p&&((P,I)=>{P.dispatch("FontSizeInputTextUpdate",I)})(a,{value:A}),A}}})(o),"fontsizeinput"),fontfamily:(o,s)=>Bx(o,s,v4(o),gA,"FontFamilyTextUpdate","fontfamily"),blocks:(o,s)=>Bx(o,s,pA(o),Lx,"BlocksTextUpdate","blocks"),align:(o,s)=>Bx(o,s,Px(o),uA,"AlignTextUpdate","align"),navigateback:(o,s)=>{const a=aa(nC({type:"button",icon:"chevron-left",tooltip:"Back",onAction:qe}));return p4(a,s.shared.providers,[je(bS,l=>{Vo(l,Xk)})])}},Fx=(o,s,a,l)=>{const d=(p=>{const b=p.toolbar,y=p.buttons;return b===!1?[]:b===void 0||b===!0?(_=>{const E=Se(a1,w=>{const A=So(w.items,P=>_o(_,P)||_o(k4,P));return{name:w.name,items:A}});return So(E,w=>w.items.length>0)})(y):Dt(b)?(_=>{const E=_.split("|");return Se(E,w=>({items:w.trim().split(" ")}))})(b):(_=>Lo(_,E=>(_o(E,"name")||_o(E,"label"))&&_o(E,"items")))(b)?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(s),f=Se(d,p=>{const b=Xo(p.items,y=>y.trim().length===0?[]:((_,E,w,A,P,I)=>dt(E,w.toLowerCase()).orThunk(()=>I.bind(Y=>fo(Y,G=>dt(E,G+w.toLowerCase())))).fold(()=>dt(k4,w.toLowerCase()).map(Y=>Y(_,P)),Y=>Y.type!=="grouptoolbarbutton"||A?((G,J,j,Z)=>dt(Z8,G.type).fold(()=>(console.error("skipping button defined by",G),O.none()),te=>O.some(te(G,J,j,Z))))(Y,P,_,w.toLowerCase()):(console.warn(`Ignoring the '${w}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),O.none())))(o,s.buttons,y,s.allowToolbarGroups,a,l).toArray());return{title:O.from(o.translate(p.name)),label:Ho(p.label!==void 0,o.translate(p.label)),items:b}});return So(f,p=>p.items.length>0)},Hx=(o,s,a,l)=>{const d=s.mainUi.outerContainer,f=a.toolbar,p=a.buttons;if(Lo(f,Dt)){const b=f.map(y=>{const _={toolbar:y,buttons:p,allowToolbarGroups:a.allowToolbarGroups};return Fx(o,_,l,O.none())});Fr.setToolbars(d,b)}else Fr.setToolbar(d,Fx(o,a,l,O.none()))},kA=Ys(),$x=kA.os.isiOS()&&kA.os.version.major<=12;var Vx=Object.freeze({__proto__:null,render:(o,s,a,l,d)=>{const{mainUi:f,uiMotherships:p}=s,b=Mt(0),y=f.outerContainer;R8(o);const _=_t(d.targetNode),E=hr(is(_));gd(_,f.mothership),((I,Y,G)=>{nm(I)&&gd(G.mainUi.mothership.element,G.popupUi.mothership),Mc(Y,G.dialogUi.mothership)})(o,E,s),o.on("PostRender",()=>{Fr.setSidebar(y,a.sidebar,vy(o))}),o.on("SkinLoaded",()=>{Hx(o,s,a,l),b.set(o.getWin().innerWidth),Fr.setMenubar(y,oA(o,a)),Fr.setViews(y,a.views),((I,Y)=>{const{uiMotherships:G}=Y,J=I.dom;let j=I.getWin();const Z=I.getDoc().documentElement,te=Mt(Dn(j.innerWidth,j.innerHeight)),oe=Mt(Dn(Z.offsetWidth,Z.offsetHeight)),ce=()=>{const Ue=te.get();Ue.left===j.innerWidth&&Ue.top===j.innerHeight||(te.set(Dn(j.innerWidth,j.innerHeight)),Ly(I))},he=()=>{const Ue=I.getDoc().documentElement,Ve=oe.get();Ve.left===Ue.offsetWidth&&Ve.top===Ue.offsetHeight||(oe.set(Dn(Ue.offsetWidth,Ue.offsetHeight)),Ly(I))},we=Ue=>{((Ve,Ye)=>{Ve.dispatch("ScrollContent",Ye)})(I,Ue)};J.bind(j,"resize",ce),J.bind(j,"scroll",we);const Ae=Wb(_t(I.getBody()),"load",he);I.on("hide",()=>{tt(G,Ue=>{Zt(Ue.element,"display","none")})}),I.on("show",()=>{tt(G,Ue=>{ln(Ue.element,"display")})}),I.on("NodeChange",he),I.on("remove",()=>{Ae.unbind(),J.unbind(j,"resize",ce),J.unbind(j,"scroll",we),j=null})})(o,s)});const w=Fr.getSocket(y).getOrDie("Could not find expected socket element");if($x){Qa(w.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const I=(G=>{let J=null;return{cancel:()=>{lo(J)||(clearTimeout(J),J=null)},throttle:(...j)=>{lo(J)&&(J=setTimeout(()=>{J=null,G.apply(null,j)},20))}}})(()=>{o.dispatch("ScrollContent")}),Y=Wi(w.element,"scroll",I.throttle);o.on("remove",Y.unbind)}lC(o,s),o.addCommand("ToggleSidebar",(I,Y)=>{Fr.toggleSidebar(y,Y),(G=>{G.dispatch("ToggleSidebar")})(o)}),o.addQueryValueHandler("ToggleSidebar",()=>{var I;return(I=Fr.whichSidebar(y))!==null&&I!==void 0?I:""}),o.addCommand("ToggleView",(I,Y)=>{if(Fr.toggleView(y,Y)){const G=y.element;f.mothership.broadcastOn([wu()],{target:G}),tt(p,J=>{J.broadcastOn([wu()],{target:G})}),lo(Fr.whichView(y))&&(o.focus(),o.nodeChanged(),Fr.refreshToolbar(y)),(J=>{J.dispatch("ToggleView")})(o)}}),o.addQueryValueHandler("ToggleView",()=>{var I;return(I=Fr.whichView(y))!==null&&I!==void 0?I:""});const A=kl(o);A!==nl.sliding&&A!==nl.floating||o.on("ResizeWindow ResizeEditor ResizeContent",()=>{const I=o.getWin().innerWidth;I!==b.get()&&(Fr.refreshToolbar(s.mainUi.outerContainer),b.set(I))});const P={setEnabled:I=>{My(s,I?"setEnabled":"setDisabled")},isEnabled:()=>!Wt.isDisabled(y)};return{iframeContainer:w.element.dom,editorContainer:y.element.dom,api:P}}});const w4=o=>Go(o)?o+"px":o,tw=(o,s,a)=>{const l=s.filter(f=>o<f),d=a.filter(f=>o>f);return l.or(d).getOr(o)},wA=o=>{const s=f_(o),a=m_(o),l=T0(o);return(d=s,/^[0-9\.]+(|px)$/i.test(""+d)?O.some(parseInt(""+d,10)):O.none()).map(f=>tw(f,a,l));var d},{ToolbarLocation:C4,ToolbarMode:CA}=YR,W8=(o,s,a,l,d)=>{const{mainUi:f,uiMotherships:p}=a,b=E0.DOM,y=kg(o),_=pp(o),E=T0(o).or(wA(o)),w=l.shared.header,A=w.isPositionedAtTop,P=kl(o),I=P===CA.sliding||P===CA.floating,Y=Mt(!1),G=()=>Y.get()&&!o.removed,J=oe=>I?oe.fold(ue(0),ce=>ce.components().length>1?kr(ce.components()[1].element):0):0,j=()=>{tt(p,oe=>{oe.broadcastOn([pf()],{})})},Z=oe=>{if(!G())return;y||d.on(we=>{const Ae=E.getOrThunk(()=>On().width-Us(s).left-10);Zt(we.element,"max-width",Ae+"px")});const ce=ys(),he=!(y||y||!(Wr(f.outerContainer.element).left+_e(f.outerContainer.element)>=window.innerWidth-40||_r(f.outerContainer.element,"width").isSome())||(Zt(f.outerContainer.element,"position","absolute"),Zt(f.outerContainer.element,"left","0px"),ln(f.outerContainer.element,"width"),0));if(I&&Fr.refreshToolbar(f.outerContainer),!y){const we=ys(),Ae=Ho(ce.left!==we.left,ce);((Ue,Ve)=>{d.on(Ye=>{const ft=Fr.getToolbar(f.outerContainer),Ut=J(ft),Yt=As(s),ro=((Nn,cn)=>nm(Nn)?gn(cn):O.none())(o,f.outerContainer.element),Zo=ro.fold(()=>Yt.x,Nn=>{const cn=As(Nn);return yn(Nn,pa())?Yt.x:Yt.x-cn.x}),fr=Ho(Ue,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(Nn=>Nn>150).map(Nn=>{const cn=Ve.getOr(ys()),Xt=window.innerWidth-(Zo-cn.left),mr=Math.max(Math.min(Nn,Xt),150);return Xt<Nn&&Zt(f.outerContainer.element,"width",mr+"px"),{width:mr+"px"}}).getOr({width:"max-content"}),Xr={position:"absolute",left:Math.round(Zo)+"px",top:ro.fold(()=>A()?Math.max(Yt.y-kr(Ye.element)+Ut,0):Yt.bottom,Nn=>{var cn;const Xt=As(Nn),mr=(cn=Nn.dom.scrollTop)!==null&&cn!==void 0?cn:0,Un=yn(Nn,pa())?Math.max(Yt.y-kr(Ye.element)+Ut,0):Yt.y-Xt.y+mr-kr(Ye.element)+Ut;return A()?Un:Yt.bottom})+"px"};Qa(f.outerContainer.element,{...Xr,...fr})})})(he,Ae),Ae.each(Ue=>{sa(Ue.left,we.top)})}_&&d.on(oe),j()},te=()=>!(y||!_||!G())&&d.get().exists(oe=>{const ce=w.getDockingMode(),he=(Ae=>{switch(by(o)){case C4.auto:const Ue=Fr.getToolbar(f.outerContainer),Ve=J(Ue),Ye=kr(Ae.element)-Ve,ft=As(s);if(ft.y>Ye)return"top";{const Ut=Uu(s),Yt=Math.max(Ut.dom.scrollHeight,kr(Ut));return ft.bottom<Yt-Ye||ws().bottom<ft.bottom-Ye?"bottom":"top"}case C4.bottom:return"bottom";case C4.top:default:return"top"}})(oe);return he!==ce&&(we=he,d.on(Ae=>{Mn.setModes(Ae,[we]),w.setDockingMode(we);const Ue=A()?df.TopToBottom:df.BottomToTop;io(Ae.element,qs,Ue)}),!0);var we});return{isVisible:G,isPositionedAtTop:A,show:()=>{Y.set(!0),Zt(f.outerContainer.element,"display","flex"),b.addClass(o.getBody(),"mce-edit-focus"),tt(p,oe=>{ln(oe.element,"display")}),te(),nm(o)?Z(oe=>Mn.isDocked(oe)?Mn.reset(oe):Mn.refresh(oe)):Z(Mn.refresh)},hide:()=>{Y.set(!1),Zt(f.outerContainer.element,"display","none"),b.removeClass(o.getBody(),"mce-edit-focus"),tt(p,oe=>{Zt(oe.element,"display","none")})},update:Z,updateMode:()=>{te()&&Z(Mn.reset)},repositionPopups:j}},Ux=(o,s)=>{const a=As(o);return{pos:s?a.y:a.bottom,bounds:a}};var q8=Object.freeze({__proto__:null,render:(o,s,a,l,d)=>{const{mainUi:f}=s,p=dn(),b=_t(d.targetNode),y=W8(o,b,s,l,p),_=p_(o);D8(o);const E=()=>{if(p.isSet())return void y.show();p.set(Fr.getHeader(f.outerContainer).getOrDie());const A=wy(o);nm(o)?(gd(b,f.mothership),gd(b,s.popupUi.mothership)):Mc(A,f.mothership),Mc(A,s.dialogUi.mothership);const P=()=>{Hx(o,s,a,l),Fr.setMenubar(f.outerContainer,oA(o,a)),y.show(),((I,Y,G,J)=>{const j=Mt(Ux(Y,G.isPositionedAtTop())),Z=he=>{const{pos:we,bounds:Ae}=Ux(Y,G.isPositionedAtTop()),{pos:Ue,bounds:Ve}=j.get(),Ye=Ae.height!==Ve.height||Ae.width!==Ve.width;j.set({pos:we,bounds:Ae}),Ye&&Ly(I,he),G.isVisible()&&(Ue!==we?G.update(Mn.reset):Ye&&(G.updateMode(),G.repositionPopups()))};J||(I.on("activate",G.show),I.on("deactivate",G.hide)),I.on("SkinLoaded ResizeWindow",()=>G.update(Mn.reset)),I.on("NodeChange keydown",he=>{requestAnimationFrame(()=>Z(he))});let te=0;const oe=yk(()=>G.update(Mn.refresh),33);I.on("ScrollWindow",()=>{const he=ys().left;he!==te&&(te=he,oe.throttle()),G.updateMode()}),nm(I)&&I.on("ElementScroll",he=>{G.update(Mn.refresh)});const ce=Jc();ce.set(Wb(_t(I.getBody()),"load",he=>Z(he.raw))),I.on("remove",()=>{ce.clear()})})(o,b,y,_),o.nodeChanged()};_?o.once("SkinLoaded",P):P()};o.on("show",E),o.on("hide",y.hide),_||(o.on("focus",E),o.on("blur",y.hide)),o.on("init",()=>{(o.hasFocus()||_)&&E()}),lC(o,s);const w={show:E,hide:y.hide,setEnabled:A=>{My(s,A?"setEnabled":"setDisabled")},isEnabled:()=>!Wt.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:w}}}),ow=tinymce.util.Tools.resolve("tinymce.util.VK");const SA="contexttoolbar-hide",i1=(o,s,a)=>({setInputEnabled:l=>{!l&&a&&Da(a),Wt.set(o,!l)},isInputEnabled:()=>!Wt.isDisabled(o),hide:()=>{Vo(o,Ud())},back:()=>{Vo(o,Xk)},getValue:()=>s.get().getOrThunk(()=>se.getValue(o)),setValue:l=>{o.getSystem().isConnected()?se.setValue(o,l):s.set(l)}}),S4=(o,s,a)=>je(bS,(l,d)=>{const f=o.get(l),p=i1(f,a,l.element);s.onAction(p,d.event.buttonApi)}),E4=(o,s,a,l)=>{const d=Se(s,f=>Bn(((p,b,y,_)=>(E=>E.type==="contextformtogglebutton")(b)?((E,w,A,P)=>{const{primary:I,...Y}=w.original,G=aa(Iz({...Y,type:"togglebutton",onAction:qe}));return lA(G,A,[S4(E,w,P)])})(p,b,y,_):((E,w,A,P)=>{const{primary:I,...Y}=w.original,G=aa(nC({...Y,type:"button",onAction:qe}));return p4(G,A,[S4(E,w,P)])})(p,b,y,_))(o,f,a,l)));return{asSpecs:()=>Se(d,f=>f.asSpec()),findPrimary:f=>fo(s,(p,b)=>p.primary?O.from(d[b]).bind(y=>y.getOpt(f)).filter(gs(Wt.isDisabled)):O.none())}},EA=(o,s,a,l)=>{const{width:d,height:f}=o.initValue();let p=Ek;const b=wt("ratio-event"),y=he=>i1(he,l),_=he=>xd(he,{tag:"span",classes:["tox-icon","tox-lock-icon__"+he]},s.icons),E=()=>!1,w=o.label.getOr("Constrain proportions"),A=s.translate(w),P=Ls.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":A,"data-mce-name":w}},components:[_("lock"),_("unlock")],buttonBehaviours:ye([Wt.config({disabled:E}),xr.config({}),Kr.config(s.tooltips.getConfig({tooltipText:A}))])}),I=he=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:he}),Y=he=>Ia(he.element,"div.tox-focusable-wrapper").fold(O.none,we=>(Da(we),O.some(!0))),G=he=>nn.parts.field({factory:hp,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:he?d:f,inputBehaviours:ye([Wt.config({disabled:E}),xr.config({}),ko("size-input-toolbar-events",[je(pl(),(we,Ae)=>{Vt(we,b,{isField1:he})})]),Gt.config({mode:"special",onEnter:a,onEscape:Y})]),selectOnFocus:!1}),J=he=>({dom:{tag:"label",classes:["tox-label"]},components:[zr(s.translate(he))]}),j=he=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[he],behaviours:ye([xr.config({}),go.config({}),Gt.config({mode:"special",onEnter:we=>$n(we.element,"input").fold(O.none,Ae=>(Da(Ae),O.some(!0)))})])}),Z=j(Ls.parts.field1(I([nn.parts.label(J("Width:")),G(!0)]))),te=j(Ls.parts.field2(I([nn.parts.label(J("Height:")),G(!1)]))),oe=Mt(qe),ce=[Nu({onBeforeSetup:he=>$n(he.element,"input").each(Da),onSetup:o.onSetup,getApi:y},oe),V_({getApi:y},oe,l)];return Ls.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[Z,te,I([J(" "),P])],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(he,we,Ae)=>{Sk(se.getValue(he)).each(Ue=>{p(Ue).each(Ve=>{se.setValue(we,L5(Ve))})})},onInput:he=>Vo(he,PT),coupledFieldBehaviours:ye([go.config({}),Gt.config({mode:"flow",focusInside:xg.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),Wt.config({disabled:E,onDisabled:he=>{Ls.getField1(he).bind(nn.getField).each(Wt.disable),Ls.getField2(he).bind(nn.getField).each(Wt.disable),Ls.getLock(he).each(Wt.disable)},onEnabled:he=>{Ls.getField1(he).bind(nn.getField).each(Wt.enable),Ls.getField2(he).bind(nn.getField).each(Wt.enable),Ls.getLock(he).each(Wt.enable)}}),Yr(()=>s.checkUiComponentContext("mode:design")),ko("size-input-toolbar-events2",[je(b,(he,we)=>{const Ae=we.event.isField1,Ue=Ae?Ls.getField1(he):Ls.getField2(he),Ve=Ae?Ls.getField2(he):Ls.getField1(he),Ye=Ue.map(se.getValue).getOr(""),ft=Ve.map(se.getValue).getOr("");p=wS(Ye,ft)}),je(PT,he=>o.onInput(y(he))),...ce])])})},bm=(o,s,a)=>nn.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...o.toArray(),s],fieldBehaviours:ye([Wt.config({disabled:()=>a.checkUiComponentContext("mode:design").shouldDisable,onDisabled:l=>{(d=>{Ni(d.element).each(f=>{Ia(f,'[tabindex="-1"]').each(p=>{Da(p)})})})(l),nn.getField(l).each(Wt.disable)},onEnabled:l=>{nn.getField(l).each(Wt.enable)}})])}),ib=(o,s,a,l)=>{const d=Mt(qe),f=y=>i1(y,l),p=o.label.map(y=>nn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[zr(s.translate(y))]})),b=nn.parts.field({factory:hp,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(o.min()),max:String(o.max())},data:o.initValue().toString(),fromInputValue:y=>(_=>{const E=parseFloat(_);return isNaN(E)?O.none():O.some(E)})(y).getOr(o.min()),toInputValue:y=>String(y),inputBehaviours:ye([Wt.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Yr(()=>s.checkUiComponentContext("mode:design")),Gt.config({mode:"special",onEnter:a,onLeft:(y,_)=>(_.cut(),O.none()),onRight:(y,_)=>(_.cut(),O.none())}),ko("slider-events",[Nu({onSetup:o.onSetup,getApi:f,onBeforeSetup:Gt.focusIn},d),V_({getApi:f},d,l),je(os(),y=>{o.onInput(f(y))})])])});return bm(p,b,s)},G8=(o,s,a,l)=>{const d=Mt(qe),f=_=>i1(_,l),p=o.label.map(_=>nn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[zr(s.translate(_))]})),b={...o.placeholder.map(_=>({placeholder:s.translate(_)})).getOr({})},y=nn.parts.field({factory:hp,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:b,data:o.initValue(),selectOnFocus:!0,inputBehaviours:ye([Wt.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),Yr(()=>s.checkUiComponentContext("mode:design")),Gt.config({mode:"special",onEnter:a,onLeft:(_,E)=>(E.cut(),O.none()),onRight:(_,E)=>(E.cut(),O.none())}),ko("input-events",[Nu({onSetup:o.onSetup,getApi:_=>Ia(_.element,".tox-toolbar").bind(E=>$n(E,"button:enabled")).fold(()=>i1(_,l),E=>i1(_,l,E)),onBeforeSetup:Gt.focusIn},d),V_({getApi:f},d,l),je(os(),_=>{o.onInput(f(_))})])])});return bm(p,y,s)},z4=(o,s,a)=>{const l=dn(),d=Bn(o(a,y=>p.findPrimary(y).orThunk(()=>b.findPrimary(y)).map(_=>(Zi(_),!0)),l)),f=Uo(s.commands,y=>y.align==="start"),p=E4(d,f.pass,a,l),b=E4(d,f.fail,a,l);return So([{title:O.none(),label:O.none(),items:p.asSpecs()},{title:O.none(),label:O.none(),items:[d.asSpec()]},{title:O.none(),label:O.none(),items:b.asSpecs()}],y=>y.items.length>0)},zA=(o,s)=>{switch(o.type){case"contextform":return z4(ht(G8,o),o,s);case"contextsliderform":return z4(ht(ib,o),o,s);case"contextsizeinputform":return z4(ht(EA,o),o,s)}},TA=(o,s,a)=>s.bottom-o.y>=a&&o.bottom-s.y>=a,nw=o=>{const s=(a=>{const l=a.getBoundingClientRect();if(l.height<=0&&l.width<=0){const d=ma(_t(a.startContainer),a.startOffset).element;return(ua(d)?es(d):O.some(d)).filter(lr).map(f=>f.dom.getBoundingClientRect()).getOr(l)}return l})(o.selection.getRng());if(o.inline){const a=ys();return En(a.left+s.left,a.top+s.top,s.width,s.height)}{const a=Al(_t(o.getBody()));return En(a.x+s.left,a.y+s.top,s.width,s.height)}},OA=(o,s,a,l=0)=>{const d=On(window),f=As(_t(o.getContentAreaContainer())),p=_y(o)||w_(o)||ky(o),{x:b,width:y}=((_,E,w)=>{const A=Math.max(_.x+w,E.x);return{x:A,width:Math.min(_.right-w,E.right)-A}})(f,d,l);if(o.inline&&!p)return En(b,d.y,y,d.height);{const _=s.header.isPositionedAtTop(),{y:E,bottom:w}=((A,P,I,Y,G,J)=>{const j=_t(A.getContainer()),Z=$n(j,".tox-editor-header").getOr(j),te=As(Z),oe=te.y>=P.bottom,ce=Y&&!oe;if(A.inline&&ce)return{y:Math.max(te.bottom+J,I.y),bottom:I.bottom};if(A.inline&&!ce)return{y:I.y,bottom:Math.min(te.y-J,I.bottom)};const he=G==="line"?As(j):P;return ce?{y:Math.max(te.bottom+J,I.y),bottom:Math.min(he.bottom-J,I.bottom)}:{y:Math.max(he.y+J,I.y),bottom:Math.min(te.y-J,I.bottom)}})(o,f,d,_,a,l);return En(b,E,y,w-E)}},AA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},NA={maxHeightFunction:Wd(),maxWidthFunction:n4()},RA=o=>o==="node",K8=(o,s,a,l,d)=>{const f=nw(o),p=l.lastElement().exists(b=>yn(a,b));return((b,y)=>{const _=b.selection.getRng(),E=ma(_t(_.startContainer),_.startOffset);return _.startContainer===_.endContainer&&_.startOffset===_.endOffset-1&&yn(E.element,y)})(o,a)?p?$S:ou:p?((b,y)=>{const _=_r(b,"position");Zt(b,"position",y);const E=TA(f,As(s),-20)&&!l.isReposition()?sO:$S;return _.each(w=>Zt(b,"position",w)),E})(s,l.getMode()):(l.getMode()==="fixed"?d.y+ys().top:d.y)+(kr(s)+12)<=f.y?ou:Bp},Y8=(o,s,a,l)=>{const d=p=>(b,y,_,E,w)=>({...K8(o,E,p,a,w)({...b,y:w.y,height:w.height},y,_,E,w),alwaysFit:!0}),f=p=>RA(l)?[d(p)]:[];return s?{onLtr:p=>[ms,zs,Ds,Ua,la,xs].concat(f(p)),onRtl:p=>[ms,Ds,zs,la,Ua,xs].concat(f(p))}:{onLtr:p=>[xs,ms,Ua,zs,la,Ds].concat(f(p)),onRtl:p=>[xs,ms,la,Ds,Ua,zs].concat(f(p))}},T4=(o,s)=>{const a=So(s,f=>f.predicate(o.dom)),{pass:l,fail:d}=Uo(a,f=>f.type==="contexttoolbar");return{contextToolbars:l,contextForms:d}},X8=(o,s)=>{const a={},l=[],d=[],f={},p={},b=qo(o);return tt(b,y=>{const _=o[y];_.type==="contextform"||_.type==="contextsliderform"||_.type==="contextsizeinputform"?((E,w)=>{const A=aa(er("ContextForm",CD,w));a[E]=A,A.launch.map(P=>{f["form:"+E]={...w.launch,type:P.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(A)}}}),A.scope==="editor"?d.push(A):l.push(A),p[E]=A})(y,_):_.type==="contexttoolbar"&&((E,w)=>{var A;(A=w,er("ContextToolbar",U0,A)).each(P=>{P.launch.isSome()&&(f["toolbar:"+E]={...w.launch,type:"button",onAction:()=>{s(P)}}),w.scope==="editor"?d.push(P):l.push(P),p[E]=P})})(y,_)}),{forms:a,inNodeScope:l,inEditorScope:d,lookupTable:p,formNavigators:f}},jx="tox-pop--transition",J8=(o,s,a,l)=>{const d=l.backstage,f=d.shared,p=Ys().deviceType.isTouch,b=dn(),y=dn(),_=dn(),E=(we=>{const Ae=Mt([]);return{sketch:Gn.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ve=>{Ae.set([]),Gn.getContent(Ve).each(Ye=>{ln(Ye.element,"visibility")}),ar(Ve.element,Qk),ln(Ve.element,"width")},onHide:()=>{Ae.set([]),we.onHide()},inlineBehaviours:ye([ko("context-toolbar-events",[Ss(Tc(),(Ve,Ye)=>{Ye.event.raw.propertyName==="width"&&(ar(Ve.element,Qk),ln(Ve.element,"width"))}),je(Jk,(Ve,Ye)=>{const ft=Ve.element;ln(ft,"width");const Ut=ae(ft),Yt=Ni(Ve.element).isSome();ln(ft,"left"),ln(ft,"right"),ln(ft,"max-width"),Gn.setContent(Ve,Ye.event.contents),Er(ft,Qk);const ro=ae(ft);Zt(ft,"transition","none"),Gn.reposition(Ve),ln(ft,"transition"),Zt(ft,"width",Ut+"px"),Ye.event.focus.fold(()=>{Yt&&cA(Ve)},Zo=>{fc(is(Ve.element)).fold(()=>Da(Zo),fr=>{yn(fr,Zo)||Da(Zo)})}),setTimeout(()=>{Zt(Ve.element,"width",ro+"px")},0)}),je(dA,(Ve,Ye)=>{Gn.getContent(Ve).each(ft=>{Ae.set(Ae.get().concat([{bar:ft,focus:fc(is(Ve.element))}]))}),Vt(Ve,Jk,{contents:Ye.event.forwardContents,focus:O.none()})}),je(Xk,(Ve,Ye)=>{we.onBack(),Ke(Ae.get()).each(ft=>{Ae.set(Ae.get().slice(0,Ae.get().length-1)),Vt(Ve,Jk,{contents:Bl(ft.bar),focus:ft.focus})})})]),Gt.config({mode:"special",onEscape:Ve=>Ke(Ae.get()).fold(()=>we.onEscape(),Ye=>(Vo(Ve,Xk),O.some(!0)))})]),lazySink:()=>re.value(we.sink)}),inSubtoolbar:()=>Ae.get().length>0}})({sink:a,onEscape:()=>(o.focus(),yC(o),O.some(!0)),onHide:()=>{yC(o)},onBack:()=>{(we=>{we.dispatch("ContextFormSlideBack")})(o)}}),w=Ws(E.sketch),A=()=>{const we=_.get().getOr("node"),Ae=RA(we)?1:0;return OA(o,f,we,Ae)},P=()=>!(o.removed||p()&&d.isContextMenuOpen()),I=()=>{if(P()){const we=A(),Ae=Ks(_.get(),"node")?((Ue,Ve)=>Ve.filter(Ye=>Wn(Ye)&&Li(Ye)).map(Al).getOrThunk(()=>nw(Ue)))(o,b.get()):nw(o);return we.height<=0||!TA(Ae,we,.01)}return!0},Y=()=>{b.clear(),y.clear(),_.clear(),Gn.hide(w)},G=()=>{if(Gn.isOpen(w)){const we=w.element;ln(we,"display"),I()?Zt(we,"display","none"):(y.set(0),Gn.reposition(w))}},J=we=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[we],behaviours:ye([Gt.config({mode:"acyclic"}),ko("pop-dialog-wrap-events",[Xn(Ae=>{o.shortcuts.add("ctrl+F9","focus statusbar",()=>Gt.focusIn(Ae))}),Sr(Ae=>{o.shortcuts.remove("ctrl+F9")})])])}),j=we=>{const Ae=te([we]);Vt(w,dA,{forwardContents:J(Ae)})},Z=He(()=>X8(s,j)),te=we=>{const{buttons:Ae}=o.ui.registry.getAll(),Ue={...Ae,...Z().formNavigators},Ve=kl(o)===nl.scrolling?nl.scrolling:nl.default,Ye=sr(Se(we,ft=>{return ft.type==="contexttoolbar"?((Yt,ro)=>Fx(o,{buttons:Yt,toolbar:ro.items,allowToolbarGroups:!1},l.backstage,O.some(["form:","toolbar:"])))(Ue,(Ut=ft,{...Ut,launch:Ut.launch.getOrUndefined(),items:Dt(Ut.items)?Ut.items:Se(Ut.items,$z)})):((Yt,ro)=>zA(Yt,ro))(ft,f.providers);var Ut}));return c4({type:Ve,uid:wt("context-toolbar"),initGroups:Ye,onEscape:O.none,cyclicKeying:!0,providers:f.providers})},oe=(we,Ae)=>{if(he.cancel(),!P())return;const Ue=te(we),Ve=we[0].position,Ye=((Ut,Yt)=>{const ro=Ut==="node"?f.anchors.node(Yt):f.anchors.cursor(),Zo=((fr,Xr,Nn,cn)=>Xr==="line"?{bubble:xl(12,0,AA),layouts:{onLtr:()=>[Ym],onRtl:()=>[af]},overrides:NA}:{bubble:xl(0,12,AA,1/12),layouts:Y8(fr,Nn,cn,Xr),overrides:NA})(o,Ut,p(),{lastElement:b.get,isReposition:()=>Ks(y.get(),0),getMode:()=>ps.getMode(a)});return Cr(ro,Zo)})(Ve,Ae);_.set(Ve),y.set(1);const ft=w.element;ln(ft,"display"),(Ut=>Ks(nt(Ut,b.get(),yn),!0))(Ae)||(ar(ft,jx),ps.reset(a,w)),Gn.showWithinBounds(w,J(Ue),{anchor:Ye,transition:{classes:[jx],mode:"placement"}},()=>O.some(A())),Ae.fold(b.clear,b.set),I()&&Zt(ft,"display","none")};let ce=!1;const he=yk(()=>{!o.hasFocus()||o.removed||ce||(ir(w.element,jx)?he.throttle():((we,Ae)=>{const Ue=_t(Ae.getBody()),Ve=ft=>yn(ft,Ue),Ye=_t(Ae.selection.getNode());return(ft=>!Ve(ft)&&!bs(Ue,ft))(Ye)?O.none():((ft,Ut,Yt)=>{const ro=T4(ft,Ut);if(ro.contextForms.length>0)return O.some({elem:ft,toolbars:[ro.contextForms[0]]});{const Zo=T4(ft,Yt);if(Zo.contextForms.length>0)return O.some({elem:ft,toolbars:[Zo.contextForms[0]]});if(ro.contextToolbars.length>0||Zo.contextToolbars.length>0){const fr=(Xr=>{if(Xr.length<=1)return Xr;{const Nn=Un=>fn(Xr,ta=>ta.position===Un),cn=Un=>So(Xr,ta=>ta.position===Un),Xt=Nn("selection"),mr=Nn("node");if(Xt||mr){if(mr&&Xt){const Un=cn("node"),ta=Se(cn("selection"),rr=>({...rr,position:"node"}));return Un.concat(ta)}return cn(Xt?"selection":"node")}return cn("line")}})(ro.contextToolbars.concat(Zo.contextToolbars));return O.some({elem:ft,toolbars:fr})}return O.none()}})(Ye,we.inNodeScope,we.inEditorScope).orThunk(()=>((ft,Ut,Yt)=>ft(Ut)?O.none():pe(Ut,ro=>{if(lr(ro)){const{contextToolbars:Zo,contextForms:fr}=T4(ro,Yt.inNodeScope),Xr=fr.length>0?fr:(Nn=>{if(Nn.length<=1)return Nn;{const cn=Xt=>H(Nn,mr=>mr.position===Xt);return cn("selection").orThunk(()=>cn("node")).orThunk(()=>cn("line")).map(Xt=>Xt.position).fold(()=>[],Xt=>So(Nn,mr=>mr.position===Xt))}})(Zo);return Xr.length>0?O.some({elem:ro,toolbars:Xr}):O.none()}return O.none()},ft))(Ve,Ye,we))})(Z(),o).fold(Y,we=>{oe(we.toolbars,O.some(we.elem))}))},17);o.on("init",()=>{o.on("remove",Y),o.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",G),o.on("click focus SetContent",he.throttle),o.on("keyup",we=>{var Ae;((Ae=we.keyCode)!==ow.ENTER&&Ae!==ow.SPACEBAR||!E.inSubtoolbar())&&he.throttle()}),o.on(SA,Y),o.on("contexttoolbar-show",we=>{const Ae=Z();dt(Ae.lookupTable,we.toolbarKey).each(Ue=>{oe([Ue],Ho(we.target!==o,we.target)),cA(w)})}),o.on("focusout",we=>{d_.setEditorTimeout(o,()=>{Ni(a.element).isNone()&&Ni(w.element).isNone()&&!o.hasFocus()&&Y()},0)}),o.on("SwitchMode",()=>{o.mode.isReadOnly()&&Y()}),o.on("DisabledStateChange",we=>{we.state&&Y()}),o.on("ExecCommand",({command:we})=>{we.toLowerCase()==="toggleview"&&Y()}),o.on("AfterProgressState",we=>{we.state?Y():o.hasFocus()&&he.throttle()}),o.on("dragstart",()=>{ce=!0}),o.on("dragend drop",()=>{ce=!1}),o.on("NodeChange",we=>{E.inSubtoolbar()?(Zt(w.element,"transition","none"),G(),ln(w.element,"transition")):Ni(w.element).fold(he.throttle,qe)})})},DA=(o,s)=>{const a=()=>{const l=s.getOptions(o),d=s.getCurrent(o).map(s.hash),f=dn();return Se(l,p=>({type:"togglemenuitem",text:s.display(p),onSetup:b=>{const y=E=>{E&&(f.on(w=>w.setActive(!1)),f.set(b)),b.setActive(E)};y(Ks(d,s.hash(p)));const _=s.watcher(o,p,y);return()=>{f.clear(),_()}},onAction:()=>s.setCurrent(o,p)}))};o.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:l=>l(a()),onSetup:s.onToolbarSetup}),o.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},Q8=o=>{DA(o,(s=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:k_,hash:a=>(l=>ew(l,["fixed","relative","empty"]).map(({value:d,unit:f})=>d+f))(a).getOr(a),display:Et,watcher:(a,l,d)=>a.formatter.formatChanged("lineheight",d,!1,{value:l}).unbind,getCurrent:a=>O.from(a.queryCommandValue("LineHeight")),setCurrent:(a,l)=>a.execCommand("LineHeight",!1,l),onToolbarSetup:rl(s),onMenuSetup:rl(s)}))(o)),(s=>O.from(qE(s)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:ue(a),hash:l=>pr(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,d,f)=>{var p;return l.formatter.formatChanged("lang",f,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:l=>{const d=_t(l.selection.getNode());return ot(d,f=>O.some(f).filter(lr).bind(p=>cs(p,"lang").map(b=>({code:b,customCode:cs(p,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,d)=>l.execCommand("Lang",!1,d),onToolbarSetup:l=>{const d=Jc();return l.setActive(s.formatter.match("lang",{},void 0,!0)),d.set(s.formatter.formatChanged("lang",l.setActive,!0)),J0(d.clear,rl(s)(l))},onMenuSetup:rl(s)})))(o).each(s=>DA(o,s))},MA=o=>Zh(o,"NodeChange",s=>{s.setEnabled(o.queryCommandState("outdent")&&o.selection.isEditable())}),BA=(o,s)=>a=>{a.setActive(s.get());const l=d=>{s.set(d.state),a.setActive(d.state)};return o.on("PastePlainTextToggle",l),J0(()=>o.off("PastePlainTextToggle",l),rl(o)(a))},O4=(o,s)=>()=>{o.execCommand("mceToggleFormat",!1,s)},eM=o=>{(s=>{(a=>{pm.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,d)=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Q0(a,l.name),onAction:O4(a,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const d="h"+l,f=`Access+${l}`;a.ui.registry.addToggleButton(d,{text:d.toUpperCase(),tooltip:"Heading "+l,onSetup:Q0(a,d),onAction:O4(a,d),shortcut:f})}})(s),(a=>{pm.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Hc(a,l.action),shortcut:l.shortcut,context:l.context})}),pm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{a.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:rl(a),onAction:Hc(a,l.action)})})})(s),(a=>{pm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Hc(a,l.action),onSetup:Q0(a,l.name)})})})(s)})(o),(s=>{pm.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],a=>{s.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:Hc(s,a.action),context:a.context})}),pm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{s.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onSetup:rl(s),onAction:Hc(s,a.action)})}),s.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:rl(s),onAction:O4(s,"code")})})(o)},Zx=(o,s)=>Zh(o,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!o.mode.isReadOnly()&&o.undoManager[s]())}),tM=o=>Zh(o,"VisualAid",s=>{s.setActive(o.hasVisual)}),oM=(o,s)=>{(a=>{tt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{a.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:Hc(a,l.cmd),onSetup:Q0(a,l.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:rl(a),onAction:Hc(a,"JustifyNone")})})(o),eM(o),((a,l)=>{((d,f)=>{const p=sb(f,Px(d));d.ui.registry.addNestedMenuItem("align",{text:f.shared.providers.translate("Align"),onSetup:rl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,f)=>{const p=sb(f,v4(d));d.ui.registry.addNestedMenuItem("fontfamily",{text:f.shared.providers.translate("Fonts"),onSetup:rl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,f)=>{const p={type:"advanced",...f.styles},b=sb(f,_4(d,p));d.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:rl(d),getSubmenuItems:()=>b.items.validateItems(b.getStyleItems())})})(a,l),((d,f)=>{const p=sb(f,pA(d));d.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:rl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l),((d,f)=>{const p=sb(f,vA(d));d.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:rl(d),getSubmenuItems:()=>p.items.validateItems(p.getStyleItems())})})(a,l)})(o,s),(a=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Zx(l,"hasUndo"),onAction:Hc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Zx(l,"hasRedo"),onAction:Hc(l,"redo")})})(a),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Zx(l,"hasUndo"),onAction:Hc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Zx(l,"hasRedo"),onAction:Hc(l,"redo"),shortcut:"Meta+Y"})})(a)})(o),(a=>{(b=>{b.addCommand("mceApplyTextcolor",(y,_)=>{((E,w,A)=>{E.undoManager.transact(()=>{E.focus(),E.formatter.apply(w,{value:A}),E.nodeChanged()})})(b,y,_)}),b.addCommand("mceRemoveTextcolor",y=>{((_,E)=>{_.undoManager.transact(()=>{_.focus(),_.formatter.remove(E,{value:null},void 0,!0),_.nodeChanged()})})(b,y)})})(a);const l=bT(a),d=MD(a),f=Mt(l),p=Mt(d);TC(a,"forecolor","forecolor",f),TC(a,"backcolor","hilitecolor",p),OC(a,"forecolor","forecolor","Text color",f),OC(a,"backcolor","hilitecolor","Background color",p)})(o),(a=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Hc(l,"mceToggleVisualAid"),context:"any"})})(a),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:tM(l),onAction:Hc(l,"mceToggleVisualAid"),context:"any"})})(a)})(o),(a=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:MA(l),onAction:Hc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:rl(l),onAction:Hc(l,"indent")})})(a)})(o),Q8(o),(a=>{const l=Mt(C2(a)),d=()=>a.execCommand("mceTogglePlainTextPaste");a.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:d,onSetup:BA(a,l)}),a.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:d,onSetup:BA(a,l)})})(o),(a=>{a.ui.registry.addContext("editable",()=>a.selection.isEditable()),a.ui.registry.addContext("mode",l=>a.mode.get()===l),a.ui.registry.addContext("any",jt),a.ui.registry.addContext("formatting",l=>a.formatter.canApply(l)),a.ui.registry.addContext("insert",l=>a.schema.isValidChild(a.selection.getNode().tagName,l))})(o)},nM=o=>Dt(o)?o.split(/[ ,]/):o,PA=o=>s=>s.options.get(o),LA=PA("contextmenu_never_use_native"),IA=PA("contextmenu_avoid_overlap"),A4=o=>{const s=o.ui.registry.getAll().contextMenus,a=o.options.get("contextmenu");return o.options.isSet("contextmenu")?a:So(a,l=>_o(s,l))},Wx=(o,s)=>({type:"makeshift",x:o,y:s}),FA=o=>o.type==="longpress"||o.type.indexOf("touch")===0,rM=(o,s)=>s.type==="contextmenu"||s.type==="longpress"?o.inline?(a=>{if(FA(a)){const l=a.touches[0];return Wx(l.pageX,l.pageY)}return Wx(a.pageX,a.pageY)})(s):((a,l)=>{const d=E0.DOM.getPos(a);return((f,p,b)=>Wx(f.x+p,f.y+b))(l,d.x,d.y)})(o.getContentAreaContainer(),(a=>{if(FA(a)){const l=a.touches[0];return Wx(l.clientX,l.clientY)}return Wx(a.clientX,a.clientY)})(s)):HA(o),HA=o=>({type:"selection",root:_t(o.selection.getNode())}),$A=(o,s,a)=>{switch(a){case"node":return(l=>({type:"node",node:O.some(_t(l.selection.getNode())),root:_t(l.getBody())}))(o);case"point":return rM(o,s);case"selection":return HA(o)}},VA=(o,s,a,l,d,f)=>{const p=a(),b=$A(o,s,f);Ky(p,Ou.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:O.none()}).map(y=>{s.preventDefault(),Gn.showMenuAt(d,{anchor:b},{menu:{markers:am("normal")},data:y})})},l1={onLtr:()=>[ms,zs,Ds,Ua,la,xs,ou,Bp,Nx,Bk,Jy,Mk],onRtl:()=>[ms,Ds,zs,la,Ua,xs,ou,Bp,Jy,Mk,Nx,Bk]},sM={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},aM=(o,s,a,l,d,f)=>{const p=Ys(),b=p.os.isiOS(),y=p.os.isMacOS(),_=p.os.isAndroid(),E=p.deviceType.isTouch(),w=()=>{const A=a();((P,I,Y,G,J,j,Z)=>{const te=((oe,ce,he)=>{const we=$A(oe,ce,he);return{bubble:xl(0,he==="point"?12:0,sM),layouts:l1,overrides:{maxWidthFunction:n4(),maxHeightFunction:Wd()},...we}})(P,I,j);Ky(Y,Ou.CLOSE_ON_EXECUTE,G,{isHorizontalMenu:!0,search:O.none()}).map(oe=>{I.preventDefault();const ce=Z?ss.HighlightMenuAndItem:ss.HighlightNone;Gn.showMenuWithinBounds(J,{anchor:te},{menu:{markers:am("normal"),highlightOnOpen:ce},data:oe,type:"horizontal"},()=>O.some(OA(P,G.shared,j==="node"?"node":"selection"))),P.dispatch(SA)})})(o,s,A,l,d,f,!(_||b||y&&E))};if((y||b)&&f!=="node"){const A=()=>{(P=>{const I=P.selection.getRng(),Y=()=>{d_.setEditorTimeout(P,()=>{P.selection.setRng(I)},10),j()};P.once("touchend",Y);const G=Z=>{Z.preventDefault(),Z.stopImmediatePropagation()};P.on("mousedown",G,!0);const J=()=>j();P.once("longpresscancel",J);const j=()=>{P.off("touchend",Y),P.off("longpresscancel",J),P.off("mousedown",G)}})(o),w()};((P,I)=>{const Y=P.selection;if(Y.isCollapsed()||I.touches.length<1)return!1;{const G=I.touches[0],J=Y.getRng();return e0(P.getWin(),ff.domRange(J)).exists(j=>j.left<=G.clientX&&j.right>=G.clientX&&j.top<=G.clientY&&j.bottom>=G.clientY)}})(o,s)?A():(o.once("selectionchange",A),o.once("touchend",()=>o.off("selectionchange",A)))}else w()},UA=o=>Dt(o)?o==="|":o.type==="separator",c1={type:"separator"},Cd=o=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Dt(o))return o;switch(o.type){case"separator":return c1;case"submenu":return{type:"nestedmenuitem",...s(o),getSubmenuItems:()=>{const l=o.getSubmenuItems();return Dt(l)?l:Se(l,Cd)}};default:const a=o;return{type:"menuitem",...s(a),onAction:Bt(a.onAction)}}},rw=(o,s)=>{if(s.length===0)return o;const a=Ke(o).filter(l=>!UA(l)).fold(()=>[],l=>[c1]);return o.concat(a).concat(s).concat([c1])},N4=(o,s)=>!(a=>a.type==="longpress"||_o(a,"touches"))(s)&&(s.button!==2||s.target===o.getBody()&&s.pointerType===""),jA=(o,s)=>N4(o,s)?o.selection.getStart(!0):s.target,iM=(o,s,a)=>{const l=Ys().deviceType.isTouch,d=Ws(Gn.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>o.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ye([ko("dismissContextMenu",[je(Gu(),(b,y)=>{xn.close(b),o.focus()})])])})),f=()=>Gn.hide(d),p=b=>{if(LA(o)&&b.preventDefault(),((_,E)=>E.ctrlKey&&!LA(_))(o,b)||(_=>A4(_).length===0)(o))return;const y=((_,E)=>{const w=IA(_),A=N4(_,E)?"selection":"point";if(za(w)){const P=jA(_,E);return $y(_t(P),w)?"node":A}return A})(o,b);(l()?aM:VA)(o,b,()=>{const _=jA(o,b),E=o.ui.registry.getAll(),w=A4(o);return((A,P,I)=>{const Y=uo(P,(G,J)=>dt(A,J.toLowerCase()).map(j=>{const Z=j.update(I);if(Dt(Z)&&za(Yi(Z)))return rw(G,Z.split(" "));if(Po(Z)&&Z.length>0){const te=Se(Z,Cd);return rw(G,te)}return G}).getOrThunk(()=>G.concat([J])),[]);return Y.length>0&&UA(Y[Y.length-1])&&Y.pop(),Y})(E.contextMenus,w,_)},a,d,y)};o.on("init",()=>{const b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");o.on(b,f),o.on("longpress contextmenu",p)})},R4=S([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),sw=o=>s=>s.translate(-o.left,-o.top),qx=o=>s=>s.translate(o.left,o.top),ym=o=>(s,a)=>uo(o,(l,d)=>d(l),Dn(s,a)),aw=(o,s,a)=>o.fold(ym([qx(a),sw(s)]),ym([sw(s)]),ym([])),d1=(o,s,a)=>o.fold(ym([qx(a)]),ym([]),ym([qx(s)])),D4=(o,s,a)=>o.fold(ym([]),ym([sw(a)]),ym([qx(s),sw(a)])),ZA=(o,s,a)=>{const l=o.fold((d,f)=>({position:O.some("absolute"),left:O.some(d+"px"),top:O.some(f+"px")}),(d,f)=>({position:O.some("absolute"),left:O.some(d-a.left+"px"),top:O.some(f-a.top+"px")}),(d,f)=>({position:O.some("fixed"),left:O.some(d+"px"),top:O.some(f+"px")}));return{right:O.none(),bottom:O.none(),...l}},iw=(o,s,a,l)=>{const d=(f,p)=>(b,y)=>{const _=f(s,a,l);return p(b.getOr(_.left),y.getOr(_.top))};return o.fold(d(D4,Gx),d(d1,Pp),d(aw,lb))},Gx=R4.offset,Pp=R4.absolute,lb=R4.fixed,WA=(o,s)=>{const a=ls(o,s);return pr(a)?NaN:parseInt(a,10)},lM=(o,s,a,l,d,f)=>{const p=((_,E,w,A)=>((P,I)=>{const Y=P.element,G=WA(Y,I.leftAttr),J=WA(Y,I.topAttr);return isNaN(G)||isNaN(J)?O.none():O.some(Dn(G,J))})(_,E).fold(()=>w,P=>lb(P.left+A.left,P.top+A.top)))(o,s,a,l),b=s.mustSnap?cM(o,s,p,d,f):dM(o,s,p,d,f),y=aw(p,d,f);return((_,E,w)=>{const A=_.element;io(A,E.leftAttr,w.left+"px"),io(A,E.topAttr,w.top+"px")})(o,s,y),b.fold(()=>({coord:lb(y.left,y.top),extra:O.none()}),_=>({coord:_.output,extra:_.extra}))},qA=(o,s,a,l)=>fo(o,d=>{const f=d.sensor;return((b,y,_,E,w,A)=>{const P=d1(b,w,A),I=d1(y,w,A);return Math.abs(P.left-I.left)<=_&&Math.abs(P.top-I.top)<=E})(s,f,d.range.left,d.range.top,a,l)?O.some({output:iw(d.output,s,a,l),extra:d.extra}):O.none()}),cM=(o,s,a,l,d)=>{const f=s.getSnapPoints(o);return qA(f,a,l,d).orThunk(()=>uo(f,(b,y)=>{const _=y.sensor,E=((w,A,P,I,Y,G)=>{const J=d1(w,Y,G),j=d1(A,Y,G),Z=Math.abs(J.left-j.left),te=Math.abs(J.top-j.top);return Dn(Z,te)})(a,_,y.range.left,y.range.top,l,d);return b.deltas.fold(()=>({deltas:O.some(E),snap:O.some(y)}),w=>(E.left+E.top)/2<=(w.left+w.top)/2?{deltas:O.some(E),snap:O.some(y)}:b)},{deltas:O.none(),snap:O.none()}).snap.map(b=>({output:iw(b.output,a,l,d),extra:b.extra})))},dM=(o,s,a,l,d)=>{const f=s.getSnapPoints(o);return qA(f,a,l,d)};var M4=Object.freeze({__proto__:null,snapTo:(o,s,a,l)=>{const d=s.getTarget(o.element);if(s.repositionTarget){const f=fa(o.element),p=ys(f),b=rs(d),y=((E,w,A)=>({coord:iw(E.output,E.output,w,A),extra:E.extra}))(l,p,b),_=ZA(y.coord,0,b);xi(d,_)}}});const B4="data-initial-z-index",GA=(o,s)=>{o.getSystem().addToGui(s),(a=>{es(a.element).filter(lr).each(l=>{_r(l,"z-index").each(d=>{io(l,B4,d)}),Zt(l,"z-index",Vs(a.element,"z-index"))})})(s)},KA=o=>{(s=>{es(s.element).filter(lr).each(a=>{cs(a,B4).fold(()=>ln(a,"z-index"),l=>Zt(a,"z-index",l)),$r(a,B4)})})(o),o.getSystem().removeFromGui(o)},YA=(o,s,a)=>o.getSystem().build(yf.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var uM=un("snaps",[Ge("getSnapPoints"),Bo("onSensor"),Ge("leftAttr"),Ge("topAttr"),Ee("lazyViewport",ws),Ee("mustSnap",!1)]);const P4=[Ee("useFixed",Ie),Ge("blockerClass"),Ee("getTarget",Et),Ee("onDrag",qe),Ee("repositionTarget",!0),Ee("onDrop",qe),Yn("getBounds",ws),uM],fM=o=>{return(s=_r(o,"left"),a=_r(o,"top"),l=_r(o,"position"),s.isSome()&&a.isSome()&&l.isSome()?O.some(((d,f,p)=>(p==="fixed"?lb:Gx)(parseInt(d,10),parseInt(f,10)))(s.getOrDie(),a.getOrDie(),l.getOrDie())):O.none()).getOrThunk(()=>{const d=Wr(o);return Pp(d.left,d.top)});var s,a,l},XA=(o,s)=>({bounds:o.getBounds(),height:Ta(s.element),width:_e(s.element)}),L4=(o,s,a,l,d)=>{const f=a.update(l,d),p=a.getStartData().getOrThunk(()=>XA(s,o));f.each(b=>{((y,_,E,w)=>{const A=_.getTarget(y.element);if(_.repositionTarget){const P=fa(y.element),I=ys(P),Y=rs(A),G=fM(A),J=((Z,te,oe,ce,he,we,Ae)=>((Ue,Ve,Ye,ft,Ut)=>{const Yt=Ut.bounds,ro=d1(Ve,Ye,ft),Zo=cc(ro.left,Yt.x,Yt.x+Yt.width-Ut.width),fr=cc(ro.top,Yt.y,Yt.y+Yt.height-Ut.height),Xr=Pp(Zo,fr);return Ve.fold(()=>{const Nn=D4(Xr,Ye,ft);return Gx(Nn.left,Nn.top)},ue(Xr),()=>{const Nn=aw(Xr,Ye,ft);return lb(Nn.left,Nn.top)})})(0,te.fold(()=>{const Ue=(Ve=oe,Ye=we.left,ft=we.top,Ve.fold((Yt,ro)=>Gx(Yt+Ye,ro+ft),(Yt,ro)=>Pp(Yt+Ye,ro+ft),(Yt,ro)=>lb(Yt+Ye,ro+ft)));var Ve,Ye,ft;const Ut=aw(Ue,ce,he);return lb(Ut.left,Ut.top)},Ue=>{const Ve=lM(Z,Ue,oe,we,ce,he);return Ve.extra.each(Ye=>{Ue.onSensor(Z,Ye)}),Ve.coord}),ce,he,Ae))(y,_.snaps,G,I,Y,w,E),j=ZA(J,0,Y);xi(A,j)}_.onDrag(y,A,w)})(o,s,p,b)})},JA=(o,s,a,l)=>{s.each(KA),a.snaps.each(f=>{((p,b)=>{((y,_)=>{const E=y.element;$r(E,_.leftAttr),$r(E,_.topAttr)})(p,b)})(o,f)});const d=a.getTarget(o.element);l.reset(),a.onDrop(o,d)},lw=o=>(s,a)=>{const l=d=>{a.setStartData(XA(s,d))};return ur([je(Lm(),d=>{a.getStartData().each(()=>l(d))}),...o(s,a,l)])};var QA=Object.freeze({__proto__:null,getData:o=>O.from(Dn(o.x,o.y)),getDelta:(o,s)=>Dn(s.left-o.left,s.top-o.top)});const e6=(o,s,a)=>[je(Na(),(l,d)=>{if(d.event.raw.button!==0)return;d.stop();const f=()=>JA(l,O.some(y),o,s),p=PC(f,200),b={drop:f,delayDrop:p.schedule,forceDrop:f,move:_=>{p.cancel(),L4(l,o,s,QA,_)}},y=YA(l,o.blockerClass,(_=>ur([je(Na(),_.forceDrop),je(Rs(),_.drop),je(Mm(),(E,w)=>{_.move(w.event)}),je(Vd(),_.delayDrop)]))(b));a(l),GA(l,y)})],mM=[...P4,Gr("dragger",{handlers:lw(e6)})];var t6=Object.freeze({__proto__:null,getData:o=>{const s=o.raw.touches;return s.length===1?(a=>{const l=a[0];return O.some(Dn(l.clientX,l.clientY))})(s):O.none()},getDelta:(o,s)=>Dn(s.left-o.left,s.top-o.top)});const o6=(o,s,a)=>{const l=dn(),d=f=>{JA(f,l.get(),o,s),l.clear()};return[je(Ln(),(f,p)=>{p.stop();const b=()=>d(f),y={drop:b,delayDrop:qe,forceDrop:b,move:E=>{L4(f,o,s,t6,E)}},_=YA(f,o.blockerClass,(E=>ur([je(Ln(),E.forceDrop),je(ji(),E.drop),je(ri(),E.drop),je(ts(),(w,A)=>{E.move(A.event)})]))(y));l.set(_),a(f),GA(f,_)}),je(ts(),(f,p)=>{p.stop(),L4(f,o,s,t6,p.event)}),je(ji(),(f,p)=>{p.stop(),d(f)}),je(ri(),d)]},pM=mM,gM=[...P4,Gr("dragger",{handlers:lw(o6)})],n6=[...P4,Gr("dragger",{handlers:lw((o,s,a)=>[...e6(o,s,a),...o6(o,s,a)])})];var r6=Object.freeze({__proto__:null,mouse:pM,touch:gM,mouseOrTouch:n6}),s6=Object.freeze({__proto__:null,init:()=>{let o=O.none(),s=O.none();const a=ue({});return Le({readState:a,reset:()=>{o=O.none(),s=O.none()},update:(l,d)=>l.getData(d).bind(f=>((p,b)=>{const y=o.map(_=>p.getDelta(_,b));return o=O.some(b),y})(l,f)),getStartData:()=>s,setStartData:l=>{s=O.some(l)}})}});const Lp=or({branchKey:"mode",branches:r6,name:"dragging",active:{events:(o,s)=>o.dragger.handlers(o,s)},extra:{snap:o=>({sensor:o.sensor,range:o.range,output:o.output,extra:O.from(o.extra)})},state:s6,apis:M4}),a6=(o,s,a,l,d,f)=>o.fold(()=>Lp.snap({sensor:Pp(a-20,l-20),range:Dn(d,f),output:Pp(O.some(a),O.some(l)),extra:{td:s}}),p=>{const b=a-20,y=l-20,_=p.element.dom.getBoundingClientRect();return Lp.snap({sensor:Pp(b,y),range:Dn(40,40),output:Pp(O.some(a-_.width/2),O.some(l-_.height/2)),extra:{td:s}})}),I4=(o,s,a)=>({getSnapPoints:o,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,d)=>{const f=d.td;((p,b)=>p.exists(y=>yn(y,b)))(s.get(),f)||(s.set(f),a(f))},mustSnap:!0}),i6=o=>Bn(Za.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ye([Lp.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:o}),Yh.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),hM=(o,s)=>{const a=Mt([]),l=Mt([]),d=Mt(!1),f=dn(),p=dn(),b=j=>{const Z=Al(j);return a6(w.getOpt(s),j,Z.x,Z.y,Z.width,Z.height)},y=j=>{const Z=Al(j);return a6(A.getOpt(s),j,Z.right,Z.bottom,Z.width,Z.height)},_=I4(()=>Se(a.get(),j=>b(j)),f,j=>{p.get().each(Z=>{o.dispatch("TableSelectorChange",{start:j,finish:Z})})}),E=I4(()=>Se(l.get(),j=>y(j)),p,j=>{f.get().each(Z=>{o.dispatch("TableSelectorChange",{start:Z,finish:j})})}),w=i6(_),A=i6(E),P=Ws(w.asSpec()),I=Ws(A.asSpec()),Y=(j,Z,te,oe)=>{const ce=te(Z);Lp.snapTo(j,ce),((he,we)=>{const Ae=we.dom.getBoundingClientRect();ln(he.element,"display");const Ue=Dd(_t(o.getBody())).dom.innerHeight,Ve=Ae[oe]<0,Ye=((ft,Ut)=>ft[oe]>Ut)(Ae,Ue);(Ve||Ye)&&Zt(he.element,"display","none")})(j,Z)},G=j=>Y(P,j,b,"top"),J=j=>Y(I,j,y,"bottom");if(Ys().deviceType.isTouch()){const j=Z=>Se(Z,_t);o.on("TableSelectionChange",Z=>{d.get()||(em(s,P),em(s,I),d.set(!0));const te=_t(Z.start),oe=_t(Z.finish);f.set(te),p.set(oe),O.from(Z.otherCells).each(ce=>{a.set(j(ce.upOrLeftCells)),l.set(j(ce.downOrRightCells)),G(te),J(oe)})}),o.on("ResizeEditor ResizeWindow ScrollContent",()=>{f.get().each(G),p.get().each(J)}),o.on("TableSelectionClear",()=>{d.get()&&(ku(P),ku(I),d.set(!1)),f.clear(),p.clear()})}},bM=(o,s,a)=>{var l;const d=(l=s.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ye([Gt.config({mode:"flow",selector:"div[role=button]"}),Wt.config({disabled:a.isDisabled}),Yr(()=>a.checkUiComponentContext("any")),xr.config({}),bo.config({}),ko("elementPathEvents",[Xn((f,p)=>{o.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Gt.focusIn(f)),o.on("NodeChange",b=>{const y=(E=>{const w=[];let A=E.length;for(;A-- >0;){const I=E[A];if(I.nodeType===1&&(P=I).nodeName!=="BR"&&!P.getAttribute("data-mce-bogus")&&P.getAttribute("data-mce-type")!=="bookmark"){const Y=DD(o,I);if(Y.isDefaultPrevented()||w.push({name:Y.name,element:I}),Y.isPropagationStopped())break}}var P;return w})(b.parents),_=y.length>0?uo(y,(E,w,A)=>{const P=((I,Y,G)=>Za.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":G}},components:[zr(I)],action:J=>{o.focus(),o.selection.select(Y),o.nodeChanged()},buttonBehaviours:ye([Kr.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",Y.nodeName.toLowerCase()]),onShow:(J,j)=>{((Z,te)=>{const oe=O.from(ls(Z,"id")).getOrThunk(()=>{const ce=wt("aria");return io(te,"id",ce),ce});io(Z,"aria-describedby",oe)})(J.element,j.element)},onHide:J=>{var j;j=J.element,$r(j,"aria-describedby")}})}),Z0(a.isDisabled),Yr(()=>a.checkUiComponentContext("any"))])}))(w.name,w.element,A);return A===0?E.concat([P]):E.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[zr(` ${d} `)]},P])},[]):[];bo.set(f,_)})})])]),components:[]}};var Dg;(function(o){o[o.None=0]="None",o[o.Both=1]="Both",o[o.Vertical=2]="Vertical"})(Dg||(Dg={}));const cw=(o,s,a)=>{const l=_t(o.getContainer()),d=((f,p,b,y,_)=>{const E={height:tw(y+p.top,z0(f),v2(f))};return b===Dg.Both&&(E.width=tw(_+p.left,m_(f),T0(f))),E})(o,s,a,kr(l),ae(l));Qn(d,(f,p)=>{Go(f)&&Zt(l,p,w4(f))}),(f=>{f.dispatch("ResizeEditor")})(o)},Lu=(o,s,a,l)=>{const d=Dn(20*a,20*l);return cw(o,d,s),O.some(!0)},yM=(o,s)=>{const a=()=>{const l=[],d=ez(o),f=y_(o),p=xy(o)||o.hasPlugin("wordcount");return f&&l.push(bM(o,{},s)),d&&l.push((()=>{const b=U_("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[zr(Xd.translate(["Press {0} for help",b]))]}})()),p&&l.push((()=>{const b=[];return o.hasPlugin("wordcount")&&b.push(((y,_)=>{const E=(w,A,P)=>bo.set(w,[zr(_.translate(["{0} "+P,A[P]]))]);return Za.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ye([Z0(_.isDisabled),Yr(()=>_.checkUiComponentContext("any")),xr.config({}),bo.config({}),se.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),ko("wordcount-events",[Zd(w=>{const A=se.getValue(w),P=A.mode==="words"?"characters":"words";se.setValue(w,{mode:P,count:A.count}),E(w,A.count,P)}),Xn(w=>{y.on("wordCountUpdate",A=>{const{mode:P}=se.getValue(w);se.setValue(w,{mode:P,count:A.wordCount}),E(w,A.wordCount,P)})})])]),eventOrder:{[Qs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(o,s)),xy(o)&&b.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":o.translate(["Build with {0}","TinyMCE"])},innerHtml:o.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:ye([go.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const b="tox-statusbar__text-container--flex-start",y="tox-statusbar__text-container--flex-end";if(d){const _="tox-statusbar__text-container-3-cols";return p||f?p&&!f?[_,y]:[_,b]:[_,"tox-statusbar__text-container--space-around"]}return[p&&!f?y:b]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=a(),d=((f,p)=>{const b=(_=>{const E=x_(_);return E===!1?Dg.None:E==="both"?Dg.Both:Dg.Vertical})(f);if(b===Dg.None)return O.none();const y=b===Dg.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return O.some(xd("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":p.translate(y),"data-mce-name":"resize-handle"},behaviours:[Lp.config({mode:"mouse",repositionTarget:!1,onDrag:(_,E,w)=>cw(f,w,b),blockerClass:"tox-blocker"}),Gt.config({mode:"special",onLeft:()=>Lu(f,b,-1,0),onRight:()=>Lu(f,b,1,0),onUp:()=>Lu(f,b,0,-1),onDown:()=>Lu(f,b,0,1)}),xr.config({}),go.config({}),Kr.config(p.tooltips.getConfig({tooltipText:p.translate("Resize")}))]},p.icons))})(o,s);return l.concat(d.toArray())})()}},u1=(o,s)=>s.get().getOrDie(`UI for ${o} has not been rendered`),xM=(o,s)=>{const a=o.inline,l=a?q8:Vx,d=pp(o)?J7:EO,f=(()=>{const ce=dn(),he=dn(),we=dn();return{dialogUi:ce,popupUi:he,mainUi:we,getUiMotherships:()=>{const Ae=ce.get().map(Ve=>Ve.mothership),Ue=he.get().map(Ve=>Ve.mothership);return Ae.fold(()=>Ue.toArray(),Ve=>Ue.fold(()=>[Ve],Ye=>yn(Ve.element,Ye.element)?[Ve]:[Ve,Ye]))},lazyGetInOuterOrDie:(Ae,Ue)=>()=>we.get().bind(Ve=>Ue(Ve.outerContainer)).getOrDie(`Could not find ${Ae} element in OuterContainer`)}})(),p=dn(),b=dn(),y=dn(),_=Ys().deviceType.isTouch()?["tox-platform-touch"]:[],E=om(o),w=kl(o),A=Bn({dom:{tag:"div",classes:["tox-anchorbar"]}}),P=Bn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),I=()=>f.mainUi.get().map(ce=>ce.outerContainer).bind(Fr.getHeader),Y=f.lazyGetInOuterOrDie("anchor bar",A.getOpt),G=f.lazyGetInOuterOrDie("bottom anchor bar",P.getOpt),J=f.lazyGetInOuterOrDie("toolbar",Fr.getToolbar),j=f.lazyGetInOuterOrDie("throbber",Fr.getThrobber),Z=((ce,he,we,Ae)=>{const Ue=Mt(!1),Ve=(cn=>{const Xt=Mt(om(cn)?"bottom":"top");return{isPositionedAtTop:()=>Xt.get()==="top",getDockingMode:Xt.get,setDockingMode:Xt.set}})(he),Ye={icons:()=>he.ui.registry.getAll().icons,menuItems:()=>he.ui.registry.getAll().menuItems,translate:Xd.translate,isDisabled:()=>!he.ui.isEnabled(),getOption:he.options.get,tooltips:F7(ce.dialog),checkUiComponentContext:cn=>{if(u_(he))return{contextType:"disabled",shouldDisable:!0};const[Xt,mr=""]=cn.split(":"),Un=he.ui.registry.getAll().contexts;return{contextType:Xt,shouldDisable:!dt(Un,Xt).fold(()=>dt(Un,"mode").map(ta=>ta("design")).getOr(!1),ta=>mr.charAt(0)==="!"?!ta(mr.slice(1)):ta(mr))}}},ft=kO(he),Ut=(cn=>{const Xt=oa=>()=>cn.formatter.match(oa),mr=oa=>()=>{const Ea=cn.formatter.get(oa);return Ea!==void 0?O.some({tag:Ea.length>0&&(Ea[0].inline||Ea[0].block)||"div",styles:cn.dom.parseStyle(cn.formatter.getCssText(oa))}):O.none()},Un=Mt([]),ta=Mt([]),rr=Mt(!1);return cn.on("PreInit",oa=>{const Ea=dO(cn),Fp=fO(cn,Ea,Xt,mr);Un.set(Fp)}),cn.on("addStyleModifications",oa=>{const Ea=fO(cn,oa.items,Xt,mr);ta.set(Ea),rr.set(oa.replace)}),{getData:()=>{const oa=rr.get()?[]:Un.get(),Ea=ta.get();return oa.concat(Ea)}}})(he),Yt=(cn=>({colorPicker:Bu(cn),hasCustomColors:I7(cn),getColors:US(cn),getColorCols:iO(cn)}))(he),ro=(cn=>({isDraggableModal:lO(cn)}))(he),Zo={shared:{providers:Ye,anchors:aO(he,we,Ae,Ve.isPositionedAtTop),header:Ve},urlinput:ft,styles:Ut,colorinput:Yt,dialog:ro,isContextMenuOpen:()=>Ue.get(),setContextMenuState:cn=>Ue.set(cn)},fr=cn=>O.none(),Xr={...Zo,shared:{...Zo.shared,interpreter:cn=>BS(cn,{},Xr,fr),getSink:ce.popup}},Nn={...Zo,shared:{...Zo.shared,interpreter:cn=>BS(cn,{},Nn,fr),getSink:ce.dialog}};return{popup:Xr,dialog:Nn}})({popup:()=>re.fromOption(f.popupUi.get().map(ce=>ce.sink),"(popup) UI has not been rendered"),dialog:()=>re.fromOption(f.dialogUi.get().map(ce=>ce.sink),"UI has not been rendered")},o,Y,G),te=()=>{const ce=(()=>{const Zo={attributes:{[qs]:E?df.BottomToTop:df.TopToBottom}},fr=Fr.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Z.popup,onEscape:()=>{o.focus()}}),Xr=Fr.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Z.popup.shared.getSink,providers:Z.popup.shared.providers,onEscape:()=>{o.focus()},onToolbarToggled:Ea=>{((Fp,fb)=>{Fp.dispatch("ToggleToolbarDrawer",{state:fb})})(o,Ea)},type:w,lazyToolbar:J,lazyHeader:()=>I().getOrDie("Could not find header element"),...Zo}),Nn=Fr.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Z.popup.shared.providers,onEscape:()=>{o.focus()},type:w}),cn=ky(o),Xt=w_(o),mr=_y(o),Un=v_(o),ta=cn||Xt||mr,rr=[(oa=Un,Fr.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:oa})),fr];var oa;return Fr.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ta?[]:["tox-editor-header--empty"]),...Zo},components:sr([mr?rr:[],cn?[Nn]:Xt?[Xr]:[],kg(o)?[]:[A.asSpec()]]),sticky:pp(o),editor:o,sharedBackstage:Z.popup.shared})})(),he={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Fr.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Fr.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},we=Fr.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Z.popup}),Ae=Fr.parts.viewWrapper({backstage:Z.popup}),Ue=b_(o)&&!a?O.some(yM(o,Z.popup.shared.providers)):O.none(),Ve=sr([E?[]:[ce],a?[]:[he],E?[ce]:[]]),Ye=Fr.parts.editorContainer({components:sr([Ve,a?[]:[P.asSpec()]])}),ft=S_(o),Ut={role:"application",...Xd.isRtl()?{dir:"rtl"}:{},...ft?{"aria-hidden":"true"}:{}},Yt=Ws(Fr.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(_),styles:{visibility:"hidden",...ft?{opacity:"0",border:"0"}:{}},attributes:Ut},components:[Ye,...a?[]:[Ae,...Ue.toArray()],we],behaviours:ye([Yr(()=>Z.popup.shared.providers.checkUiComponentContext("any")),Wt.config({disableClass:"tox-tinymce--disabled"}),Gt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ro=ok(Yt);return p.set(ro),{mothership:ro,outerContainer:Yt}},oe=ce=>{const he=w4((Ae=>(Ue=>{const Ve=((Ut,Yt)=>{if(typeof Yt=="number")return O.from(Yt);const ro=/^([0-9.]+)(pt|em|px)$/.exec(Yt.trim());if(ro){const Zo=ro[2],fr=Number.parseFloat(ro[1]);if(Number.isNaN(fr)||fr<0)return O.none();if(Zo==="em")return O.from(fr*Number.parseFloat(window.getComputedStyle(Ut.dom).fontSize));if(Zo==="pt")return O.from(.75*fr);if(Zo==="px")return O.from(fr)}return O.none()})(_t(Ue.targetElm),x2(Ue)),Ye=z0(Ue),ft=v2(Ue);return Ve.map(Ut=>tw(Ut,Ye,ft))})(Ae).getOr(x2(Ae)))(o)),we=w4((Ae=>wA(Ae).getOr(f_(Ae)))(o));return o.inline||(vi("div","width",we)&&Zt(ce.element,"width",we),vi("div","height",he)?Zt(ce.element,"height",he):Zt(ce.element,"height","400px")),he};return{popups:{backstage:Z.popup,getMothership:()=>u1("popups",y)},dialogs:{backstage:Z.dialog,getMothership:()=>u1("dialogs",b)},renderUI:()=>{const ce=te(),he=(()=>{const Ae=wy(o),Ue=yn(pa(),Ae)&&Vs(Ae,"display")==="grid",Ve={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(_),attributes:{...Xd.isRtl()?{dir:"rtl"}:{}}},behaviours:ye([ps.config({useFixed:()=>d.isDocked(I)})])},Ye={dom:{styles:{width:document.body.clientWidth+"px"}},events:ur([je(yu(),Yt=>{Zt(Yt.element,"width",document.body.clientWidth+"px")})])},ft=Ws(Cr(Ve,Ue?Ye:{})),Ut=ok(ft);return b.set(Ut),{sink:ft,mothership:Ut}})(),we=nm(o)?(()=>{const Ae={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(_),attributes:{...Xd.isRtl()?{dir:"rtl"}:{}}},behaviours:ye([ps.config({useFixed:()=>d.isDocked(I),getBounds:()=>s.getPopupSinkBounds()})])},Ue=Ws(Ae),Ve=ok(Ue);return y.set(Ve),{sink:Ue,mothership:Ve}})():(Ae=>(y.set(Ae.mothership),Ae))(he);return f.dialogUi.set(he),f.popupUi.set(we),f.mainUi.set(ce),(Ae=>{const{mainUi:Ue,popupUi:Ve,uiMotherships:Ye}=Ae;Rn(KR(o),(Xt,mr)=>{o.ui.registry.addGroupToolbarButton(mr,Xt)});const{buttons:ft,menuItems:Ut,contextToolbars:Yt,sidebars:ro,views:Zo}=o.ui.registry.getAll(),fr=E2(o),Xr={menuItems:Ut,menus:oz(o),menubar:YE(o),toolbar:fr.getOrThunk(()=>g_(o)),allowToolbarGroups:w===nl.floating,buttons:ft,sidebar:ro,views:Zo};var Nn;Nn=Ue.outerContainer,o.addShortcut("alt+F9","focus menubar",()=>{Fr.focusMenubar(Nn)}),o.addShortcut("alt+F10","focus toolbar",()=>{Fr.focusToolbar(Nn)}),o.addCommand("ToggleToolbarDrawer",(Xt,mr)=>{mr!=null&&mr.skipFocus?Fr.toggleToolbarDrawerWithoutFocusing(Nn):Fr.toggleToolbarDrawer(Nn)}),o.addQueryStateHandler("ToggleToolbarDrawer",()=>Fr.isToolbarDrawerToggled(Nn)),((Xt,mr,Un)=>{const ta=(kn,Lg)=>{tt([mr,...Un],zf=>{zf.broadcastEvent(kn,Lg)})},rr=(kn,Lg)=>{tt([mr,...Un],zf=>{zf.broadcastOn([kn],Lg)})},oa=kn=>rr(wu(),{target:kn.target}),Ea=dl(),Fp=Wi(Ea,"touchstart",oa),fb=Wi(Ea,"touchmove",kn=>ta(_b(),kn)),_w=Wi(Ea,"touchend",kn=>ta(sd(),kn)),kw=Wi(Ea,"mousedown",oa),Hp=Wi(Ea,"mouseup",kn=>{kn.raw.button===0&&rr(c0(),{target:kn.target})}),Bg=kn=>rr(wu(),{target:_t(kn.target)}),vm=kn=>{kn.button===0&&rr(c0(),{target:_t(kn.target)})},g1=()=>{tt(Xt.editorManager.get(),kn=>{Xt!==kn&&kn.dispatch("DismissPopups",{relatedTarget:Xt})})},mb=kn=>ta(Lm(),dh(kn)),_m=kn=>{rr(pf(),{}),ta(yu(),dh(kn))},pb=is(_t(Xt.getElement())),$p=Wb(pb,"scroll",kn=>{requestAnimationFrame(()=>{if(Xt.getContainer()!=null){const Lg=Ms(Xt,mr.element).map(zf=>[zf.element,...zf.others]).getOr([]);fn(Lg,zf=>yn(zf,kn.target))&&(Xt.dispatch("ElementScroll",{target:kn.target.dom}),ta(ns(),kn))}})}),tv=()=>rr(pf(),{}),ov=kn=>{kn.state&&rr(wu(),{target:_t(Xt.getContainer())})},h1=kn=>{rr(wu(),{target:_t(kn.relatedTarget.getContainer())})},Pg=kn=>Xt.dispatch("focusin",kn),km=kn=>Xt.dispatch("focusout",kn);Xt.on("PostRender",()=>{Xt.on("click",Bg),Xt.on("tap",Bg),Xt.on("mouseup",vm),Xt.on("mousedown",g1),Xt.on("ScrollWindow",mb),Xt.on("ResizeWindow",_m),Xt.on("ResizeEditor",tv),Xt.on("AfterProgressState",ov),Xt.on("DismissPopups",h1),tt([mr,...Un],kn=>{kn.element.dom.addEventListener("focusin",Pg),kn.element.dom.addEventListener("focusout",km)})}),Xt.on("remove",()=>{Xt.off("click",Bg),Xt.off("tap",Bg),Xt.off("mouseup",vm),Xt.off("mousedown",g1),Xt.off("ScrollWindow",mb),Xt.off("ResizeWindow",_m),Xt.off("ResizeEditor",tv),Xt.off("AfterProgressState",ov),Xt.off("DismissPopups",h1),tt([mr,...Un],kn=>{kn.element.dom.removeEventListener("focusin",Pg),kn.element.dom.removeEventListener("focusout",km)}),kw.unbind(),Fp.unbind(),fb.unbind(),_w.unbind(),Hp.unbind(),$p.unbind()}),Xt.on("detach",()=>{tt([mr,...Un],$e),tt([mr,...Un],kn=>kn.destroy())})})(o,Ue.mothership,Ye),d.setup(o,Z.popup.shared,I),oM(o,Z.popup),iM(o,Z.popup.shared.getSink,Z.popup),(Xt=>{const{sidebars:mr}=Xt.ui.registry.getAll();tt(qo(mr),Un=>{const ta=mr[Un],rr=()=>Ks(O.from(Xt.queryCommandValue("ToggleSidebar")),Un);Xt.ui.registry.addToggleButton(Un,{icon:ta.icon,tooltip:ta.tooltip,onAction:oa=>{Xt.execCommand("ToggleSidebar",!1,Un),oa.setActive(rr())},onSetup:oa=>{oa.setActive(rr());const Ea=()=>oa.setActive(rr());return Xt.on("ToggleSidebar",Ea),()=>{Xt.off("ToggleSidebar",Ea)}},context:"any"})})})(o),i8(o,j,Z.popup.shared),J8(o,Yt,Ve.sink,{backstage:Z.popup}),hM(o,Ve.sink);const cn={targetNode:o.getElement(),height:oe(Ue.outerContainer)};return l.render(o,Ae,Xr,Z.popup,cn)})({popupUi:we,dialogUi:he,mainUi:ce,uiMotherships:f.getUiMotherships()})}}},F4=ue([Ge("lazySink"),tn("dragBlockClass"),Yn("getBounds",ws),Ee("useTabstopAt",jt),Ee("firstTabstop",0),Ee("eventOrder",{}),ke("modalBehaviours",[Gt]),li("onExecute"),B1("onEscape")]),H4={sketch:Et},vM=ue([Kd({name:"draghandle",overrides:(o,s)=>({behaviours:ye([Lp.config({mode:"mouse",getTarget:a=>Ia(a,'[role="dialog"]').getOr(a),blockerClass:o.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:o.getDragBounds})])})}),ol({schema:[Ge("dom")],name:"title"}),ol({factory:H4,schema:[Ge("dom")],name:"close"}),ol({factory:H4,schema:[Ge("dom")],name:"body"}),Kd({factory:H4,schema:[Ge("dom")],name:"footer"}),Su({factory:{sketch:(o,s)=>({...o,dom:s.dom,components:s.components})},schema:[Ee("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ee("components",[])],name:"blocker"})]),Ba=_l({name:"ModalDialog",configFields:F4(),partFields:vM(),factory:(o,s,a,l)=>{const d=dn(),f=wt("modal-events"),p={...o.eventOrder,[it()]:[f].concat(o.eventOrder["alloy.system.attached"]||[])},b=Ys();return{uid:o.uid,dom:o.dom,components:s,apis:{show:y=>{d.set(y);const _=o.lazySink(y).getOrDie(),E=l.blocker(),w=_.getSystem().build({...E,components:E.components.concat([Bl(y)]),behaviours:ye([go.config({}),ko("dialog-blocker-events",[Ss(pl(),()=>{Pu.isBlocked(y)||Gt.focusIn(y)})])])});em(_,w),Gt.focusIn(y)},hide:y=>{d.clear(),es(y.element).each(_=>{y.getSystem().getByDom(_).each(E=>{ku(E)})})},getBody:y=>yg(y,o,"body"),getFooter:y=>Pr(y,o,"footer"),setIdle:y=>{Pu.unblock(y)},setBusy:(y,_)=>{Pu.block(y,_)}},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Fe(o.modalBehaviours,[bo.config({}),Gt.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt,firstTabstop:o.firstTabstop}),Pu.config({getRoot:d.get}),ko(f,[Xn(y=>{const _=yg(y,o,"title").element,E=(w=>w.dom.textContent)(_);b.os.isMacOS()&&$t(E)?io(y.element,"aria-label",E):((w,A)=>{const P=cs(w,"id").fold(()=>{const I=wt("dialog-label");return io(A,"id",I),I},Et);io(w,"aria-labelledby",P)})(y.element,_)})])])}},apis:{show:(o,s)=>{o.show(s)},hide:(o,s)=>{o.hide(s)},getBody:(o,s)=>o.getBody(s),getFooter:(o,s)=>o.getFooter(s),setBusy:(o,s,a)=>{o.setBusy(s,a)},setIdle:(o,s)=>{o.setIdle(s)}}}),l6=oo([Bs,H0].concat(Cg)),_M=bu,Kx=[oC("button"),bc,ka("align","end",["start","end"]),Q2,Au,Dm("buttonType",["primary","secondary"]),tr("context","mode:design")],dw=[...Kx,bp],Yx=[Zs("type",["submit","cancel","custom"]),...dw],kM=[Zs("type",["menu"]),yp,lm,bc,Vr("items",l6),...Kx],Sd=[...Kx,Zs("type",["togglebutton"]),lm,bc,yp,Js("active",!1)],wM=$a("type",{submit:Yx,cancel:Yx,custom:Yx,menu:kM,togglebutton:Sd}),CM=[Bs,bp,Zs("level",["info","warn","error","success"]),$0,Ee("url","")],c6=oo(CM),d6=[Bs,bp,Au,oC("button"),bc,Bz,Dm("buttonType",["primary","secondary","toolbar"]),Q2,tr("context","mode:design")],SM=oo(d6),f1=[Bs,H0],Sf=f1.concat([bf]),EM=f1.concat([L_,Au,tr("context","mode:design")]),zM=oo(EM),TM=bu,OM=Sf.concat([bD("auto"),tr("context","mode:design")]),u6=oo(OM),AM=gu([Lh,bp,$0]),NM=Sf.concat([tr("storageKey","default"),tr("context","mode:design")]),RM=oo(NM),f6=Dr,$4=oo(Sf),m6=Dr,p6=f1.concat([tr("tag","textarea"),us("scriptId"),us("scriptUrl"),Oa("onFocus"),_a("settings",void 0,Pf)]),g6=f1.concat([tr("tag","textarea"),Ei("init")]),h6=tc(o=>er("customeditor.old",wi(g6),o).orThunk(()=>er("customeditor.new",wi(p6),o))),V4=Dr,DM=Sf.concat([tr("context","mode:design")]),U4=oo(DM),m1=Ci(xa),b6=o=>[Bs,Si("columns"),o],y6=[Bs,us("html"),ka("presets","presentation",["presentation","document"]),Yn("onInit",qe),Js("stretched",!1)],x6=oo(y6),MM=Sf.concat([Js("border",!1),Js("sandboxed",!0),Js("streamContent",!1),Js("transparent",!0)]),BM=oo(MM),uw=Dr,PM=oo(f1.concat([Ur("height")])),LM=oo([us("url"),Mr("zoom"),Mr("cachedWidth"),Mr("cachedHeight")]),v6=Sf.concat([Ur("inputMode"),Ur("placeholder"),Js("maximized",!1),Au,tr("context","mode:design")]),_6=oo(v6),j4=Dr,k6=o=>[Bs,L_,o,ka("align","start",["start","center","end"]),Ur("for")],jl=[bp,Lh],w6=[bp,Vr("items",Sc(0,()=>C6))],C6=td([oo(jl),oo(w6)]),IM=Sf.concat([Vr("items",C6),Au,tr("context","mode:design")]),S6=oo(IM),FM=Dr,HM=Sf.concat([If("items",[bp,Lh]),Aa("size",1),Au,tr("context","mode:design")]),$M=oo(HM),E6=Dr,xm=Sf.concat([Js("constrain",!0),Au,tr("context","mode:design")]),Z4=oo(xm),W4=oo([us("width"),us("height")]),fw=f1.concat([L_,Aa("min",0),Aa("max",0)]),q4=oo(fw),VM=hu,UM=[Bs,Vr("header",Dr),Vr("cells",Ci(Dr))],jM=oo(UM),ZM=Sf.concat([Ur("placeholder"),Js("maximized",!1),Au,tr("context","mode:design")]),WM=oo(ZM),qM=Dr,z6=[Zs("type",["directory","leaf"]),X2,us("id"),Ui("menu",NO),Ur("customStateIcon"),Ur("customStateIconTooltip")],G4=oo(z6),GM=z6.concat([Vr("children",Sc(0,()=>ec("type",{directory:Ef,leaf:G4})))]),Ef=oo(GM),mw=ec("type",{directory:Ef,leaf:G4}),KM=[Bs,Vr("items",mw),Oa("onLeafAction"),Oa("onToggleExpand"),nc("defaultExpandedIds",[],Dr),Ur("defaultSelectedId")],YM=oo(KM),T6=Sf.concat([ka("filetype","file",["image","media","file"]),Au,Ur("picker_text"),tr("context","mode:design")]),O6=oo(T6),K4=oo([Lh,eC]),p1=o=>Cs("items","items",{tag:"required",process:{}},Ci(tc(s=>er(`Checking item of ${o}`,cb,s).fold(a=>re.error(ni(a)),a=>re.value(a))))),cb=fu(()=>{return ec("type",{alertbanner:c6,bar:oo((o=p1("bar"),[Bs,o])),button:SM,checkbox:zM,colorinput:RM,colorpicker:$4,dropzone:U4,grid:oo(b6(p1("grid"))),iframe:BM,input:_6,listbox:S6,selectbox:$M,sizeinput:Z4,slider:q4,textarea:WM,urlinput:O6,customeditor:h6,htmlpanel:x6,imagepreview:PM,collection:u6,label:oo(k6(p1("label"))),table:jM,tree:YM,panel:Y4});var o}),Xx=[Bs,Ee("classes",[]),Vr("items",cb)],Y4=oo(Xx),A6=[oC("tab"),X2,Vr("items",cb)],N6=[Bs,If("tabs",A6)],R6=oo(N6),XM=dw,JM=wM,QM=oo([us("title"),Xs("body",ec("type",{panel:Y4,tabpanel:R6})),tr("size","normal"),nc("buttons",[],JM),Ee("initialData",{}),Yn("onAction",qe),Yn("onChange",qe),Yn("onSubmit",qe),Yn("onClose",qe),Yn("onCancel",qe),Yn("onTabChange",qe)]),eB=oo([Zs("type",["cancel","custom"]),...XM]),tB=oo([us("title"),us("url"),Mr("height"),Mr("width"),oc("buttons",eB),Yn("onAction",qe),Yn("onCancel",qe),Yn("onClose",qe),Yn("onMessage",qe)]),pw=o=>Ro(o)?[o].concat(Xo(Gs(o),pw)):Po(o)?Xo(o,pw):[],D6=o=>Dt(o.type)&&Dt(o.name),oB={checkbox:TM,colorinput:f6,colorpicker:m6,dropzone:m1,input:j4,iframe:uw,imagepreview:LM,selectbox:E6,sizeinput:W4,slider:VM,listbox:FM,size:W4,textarea:qM,urlinput:K4,customeditor:V4,collection:AM,togglemenuitem:_M},M6=o=>{const s=(l=>So(pw(l),D6))(o),a=Xo(s,l=>(d=>O.from(oB[d.type]))(l).fold(()=>[],d=>[Xs(l.name,d)]));return oo(a)},B6=o=>{var s;return{internalDialog:aa(er("dialog",QM,o)),dataValidator:M6(o),initialData:(s=o.initialData)!==null&&s!==void 0?s:{}}},Mg={open:(o,s)=>{const a=B6(s);return o(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(o,s)=>o(aa(er("dialog",tB,s))),redial:o=>B6(o)};var db=Object.freeze({__proto__:null,events:(o,s)=>{const a=(l,d)=>{o.updateState.each(f=>{const p=f(l,d);s.set(p)}),o.renderComponents.each(f=>{const p=f(d,s.get());(o.reuseDom?u2:d2)(l,p)})};return ur([je(Ot(),(l,d)=>{const f=d;if(!f.universal){const p=o.channel;Je(f.channels,p)&&a(l,f.data)}}),Xn((l,d)=>{o.initialData.each(f=>{a(l,f)})})])}}),nB=Object.freeze({__proto__:null,getState:(o,s,a)=>a}),P6=[Ge("channel"),tn("renderComponents"),tn("updateState"),tn("initialData"),Js("reuseDom",!0)];const jc=qt({fields:P6,name:"reflecting",active:db,apis:nB,state:Object.freeze({__proto__:null,init:()=>{const o=Mt(O.none());return{readState:()=>o.get().getOr("none"),get:o.get,set:o.set,clear:()=>o.set(O.none())}}})}),L6=o=>{const s=[],a={};return Qn(o,(l,d)=>{l.fold(()=>{s.push(d)},f=>{a[d]=f})}),s.length>0?re.error(s):re.value(a)},rB=(o,s,a,l)=>{const d=Bn(Zy.sketch(p=>({dom:{tag:"div",classes:["tox-form"].concat(o.classes)},components:Se(o.items,b=>MS(p,b,s,a,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:ye([Gt.config({mode:"acyclic",useTabstopAt:gs(Wy)}),(f=d,_n.config({find:f.getOpt})),p7(d,{postprocess:p=>L6(p).fold(b=>(console.error(b),{}),Et)}),ko("dialog-body-panel",[je(pl(),(p,b)=>{p.getSystem().broadcastOn([kx],{newFocus:O.some(b.event.target)})})])])};var f},sB=hd({name:"TabButton",configFields:[Ee("uid",void 0),Ge("value"),Cs("dom","dom",ed(()=>({attributes:{role:"tab",id:wt("aria"),"aria-selected":"false"}})),Vi()),tn("action"),Ee("domModification",{}),ke("tabButtonBehaviours",[go,Gt,se]),Ge("view")],factory:(o,s)=>({uid:o.uid,dom:o.dom,components:o.components,events:l_(o.action),behaviours:Fe(o.tabButtonBehaviours,[go.config({}),Gt.config({mode:"execution",useSpace:!0,useEnter:!0}),se.config({store:{mode:"memory",initialValue:o.value}})]),domModification:o.domModification})}),I6=ue([Ge("tabs"),Ge("dom"),Ee("clickToDismiss",!1),ke("tabbarBehaviours",[Vn,Gt]),nf(["tabClass","selectedClass"])]),aB=jv({factory:sB,name:"tabs",unit:"tab",overrides:o=>{const s=(l,d)=>{Vn.dehighlight(l,d),Vt(l,Ti(),{tabbar:l,button:d})},a=(l,d)=>{Vn.highlight(l,d),Vt(l,jd(),{tabbar:l,button:d})};return{action:l=>{const d=l.getSystem().getByUid(o.uid).getOrDie(),f=Vn.isHighlighted(d,l);(f&&o.clickToDismiss?s:f?qe:a)(d,l)},domModification:{classes:[o.markers.tabClass]}}}}),F6=ue([aB]),gw=_l({name:"Tabbar",configFields:I6(),partFields:F6(),factory:(o,s,a,l)=>({uid:o.uid,dom:o.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Fe(o.tabbarBehaviours,[Vn.config({highlightClass:o.markers.selectedClass,itemClass:o.markers.tabClass,onHighlight:(d,f)=>{io(f.element,"aria-selected","true")},onDehighlight:(d,f)=>{io(f.element,"aria-selected","false")}}),Gt.config({mode:"flow",getInitial:d=>Vn.getHighlighted(d).map(f=>f.element),selector:"."+o.markers.tabClass,executeOnMove:!0})])})}),Ip=hd({name:"Tabview",configFields:[ke("tabviewBehaviours",[bo])],factory:(o,s)=>({uid:o.uid,dom:o.dom,behaviours:Fe(o.tabviewBehaviours,[bo.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),X4=ue([Ee("selectFirst",!0),Bo("onChangeTab"),Bo("onDismissTab"),Ee("tabs",[]),ke("tabSectionBehaviours",[])]),H6=ol({factory:gw,schema:[Ge("dom"),ml("markers",[Ge("tabClass"),Ge("selectedClass")])],name:"tabbar",defaults:o=>({tabs:o.tabs})}),$6=ol({factory:Ip,name:"tabview"}),J4=ue([H6,$6]),ub=_l({name:"TabSection",configFields:X4(),partFields:J4(),factory:(o,s,a,l)=>{const d=(f,p)=>{Pr(f,o,"tabbar").each(b=>{p(b).each(Zi)})};return{uid:o.uid,dom:o.dom,components:s,behaviours:We(o.tabSectionBehaviours),events:ur(sr([o.selectFirst?[Xn((f,p)=>{d(f,Vn.getFirst)})]:[],[je(jd(),(f,p)=>{(b=>{const y=se.getValue(b);Pr(b,o,"tabview").each(_=>{H(o.tabs,E=>E.value===y).each(E=>{const w=E.view();cs(b.element,"id").each(A=>{io(_.element,"aria-labelledby",A)}),bo.set(_,w),o.onChangeTab(_,b,w)})})})(p.event.button)}),je(Ti(),(f,p)=>{const b=p.event.button;o.onDismissTab(f,b)})]])),apis:{getViewItems:f=>Pr(f,o,"tabview").map(p=>bo.contents(p)).getOr([]),showTab:(f,p)=>{d(f,b=>{const y=Vn.getCandidates(b);return H(y,_=>se.getValue(_)===p).filter(_=>!Vn.isHighlighted(b,_))})}}}},apis:{getViewItems:(o,s)=>o.getViewItems(s),showTab:(o,s,a)=>{o.showTab(s,a)}}}),Jx=(o,s)=>{Zt(o,"height",s+"px"),Zt(o,"flex-basis",s+"px")},Qx=(o,s,a)=>{Ia(o,'[role="dialog"]').each(l=>{$n(l,'[role="tablist"]').each(d=>{a.get().map(f=>(Zt(s,"height","0"),Zt(s,"flex-basis","0"),Math.min(f,((p,b,y)=>{const _=Uu(p).dom,E=Ia(p,".tox-dialog-wrap").getOr(p);let w;w=Vs(E,"position")==="fixed"?Math.max(_.clientHeight,window.innerHeight):Math.max(_.offsetHeight,_.scrollHeight);const A=kr(b),P=b.dom.offsetLeft>=y.dom.offsetLeft+ae(y)?Math.max(kr(y),A):A,I=parseInt(Vs(p,"margin-top"),10)||0,Y=parseInt(Vs(p,"margin-bottom"),10)||0;return w-(kr(p)+I+Y-P)})(l,s,d)))).each(f=>{Jx(s,f)})})})},hw=o=>$n(o,'[role="tabpanel"]'),V6="send-data-to-section",U6="send-data-to-view",iB=(o,s,a,l)=>{const d=Mt({}),f=E=>{const w=se.getValue(E),A=L6(w).getOr({}),P=d.get(),I=Cr(P,A);d.set(I)},p=E=>{const w=d.get();se.setValue(E,w)},b=Mt(null),y=Se(o.tabs,E=>({value:E.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[zr(a.shared.providers.translate(E.title))],view:()=>[Zy.sketch(w=>({dom:{tag:"div",classes:["tox-form"]},components:Se(E.items,A=>MS(w,A,s,a,l)),formBehaviours:ye([Gt.config({mode:"acyclic",useTabstopAt:gs(Wy)}),ko("TabView.form.events",[Xn(p),Sr(f)]),Pl.config({channels:U([{key:V6,value:{onReceive:f}},{key:U6,value:{onReceive:p}}])})])}))]})),_=(E=>{const w=dn();return{extraEvents:[Xn(P=>{const I=P.element;hw(I).each(Y=>{Zt(Y,"visibility","hidden"),P.getSystem().getByDom(Y).toOptional().each(G=>{const J=((Z,te,oe)=>Se(Z,(ce,he)=>{bo.set(oe,Z[he].view());const we=te.dom.getBoundingClientRect();return bo.set(oe,[]),we.height}))(E,Y,G);(Z=>at(Ne(Z,(te,oe)=>te>oe?-1:te<oe?1:0)))(J).fold(w.clear,w.set)}),Qx(I,Y,w),ln(Y,"visibility"),((G,J)=>{at(G).each(j=>ub.showTab(J,j.value))})(E,P),requestAnimationFrame(()=>{Qx(I,Y,w)})})}),je(yu(),P=>{const I=P.element;hw(I).each(Y=>{Qx(I,Y,w)})}),je(rk,(P,I)=>{const Y=P.element;hw(Y).each(G=>{const J=fc(is(G));Zt(G,"visibility","hidden");const j=_r(G,"height").map(te=>parseInt(te,10));ln(G,"height"),ln(G,"flex-basis");const Z=G.dom.getBoundingClientRect().height;j.forall(te=>Z>te)?(w.set(Z),Qx(Y,G,w)):j.each(te=>{Jx(G,te)}),ln(G,"visibility"),J.each(Da)})})],selectFirst:!1}})(y);return ub.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(E,w,A)=>{const P=se.getValue(w);Vt(E,VC,{name:P,oldName:b.get()}),b.set(P)},tabs:y,components:[ub.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[gw.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ye([xr.config({})])}),ub.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:ye([ko("tabpanel",_.extraEvents),Gt.config({mode:"acyclic"}),_n.config({find:E=>at(ub.getViewItems(E))}),Ng(O.none(),E=>(E.getSystem().broadcastOn([V6],{}),d.get()),(E,w)=>{d.set(w),E.getSystem().broadcastOn([U6],{})})])})},j6=(o,s,a,l,d,f)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(p=>({id:p})).getOr({}),...d?{"aria-live":"polite"}:{}}},components:[],behaviours:ye([bk(0),jc.config({channel:`${kk}-${s}`,updateState:(p,b)=>O.some({isTabPanel:()=>b.body.type==="tabpanel"}),renderComponents:p=>{const b=p.body;return b.type==="tabpanel"?[iB(b,p.initialData,l,f)]:[rB(b,p.initialData,l,f)]},initialData:o})])}),lB=Eh.deviceType.isTouch(),Q4=(o,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[o,s]}),e3=(o,s)=>Ba.parts.close(Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:o,buttonBehaviours:ye([xr.config({})])})),Z6=()=>Ba.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),W6=(o,s)=>Ba.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:gp(`<p>${xz(s.translate(o))}</p>`)}]}]}),q6=o=>Ba.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:o}),ev=(o,s)=>[yf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:o}),yf.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],t3=o=>{const s="tox-dialog",a=s+"-wrap",l=a+"__backdrop",d=s+"__disable-scroll";return Ba.sketch({lazySink:o.lazySink,onEscape:f=>(o.onEscape(f),O.some(!0)),useTabstopAt:f=>!Wy(f),firstTabstop:o.firstTabstop,dom:{tag:"div",classes:[s].concat(o.extraClasses),styles:{position:"relative",...o.extraStyles}},components:[o.header,o.body,...o.footer.toArray()],parts:{blocker:{dom:gp(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:lB?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:a,modalBehaviours:ye([go.config({}),ko("dialog-events",o.dialogEvents.concat([Ss(pl(),(f,p)=>{Pu.isBlocked(f)||Gt.focusIn(f)}),je(id(),(f,p)=>{f.getSystem().broadcastOn([kx],{newFocus:p.event.newFocus})})])),ko("scroll-lock",[Xn(()=>{Er(pa(),d)}),Sr(()=>{ar(pa(),d)})]),...o.extraBehaviours]),eventOrder:{[Qs()]:["dialog-events"],[it()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ad()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...o.eventOrder}})},G6=o=>Za.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ye([xr.config({}),Kr.config(o.tooltips.getConfig({tooltipText:o.translate("Close")}))]),components:[xd("close",{tag:"span",classes:["tox-icon"]},o.icons)],action:s=>{Vo(s,zg)}}),o3=(o,s,a,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(d=>({id:d})).getOr({})}},components:[],behaviours:ye([jc.config({channel:`${E5}-${s}`,initialData:o,renderComponents:d=>[zr(l.translate(d.title))]})])}),n3=()=>({dom:gp('<div class="tox-dialog__draghandle"></div>')}),K6=(o,s,a)=>((l,d,f)=>{const p=Ba.parts.title(o3(l,d,O.none(),f)),b=Ba.parts.draghandle(n3()),y=Ba.parts.close(G6(f)),_=[p].concat(l.draggable?[b]:[]).concat([y]);return yf.sketch({dom:gp('<div class="tox-dialog__header"></div>'),components:_})})({title:a.shared.providers.translate(o),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),Y6=(o,s,a,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(o)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:gp('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),bw=(o,s,a)=>({onClose:()=>a.closeWindow(),onBlock:l=>{const d=$n(o().element,".tox-dialog__header").map(f=>kr(f));Ba.setBusy(o(),(f,p)=>Y6(l.message,p,s,d))},onUnblock:()=>{Ba.setIdle(o())}}),X6="tox-dialog--fullscreen",yw="tox-dialog--width-lg",r3="tox-dialog--width-md",xw=o=>{switch(o){case"large":return O.some(yw);case"medium":return O.some(r3);default:return O.none()}},J6=(o,s)=>{const a=_t(s.element.dom);ir(a,X6)||(ai(a,[yw,r3]),xw(o).each(l=>Er(a,l)))},s3=(o,s)=>{const a=_t(o.element.dom),l=jf(a),d=H(l,f=>f===yw||f===r3).or(xw(s));((f,p)=>{tt(p,b=>{((y,_)=>{Va(y)?y.dom.classList.toggle(_):((E,w)=>Je(si(E),w)?ld(E,w):lc(E,w))(y,_),Es(y)})(f,b)})})(a,[X6,...d.toArray()])},a3=(o,s,a)=>Ws(t3({...o,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[xx({}),...o.extraBehaviours],onEscape:l=>{Vo(l,zg)},dialogEvents:s,eventOrder:{[Ot()]:[jc.name(),Pl.name()],[it()]:["scroll-lock",jc.name(),"messages","dialog-events","alloy.base.behaviour"],[ad()]:["alloy.base.behaviour","dialog-events","messages",jc.name(),"scroll-lock"]}})),i3=(o,s={})=>Se(o,a=>a.type==="menu"?(l=>{const d=Se(l.items,f=>{const p=dt(s,f.name).getOr(Mt(!1));return{...f,storage:p}});return{...l,items:d}})(a):a),Q6=o=>uo(o,(s,a)=>a.type==="menu"?uo(a.items,(l,d)=>(l[d.name]=d.storage,l),s):s,{}),eN=(o,s)=>[Qu(pl(),S5),o(Kh,(a,l,d,f)=>{dd(f.element)&&fc(is(f.element)).each(ig),s.onClose(),l.onClose()}),o(zg,(a,l,d,f)=>{l.onCancel(a),Vo(f,Kh)}),je($C,(a,l)=>s.onUnblock()),je(HC,(a,l)=>s.onBlock(l.event))],tN=(o,s,a)=>{const l=(f,p)=>je(f,(b,y)=>{d(b,(_,E)=>{p(o(),_,y.event,b)})}),d=(f,p)=>{jc.getState(f).get().each(b=>{p(b.internalDialog,f)})};return[...eN(l,s),l(dx,(f,p)=>p.onSubmit(f)),l(Hl,(f,p,b)=>{p.onChange(f,{name:b.name})}),l(dm,(f,p,b,y)=>{const _=()=>y.getSystem().isConnected()?Gt.focusIn(y):void 0,E=P=>su(P,"disabled")||cs(P,"aria-disabled").exists(I=>I==="true"),w=is(y.element),A=fc(w);p.onAction(f,{name:b.name,value:b.value}),fc(w).fold(_,P=>{E(P)||A.exists(I=>bs(P,I)&&E(I))?_():a().toOptional().filter(I=>!bs(I.element,P)).each(_)})}),l(VC,(f,p,b)=>{p.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),Sr(f=>{const p=o();se.setValue(f,p.getData())})]},oN=(o,s)=>{const a=s.map(f=>f.footerButtons).getOr([]),l=Uo(a,f=>f.align==="start"),d=(f,p)=>yf.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${f}`]},components:Se(p,b=>b.memento.asSpec())});return[d("start",l.pass),d("end",l.fail)]},nN=(o,s,a)=>({dom:gp('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ye([jc.config({channel:`${_x}-${s}`,initialData:o,updateState:(l,d)=>{const f=Se(d.buttons,p=>{const b=Bn(((y,_)=>wd(y,y.type,_))(p,a));return{name:p.name,align:p.align,memento:b}});return O.some({lookupByName:p=>((b,y,_)=>H(y,E=>E.name===_).bind(E=>E.memento.getOpt(b)))(l,f,p),footerButtons:f})},renderComponents:oN})])}),l3=(o,s,a)=>Ba.parts.footer(nN(o,s,a)),vw=(o,s)=>{if(o.getRoot().getSystem().isConnected()){const a=_n.getCurrent(o.getFormWrapper()).getOr(o.getFormWrapper());return Zy.getField(a,s).orThunk(()=>o.getFooter().bind(d=>jc.getState(d).get()).bind(d=>d.lookupByName(s)))}return O.none()},rN=(o,s,a)=>{const l=f=>{const p=o.getRoot();p.getSystem().isConnected()&&f(p)},d={getData:()=>{const f=o.getRoot(),p=f.getSystem().isConnected()?o.getFormWrapper():f;return{...se.getValue(p),...Rn(a,b=>b.get())}},setData:f=>{l(p=>{const b=d.getData(),y=Cr(b,f),_=((w,A)=>{const P=w.getRoot();return jc.getState(P).get().map(I=>aa(er("data",I.dataValidator,A))).getOr(A)})(o,y),E=o.getFormWrapper();se.setValue(E,_),Qn(a,(w,A)=>{_o(y,A)&&w.set(y[A])})})},setEnabled:(f,p)=>{vw(o,f).each(p?Wt.enable:Wt.disable)},focus:f=>{vw(o,f).each(go.focus)},block:f=>{if(!Dt(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(p=>{Vt(p,HC,{message:f})})},unblock:()=>{l(f=>{Vo(f,$C)})},showTab:f=>{l(p=>{const b=o.getBody();jc.getState(b).get().exists(y=>y.isTabPanel())&&_n.getCurrent(b).each(y=>{ub.showTab(y,f)})})},redial:f=>{l(p=>{const b=o.getId(),y=s(f),_=i3(y.internalDialog.buttons,a);p.getSystem().broadcastOn([`${gm}-${b}`],y),p.getSystem().broadcastOn([`${E5}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${kk}-${b}`],y.internalDialog),p.getSystem().broadcastOn([`${_x}-${b}`],{...y.internalDialog,buttons:_}),d.setData(y.initialData)})},close:()=>{l(f=>{Vo(f,Kh)})},toggleFullscreen:o.toggleFullscreen};return d},sN=(o,s,a,l=!1,d)=>{const f=wt("dialog"),p=wt("dialog-label"),b=wt("dialog-content"),y=o.internalDialog,_=Mt(y.size),E=xw(_.get()).toArray(),w=Bn(((oe,ce,he,we)=>yf.sketch({dom:gp('<div class="tox-dialog__header"></div>'),components:[o3(oe,ce,O.some(he),we),n3(),G6(we)],containerBehaviours:ye([Lp.config({mode:"mouse",blockerClass:"blocker",getTarget:Ae=>$i(Ae,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(Ae,Ue)=>{Ae.getSystem().broadcastOn([wu()],{target:Ue})}})])}))({title:y.title,draggable:!0},f,p,a.shared.providers)),A=Bn(((oe,ce,he,we,Ae,Ue)=>j6(oe,ce,O.some(he),we,Ae,Ue))({body:y.body,initialData:y.initialData},f,b,a,l,oe=>vw(Z,oe))),P=i3(y.buttons),I=Q6(P),Y=Ho(P.length!==0,Bn(((oe,ce,he)=>nN(oe,ce,he))({buttons:P},f,a))),G=tN(()=>te,{onBlock:oe=>{Pu.block(j,(ce,he)=>{const we=w.getOpt(j).map(Ae=>kr(Ae.element));return Y6(oe.message,he,a.shared.providers,we)})},onUnblock:()=>{Pu.unblock(j)},onClose:()=>s.closeWindow()},a.shared.getSink),J=Ys().os,j=Ws({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...E],attributes:{role:"dialog",...J.isMacOS()?{"aria-label":y.title}:{"aria-labelledby":p}}},eventOrder:{[Ot()]:[jc.name(),Pl.name()],[Qs()]:["execute-on-form"],[it()]:["reflecting","execute-on-form"]},behaviours:ye([Gt.config({mode:"cyclic",onEscape:oe=>(Vo(oe,Kh),O.some(!0)),useTabstopAt:oe=>!Wy(oe)&&(Pa(oe)!=="button"||ls(oe,"disabled")!=="disabled"),firstTabstop:1}),jc.config({channel:`${gm}-${f}`,updateState:(oe,ce)=>(_.set(ce.internalDialog.size),J6(ce.internalDialog.size,oe),d(),O.some(ce)),initialData:o}),go.config({}),ko("execute-on-form",G.concat([Ss(pl(),(oe,ce)=>{Gt.focusIn(oe)}),je(id(),(oe,ce)=>{oe.getSystem().broadcastOn([kx],{newFocus:ce.event.newFocus})})])),Pu.config({getRoot:()=>O.some(j)}),bo.config({}),xx({})]),components:[w.asSpec(),A.asSpec(),...Y.map(oe=>oe.asSpec()).toArray()]}),Z={getId:ue(f),getRoot:ue(j),getFooter:()=>Y.map(oe=>oe.get(j)),getBody:()=>A.get(j),getFormWrapper:()=>{const oe=A.get(j);return _n.getCurrent(oe).getOr(oe)},toggleFullscreen:()=>{s3(j,_.get())}},te=rN(Z,s.redial,I);return{dialog:j,instanceApi:te}};var c3=tinymce.util.Tools.resolve("tinymce.util.URI");const cB=["insertContent","setContent","execCommand","close","block","unblock"],aN=o=>Ro(o)&&cB.indexOf(o.mceAction)!==-1,dB=(o,s,a,l)=>{const d=wt("dialog"),f=K6(o.title,d,l),p=(J=>{const j={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[_k(O.none(),{dom:{tag:"iframe",attributes:{src:J.url}},behaviours:ye([xr.config({}),go.config({})])})]}],behaviours:ye([Gt.config({mode:"acyclic",useTabstopAt:gs(Wy)})])};return Ba.parts.body(j)})(o),b=o.buttons.bind(J=>J.length===0?O.none():O.some(l3({buttons:J},d,l))),y=((J,j)=>{const Z=(oe,ce)=>je(oe,(he,we)=>{te(he,(Ae,Ue)=>{ce(G,Ae,we.event,he)})}),te=(oe,ce)=>{jc.getState(oe).get().each(he=>{ce(he,oe)})};return[...eN(Z,j),Z(dm,(oe,ce,he)=>{ce.onAction(oe,{name:he.name})})]})(0,bw(()=>Y,l.shared.providers,s)),_={...o.height.fold(()=>({}),J=>({height:J+"px","max-height":J+"px"})),...o.width.fold(()=>({}),J=>({width:J+"px","max-width":J+"px"}))},E=o.width.isNone()&&o.height.isNone()?["tox-dialog--width-lg"]:[],w=new c3(o.url,{base_uri:new c3(window.location.href)}),A=`${w.protocol}://${w.host}${w.port?":"+w.port:""}`,P=Jc(),I=[jc.config({channel:`${gm}-${d}`,updateState:(J,j)=>O.some(j),initialData:o}),ko("messages",[Xn(()=>{const J=Wi(_t(window),"message",j=>{if(w.isSameOrigin(new c3(j.raw.origin))){const Z=j.raw.data;aN(Z)?((te,oe,ce)=>{switch(ce.mceAction){case"insertContent":te.insertContent(ce.content);break;case"setContent":te.setContent(ce.content);break;case"execCommand":const he=!!Cn(ce.ui)&&ce.ui;te.execCommand(ce.cmd,he,ce.value);break;case"close":oe.close();break;case"block":oe.block(ce.message);break;case"unblock":oe.unblock()}})(a,G,Z):(te=>!aN(te)&&Ro(te)&&_o(te,"mceAction"))(Z)&&o.onMessage(G,Z)}});P.set(J)}),Sr(P.clear)]),Pl.config({channels:{[z5]:{onReceive:(J,j)=>{$n(J.element,"iframe").each(Z=>{const te=Z.dom.contentWindow;$t(te)&&te.postMessage(j,A)})}}}})],Y=a3({id:d,header:f,body:p,footer:b,extraClasses:E,extraBehaviours:I,extraStyles:_},y,l),G=(J=>{const j=Z=>{J.getSystem().isConnected()&&Z(J)};return{block:Z=>{if(!Dt(Z))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");j(te=>{Vt(te,HC,{message:Z})})},unblock:()=>{j(Z=>{Vo(Z,$C)})},close:()=>{j(Z=>{Vo(Z,Kh)})},sendMessage:Z=>{j(te=>{te.getSystem().broadcastOn([z5],Z)})}}})(Y);return{dialog:Y,instanceApi:G}},iN=(o,s)=>aa(er("data",s,o)),lN=o=>$y(o,".tox-alert-dialog")||$y(o,".tox-confirm-dialog"),d3=(o,s,a)=>s&&a?[]:[Mn.config({contextual:{lazyContext:()=>O.some(As(_t(o.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>Ms(o,l.element).map(d=>({bounds:Ah(d),optScrollEnv:O.some({currentScrollTop:d.element.dom.scrollTop,scrollElmTop:Wr(d.element).top})})).getOrThunk(()=>({bounds:ws(),optScrollEnv:O.none()}))})],uB=o=>{const s=o.editor,a=pp(s),l=(y=>{const _=y.shared;return{open:(E,w)=>{const A=()=>{Ba.hide(G),w()},P=Bn(wd({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"cancel",y)),I=Z6(),Y=e3(A,_.providers),G=Ws(t3({lazySink:()=>_.getSink(),header:Q4(I,Y),body:W6(E,_.providers),footer:O.some(q6(ev([],[P.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(zg,A)],eventOrder:{}}));Ba.show(G);const J=P.get(G);go.focus(J)}}})(o.backstages.dialog),d=(y=>{const _=y.shared;return{open:(E,w)=>{const A=Z=>{Ba.hide(J),w(Z)},P=Bn(wd({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:O.some("primary"),align:"end",enabled:!0,icon:O.none()},"submit",y)),I=wd({context:"any",name:"no",text:"No",primary:!1,buttonType:O.some("secondary"),align:"end",enabled:!0,icon:O.none()},"cancel",y),Y=Z6(),G=e3(()=>A(!1),_.providers),J=Ws(t3({lazySink:()=>_.getSink(),header:Q4(Y,G),body:W6(E,_.providers),footer:O.some(q6(ev([],[I,P.asSpec()]))),onEscape:()=>A(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[je(zg,()=>A(!1)),je(dx,()=>A(!0))],eventOrder:{}}));Ba.show(J);const j=P.get(J);go.focus(j)}}})(o.backstages.dialog),f=(y,_)=>Mg.open((E,w,A)=>{const P=w,I=((Y,G,J)=>{const j=wt("dialog"),Z=Y.internalDialog,te=K6(Z.title,j,J),oe=Mt(Z.size),ce=xw(oe.get()).toArray(),he=((ro,Zo,fr,Xr)=>{const Nn=j6(ro,Zo,O.none(),fr,!1,Xr);return Ba.parts.body(Nn)})({body:Z.body,initialData:Z.initialData},j,J,ro=>vw(Ut,ro)),we=i3(Z.buttons),Ae=Q6(we),Ue=Ho(we.length!==0,l3({buttons:we},j,J)),Ve=tN(()=>Yt,bw(()=>ft,J.shared.providers,G),J.shared.getSink),Ye={id:j,header:te,body:he,footer:Ue,extraClasses:ce,extraBehaviours:[jc.config({channel:`${gm}-${j}`,updateState:(ro,Zo)=>(oe.set(Zo.internalDialog.size),J6(Zo.internalDialog.size,ro),O.some(Zo)),initialData:Y})],extraStyles:{}},ft=a3(Ye,Ve,J),Ut={getId:ue(j),getRoot:ue(ft),getBody:()=>Ba.getBody(ft),getFooter:()=>Ba.getFooter(ft),getFormWrapper:()=>{const ro=Ba.getBody(ft);return _n.getCurrent(ro).getOr(ro)},toggleFullscreen:()=>{s3(ft,oe.get())}},Yt=rN(Ut,G.redial,Ae);return{dialog:ft,instanceApi:Yt}})({dataValidator:A,initialData:P,internalDialog:E},{redial:Mg.redial,closeWindow:()=>{Ba.hide(I.dialog),_(I.instanceApi)}},o.backstages.dialog);return Ba.show(I.dialog),I.instanceApi.setData(P),I.instanceApi},y),p=(y,_,E,w)=>Mg.open((A,P,I)=>{const Y=iN(P,I),G=dn(),J=o.backstages.popup.shared.header.isPositionedAtTop(),j=()=>G.on(oe=>{Gn.reposition(oe),a&&J||Mn.refresh(oe)}),Z=sN({dataValidator:I,initialData:Y,internalDialog:A},{redial:Mg.redial,closeWindow:()=>{G.on(Gn.hide),s.off("ResizeEditor",j),G.clear(),E(Z.instanceApi)}},o.backstages.popup,w.ariaAttrs,j),te=Ws(Gn.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:w.persistent?{event:"doNotDismissYet"}:{},...J?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ye([ko("window-manager-inline-events",[je(Gu(),(oe,ce)=>{Vo(Z.dialog,zg)})]),...d3(s,a,J)]),isExtraPart:(oe,ce)=>lN(ce)}));return G.set(te),Gn.showWithinBounds(te,Bl(Z.dialog),{anchor:_},()=>{const oe=s.inline?pa():_t(s.getContainer()),ce=As(oe);return O.some(ce)}),a&&J||(Mn.refresh(te),s.on("ResizeEditor",j)),Z.instanceApi.setData(Y),Gt.focusIn(Z.dialog),Z.instanceApi},y),b=(y,_,E,w)=>Mg.open((A,P,I)=>{const Y=iN(P,I),G=dn(),J=o.backstages.popup.shared.header.isPositionedAtTop(),j=()=>G.on(oe=>{Gn.reposition(oe),Mn.refresh(oe)}),Z=sN({dataValidator:I,initialData:Y,internalDialog:A},{redial:Mg.redial,closeWindow:()=>{G.on(Gn.hide),s.off("ResizeEditor ScrollWindow ElementScroll",j),G.clear(),E(Z.instanceApi)}},o.backstages.popup,w.ariaAttrs,j),te=Ws(Gn.sketch({lazySink:o.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:w.persistent?{event:"doNotDismissYet"}:{},...J?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ye([ko("window-manager-inline-events",[je(Gu(),(oe,ce)=>{Vo(Z.dialog,zg)})]),Mn.config({contextual:{lazyContext:()=>O.some(As(_t(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:oe=>Ms(s,oe.element).map(ce=>({bounds:Ah(ce),optScrollEnv:O.some({currentScrollTop:ce.element.dom.scrollTop,scrollElmTop:Wr(ce.element).top})})).getOrThunk(()=>({bounds:ws(),optScrollEnv:O.none()}))})]),isExtraPart:(oe,ce)=>lN(ce)}));return G.set(te),Gn.showWithinBounds(te,Bl(Z.dialog),{anchor:_},()=>o.backstages.popup.shared.getSink().toOptional().bind(oe=>{const ce=Ms(s,oe.element).map(Ae=>Ah(Ae)).getOr(ws()),he=As(_t(s.getContentAreaContainer())),we=Ns(he,ce);return O.some(En(we.x,we.y,we.width,we.height-15))})),Mn.refresh(te),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",j),Z.instanceApi.setData(Y),Gt.focusIn(Z.dialog),Z.instanceApi},y);return{open:(y,_,E)=>{if(!pr(_)){if(_.inline==="toolbar")return p(y,o.backstages.popup.shared.anchors.inlineDialog(),E,_);if(_.inline==="bottom")return b(y,o.backstages.popup.shared.anchors.inlineBottomDialog(),E,_);if(_.inline==="cursor")return p(y,o.backstages.popup.shared.anchors.cursor(),E,_)}return f(y,E)},openUrl:(y,_)=>((E,w)=>Mg.openUrl(A=>{const P=dB(A,{closeWindow:()=>{Ba.hide(P.dialog),w(P.instanceApi)}},s,o.backstages.dialog);return Ba.show(P.dialog),P.instanceApi},E))(y,_),alert:(y,_)=>{l.open(y,_)},close:y=>{y.close()},confirm:(y,_)=>{d.open(y,_)}}},fB=o=>{VE(o),(s=>{const a=s.options.register,l=f=>{return Lo(f,Dt)?{value:(p=f,Iy(p.map((b,y)=>y%2==0?"#"+(_=>{return(E=_,wp(E)?O.some({value:cT(E)}):O.none()).orThunk(()=>hC(_).map(Py)).getOrThunk(()=>{const w=document.createElement("canvas");w.height=1,w.width=1;const A=w.getContext("2d");A.clearRect(0,0,w.width,w.height),A.fillStyle="#FFFFFF",A.fillStyle=_,A.fillRect(0,0,1,1);const P=A.getImageData(0,0,1,1).data,I=P[0],Y=P[1],G=P[2],J=P[3];return Py(Sg(I,Y,G,J))});var E})(b).value:b))),valid:!0}:{valid:!1,message:"Must be an array of strings."};var p},d=f=>Go(f)&&f>0?{value:f,valid:!0}:{valid:!1,message:"Must be a positive number."};a("color_map",{processor:l,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_map_raw",{processor:f=>Lo(f,Dt)?{value:Iy(f),valid:!0}:{valid:!1,message:"Must be an array of strings."}}),a("color_map_background",{processor:l}),a("color_map_foreground",{processor:l}),a("color_cols",{processor:d,default:wC(s)}),a("color_cols_foreground",{processor:d,default:gT(s,qh)}),a("color_cols_background",{processor:d,default:gT(s,kC)}),a("custom_colors",{processor:"boolean",default:!0}),a("color_default_foreground",{processor:"string",default:K_}),a("color_default_background",{processor:"string",default:K_})})(o),(s=>{const a=s.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:l=>l===!1?{value:[],valid:!0}:Dt(l)||Lo(l,Dt)?{value:nM(l),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(o)};Fd.add("silver",o=>{fB(o);let s=()=>ws();const{dialogs:a,popups:l,renderUI:d}=xM(o,{getPopupSinkBounds:()=>s()});ek(o,l.backstage.shared);const f=uB({editor:o,backstages:{popup:l.backstage,dialog:a.backstage}}),p=dn();return{renderUI:()=>{const b=d();return Ms(o,l.getMothership().element).each(y=>{s=()=>Ah(y)}),b},getWindowManagerImpl:ue(f),getNotificationManagerImpl:()=>$2(o,{backstage:l.backstage},l.getMothership(),p),getPromotionElement:()=>$n(_t(o.getContainer()),".tox-promotion").map(b=>b.dom).getOrNull()}})}()),DF}eG();(function(){var Tt=tinymce.util.Tools.resolve("tinymce.ModelManager");const zo=m=>h=>(v=>{const z=typeof v;return v===null?"null":z==="object"&&Array.isArray(v)?"array":z==="object"&&(N=D=v,(F=String).prototype.isPrototypeOf(N)||((V=D.constructor)===null||V===void 0?void 0:V.name)===F.name)?"string":z;var N,D,F,V})(h)===m,No=m=>h=>typeof h===m,Yo=m=>h=>m===h,Co=zo("string"),Dt=zo("object"),Ro=zo("array"),To=Yo(null),Po=No("boolean"),lo=Yo(void 0),Cn=m=>!(h=>h==null)(m),pr=No("function"),jr=No("number"),$t=()=>{},Kt=m=>()=>m,Go=m=>m,Lo=(m,h)=>m===h;function qe(m,...h){return(...v)=>{const z=h.concat(v);return m.apply(null,z)}}const Bt=m=>h=>!m(h),pt=m=>m(),ue=Kt(!1),Et=Kt(!0);class ve{constructor(h,v){this.tag=h,this.value=v}static some(h){return new ve(!0,h)}static none(){return ve.singletonNone}fold(h,v){return this.tag?v(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?ve.some(h(this.value)):ve.none()}bind(h){return this.tag?h(this.value):ve.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:ve.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Cn(h)?ve.some(h):ve.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ve.singletonNone=new ve(!1);const ht=Array.prototype.slice,gs=Array.prototype.indexOf,Nr=Array.prototype.push,Io=(m,h)=>{return v=m,z=h,gs.call(v,z)>-1;var v,z},Ie=(m,h)=>{for(let v=0,z=m.length;v<z;v++)if(h(m[v],v))return!0;return!1},jt=(m,h)=>{const v=[];for(let z=0;z<m;z++)v.push(h(z));return v},O=(m,h)=>{const v=m.length,z=new Array(v);for(let N=0;N<v;N++){const D=m[N];z[N]=h(D,N)}return z},Eo=(m,h)=>{for(let v=0,z=m.length;v<z;v++)h(m[v],v)},ao=(m,h)=>{const v=[],z=[];for(let N=0,D=m.length;N<D;N++){const F=m[N];(h(F,N)?v:z).push(F)}return{pass:v,fail:z}},Do=(m,h)=>{const v=[];for(let z=0,N=m.length;z<N;z++){const D=m[z];h(D,z)&&v.push(D)}return v},Zr=(m,h,v)=>(((z,N)=>{for(let D=z.length-1;D>=0;D--)N(z[D],D)})(m,(z,N)=>{v=h(v,z,N)}),v),Je=(m,h,v)=>(Eo(m,(z,N)=>{v=h(v,z,N)}),v),fn=(m,h)=>((v,z,N)=>{for(let D=0,F=v.length;D<F;D++){const V=v[D];if(z(V,D))return ve.some(V);if(N(V,D))break}return ve.none()})(m,h,ue),Bi=(m,h)=>{for(let v=0,z=m.length;v<z;v++)if(h(m[v],v))return ve.some(v);return ve.none()},De=m=>{const h=[];for(let v=0,z=m.length;v<z;++v){if(!Ro(m[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+m);Nr.apply(h,m[v])}return h},Se=(m,h)=>De(O(m,h)),tt=(m,h)=>{for(let v=0,z=m.length;v<z;++v)if(h(m[v],v)!==!0)return!1;return!0},Uo=(m,h)=>{const v={};for(let z=0,N=m.length;z<N;z++){const D=m[z];v[String(D)]=h(D,z)}return v},So=(m,h)=>h>=0&&h<m.length?ve.some(m[h]):ve.none(),ho=m=>So(m,0),uo=m=>So(m,m.length-1),H=(m,h)=>{for(let v=0;v<m.length;v++){const z=h(m[v],v);if(z.isSome())return z}return ve.none()},as=Object.keys,sr=Object.hasOwnProperty,Xo=(m,h)=>{const v=as(m);for(let z=0,N=v.length;z<N;z++){const D=v[z];h(m[D],D)}},mi=(m,h)=>ll(m,(v,z)=>({k:z,v:h(v,z)})),ll=(m,h)=>{const v={};return Xo(m,(z,N)=>{const D=h(z,N);v[D.k]=D.v}),v},on=(m,h)=>{const v=[];return Xo(m,(z,N)=>{v.push(h(z,N))}),v},Sn=m=>on(m,Go),Jo=(m,h)=>sr.call(m,h),Ne=typeof window<"u"?window:Function("return this;")(),yt=(m,h)=>((v,z)=>{let N=z??Ne;for(let D=0;D<v.length&&N!=null;++D)N=N[v[D]];return N})(m.split("."),h),at=Object.getPrototypeOf,Ke=m=>{const h=yt("ownerDocument.defaultView",m);return Dt(m)&&((v=>((z,N)=>{const D=((F,V)=>yt(F,V))(z,N);if(D==null)throw new Error(z+" not available on this browser");return D})("HTMLElement",v))(h).prototype.isPrototypeOf(m)||/^HTML\w*Element$/.test(at(m).constructor.name))},eo=m=>m.dom.nodeName.toLowerCase(),fo=m=>m.dom.nodeType,qo=m=>h=>fo(h)===m,Tn=m=>fo(m)===8||eo(m)==="#comment",Qn=m=>Rn(m)&&Ke(m.dom),Rn=qo(1),Kn=qo(3),Qr=qo(9),Hs=qo(11),Fn=m=>h=>Rn(h)&&eo(h)===m,Hr=(m,h,v)=>{if(!(Co(v)||Po(v)||jr(v)))throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",v,":: Element ",m),new Error("Attribute value was not simple");m.setAttribute(h,v+"")},Qo=(m,h,v)=>{Hr(m.dom,h,v)},Gs=(m,h)=>{const v=m.dom;Xo(h,(z,N)=>{Hr(v,N,z)})},dt=(m,h)=>{const v=m.dom.getAttribute(h);return v===null?void 0:v},_o=(m,h)=>ve.from(dt(m,h)),Fo=(m,h)=>{m.dom.removeAttribute(h)},Ks=m=>Je(m.dom.attributes,(h,v)=>(h[v.name]=v.value,h),{}),pi=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},nt={fromHtml:(m,h)=>{const v=(h||document).createElement("div");if(v.innerHTML=m,!v.hasChildNodes()||v.childNodes.length>1){const z="HTML does not have a single root node";throw console.error(z,m),new Error(z)}return pi(v.childNodes[0])},fromTag:(m,h)=>{const v=(h||document).createElement(m);return pi(v)},fromText:(m,h)=>{const v=(h||document).createTextNode(m);return pi(v)},fromDom:pi,fromPoint:(m,h,v)=>ve.from(m.dom.elementFromPoint(h,v)).map(pi)},qa=(m,h)=>{const v=m.dom;if(v.nodeType!==1)return!1;{const z=v;if(z.matches!==void 0)return z.matches(h);if(z.msMatchesSelector!==void 0)return z.msMatchesSelector(h);if(z.webkitMatchesSelector!==void 0)return z.webkitMatchesSelector(h);if(z.mozMatchesSelector!==void 0)return z.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},Ho=m=>m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11||m.childElementCount===0,Pi=(m,h)=>{const v=h===void 0?document:h.dom;return Ho(v)?ve.none():ve.from(v.querySelector(m)).map(nt.fromDom)},Zn=(m,h)=>m.dom===h.dom,hs=(m,h)=>{const v=m.dom,z=h.dom;return v!==z&&v.contains(z)},Cl=qa,Sl=m=>nt.fromDom(m.dom.ownerDocument),Yi=m=>Qr(m)?m:Sl(m),za=m=>ve.from(m.dom.parentNode).map(nt.fromDom),El=m=>ve.from(m.dom.parentElement).map(nt.fromDom),Hn=(m,h)=>{const v=pr(h)?h:ue;let z=m.dom;const N=[];for(;z.parentNode!==null&&z.parentNode!==void 0;){const D=z.parentNode,F=nt.fromDom(D);if(N.push(F),v(F)===!0)break;z=D}return N},po=m=>ve.from(m.dom.previousSibling).map(nt.fromDom),Ga=m=>ve.from(m.dom.nextSibling).map(nt.fromDom),Ts=m=>O(m.dom.childNodes,nt.fromDom),vc=(m,h)=>{const v=m.dom.childNodes;return ve.from(v[h]).map(nt.fromDom)},_t=(m,h)=>{za(m).each(v=>{v.dom.insertBefore(h.dom,m.dom)})},Xi=(m,h)=>{Ga(m).fold(()=>{za(m).each(v=>{Rr(v,h)})},v=>{_t(v,h)})},Ka=(m,h)=>{(z=>vc(z,0))(m).fold(()=>{Rr(m,h)},z=>{m.dom.insertBefore(h.dom,z.dom)})},Rr=(m,h)=>{m.dom.appendChild(h.dom)},Od=(m,h)=>{_t(m,h),Rr(h,m)},Pa=(m,h)=>{Eo(h,(v,z)=>{const N=z===0?m:h[z-1];Xi(N,v)})},gi=(m,h)=>{Eo(h,v=>{Rr(m,v)})},Li=m=>{m.dom.textContent="",Eo(Ts(m),h=>{lr(h)})},lr=m=>{const h=m.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},ua=m=>{const h=Ts(m);h.length>0&&Pa(m,h),lr(m)},Ya=(m,h)=>nt.fromDom(m.dom.cloneNode(h)),nu=m=>Ya(m,!1),Wl=m=>Ya(m,!0),Ii=(m,h)=>{const v=nt.fromTag(h),z=Ks(m);return Gs(v,z),v},Ad=["tfoot","thead","tbody","colgroup"],Nd=(m,h,v)=>({element:m,rowspan:h,colspan:v}),yn=(m,h,v)=>({element:m,cells:h,section:v}),bs=(m,h,v)=>({element:m,isNew:h,isLocked:v}),fa=(m,h,v,z)=>({element:m,cells:h,section:v,isNew:z}),Rd=m=>Hs(m)&&Cn(m.dom.host),Uu=m=>nt.fromDom(m.dom.getRootNode()),Dd=m=>nt.fromDom(m.dom.host),es=m=>{const h=Kn(m)?m.dom.parentNode:m.dom;if(h==null||h.ownerDocument===null)return!1;const v=h.ownerDocument;return(D=>{const F=Uu(D);return Rd(F)?ve.some(F):ve.none()})(nt.fromDom(h)).fold(()=>v.body.contains(h),(z=es,N=Dd,D=>z(N(D))));var z,N},hi=()=>bi(nt.fromDom(document)),bi=m=>{const h=m.dom.body;if(h==null)throw new Error("Body is not available yet");return nt.fromDom(h)},gr=(m,h)=>{let v=[];return Eo(Ts(m),z=>{h(z)&&(v=v.concat([z])),v=v.concat(gr(z,h))}),v},cr=(m,h,v)=>((z,N,D)=>Do(Hn(z,D),F=>qa(F,h)))(m,0,v),Fi=(m,h)=>(v=>Do(Ts(v),z=>qa(z,h)))(m),Xa=(m,h)=>((v,z)=>{const N=z===void 0?document:z.dom;return Ho(N)?[]:O(N.querySelectorAll(v),nt.fromDom)})(h,m);var ma=(m,h,v,z,N)=>m(v,z)?ve.some(v):pr(N)&&N(v)?ve.none():h(v,z,N);const Ji=(m,h,v)=>{let z=m.dom;const N=pr(v)?v:ue;for(;z.parentNode;){z=z.parentNode;const D=nt.fromDom(z);if(h(D))return ve.some(D);if(N(D))break}return ve.none()},is=(m,h,v)=>ma((z,N)=>N(z),Ji,m,h,v),hr=(m,h,v)=>Ji(m,z=>qa(z,h),v),yi=(m,h)=>(v=>fn(v.dom.childNodes,z=>{return N=nt.fromDom(z),qa(N,h);var N}).map(nt.fromDom))(m),$s=(m,h)=>Pi(h,m),Wn=(m,h,v)=>ma((z,N)=>qa(z,N),hr,m,h,v),pa=(m,h,v=Lo)=>m.exists(z=>v(z,h)),Ja=m=>{const h=[],v=z=>{h.push(z)};for(let z=0;z<m.length;z++)m[z].each(v);return h},ru=(m,h)=>m?ve.some(h):ve.none(),io=(m,h,v)=>h===""||m.length>=h.length&&m.substr(v,v+h.length)===h,ks=(m,h,v=0,z)=>{const N=m.indexOf(h,v);return N!==-1&&(!!lo(z)||N+h.length<=z)},ls=(m,h)=>io(m,h,0),cs=(m,h)=>io(m,h,m.length-h.length),su=(m=>h=>h.replace(m,""))(/^\s+|\s+$/g),$r=m=>m.length>0,ql=m=>m.style!==void 0&&pr(m.style.getPropertyValue),zl=(m,h,v)=>{if(!Co(v))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",v,":: Element ",m),new Error("CSS value must be a string: "+v);ql(m)&&m.style.setProperty(h,v)},Zt=(m,h,v)=>{const z=m.dom;zl(z,h,v)},Qa=(m,h)=>{const v=m.dom;Xo(h,(z,N)=>{zl(v,N,z)})},xi=(m,h)=>{const v=m.dom,z=window.getComputedStyle(v).getPropertyValue(h);return z!==""||es(m)?z:Vs(v,h)},Vs=(m,h)=>ql(m)?m.style.getPropertyValue(h):"",_c=(m,h)=>{const v=m.dom,z=Vs(v,h);return ve.from(z).filter(N=>N.length>0)},_r=(m,h)=>{((v,z)=>{ql(v)&&v.style.removeProperty(z)})(m.dom,h),pa(_o(m,"style").map(su),"")&&Fo(m,"style")},Hi=(m,h,v=0)=>_o(m,h).map(z=>parseInt(z,10)).getOr(v),vi=(m,h)=>Hi(m,h,1),ln=m=>Fn("col")(m)?Hi(m,"span",1)>1:vi(m,"colspan")>1,cl=(m,h)=>parseInt(xi(m,h),10),Tl=Kt(10),Md=Kt(10),kr=(m,h)=>Ta(m,h,Et),Ta=(m,h,v)=>Se(Ts(m),z=>qa(z,h)?v(z)?[z]:[]:Ta(z,h,v)),ju=(m,h)=>((v,z,N=ue)=>N(z)?ve.none():Io(v,eo(z))?ve.some(z):hr(z,v.join(","),D=>qa(D,"table")||N(D)))(["td","th"],m,h),Dn=m=>kr(m,"th,td"),Gl=m=>qa(m,"colgroup")?Fi(m,"col"):Se(q(m),h=>Fi(h,"col")),Wr=(m,h)=>Wn(m,"table",h),Us=m=>kr(m,"tr"),q=m=>Wr(m).fold(Kt([]),h=>Fi(h,"colgroup")),ae=(m,h)=>O(m,v=>{if(eo(v)==="colgroup"){const z=O(Gl(v),N=>{const D=Hi(N,"span",1);return Nd(N,1,D)});return yn(v,z,"colgroup")}{const z=O(Dn(v),N=>{const D=Hi(N,"rowspan",1),F=Hi(N,"colspan",1);return Nd(N,D,F)});return yn(v,z,h(v))}}),_e=m=>za(m).map(h=>{const v=eo(h);return(z=>Io(Ad,z))(v)?v:"tbody"}).getOr("tbody"),He=m=>{const h=Us(m),v=[...q(m),...h];return ae(v,_e)},ct=m=>{let h,v=!1;return(...z)=>(v||(v=!0,h=m.apply(null,z)),h)},Ft=()=>Nt(0,0),Nt=(m,h)=>({major:m,minor:h}),wr={nu:Nt,detect:(m,h)=>{const v=String(h).toLowerCase();return m.length===0?Ft():((z,N)=>{const D=((V,X)=>{for(let ie=0;ie<V.length;ie++){const xe=V[ie];if(xe.test(X))return xe}})(z,N);if(!D)return{major:0,minor:0};const F=V=>Number(N.replace(D,"$"+V));return Nt(F(1),F(2))})(m,v)},unknown:Ft},mn=(m,h)=>{const v=String(h).toLowerCase();return fn(m,z=>z.search(v))},br=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,dr=m=>h=>ks(h,m),Kc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>ks(m,"edge/")&&ks(m,"chrome")&&ks(m,"safari")&&ks(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,br],search:m=>ks(m,"chrome")&&!ks(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>ks(m,"msie")||ks(m,"trident")},{name:"Opera",versionRegexes:[br,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:dr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:dr("firefox")},{name:"Safari",versionRegexes:[br,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(ks(m,"safari")||ks(m,"mobile/"))&&ks(m,"applewebkit")}],ei=[{name:"Windows",search:dr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>ks(m,"iphone")||ks(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:dr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:dr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:dr("linux"),versionRegexes:[]},{name:"Solaris",search:dr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:dr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:dr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],au={browsers:Kt(Kc),oses:Kt(ei)},Vg="Edge",Df="Chromium",Ug="Opera",gt="Firefox",Bd="Safari",Yc=m=>{const h=m.current,v=m.version,z=N=>()=>h===N;return{current:h,version:v,isEdge:z(Vg),isChromium:z(Df),isIE:z("IE"),isOpera:z(Ug),isFirefox:z(gt),isSafari:z(Bd)}},Mf=()=>Yc({current:void 0,version:wr.unknown()}),ga=Yc,Pd="Windows",iu="Android",jg="Linux",Gp="macOS",Zg="Solaris",yb="FreeBSD",Wg="ChromeOS",qg=m=>{const h=m.current,v=m.version,z=N=>()=>h===N;return{current:h,version:v,isWindows:z(Pd),isiOS:z("iOS"),isAndroid:z(iu),isMacOS:z(Gp),isLinux:z(jg),isSolaris:z(Zg),isFreeBSD:z(yb),isChromeOS:z(Wg)}},Bf=()=>qg({current:void 0,version:wr.unknown()}),kc=qg,Ld=m=>window.matchMedia(m).matches;let Zu=ct(()=>((m,h,v)=>{const z=au.browsers(),N=au.oses(),D=h.bind(X=>((ie,xe)=>H(xe.brands,de=>{const ge=de.brand.toLowerCase();return fn(ie,fe=>{var se;return ge===((se=fe.brand)===null||se===void 0?void 0:se.toLowerCase())}).map(fe=>({current:fe.name,version:wr.nu(parseInt(de.version,10),0)}))}))(z,X)).orThunk(()=>((X,ie)=>mn(X,ie).map(xe=>{const de=wr.detect(xe.versionRegexes,ie);return{current:xe.name,version:de}}))(z,m)).fold(Mf,ga),F=((X,ie)=>mn(X,ie).map(xe=>{const de=wr.detect(xe.versionRegexes,ie);return{current:xe.name,version:de}}))(N,m).fold(Bf,kc),V=((X,ie,xe,de)=>{const ge=X.isiOS()&&/ipad/i.test(xe)===!0,fe=X.isiOS()&&!ge,se=X.isiOS()||X.isAndroid(),ke=se||de("(pointer:coarse)"),We=ge||!fe&&se&&de("(min-device-width:768px)"),Fe=fe||se&&!We,Qe=ie.isSafari()&&X.isiOS()&&/safari/i.test(xe)===!1,rt=!Fe&&!We&&!Qe;return{isiPad:Kt(ge),isiPhone:Kt(fe),isTablet:Kt(We),isPhone:Kt(Fe),isTouch:Kt(ke),isAndroid:X.isAndroid,isiOS:X.isiOS,isWebView:Kt(Qe),isDesktop:Kt(rt)}})(F,D,m,v);return{browser:D,os:F,deviceType:V}})(window.navigator.userAgent,ve.from(window.navigator.userAgentData),Ld));const Ys=()=>Zu(),Xc=(m,h)=>{const v=N=>{const D=h(N);if(D<=0||D===null){const F=xi(N,m);return parseFloat(F)||0}return D},z=(N,D)=>Je(D,(F,V)=>{const X=xi(N,V),ie=X===void 0?0:parseInt(X,10);return isNaN(ie)?F:F+ie},0);return{set:(N,D)=>{if(!jr(D)&&!D.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+D);const F=N.dom;ql(F)&&(F.style[m]=D+"px")},get:v,getOuter:v,aggregate:z,max:(N,D,F)=>{const V=z(N,F);return D>V?D-V:0}}},Kl=(m,h,v)=>((z,N)=>(D=>{const F=parseFloat(D);return isNaN(F)?ve.none():ve.some(F)})(z).getOr(N))(xi(m,h),v),pn=Xc("width",m=>m.dom.offsetWidth),La=m=>pn.get(m),lu=m=>pn.getOuter(m),Tm=m=>((h,v)=>{const z=h.dom,N=z.getBoundingClientRect().width||z.offsetWidth;return((D,F,V,X)=>F-Kl(D,`padding-${V}`,0)-Kl(D,`padding-${X}`,0)-Kl(D,`border-${V}-width`,0)-Kl(D,`border-${X}-width`,0))(h,N,"left","right")})(m),ha=(m,h,v)=>{const z=m.cells,N=z.slice(0,h),D=z.slice(h),F=N.concat(v).concat(D);return Ol(m,F)},ti=(m,h,v)=>ha(m,h,[v]),js=(m,h,v)=>{m.cells[h]=v},Ol=(m,h)=>fa(m.element,h,m.section,m.isNew),ys=(m,h)=>m.cells[h],sa=(m,h)=>ys(m,h).element,_i=m=>m.cells.length,On=m=>{const h=ao(m,v=>v.section==="colgroup");return{rows:h.fail,cols:h.pass}},dl=(m,h,v)=>{const z=O(m.cells,v);return fa(h(m.element),z,m.section,!0)},ba="data-snooker-locked-cols",Os=m=>_o(m,ba).bind(h=>ve.from(h.match(/\d+/g))).map(h=>Uo(h,Et)),Qi=m=>{const h=Je(On(m).rows,(z,N)=>(Eo(N.cells,(D,F)=>{D.isLocked&&(z[F]=!0)}),z),{}),v=on(h,(z,N)=>parseInt(N,10));return(z=>{const N=ht.call(z,0);return N.sort(void 0),N})(v)},En=(m,h)=>m+","+h,As=(m,h)=>{const v=Se(m.all,z=>z.cells);return Do(v,h)},Al=m=>{const h={},v=[],z=ho(m).map(ge=>ge.element).bind(Wr).bind(Os).getOr({});let N=0,D=0,F=0;const{pass:V,fail:X}=ao(m,ge=>ge.section==="colgroup");Eo(X,ge=>{const fe=[];Eo(ge.cells,se=>{let ke=0;for(;h[En(F,ke)]!==void 0;)ke++;const We=((Qe,rt)=>Jo(Qe,rt)&&Qe[rt]!==void 0&&Qe[rt]!==null)(z,ke.toString()),Fe=((Qe,rt,ut,lt,xt,Lt)=>({element:Qe,rowspan:rt,colspan:ut,row:lt,column:xt,isLocked:Lt}))(se.element,se.rowspan,se.colspan,F,ke,We);for(let Qe=0;Qe<se.colspan;Qe++)for(let rt=0;rt<se.rowspan;rt++){const ut=ke+Qe,lt=En(F+rt,ut);h[lt]=Fe,D=Math.max(D,ut+1)}fe.push(Fe)}),N++,v.push(yn(ge.element,fe,ge.section)),F++});const{columns:ie,colgroups:xe}=uo(V).map(ge=>{const fe=(ke=>{const We={};let Fe=0;return Eo(ke.cells,Qe=>{const rt=Qe.colspan;jt(rt,ut=>{const lt=Fe+ut;We[lt]=((xt,Lt,co)=>({element:xt,colspan:Lt,column:co}))(Qe.element,rt,lt)}),Fe+=rt}),We})(ge);return{colgroups:[((ke,We)=>({element:ke,columns:We}))(ge.element,Sn(fe))],columns:fe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((ge,fe)=>({rows:ge,columns:fe}))(N,D),access:h,all:v,columns:ie,colgroups:xe}},Ns=m=>{const h=He(m);return Al(h)},ws=Al,Mt=(m,h,v)=>ve.from(m.access[En(h,v)]),Nl=(m,h,v)=>{const z=As(m,N=>v(h,N.element));return z.length>0?ve.some(z[0]):ve.none()},Jc=As,dn=m=>Se(m.all,h=>h.cells),Qc=m=>Sn(m.columns),cu=m=>as(m.columns).length>0,Yl=(m,h)=>ve.from(m.columns[h]),Wu=(m,h=Et)=>{const v=m.grid,z=jt(v.columns,Go),N=jt(v.rows,Go);return O(z,D=>Ia(()=>Se(N,F=>Mt(m,F,D).filter(V=>V.column===D).toArray()),F=>F.colspan===1&&h(F.element),()=>Mt(m,0,D)))},Ia=(m,h,v)=>{const z=m();return fn(z,h).orThunk(()=>ve.from(z[0]).orThunk(v)).map(N=>N.element)},Om=m=>{const h=m.grid,v=jt(h.rows,Go),z=jt(h.columns,Go);return O(v,N=>Ia(()=>Se(z,D=>Mt(m,N,D).filter(F=>F.row===N).fold(Kt([]),F=>[F])),D=>D.rowspan===1,()=>Mt(m,N,0)))},Id=(m,h)=>v=>$n(v)==="rtl"?h:m,$n=m=>xi(m,"direction")==="rtl"?"rtl":"ltr",$i=Xc("height",m=>{const h=m.dom;return es(m)?h.getBoundingClientRect().height:h.offsetHeight}),Fd=m=>$i.get(m),wc=m=>$i.getOuter(m),qu=(m,h)=>({left:m,top:h,translate:(v,z)=>qu(m+v,h+z)}),re=qu,ya=(m,h)=>m!==void 0?m:h!==void 0?h:0,Fa=m=>{const h=m.dom.ownerDocument,v=h.body,z=h.defaultView,N=h.documentElement;if(v===m.dom)return re(v.offsetLeft,v.offsetTop);const D=ya(z==null?void 0:z.pageYOffset,N.scrollTop),F=ya(z==null?void 0:z.pageXOffset,N.scrollLeft),V=ya(N.clientTop,v.clientTop),X=ya(N.clientLeft,v.clientLeft);return Am(m).translate(F-X,D-V)},Am=m=>{const h=m.dom,v=h.ownerDocument.body;return v===h?re(v.offsetLeft,v.offsetTop):es(m)?(z=>{const N=z.getBoundingClientRect();return re(N.left,N.top)})(h):re(0,0)},Nm=(m,h)=>({row:m,y:h}),ki=(m,h)=>({col:m,x:h}),en=m=>Fa(m).left+lu(m),Ha=m=>Fa(m).left,el=(m,h)=>ki(m,Ha(h)),Rl=(m,h)=>ki(m,en(h)),du=m=>Fa(m).top,Cr=(m,h)=>Nm(m,du(h)),oi=(m,h)=>Nm(m,du(h)+wc(h)),Xl=(m,h,v)=>{if(v.length===0)return[];const z=O(v.slice(1),(D,F)=>D.map(V=>m(F,V))),N=v[v.length-1].map(D=>h(v.length-1,D));return z.concat([N])},Jl={delta:Go,positions:m=>Xl(Cr,oi,m),edge:du},ed=Id({delta:Go,edge:Ha,positions:m=>Xl(el,Rl,m)},{delta:m=>-m,edge:en,positions:m=>Xl(Rl,el,m)}),ul={delta:(m,h)=>ed(h).delta(m,h),positions:(m,h)=>ed(h).positions(m,h),edge:m=>ed(m).edge(m)},Hd={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},uu=(()=>{const m="[0-9]+",h="[eE][+-]?"+m,v=N=>`(?:${N})?`,z=["Infinity",m+"\\."+v(m)+v(h),"\\."+m+v(h),m+v(h)].join("|");return new RegExp(`^([+-]?(?:${z}))(.*)$`)})(),Ql=/(\d+(\.\d+)?)%/,xa=/(\d+(\.\d+)?)px|em/,$d=Fn("col"),Rm=Fn("tr"),fu=(m,h,v)=>{const z=El(m).getOrThunk(()=>bi(Sl(m)));return h(m)/v(z)*100},mu=(m,h)=>{Zt(m,"width",h+"px")},wi=(m,h)=>{Zt(m,"width",h+"%")},oo=(m,h)=>{Zt(m,"height",h+"px")},Ci=m=>{const h=(v=>{return Kl(z=v,"height",z.dom.offsetHeight)+"px";var z})(m);return h?((v,z,N,D)=>{const F=parseFloat(v);return cs(v,"%")&&eo(z)!=="table"?((V,X,ie,xe)=>{const de=Wr(V).map(ge=>{const fe=ie(ge);return Math.floor(X/100*fe)}).getOr(X);return xe(V,de),de})(z,F,N,D):F})(h,m,Fd,oo):Fd(m)},td=(m,h)=>_c(m,h).orThunk(()=>_o(m,h).map(v=>v+"px")),pu=m=>td(m,"width"),gu=m=>fu(m,La,Tm),Vi=m=>{return $d(m)?La(m):Kl(h=m,"width",h.dom.offsetWidth);var h},od=m=>Rm(m)?Fd(m):((h,v,z)=>z(h)/vi(h,"rowspan"))(m,0,Ci),hu=(m,h,v)=>{Zt(m,"width",h+v)},Dr=m=>fu(m,La,Tm)+"%",bu=Kt(Ql),fl=Fn("col"),Cc=m=>pu(m).getOrThunk(()=>Vi(m)+"px"),Pf=m=>{return(h=m,td(h,"height")).getOrThunk(()=>od(m)+"px");var h},ec=(m,h,v,z,N,D)=>m.filter(z).fold(()=>D(((F,V)=>{if(V<0||V>=F.length-1)return ve.none();const X=F[V].fold(()=>{const xe=(de=>{const ge=ht.call(de,0);return ge.reverse(),ge})(F.slice(0,V));return H(xe,(de,ge)=>de.map(fe=>({value:fe,delta:ge+1})))},xe=>ve.some({value:xe,delta:0})),ie=F[V+1].fold(()=>{const xe=F.slice(V+1);return H(xe,(de,ge)=>de.map(fe=>({value:fe,delta:ge+1})))},xe=>ve.some({value:xe,delta:1}));return X.bind(xe=>ie.map(de=>{const ge=de.delta+xe.delta;return Math.abs(de.value-xe.value)/ge}))})(v,h)),F=>N(F)),tc=(m,h,v,z)=>{const N=Wu(m),D=cu(m)?(X=>O(Qc(X),ie=>ve.from(ie.element)))(m):N,F=[ve.some(ul.edge(h))].concat(O(ul.positions(N,h),X=>X.map(ie=>ie.x))),V=Bt(ln);return O(D,(X,ie)=>ec(X,ie,F,V,xe=>{if((ge=>{const fe=Ys().browser,se=fe.isChromium()||fe.isFirefox();return!fl(ge)||se})(xe))return v(xe);{const ge=(de=N[ie])!=null?Go(de):ve.none();return ec(ge,ie,F,V,fe=>z(ve.some(La(fe))),z)}var de},z))},nd=m=>m.map(h=>h+"px").getOr(""),er=(m,h,v)=>tc(m,h,Vi,z=>z.getOrThunk(v.minCellWidth)),aa=(m,h,v,z)=>{const N=Om(m),D=O(m.all,V=>ve.some(V.element)),F=[ve.some(Jl.edge(h))].concat(O(Jl.positions(N,h),V=>V.map(X=>X.y)));return O(D,(V,X)=>ec(V,X,F,Et,v,z))},va=(m,h)=>()=>es(m)?h(m):parseFloat(_c(m,"width").getOr("0")),ni=m=>{const h=va(m,z=>parseFloat(Dr(z))),v=va(m,La);return{width:h,pixelWidth:v,getWidths:(z,N)=>((D,F,V)=>tc(D,F,gu,X=>X.fold(()=>V.minCellWidth(),ie=>ie/V.pixelWidth()*100)))(z,m,N),getCellDelta:z=>z/v()*100,singleColumnWidth:(z,N)=>[100-z],minCellWidth:()=>Tl()/v()*100,setElementWidth:wi,adjustTableWidth:z=>{const N=h();wi(m,N+z/100*N)},isRelative:!0,label:"percent"}},$a=m=>{const h=va(m,La);return{width:h,pixelWidth:h,getWidths:(v,z)=>er(v,m,z),getCellDelta:Go,singleColumnWidth:(v,z)=>[Math.max(Tl(),v+z)-v],minCellWidth:Tl,setElementWidth:mu,adjustTableWidth:v=>{const z=h()+v;mu(m,z)},isRelative:!1,label:"pixel"}},Sc=m=>pu(m).fold(()=>(h=>{const v=va(h,La),z=Kt(0);return{width:v,pixelWidth:v,getWidths:(N,D)=>er(N,h,D),getCellDelta:z,singleColumnWidth:Kt([0]),minCellWidth:z,setElementWidth:$t,adjustTableWidth:$t,isRelative:!0,label:"none"}})(m),h=>((v,z)=>bu().exec(z)!==null?ni(v):$a(v))(m,h)),Cs=$a,ia=ni,Lf=(m,h,v)=>{const z=m[v].element,N=nt.fromTag("td");Rr(N,nt.fromTag("br")),(h?Rr:Ka)(z,N)},Ge=(m=>{const h=v=>m(v)?ve.from(v.dom.nodeValue):ve.none();return{get:v=>{if(!m(v))throw new Error("Can only get text value of a text node");return h(v).getOr("")},getOption:h,set:(v,z)=>{if(!m(v))throw new Error("Can only set raw text value of a text node");v.dom.nodeValue=z}}})(Kn),Xs=m=>Ge.get(m),Si=m=>Ge.getOption(m),us=(m,h)=>Ge.set(m,h),Zs=m=>eo(m)==="img"?1:Si(m).fold(()=>Ts(m).length,h=>h.length),Ei=["img","br"],ml=m=>Si(m).filter(h=>h.trim().length!==0||h.indexOf(" ")>-1).isSome()||Io(Ei,eo(m))||(h=>Qn(h)&&dt(h,"contenteditable")==="false")(m),If=m=>((h,v)=>{const z=N=>{for(let D=0;D<N.childNodes.length;D++){const F=nt.fromDom(N.childNodes[D]);if(v(F))return ve.some(F);const V=z(N.childNodes[D]);if(V.isSome())return V}return ve.none()};return z(h.dom)})(m,ml),Vr=m=>tn(m,ml),tn=(m,h)=>{const v=z=>{const N=Ts(z);for(let D=N.length-1;D>=0;D--){const F=N[D];if(h(F))return ve.some(F);const V=v(F);if(V.isSome())return V}return ve.none()};return v(m)},Ui={scope:["row","col"]},Mr=m=>()=>{const h=nt.fromTag("td",m.dom);return Rr(h,nt.fromTag("br",m.dom)),h},Ur=m=>()=>nt.fromTag("col",m.dom),Dm=m=>()=>nt.fromTag("colgroup",m.dom),Oa=m=>()=>nt.fromTag("tr",m.dom),oc=(m,h,v)=>{const z=((N,D)=>{const F=Ii(N,D),V=Ts(Wl(N));return gi(F,V),F})(m,h);return Xo(v,(N,D)=>{N===null?Fo(z,D):Qo(z,D,N)}),z},un=m=>m,Ee=(m,h,v)=>{const z=(N,D)=>{((F,V)=>{const X=F.dom,ie=V.dom;ql(X)&&ql(ie)&&(ie.style.cssText=X.style.cssText)})(N.element,D),_r(D,"height"),N.colspan!==1&&_r(D,"width")};return{col:N=>{const D=nt.fromTag(eo(N.element),h.dom);return z(N,D),m(N.element,D),D},colgroup:Dm(h),row:Oa(h),cell:N=>{const D=nt.fromTag(eo(N.element),h.dom),F=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),V=F.length>0?((X,ie,xe)=>If(X).map(de=>{const ge=xe.join(","),fe=cr(de,ge,se=>Zn(se,X));return Zr(fe,(se,ke)=>{const We=nu(ke);return Rr(se,We),We},ie)}).getOr(ie))(N.element,D,F):D;return Rr(V,nt.fromTag("br")),z(N,D),((X,ie)=>{Xo(Ui,(xe,de)=>_o(X,de).filter(ge=>Io(xe,ge)).each(ge=>Qo(ie,de,ge)))})(N.element,D),m(N.element,D),D},replace:oc,colGap:Ur(h),gap:Mr(h)}},_a=m=>({col:Ur(m),colgroup:Dm(m),row:Oa(m),cell:Mr(m),replace:un,colGap:Ur(m),gap:Mr(m)}),Aa=m=>h=>h.options.get(m),tr="100%",ka=m=>{var h;const v=m.dom,z=(h=v.getParent(m.selection.getStart(),v.isBlock))!==null&&h!==void 0?h:m.getBody();return Tm(nt.fromDom(z))+"px"},Js=m=>ve.from(m.options.get("table_clone_elements")),Yn=Aa("table_header_type"),nc=Aa("table_column_resizing"),Ff=m=>nc(m)==="preservetable",S=m=>nc(m)==="resizetable",M=Aa("table_sizing_mode"),U=m=>M(m)==="relative",le=m=>M(m)==="fixed",pe=m=>M(m)==="responsive",ot=Aa("table_resize_bars"),no=Aa("table_style_by_css"),$o=Aa("table_merge_content_on_paste"),vo=m=>{const h=m.options,v=h.get("table_default_attributes");return h.isSet("table_default_attributes")?v:((z,N)=>pe(z)||no(z)?N:le(z)?{...N,width:ka(z)}:{...N,width:tr})(m,v)},Rt=Aa("table_use_colgroups"),Ln=Aa("fixed_toolbar_container"),ts=Aa("fixed_toolbar_container_target"),ji=Aa("ui_mode"),ri=m=>Wn(m,"[contenteditable]"),Na=(m,h=!1)=>es(m)?m.dom.isContentEditable:ri(m).fold(Kt(h),v=>Mm(v)==="true"),Mm=m=>m.dom.contentEditable,Vd=m=>nt.fromDom(m.getBody()),Rs=m=>h=>Zn(h,Vd(m)),zi=m=>{Fo(m,"data-mce-style");const h=v=>Fo(v,"data-mce-style");Eo(Dn(m),h),Eo(Gl(m),h),Eo(Us(m),h)},pl=m=>nt.fromDom(m.selection.getStart()),Kp=m=>m.getBoundingClientRect().width,qr=m=>m.getBoundingClientRect().height,Bm=m=>(h,v)=>{const z=h.dom.getStyle(v,m)||h.dom.getAttrib(v,m);return ve.from(z).filter($r)},os=Bm("width"),Ec=Bm("height"),zc=m=>is(m,Fn("table")).exists(Na),xb=(m,h)=>{const v=h.column,z=h.column+h.colspan-1,N=h.row,D=h.row+h.rowspan-1;return v<=m.finishCol&&z>=m.startCol&&N<=m.finishRow&&D>=m.startRow},Tc=(m,h)=>h.column>=m.startCol&&h.column+h.colspan-1<=m.finishCol&&h.row>=m.startRow&&h.row+h.rowspan-1<=m.finishRow,Yp=(m,h,v)=>{const z=Nl(m,h,Zn),N=Nl(m,v,Zn);return z.bind(D=>N.map(F=>{return V=D,X=F,{startRow:Math.min(V.row,X.row),startCol:Math.min(V.column,X.column),finishRow:Math.max(V.row+V.rowspan-1,X.row+X.rowspan-1),finishCol:Math.max(V.column+V.colspan-1,X.column+X.colspan-1)};var V,X}))},vb=(m,h,v)=>Yp(m,h,v).map(z=>{const N=Jc(m,qe(xb,z));return O(N,D=>D.element)}),fs=(m,h)=>Nl(m,h,(v,z)=>hs(z,v)).map(v=>v.element),z1=(m,h,v)=>{const z=gl(m);return vb(z,h,v)},Oc=(m,h,v,z,N)=>{const D=gl(m),F=Zn(m,v)?ve.some(h):fs(D,h),V=Zn(m,N)?ve.some(z):fs(D,z);return F.bind(X=>V.bind(ie=>vb(D,X,ie)))},gl=Ns;var Hf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ot=()=>({up:Kt({selector:hr,closest:Wn,predicate:Ji,all:Hn}),down:Kt({selector:Xa,predicate:gr}),styles:Kt({get:xi,getRaw:_c,set:Zt,remove:_r}),attrs:Kt({get:dt,set:Qo,remove:Fo,copyTo:(m,h)=>{const v=Ks(m);Gs(h,v)}}),insert:Kt({before:_t,after:Xi,afterAll:Pa,append:Rr,appendAll:gi,prepend:Ka,wrap:Od}),remove:Kt({unwrap:ua,remove:lr}),create:Kt({nu:nt.fromTag,clone:m=>nt.fromDom(m.dom.cloneNode(!1)),text:nt.fromText}),query:Kt({comparePosition:(m,h)=>m.dom.compareDocumentPosition(h.dom),prevSibling:po,nextSibling:Ga}),property:Kt({children:Ts,name:eo,parent:za,document:m=>Yi(m).dom,isText:Kn,isComment:Tn,isElement:Rn,isSpecial:m=>{const h=eo(m);return Io(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],h)},getLanguage:m=>Rn(m)?_o(m,"lang"):ve.none(),getText:Xs,setText:us,isBoundary:m=>!!Rn(m)&&(eo(m)==="body"||Io(Hf,eo(m))),isEmptyTag:m=>!!Rn(m)&&Io(["br","img","hr","input"],eo(m)),isNonEditable:m=>Rn(m)&&dt(m,"contenteditable")==="false"}),eq:Zn,is:Cl});const Qs=(m,h,v,z)=>{const N=h(m,v);return Zr(z,(D,F)=>{const V=h(m,F);return Pm(m,D,V)},N)},Pm=(m,h,v)=>h.bind(z=>v.filter(qe(m.eq,z))),rd=Ot(),Dl=(m,h)=>((v,z,N)=>N.length>0?((D,F,V,X)=>X(D,F,V[0],V.slice(1)))(v,z,N,Qs):ve.none())(rd,(v,z)=>m(z),h),Ud=m=>hr(m,"table"),$f=(m,h,v)=>{const z=N=>D=>v!==void 0&&v(D)||Zn(D,N);return Zn(m,h)?ve.some({boxes:ve.some([m]),start:m,finish:h}):Ud(m).bind(N=>Ud(h).bind(D=>{if(Zn(N,D))return ve.some({boxes:z1(N,m,h),start:m,finish:h});if(hs(N,D)){const F=cr(h,"td,th",z(N)),V=F.length>0?F[F.length-1]:h;return ve.some({boxes:Oc(N,m,N,h,D),start:m,finish:V})}if(hs(D,N)){const F=cr(m,"td,th",z(D)),V=F.length>0?F[F.length-1]:m;return ve.some({boxes:Oc(D,m,N,h,D),start:m,finish:V})}return((F,V)=>((X,ie,xe,de=ue)=>{const ge=[ie].concat(X.up().all(ie)),fe=[xe].concat(X.up().all(xe)),se=Qe=>Bi(Qe,de).fold(()=>Qe,rt=>Qe.slice(0,rt+1)),ke=se(ge),We=se(fe),Fe=fn(ke,Qe=>Ie(We,((rt,ut)=>qe(rt.eq,ut))(X,Qe)));return{firstpath:ke,secondpath:We,shared:Fe}})(rd,F,V,void 0))(m,h).shared.bind(F=>Wn(F,"table",v).bind(V=>{const X=cr(h,"td,th",z(V)),ie=X.length>0?X[X.length-1]:h,xe=cr(m,"td,th",z(V)),de=xe.length>0?xe[xe.length-1]:m;return ve.some({boxes:Oc(V,m,N,h,D),start:de,finish:ie})}))}))},rc=(m,h)=>{const v=Xa(m,h);return v.length>0?ve.some(v):ve.none()},_b=(m,h,v)=>$s(m,h).bind(z=>$s(m,v).bind(N=>Dl(Ud,[z,N]).map(D=>({first:z,last:N,table:D})))),sd=(m,h,v,z,N)=>((D,F)=>fn(D,V=>qa(V,F)))(m,N).bind(D=>((F,V,X)=>Wr(F).bind(ie=>((xe,de,ge,fe)=>Nl(xe,de,Zn).bind(se=>{const ke=ge>0?se.row+se.rowspan-1:se.row,We=fe>0?se.column+se.colspan-1:se.column;return Mt(xe,ke+ge,We+fe).map(Fe=>Fe.element)}))(gl(ie),F,V,X)))(D,h,v).bind(F=>((V,X)=>hr(V,"table").bind(ie=>$s(ie,X).bind(xe=>$f(xe,V).bind(de=>de.boxes.map(ge=>({boxes:ge,start:de.start,finish:de.finish}))))))(F,z))),Lm=(m,h)=>rc(m,h),yu=(m,h,v)=>_b(m,h,v).bind(z=>{const N=X=>Zn(m,X),D="thead,tfoot,tbody,table",F=hr(z.first,D,N),V=hr(z.last,D,N);return F.bind(X=>V.bind(ie=>Zn(X,ie)?((xe,de,ge)=>((fe,se,ke)=>Yp(fe,se,ke).bind(We=>((Fe,Qe)=>{let rt=!0;const ut=qe(Tc,Qe);for(let lt=Qe.startRow;lt<=Qe.finishRow;lt++)for(let xt=Qe.startCol;xt<=Qe.finishCol;xt++)rt=rt&&Mt(Fe,lt,xt).exists(ut);return rt?ve.some(Qe):ve.none()})(fe,We)))(gl(xe),de,ge))(z.table,z.first,z.last):ve.none()))}),it=Go,ad=m=>{const h=(v,z)=>_o(v,z).exists(N=>parseInt(N,10)>1);return m.length>0&&tt(m,v=>h(v,"rowspan")||h(v,"colspan"))?ve.some(m):ve.none()},Gu=(m,h,v)=>h.length<=1?ve.none():yu(m,v.firstSelectedSelector,v.lastSelectedSelector).map(z=>({bounds:z,cells:h})),sc="data-mce-selected",id="data-mce-first-selected",Ku="data-mce-last-selected",ns="["+sc+"]",jd={selected:sc,selectedSelector:"td["+sc+"],th["+sc+"]",firstSelected:id,firstSelectedSelector:"td["+id+"],th["+id+"]",lastSelected:Ku,lastSelectedSelector:"td["+Ku+"],th["+Ku+"]"},Ti=(m,h,v)=>({element:v,mergable:Gu(h,m,jd),unmergable:ad(m),selection:it(m)}),yr=m=>(h,v)=>{const z=eo(h),N=z==="col"||z==="colgroup"?Wr(D=h).bind(F=>Lm(F,jd.firstSelectedSelector)).fold(Kt(D),F=>F[0]):h;var D;return Wn(N,m,v)},Im=yr("th,td,caption"),Vo=yr("th,td"),Vt=m=>{return h=m.model.table.getSelectedCells(),O(h,nt.fromDom);var h},Zi=(m,h)=>{m.on("BeforeGetContent",v=>{const z=N=>{v.preventDefault(),(D=>Wr(D[0]).map(F=>{const V=((X,ie)=>{const xe=rt=>qa(rt.element,ie),de=Wl(X),ge=He(de),fe=Sc(X),se=ws(ge),ke=((rt,ut)=>{const lt=rt.grid.columns;let xt=rt.grid.rows,Lt=lt,co=0,vn=0;const Oo=[],Ko=[];return Xo(rt.access,Ao=>{if(Oo.push(Ao),ut(Ao)){Ko.push(Ao);const qn=Ao.row,vs=qn+Ao.rowspan-1,ja=Ao.column,Ca=ja+Ao.colspan-1;qn<xt?xt=qn:vs>co&&(co=vs),ja<Lt?Lt=ja:Ca>vn&&(vn=Ca)}}),((Ao,qn,vs,ja,Ca,Gi)=>({minRow:Ao,minCol:qn,maxRow:vs,maxCol:ja,allCells:Ca,selectedCells:Gi}))(xt,Lt,co,vn,Oo,Ko)})(se,xe),We="th:not("+ie+"),td:not("+ie+")",Fe=Ta(de,"th,td",rt=>qa(rt,We));Eo(Fe,lr),((rt,ut,lt,xt)=>{const Lt=Do(rt,Oo=>Oo.section!=="colgroup"),co=ut.grid.columns,vn=ut.grid.rows;for(let Oo=0;Oo<vn;Oo++){let Ko=!1;for(let Ao=0;Ao<co;Ao++)Oo<lt.minRow||Oo>lt.maxRow||Ao<lt.minCol||Ao>lt.maxCol||(Mt(ut,Oo,Ao).filter(xt).isNone()?Lf(Lt,Ko,Oo):Ko=!0)}})(ge,se,ke,xe);const Qe=((rt,ut,lt,xt)=>{if(xt.minCol===0&&ut.grid.columns===xt.maxCol+1)return 0;const Lt=er(ut,rt,lt),co=Je(Lt,(Ko,Ao)=>Ko+Ao,0),vn=Je(Lt.slice(xt.minCol,xt.maxCol+1),(Ko,Ao)=>Ko+Ao,0),Oo=vn/co*lt.pixelWidth()-lt.pixelWidth();return lt.getCellDelta(Oo)})(X,Ns(X),fe,ke);return((rt,ut,lt,xt)=>{Xo(lt.columns,co=>{(co.column<ut.minCol||co.column>ut.maxCol)&&lr(co.element)});const Lt=Do(kr(rt,"tr"),co=>co.dom.childElementCount===0);Eo(Lt,lr),ut.minCol!==ut.maxCol&&ut.minRow!==ut.maxRow||Eo(kr(rt,"th,td"),co=>{Fo(co,"rowspan"),Fo(co,"colspan")}),Fo(rt,ba),Fo(rt,"data-snooker-col-series"),Sc(rt).adjustTableWidth(xt)})(de,ke,se,Qe),de})(F,ns);return zi(V),[V]}))(N).each(D=>{const F=v.format==="text"?((V,X)=>{const ie=V.getDoc(),xe=Uu(nt.fromDom(V.getBody())),de=nt.fromTag("div",ie);Qo(de,"data-mce-bogus","all"),Qa(de,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const ge=(se=>Rd(se)?se:nt.fromDom(Yi(se).dom.body))(xe);gi(de,X),Rr(ge,de);const fe=de.dom.innerText;return lr(de),fe})(m,D):((V,X)=>O(X,ie=>V.selection.serializer.serialize(ie.dom,{})).join(""))(m,D);v.content=F})};if(v.selection===!0){const N=(D=>Do(Vt(D),F=>qa(F,jd.selectedSelector)))(m);N.length>=1&&z(N)}}),m.on("BeforeSetContent",v=>{if(v.selection===!0&&v.paste===!0){const z=Vt(m);ho(z).each(N=>{Wr(N).each(D=>{const F=Do((X=>{const ie=document.createElement("div");return ie.innerHTML=X,Ts(nt.fromDom(ie))})(v.content),X=>eo(X)!=="meta"),V=Fn("table");if($o(m)&&F.length===1&&V(F[0])){v.preventDefault();const X=nt.fromDom(m.getDoc()),ie=_a(X),xe=((de,ge,fe)=>({element:de,clipboard:ge,generators:fe}))(N,F[0],ie);h.pasteCells(D,xe).each(()=>{m.focus()})}})})}})},Yu=(m,h)=>({element:m,offset:h}),Vf=(m,h,v)=>m.property().isText(h)&&m.property().getText(h).trim().length===0||m.property().isComment(h)?v(h).bind(z=>Vf(m,z,v).orThunk(()=>ve.some(z))):ve.none(),Gg=(m,h)=>m.property().isText(h)?m.property().getText(h).length:m.property().children(h).length,ur=(m,h)=>{const v=Vf(m,h,m.query().prevSibling).getOr(h);if(m.property().isText(v))return Yu(v,Gg(m,v));const z=m.property().children(v);return z.length>0?ur(m,z[z.length-1]):Yu(v,Gg(m,v))},kb=ur,T1=Ot(),je=(m,h)=>{ln(m)||(z=>pu(z).bind(N=>{return D=N,F=["fixed","relative","empty"],ve.from(uu.exec(D)).bind(V=>{const X=Number(V[1]),ie=V[2];return((xe,de)=>Ie(de,ge=>Ie(Hd[ge],fe=>xe===fe)))(ie,F)?ve.some({value:X,unit:ie}):ve.none()});var D,F}))(m).each(z=>{const N=z.value/2;hu(m,N,z.unit),hu(h,N,z.unit)})},Xu=m=>O(m,Kt(0)),Fm=(m,h,v,z,N)=>N(m.slice(0,h)).concat(z).concat(N(m.slice(v))),Ju=m=>(h,v,z,N)=>{if(m(z)){const D=Math.max(N,h[v]-Math.abs(z)),F=Math.abs(D-h[v]);return z>=0?F:-F}return z},Qu=Ju(m=>m<0),ac=Ju(Et),Ml=()=>{const m=(v,z,N,D)=>{const F=(100+N)/100,V=Math.max(D,(v[z]+N)/F);return O(v,(X,ie)=>(ie===z?V:X/F)-X)},h=(v,z,N,D,F,V)=>V?m(v,z,D,F):((X,ie,xe,de,ge)=>{const fe=Qu(X,ie,de,ge);return Fm(X,ie,xe+1,[fe,0],Xu)})(v,z,N,D,F);return{resizeTable:(v,z)=>v(z),clampTableDelta:Qu,calcLeftEdgeDeltas:h,calcMiddleDeltas:(v,z,N,D,F,V,X)=>h(v,N,D,F,V,X),calcRightEdgeDeltas:(v,z,N,D,F,V)=>{if(V)return m(v,N,D,F);{const X=Qu(v,N,D,F);return Xu(v.slice(0,N)).concat([X])}},calcRedestributedWidths:(v,z,N,D)=>{if(D){const F=(z+N)/z,V=O(v,X=>X/F);return{delta:100*F-100,newSizes:V}}return{delta:N,newSizes:v}}}},Ss=()=>{const m=(h,v,z,N,D)=>{const F=ac(h,N>=0?z:v,N,D);return Fm(h,v,z+1,[F,-F],Xu)};return{resizeTable:(h,v,z)=>{z&&h(v)},clampTableDelta:(h,v,z,N,D)=>{if(D){if(z>=0)return z;{const F=Je(h,(V,X)=>V+X-N,0);return Math.max(-F,z)}}return Qu(h,v,z,N)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(h,v,z,N,D,F)=>m(h,z,N,D,F),calcRightEdgeDeltas:(h,v,z,N,D,F)=>{if(F)return Xu(h);{const V=N/h.length;return O(h,Kt(V))}},calcRedestributedWidths:(h,v,z,N)=>({delta:0,newSizes:h})}},Xn=m=>Ns(m).grid,Sr=Fn("th"),ef=m=>tt(m,h=>Sr(h.element)),Zd=(m,h)=>m&&h?"sectionCells":m?"section":"cells",ic=m=>{const h=m.section==="thead",v=pa(Uf(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:h||v?{type:"header",subType:Zd(h,v)}:{type:"body"}},Uf=m=>{const h=Do(m,v=>Sr(v.element));return h.length===0?ve.some("td"):h.length===m.length?ve.some("th"):ve.none()},k=(m,h,v)=>bs(v(m.element,h),!0,m.isLocked),T=(m,h)=>m.section!==h?fa(m.element,m.cells,h,m.isNew):m,$=()=>({transformRow:T,transformCell:(m,h,v)=>{const z=v(m.element,h),N=eo(z)!=="td"?(D=>{const F=Ii(D,"td");Xi(D,F);const V=Ts(D);return gi(F,V),lr(D),F})(z):z;return bs(N,m.isNew,m.isLocked)}}),Q=()=>({transformRow:T,transformCell:k}),be=()=>({transformRow:(m,h)=>T(m,h==="thead"?"tbody":h),transformCell:k}),Le=$,ye=Q,Pt=be,qt=()=>({transformRow:Go,transformCell:k}),Mo=(m,h,v,z)=>{v===z?Fo(m,h):Qo(m,h,v)},or=(m,h,v)=>{uo(Fi(m,h)).fold(()=>Ka(m,v),z=>Xi(z,v))},nr=(m,h)=>{const v=[],z=[],N=ge=>O(ge,fe=>{fe.isNew&&v.push(fe.element);const se=fe.element;return Li(se),Eo(fe.cells,ke=>{ke.isNew&&z.push(ke.element),Mo(ke.element,"colspan",ke.colspan,1),Mo(ke.element,"rowspan",ke.rowspan,1),Rr(se,ke.element)}),se}),D=ge=>Se(ge,fe=>O(fe.cells,se=>(Mo(se.element,"span",se.colspan,1),se.element))),F=(ge,fe)=>{const se=((We,Fe)=>{const Qe=yi(We,Fe).getOrThunk(()=>{const rt=nt.fromTag(Fe,Sl(We).dom);return Fe==="thead"?or(We,"caption,colgroup",rt):Fe==="colgroup"?or(We,"caption",rt):Rr(We,rt),rt});return Li(Qe),Qe})(m,fe),ke=(fe==="colgroup"?D:N)(ge);gi(se,ke)},V=(ge,fe)=>{ge.length>0?F(ge,fe):(se=>{yi(m,se).each(lr)})(fe)},X=[],ie=[],xe=[],de=[];return Eo(h,ge=>{switch(ge.section){case"thead":X.push(ge);break;case"tbody":ie.push(ge);break;case"tfoot":xe.push(ge);break;case"colgroup":de.push(ge)}}),V(de,"colgroup"),V(X,"thead"),V(ie,"tbody"),V(xe,"tfoot"),{newRows:v,newCells:z}},Br=(m,h)=>{if(m.length===0)return 0;const v=m[0];return Bi(m,z=>!h(v.element,z.element)).getOr(m.length)},Va=(m,h)=>{const v=O(m,z=>O(z.cells,ue));return O(m,(z,N)=>{const D=Se(z.cells,(F,V)=>{if(v[N][V]===!1){const ge=((fe,se,ke,We)=>{const Fe=((lt,xt)=>lt[xt])(fe,se),Qe=Fe.section==="colgroup",rt=Br(Fe.cells.slice(ke),We),ut=Qe?1:Br(((lt,xt)=>O(lt,Lt=>ys(Lt,xt)))(fe.slice(se),ke),We);return{colspan:rt,rowspan:ut}})(m,N,V,h);return((fe,se,ke,We)=>{for(let Fe=fe;Fe<fe+ke;Fe++)for(let Qe=se;Qe<se+We;Qe++)v[Fe][Qe]=!0})(N,V,ge.rowspan,ge.colspan),[(X=F.element,ie=ge.rowspan,xe=ge.colspan,de=F.isNew,{element:X,rowspan:ie,colspan:xe,isNew:de})]}return[];var X,ie,xe,de});return((F,V,X,ie)=>({element:F,cells:V,section:X,isNew:ie}))(z.element,D,z.section,z.isNew)})},si=(m,h,v)=>{const z=[];Eo(m.colgroups,N=>{const D=[];for(let F=0;F<m.grid.columns;F++){const V=Yl(m,F).map(X=>bs(X.element,v,!1)).getOrThunk(()=>bs(h.colGap(),!0,!1));D.push(V)}z.push(fa(N.element,D,"colgroup",v))});for(let N=0;N<m.grid.rows;N++){const D=[];for(let X=0;X<m.grid.columns;X++){const ie=Mt(m,N,X).map(xe=>bs(xe.element,v,xe.isLocked)).getOrThunk(()=>bs(h.gap(),!0,!1));D.push(ie)}const F=m.all[N],V=fa(F.element,D,F.section,v);z.push(V)}return z},lc=m=>Va(m,Zn),ld=(m,h)=>H(m.all,v=>fn(v.cells,z=>Zn(h,z.element))),Er=(m,h,v)=>{const z=O(h.selection,D=>ju(D).bind(F=>ld(m,F)).filter(v)),N=Ja(z);return ru(N.length>0,N)},Es=(m,h,v,z,N)=>(D,F,V,X)=>{const ie=Ns(D),xe=ve.from(X==null?void 0:X.section).getOrThunk(qt);return h(ie,F).map(de=>{const ge=((ke,We)=>si(ke,We,!1))(ie,V),fe=m(ge,de,Zn,N(V),xe),se=Qi(fe.grid);return{info:de,grid:lc(fe.grid),cursor:fe.cursor,lockedColumns:se}}).bind(de=>{const ge=nr(D,de.grid),fe=ve.from(X==null?void 0:X.sizing).getOrThunk(()=>Sc(D)),se=ve.from(X==null?void 0:X.resize).getOrThunk(Ss);return v(D,de.grid,de.info,{sizing:fe,resize:se,section:xe}),z(D),Fo(D,ba),de.lockedColumns.length>0&&Qo(D,ba,de.lockedColumns.join(",")),ve.some({cursor:de.cursor,newRows:ge.newRows,newCells:ge.newCells})})},ar=(m,h)=>Er(m,h,Et).map(v=>({cells:v,generators:h.generators,clipboard:h.clipboard})),ir=(m,h)=>Er(m,h,Et),hl=(m,h)=>Er(m,h,v=>!v.isLocked),ai=(m,h)=>tt(h,v=>((z,N)=>ld(z,N).exists(D=>!D.isLocked))(m,v)),jf=(m,h,v,z)=>{const N=On(m).rows;let D=!0;for(let F=0;F<N.length;F++)for(let V=0;V<_i(N[0]);V++){const X=N[F],ie=ys(X,V),xe=v(ie.element,h);xe&&!D?js(X,V,bs(z(),!0,ie.isLocked)):xe&&(D=!1)}return m},bl=m=>{const h=D=>D(m),v=Kt(m),z=()=>N,N={tag:!0,inner:m,fold:(D,F)=>F(m),isValue:Et,isError:ue,map:D=>gn.value(D(m)),mapError:z,bind:h,exists:h,forall:h,getOr:v,or:z,getOrThunk:v,orThunk:z,getOrDie:v,each:D=>{D(m)},toOptional:()=>ve.some(m)};return N},Kg=m=>{const h=()=>v,v={tag:!1,inner:m,fold:(N,D)=>N(m),isValue:ue,isError:Et,map:h,mapError:N=>gn.error(N(m)),bind:h,exists:ue,forall:Et,getOr:Go,or:Go,getOrThunk:pt,orThunk:pt,getOrDie:(z=String(m),()=>{throw new Error(z)}),each:$t,toOptional:ve.none};var z;return v},gn={value:bl,error:Kg,fromOption:(m,h)=>m.fold(()=>Kg(h),bl)},rs=(m,h)=>({rowDelta:0,colDelta:_i(m[0])-_i(h[0])}),ii=(m,h)=>({rowDelta:m.length-h.length,colDelta:0}),yl=(m,h,v,z)=>{const N=h.section==="colgroup"?v.col:v.cell;return jt(m,D=>bs(N(),!0,z(D)))},Yg=(m,h,v,z)=>{const N=m[m.length-1];return m.concat(jt(h,()=>{const D=N.section==="colgroup"?v.colgroup:v.row,F=dl(N,D,Go),V=yl(F.cells.length,F,v,X=>Jo(z,X.toString()));return Ol(F,V)}))},wb=(m,h,v,z)=>O(m,N=>{const D=yl(h,N,v,ue);return ha(N,z,D)}),Ac=(m,h,v)=>{const z=h.colDelta<0?wb:Go,N=h.rowDelta<0?Yg:Go,D=Qi(m),F=_i(m[0]),V=Ie(D,xe=>xe===F-1),X=z(m,Math.abs(h.colDelta),v,V?F-1:F),ie=Qi(X);return N(X,Math.abs(h.rowDelta),v,Uo(ie,Et))},Zf=(m,h,v,z)=>{const N=qe(z,ys(m[h],v).element),D=m[h];return m.length>1&&_i(D)>1&&(v>0&&N(sa(D,v-1))||v<D.cells.length-1&&N(sa(D,v+1))||h>0&&N(sa(m[h-1],v))||h<m.length-1&&N(sa(m[h+1],v)))},Xg=(m,h,v)=>Do(v,z=>z>=m.column&&z<=_i(h[0])+m.column),Cb=(m,h,v,z,N)=>{((ie,xe,de,ge)=>{xe>0&&xe<ie[0].cells.length&&Eo(ie,fe=>{const se=fe.cells[xe-1];let ke=0;const We=ge();for(;fe.cells.length>xe+ke&&de(se.element,fe.cells[xe+ke].element);)js(fe,xe+ke,bs(We,!0,fe.cells[xe+ke].isLocked)),ke++})})(h,m,N,z.cell);const D=ii(v,h),F=Ac(v,D,z),V=ii(h,F),X=Ac(h,V,z);return O(X,(ie,xe)=>ha(ie,m,F[xe].cells))},O1=(m,h,v,z,N)=>{((Qe,rt,ut,lt)=>{const xt=On(Qe).rows;if(rt>0&&rt<xt.length){const Lt=((co,vn)=>Je(co,(Oo,Ko)=>Ie(Oo,Ao=>vn(Ao.element,Ko.element))?Oo:Oo.concat([Ko]),[]))(xt[rt-1].cells,ut);Eo(Lt,co=>{let vn=ve.none();for(let Oo=rt;Oo<xt.length;Oo++)for(let Ko=0;Ko<_i(xt[0]);Ko++){const Ao=xt[Oo],qn=ys(Ao,Ko);ut(qn.element,co.element)&&(vn.isNone()&&(vn=ve.some(lt())),vn.each(vs=>{js(Ao,Ko,bs(vs,!0,qn.isLocked))}))}})}})(h,m,N,z.cell);const D=Qi(h),F=rs(h,v),V={...F,colDelta:F.colDelta-D.length},X=Ac(h,V,z),{cols:ie,rows:xe}=On(X),de=Qi(X),ge=rs(v,h),fe={...ge,colDelta:ge.colDelta+de.length},se=(We=z,Fe=de,O(v,Qe=>Je(Fe,(rt,ut)=>{const lt=yl(1,Qe,We,Et)[0];return ti(rt,ut,lt)},Qe))),ke=Ac(se,fe,z);var We,Fe;return[...ie,...xe.slice(0,m),...ke,...xe.slice(m,xe.length)]},A1=(m,h,v,z,N)=>{const{rows:D,cols:F}=On(m),V=D.slice(0,h),X=D.slice(h);return[...F,...V,((ie,xe,de,ge)=>dl(ie,fe=>ge(fe,de),xe))(D[v],(ie,xe)=>h>0&&h<D.length&&z(sa(D[h-1],xe),sa(D[h],xe))?ys(D[h],xe):bs(N(ie.element,z),!0,ie.isLocked),z,N),...X]},Xp=(m,h,v,z,N)=>O(m,D=>{const F=h>0&&h<_i(D)&&z(sa(D,h-1),sa(D,h)),V=((X,ie,xe,de,ge,fe,se)=>{if(xe!=="colgroup"&&de)return ys(X,ie);{const ke=ys(X,ge);return bs(se(ke.element,fe),!0,!1)}})(D,h,D.section,F,v,z,N);return ti(D,h,V)}),mv=(m,h,v,z)=>((N,D,F,V)=>sa(N[D],F)!==void 0&&D>0&&V(sa(N[D-1],F),sa(N[D],F)))(m,h,v,z)||((N,D,F)=>D>0&&F(sa(N,D-1),sa(N,D)))(m[h],v,z),Jp=(m,h,v,z)=>{const N=D=>(F=>F==="row"?(V=>vi(V,"rowspan")>1)(h):ln(h))(D)?`${D}group`:D;return m?Sr(h)?N(v):null:z&&Sr(h)?N(v==="row"?"col":"row"):null},Hm=(m,h,v)=>bs(v(m.element,h),!0,m.isLocked),Sb=(m,h,v,z,N,D,F)=>O(m,(V,X)=>(ie=>{const xe=ie.cells,de=O(xe,(ge,fe)=>{if((se=>Ie(h,ke=>v(se.element,ke.element)))(ge)){const se=F(ge,X,fe)?N(ge,v,z):ge;return D(se,X,fe).each(ke=>{var We,Fe;We=se.element,Fe={scope:ve.from(ke)},Xo(Fe,(Qe,rt)=>{Qe.fold(()=>{Fo(We,rt)},ut=>{Hr(We.dom,rt,ut)})})}),se}return ge});return fa(ie.element,de,ie.section,ie.isNew)})(V)),N1=(m,h,v)=>Se(m,(z,N)=>mv(m,N,h,v)?[]:[ys(z,h)]),Jg=(m,h,v,z,N)=>{const D=On(m).rows,F=Se(h,xe=>N1(D,xe,z)),V=O(D,xe=>ef(xe.cells)),X=((xe,de)=>tt(de,Go)&&ef(xe)?Et:(ge,fe,se)=>!(eo(ge.element)==="th"&&de[fe]))(F,V);return Sb(m,F,z,N,Hm,((xe,de)=>(ge,fe)=>ve.some(Jp(xe,ge.element,"row",de[fe])))(v,V),X)},tf=(m,h,v,z)=>{const N=On(m).rows,D=O(h,F=>ys(N[F.row],F.column));return Sb(m,D,v,z,Hm,ve.none,Et)},Wf=m=>{if(!Ro(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const h=[],v={};return Eo(m,(z,N)=>{const D=as(z);if(D.length!==1)throw new Error("one and only one name per case");const F=D[0],V=z[F];if(v[F]!==void 0)throw new Error("duplicate key detected:"+F);if(F==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ro(V))throw new Error("case arguments must be an array");h.push(F),v[F]=(...X)=>{const ie=X.length;if(ie!==V.length)throw new Error("Wrong number of arguments to case "+F+". Expected "+V.length+" ("+V+"), got "+ie);return{fold:(...xe)=>{if(xe.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+xe.length);return xe[N].apply(null,X)},match:xe=>{const de=as(xe);if(h.length!==de.length)throw new Error("Wrong number of arguments to match. Expected: "+h.join(",")+`
Actual: `+de.join(","));if(!tt(h,ge=>Io(de,ge)))throw new Error("Not all branches were specified when using match. Specified: "+de.join(", ")+`
Required: `+h.join(", "));return xe[F].apply(null,X)},log:xe=>{console.log(xe,{constructors:h,constructor:F,params:X})}}}}),v},Qp={...Wf([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Eb=(m,h,v)=>{const z=((N,D)=>cu(N)?((F,V)=>{const X=Qc(F);return O(X,(ie,xe)=>({element:ie.element,width:V[xe],colspan:ie.colspan}))})(N,D):((F,V)=>{const X=dn(F);return O(X,ie=>{const xe=((de,ge,fe)=>{let se=0;for(let ke=de;ke<ge;ke++)se+=fe[ke]!==void 0?fe[ke]:0;return se})(ie.column,ie.column+ie.colspan,V);return{element:ie.element,width:xe,colspan:ie.colspan}})})(N,D))(m,h);Eo(z,N=>{v.setElementWidth(N.element,N.width)})},Qg=(m,h,v,z,N)=>{const D=Ns(m),F=N.getCellDelta(h),V=N.getWidths(D,N),X=v===D.grid.columns-1,ie=z.clampTableDelta(V,v,F,N.minCellWidth(),X),xe=((ge,fe,se,ke,We)=>{const Fe=ge.slice(0),Qe=((ut,lt)=>ut.length===0?Qp.none():ut.length===1?Qp.only(0):lt===0?Qp.left(0,1):lt===ut.length-1?Qp.right(lt-1,lt):lt>0&&lt<ut.length-1?Qp.middle(lt-1,lt,lt+1):Qp.none())(ge,fe),rt=Kt(O(Fe,Kt(0)));return Qe.fold(rt,ut=>ke.singleColumnWidth(Fe[ut],se),(ut,lt)=>We.calcLeftEdgeDeltas(Fe,ut,lt,se,ke.minCellWidth(),ke.isRelative),(ut,lt,xt)=>We.calcMiddleDeltas(Fe,ut,lt,xt,se,ke.minCellWidth(),ke.isRelative),(ut,lt)=>We.calcRightEdgeDeltas(Fe,ut,lt,se,ke.minCellWidth(),ke.isRelative))})(V,v,ie,N,z),de=O(xe,(ge,fe)=>ge+V[fe]);Eb(D,de,N),z.resizeTable(N.adjustTableWidth,ie,X)},R1=(m,h,v)=>{const z=Ns(m),N=((X,ie)=>aa(X,ie,od,xe=>xe.getOrThunk(Md)))(z,m),D=O(N,(X,ie)=>v===ie?Math.max(h+X,Md()):X),F=((X,ie)=>O(X.all,(xe,de)=>({element:xe.element,height:ie[de]})))(z,D);Eo(F,X=>{oo(X.element,X.height)}),Eo(dn(z),X=>{(ie=>{_r(ie,"height")})(X.element)});const V=Zr(D,(X,ie)=>X+ie,0);oo(m,V)},eg=m=>Je(m,(h,v)=>Ie(h,z=>z.column===v.column)?h:h.concat([v]),[]).sort((h,v)=>h.column-v.column),eh=Fn("col"),of=Fn("colgroup"),pv=m=>eo(m)==="tr"||of(m),$m=m=>({element:m,colspan:Hi(m,"colspan",1),rowspan:Hi(m,"rowspan",1)}),Nc=m=>_o(m,"scope").map(h=>h.substr(0,3)),ds=(m,h=$m)=>{const v=N=>{if(pv(N))return of((D={element:N}).element)?m.colgroup(D):m.row(D);{const F=N,V=(X=>eh(X.element)?m.col(X):m.cell(X))(h(F));return z=ve.some({item:F,replacement:V}),V}var D};let z=ve.none();return{getOrInit:(N,D)=>z.fold(()=>v(N),F=>D(N,F.item)?F.replacement:v(N))}},D1=m=>h=>{const v=[],z=N=>{const D=m==="td"?{scope:null}:{},F=h.replace(N,m,D);return v.push({item:N,sub:F}),F};return{replaceOrInit:(N,D)=>{if(pv(N)||eh(N))return N;{const F=N;return((V,X)=>fn(v,ie=>X(ie.item,V)))(F,D).fold(()=>z(F),V=>D(N,V.item)?V.sub:z(F))}}}},zb=m=>({unmerge:h=>{const v=Nc(h);return v.each(z=>Qo(h,"scope",z)),()=>{const z=m.cell({element:h,colspan:1,rowspan:1});return _r(z,"width"),_r(h,"width"),v.each(N=>Qo(z,"scope",N)),z}},merge:h=>(_r(h[0],"width"),(()=>{const v=Ja(O(h,Nc));if(v.length===0)return ve.none();{const z=v[0],N=["row","col"];return Ie(v,D=>D!==z&&Io(N,D))?ve.none():ve.from(z)}})().fold(()=>Fo(h[0],"scope"),v=>Qo(h[0],"scope",v+"group")),Kt(h[0]))}),Hw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Tb=Ot(),tg=m=>((h,v)=>{const z=h.property().name(v);return Io(Hw,z)})(Tb,m),gv=m=>((h,v)=>{const z=h.property().name(v);return Io(["ol","ul"],z)})(Tb,m),M1=m=>{const h=Fn("br"),v=N=>Vr(N).bind(D=>{const F=Ga(D).map(V=>!!tg(V)||!!((X,ie)=>Io(["br","img","hr","input"],X.property().name(ie)))(Tb,V)&&eo(V)!=="img").getOr(!1);return za(D).map(V=>{return F===!0||eo(X=V)==="li"||Ji(X,gv).isSome()||h(D)||tg(V)&&!Zn(N,V)?[]:[nt.fromTag("br")];var X})}).getOr([]),z=(()=>{const N=Se(m,D=>{const F=Ts(D);return(V=>tt(V,X=>h(X)||Kn(X)&&Xs(X).trim().length===0))(F)?[]:F.concat(v(D))});return N.length===0?[nt.fromTag("br")]:N})();Li(m[0]),gi(m[0],z)},th=m=>Na(m,!0),nf=m=>{Dn(m).length===0&&lr(m)},Vm=(m,h)=>({grid:m,cursor:h}),Bo=(m,h,v)=>{const z=((N,D,F)=>{var V,X;const ie=On(N).rows;return ve.from((X=(V=ie[D])===null||V===void 0?void 0:V.cells[F])===null||X===void 0?void 0:X.element).filter(th).orThunk(()=>(xe=>H(xe,de=>H(de.cells,ge=>{const fe=ge.element;return ru(th(fe),fe)})))(ie))})(m,h,v);return Vm(m,z)},li=m=>Je(m,(h,v)=>Ie(h,z=>z.row===v.row)?h:h.concat([v]),[]).sort((h,v)=>h.row-v.row),rf=(m,h)=>(v,z,N,D,F)=>{const V=li(z),X=O(V,xe=>xe.row),ie=((xe,de,ge,fe,se,ke,We)=>{const{cols:Fe,rows:Qe}=On(xe),rt=Qe[de[0]],ut=Se(de,Oo=>((Ko,Ao,qn)=>{const vs=Ko[Ao];return Se(vs.cells,(ja,Ca)=>mv(Ko,Ao,Ca,qn)?[]:[ja])})(Qe,Oo,se)),lt=O(rt.cells,(Oo,Ko)=>ef(N1(Qe,Ko,se))),xt=[...Qe];Eo(de,Oo=>{xt[Oo]=We.transformRow(Qe[Oo],ge)});const Lt=[...Fe,...xt],co=((Oo,Ko)=>tt(Ko,Go)&&ef(Oo.cells)?Et:(Ao,qn,vs)=>!(eo(Ao.element)==="th"&&Ko[vs]))(rt,lt),vn=((Oo,Ko)=>(Ao,qn,vs)=>ve.some(Jp(Oo,Ao.element,"col",Ko[vs])))(fe,lt);return Sb(Lt,ut,se,ke,We.transformCell,vn,co)})(v,X,m,h,N,D.replaceOrInit,F);return Bo(ie,z[0].row,z[0].column)},B1=rf("thead",!0),Gr=rf("tbody",!1),hv=rf("tfoot",!1),qf=(m,h,v)=>{const z=((D,F)=>ae(D,()=>F))(m,v.section),N=ws(z);return si(N,h,!0)},Um=(m,h,v,z)=>((N,D,F,V)=>{const X=ws(D),ie=V.getWidths(X,V);Eb(X,ie,V)})(0,h,0,z.sizing),Mn=(m,h,v,z)=>((N,D,F,V,X)=>{const ie=ws(D),xe=V.getWidths(ie,V),de=V.pixelWidth(),{newSizes:ge,delta:fe}=X.calcRedestributedWidths(xe,de,F.pixelDelta,V.isRelative);Eb(ie,ge,V),V.adjustTableWidth(fe)})(0,h,v,z.sizing,z.resize),P1=(m,h)=>Ie(h,v=>v.column===0&&v.isLocked),L1=(m,h)=>Ie(h,v=>v.column+v.colspan>=m.grid.columns&&v.isLocked),Gf=(m,h)=>{const v=Wu(m),z=eg(h);return Je(z,(N,D)=>N+v[D.column].map(lu).getOr(0),0)},cc=m=>(h,v)=>ir(h,v).filter(z=>!(m?P1:L1)(h,z)).map(z=>({details:z,pixelDelta:Gf(h,z)})),oh=m=>(h,v)=>ar(h,v).filter(z=>!(m?P1:L1)(h,z.cells)),wt=D1("th"),Ob=D1("td"),$w=Es((m,h,v,z)=>{const N=h[0].row,D=li(h),F=Zr(D,(V,X)=>({grid:A1(V.grid,N,X.row+V.delta,v,z.getOrInit),delta:V.delta+1}),{grid:m,delta:0}).grid;return Bo(F,N,h[0].column)},ir,$t,$t,ds),I1=Es((m,h,v,z)=>{const N=li(h),D=N[N.length-1],F=D.row+D.rowspan,V=Zr(N,(X,ie)=>A1(X,F,ie.row,v,z.getOrInit),m);return Bo(V,F,h[0].column)},ir,$t,$t,ds),bv=Es((m,h,v,z)=>{const N=h.details,D=eg(N),F=D[0].column,V=Zr(D,(X,ie)=>({grid:Xp(X.grid,F,ie.column+X.delta,v,z.getOrInit),delta:X.delta+1}),{grid:m,delta:0}).grid;return Bo(V,N[0].row,F)},cc(!0),Mn,$t,ds),Ab=Es((m,h,v,z)=>{const N=h.details,D=N[N.length-1],F=D.column+D.colspan,V=eg(N),X=Zr(V,(ie,xe)=>Xp(ie,F,xe.column,v,z.getOrInit),m);return Bo(X,N[0].row,F)},cc(!1),Mn,$t,ds),og=Es((m,h,v,z)=>{const N=eg(h.details),D=((V,X)=>Se(V,ie=>{const xe=ie.cells,de=Zr(X,(ge,fe)=>fe>=0&&fe<ge.length?ge.slice(0,fe).concat(ge.slice(fe+1)):ge,xe);return de.length>0?[fa(ie.element,de,ie.section,ie.isNew)]:[]}))(m,O(N,V=>V.column)),F=D.length>0?D[0].cells.length-1:0;return Bo(D,N[0].row,Math.min(N[0].column,F))},(m,h)=>hl(m,h).map(v=>({details:v,pixelDelta:-Gf(m,v)})),Mn,nf,ds),ng=Es((m,h,v,z)=>{const N=li(h),D=((V,X,ie)=>{const{rows:xe,cols:de}=On(V);return[...de,...xe.slice(0,X),...xe.slice(ie+1)]})(m,N[0].row,N[N.length-1].row),F=Math.max(On(D).rows.length-1,0);return Bo(D,Math.min(h[0].row,F),h[0].column)},ir,$t,nf,ds),yv=Es((m,h,v,z)=>{const N=eg(h),D=O(N,V=>V.column),F=Jg(m,D,!0,v,z.replaceOrInit);return Bo(F,h[0].row,h[0].column)},hl,$t,$t,wt),Nb=Es((m,h,v,z)=>{const N=eg(h),D=O(N,V=>V.column),F=Jg(m,D,!1,v,z.replaceOrInit);return Bo(F,h[0].row,h[0].column)},hl,$t,$t,Ob),xv=Es(B1,ir,$t,$t,wt),Rb=Es(Gr,ir,$t,$t,Ob),rg=Es(hv,ir,$t,$t,Ob),Db=Es((m,h,v,z)=>{const N=tf(m,h,v,z.replaceOrInit);return Bo(N,h[0].row,h[0].column)},hl,$t,$t,wt),Mb=Es((m,h,v,z)=>{const N=tf(m,h,v,z.replaceOrInit);return Bo(N,h[0].row,h[0].column)},hl,$t,$t,Ob),vv=Es((m,h,v,z)=>{const N=h.cells;M1(N);const D=((F,V,X,ie)=>{const xe=On(F).rows;if(xe.length===0)return F;for(let de=V.startRow;de<=V.finishRow;de++)for(let ge=V.startCol;ge<=V.finishCol;ge++){const fe=xe[de],se=ys(fe,ge).isLocked;js(fe,ge,bs(ie(),!1,se))}return F})(m,h.bounds,0,z.merge(N));return Vm(D,ve.from(N[0]))},(m,h)=>((v,z)=>z.mergable)(0,h).filter(v=>ai(m,v.cells)),Um,$t,zb),F1=Es((m,h,v,z)=>{const N=Zr(h,(D,F)=>jf(D,F,v,z.unmerge(F)),m);return Vm(N,ve.from(h[0]))},(m,h)=>((v,z)=>z.unmergable)(0,h).filter(v=>ai(m,v)),Um,$t,zb),Vw=Es((m,h,v,z)=>{const N=((V,X)=>{const ie=Ns(V);return si(ie,X,!0)})(h.clipboard,h.generators);var D,F;return((V,X,ie,xe,de)=>{const ge=Qi(X),fe=((Fe,Qe,rt)=>{const ut=_i(Qe[0]),lt=On(Qe).cols.length+Fe.row,xt=jt(ut-Fe.column,Lt=>Lt+Fe.column);return{row:lt,column:fn(xt,Lt=>tt(rt,co=>co!==Lt)).getOr(ut-1)}})(V,X,ge),se=On(ie).rows,ke=Xg(fe,se,ge);return((Fe,Qe,rt)=>{if(Fe.row>=Qe.length||Fe.column>_i(Qe[0]))return gn.error("invalid start address out of table bounds, row: "+Fe.row+", column: "+Fe.column);const ut=Qe.slice(Fe.row),lt=ut[0].cells.slice(Fe.column),xt=_i(rt[0]),Lt=rt.length;return gn.value({rowDelta:ut.length-Lt,colDelta:lt.length-xt})})(fe,X,se).map(Fe=>{const Qe={...Fe,colDelta:Fe.colDelta-ke.length},rt=Ac(X,Qe,xe),ut=Qi(rt),lt=Xg(fe,se,ut);return((xt,Lt,co,vn,Oo,Ko)=>{const Ao=xt.row,qn=xt.column,vs=Ao+co.length,ja=qn+_i(co[0])+Ko.length,Ca=Uo(Ko,Et);for(let Gi=Ao;Gi<vs;Gi++){let Cu=0;for(let vl=qn;vl<ja;vl++){if(Ca[vl]){Cu++;continue}Zf(Lt,Gi,vl,Oo)&&jf(Lt,sa(Lt[Gi],vl),Oo,vn.cell);const ip=vl-qn-Cu,ry=ys(co[Gi-Ao],ip),sy=ry.element,ay=vn.replace(sy);js(Lt[Gi],vl,bs(ay,!0,ry.isLocked))}}return Lt})(fe,rt,se,xe,de,lt)})})((D=h.row,F=h.column,{row:D,column:F}),m,N,h.generators,v).fold(()=>Vm(m,ve.some(h.element)),V=>Bo(V,h.row,h.column))},(m,h)=>ju(h.element).bind(v=>ld(m,v).map(z=>({...z,generators:h.generators,clipboard:h.clipboard}))),Um,$t,ds),_v=Es((m,h,v,z)=>{const N=On(m).rows,D=h.cells[0].column,F=N[h.cells[0].row],V=qf(h.clipboard,h.generators,F),X=Cb(D,m,V,h.generators,v);return Bo(X,h.cells[0].row,h.cells[0].column)},oh(!0),$t,$t,ds),H1=Es((m,h,v,z)=>{const N=On(m).rows,D=h.cells[h.cells.length-1].column+h.cells[h.cells.length-1].colspan,F=N[h.cells[0].row],V=qf(h.clipboard,h.generators,F),X=Cb(D,m,V,h.generators,v);return Bo(X,h.cells[0].row,D)},oh(!1),$t,$t,ds),Uw=Es((m,h,v,z)=>{const N=On(m).rows,D=h.cells[0].row,F=N[D],V=qf(h.clipboard,h.generators,F),X=O1(D,m,V,h.generators,v);return Bo(X,h.cells[0].row,h.cells[0].column)},ar,$t,$t,ds),jm=Es((m,h,v,z)=>{const N=On(m).rows,D=h.cells[h.cells.length-1].row+h.cells[h.cells.length-1].rowspan,F=N[h.cells[0].row],V=qf(h.clipboard,h.generators,F),X=O1(D,m,V,h.generators,v);return Bo(X,D,h.cells[0].column)},ar,$t,$t,ds),$1=(m,h)=>{const v=Ns(m);return ir(v,h).bind(z=>{const N=z[z.length-1],D=z[0].column,F=N.column+N.colspan,V=De(O(v.all,X=>Do(X.cells,ie=>ie.column>=D&&ie.column<F)));return Uf(V)}).getOr("")},Bb=(m,h)=>{const v=Ns(m);return ir(v,h).bind(Uf).getOr("")},sf=(m,h)=>{const v=Ns(m);return ir(v,h).bind(z=>{const N=z[z.length-1],D=z[0].row,F=N.row+N.rowspan;return(V=>{const X=O(V,de=>ic(de).type),ie=Io(X,"header"),xe=Io(X,"footer");if(ie||xe){const de=Io(X,"body");return!ie||de||xe?ie||de||!xe?ve.none():ve.some("footer"):ve.some("header")}return ve.some("body")})(v.all.slice(D,F))}).getOr("")},cd=(m,h)=>m.dispatch("NewRow",{node:h}),V1=(m,h)=>m.dispatch("NewCell",{node:h}),dc=(m,h,v)=>{m.dispatch("TableModified",{...v,table:h})},Zm={structure:!1,style:!0},Ra={structure:!0,style:!1},U1={structure:!0,style:!0},kv=(m,h)=>U(m)?ia(h):le(m)?Cs(h):Sc(h),nh=(m,h,v)=>{const z=xe=>eo(Vd(xe))==="table",N=Js(m),D=S(m)?$t:je,F=xe=>{switch(Yn(m)){case"section":return Le();case"sectionCells":return ye();case"cells":return Pt();default:return((de,ge)=>{var fe;switch((fe=Ns(de),H(fe.all,se=>{const ke=ic(se);return ke.type==="header"?ve.from(ke.subType):ve.none()})).getOr(ge)){case"section":return $();case"sectionCells":return Q();case"cells":return be()}})(xe,"section")}},V=(xe,de,ge,fe)=>(se,ke,We=!1)=>{zi(se);const Fe=nt.fromDom(m.getDoc()),Qe=Ee(ge,Fe,N),rt={sizing:kv(m,se),resize:S(m)?Ml():Ss(),section:F(se)};return de(se)?xe(se,ke,Qe,rt).bind(ut=>{h.refresh(se.dom),Eo(ut.newRows,xt=>{cd(m,xt.dom)}),Eo(ut.newCells,xt=>{V1(m,xt.dom)});const lt=((xt,Lt)=>Lt.cursor.fold(()=>{const co=Dn(xt);return ho(co).filter(es).map(vn=>{v.clearSelectedCells(xt.dom);const Oo=m.dom.createRng();return Oo.selectNode(vn.dom),m.selection.setRng(Oo),Qo(vn,"data-mce-selected","1"),Oo})},co=>{const vn=kb(T1,co),Oo=m.dom.createRng();return Oo.setStart(vn.element.dom,vn.offset),Oo.setEnd(vn.element.dom,vn.offset),m.selection.setRng(Oo),v.clearSelectedCells(xt.dom),ve.some(Oo)}))(se,ut);return es(se)&&(zi(se),We||dc(m,se.dom,fe)),lt.map(xt=>({rng:xt,effect:fe}))}):ve.none()},X=V(ng,xe=>!z(m)||Xn(xe).rows>1,$t,Ra),ie=V(og,xe=>!z(m)||Xn(xe).columns>1,$t,Ra);return{deleteRow:X,deleteColumn:ie,insertRowsBefore:V($w,Et,$t,Ra),insertRowsAfter:V(I1,Et,$t,Ra),insertColumnsBefore:V(bv,Et,D,Ra),insertColumnsAfter:V(Ab,Et,D,Ra),mergeCells:V(vv,Et,$t,Ra),unmergeCells:V(F1,Et,$t,Ra),pasteColsBefore:V(_v,Et,$t,Ra),pasteColsAfter:V(H1,Et,$t,Ra),pasteRowsBefore:V(Uw,Et,$t,Ra),pasteRowsAfter:V(jm,Et,$t,Ra),pasteCells:V(Vw,Et,$t,U1),makeCellsHeader:V(Db,Et,$t,Ra),unmakeCellsHeader:V(Mb,Et,$t,Ra),makeColumnsHeader:V(yv,Et,$t,Ra),unmakeColumnsHeader:V(Nb,Et,$t,Ra),makeRowsHeader:V(xv,Et,$t,Ra),makeRowsBody:V(Rb,Et,$t,Ra),makeRowsFooter:V(rg,Et,$t,Ra),getTableRowType:sf,getTableCellType:Bb,getTableColType:$1}},zr=(m,h,v)=>{const z=Hi(m,h,1);v===1||z<=1?Fo(m,h):Qo(m,h,Math.min(v,z))},Kf=(m,h)=>v=>{const z=v.column+v.colspan-1,N=v.column;return z>=m&&N<h},sg=Wf([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Pb=(m,h,v)=>{const z=v.substring(0,v.length-m.length),N=parseFloat(z);return z===N.toString()?h(N):sg.invalid(v)},Ws={...sg,from:m=>cs(m,"%")?Pb("%",sg.percent,m):cs(m,"px")?Pb("px",sg.pixels,m):sg.invalid(m)},Bl=(m,h,v)=>{const z=Ws.from(v),N=tt(m,D=>D==="0px")?((D,F)=>{const V=D.fold(()=>Kt(""),X=>Kt(X/F+"px"),()=>Kt(100/F+"%"));return jt(F,V)})(z,m.length):((D,F,V)=>D.fold(()=>F,X=>((ie,xe,de)=>{const ge=de/xe;return O(ie,fe=>Ws.from(fe).fold(()=>fe,se=>se*ge+"px",se=>se/100*de+"px"))})(F,V,X),X=>((ie,xe)=>O(ie,de=>Ws.from(de).fold(()=>de,ge=>ge/xe*100+"%",ge=>ge+"%")))(F,V)))(z,m,h);return wv(N)},Tr=(m,h)=>m.length===0?h:Zr(m,(v,z)=>Ws.from(z).fold(Kt(0),Go,Go)+v,0),rh=(m,h)=>Ws.from(m).fold(Kt(m),v=>v+h+"px",v=>v+h+"%"),wv=m=>{if(m.length===0)return m;const h=Zr(m,(z,N)=>{const D=Ws.from(N).fold(()=>({value:N,remainder:0}),F=>(V=>{const X=Math.floor(V);return{value:X+"px",remainder:V-X}})(F),F=>({value:F+"%",remainder:0}));return{output:[D.value].concat(z.output),remainder:z.remainder+D.remainder}},{output:[],remainder:0}),v=h.output;return v.slice(0,v.length-1).concat([rh(v[v.length-1],Math.round(h.remainder))])},Wm=Ws.from,ea=(m,h,v)=>{const z=Ns(m),N=z.all,D=dn(z),F=Qc(z);h.each(V=>{const X=Wm(V).fold(Kt("px"),Kt("px"),Kt("%")),ie=La(m),xe=((ge,fe)=>tc(ge,fe,Cc,nd))(z,m),de=Bl(xe,ie,V);cu(z)?((ge,fe,se)=>{Eo(fe,(ke,We)=>{const Fe=Tr([ge[We]],Tl());Zt(ke.element,"width",Fe+se)})})(de,F,X):((ge,fe,se)=>{Eo(fe,ke=>{const We=ge.slice(ke.column,ke.colspan+ke.column),Fe=Tr(We,Tl());Zt(ke.element,"width",Fe+se)})})(de,D,X),Zt(m,"width",V)}),v.each(V=>{const X=Fd(m),ie=((xe,de)=>aa(xe,de,Pf,nd))(z,m);((xe,de,ge)=>{Eo(ge,fe=>{_r(fe.element,"height")}),Eo(de,(fe,se)=>{Zt(fe.element,"height",xe[se])})})(Bl(ie,X,V),N,D),Zt(m,"height",V)})},xu=m=>pu(m).exists(h=>Ql.test(h)),Rc=m=>pu(m).exists(h=>xa.test(h)),Lb=m=>pu(m).isNone(),qm=m=>{Fo(m,"width"),Fo(m,"height")},Gm=m=>{const h=Dr(m);ea(m,ve.some(h),ve.none()),qm(m)},Yf=m=>{const h=(v=>La(v)+"px")(m);ea(m,ve.some(h),ve.none()),qm(m)},sh=m=>{_r(m,"width");const h=Gl(m),v=h.length>0?h:Dn(m);Eo(v,z=>{_r(z,"width"),qm(z)}),qm(m)},j1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Cv=(m,h,v,z)=>jt(m,N=>((D,F,V,X)=>{const ie=nt.fromTag("tr");for(let xe=0;xe<D;xe++){const de=nt.fromTag(X<F||xe<V?"th":"td");xe<V&&Qo(de,"scope","row"),X<F&&Qo(de,"scope","col"),Rr(de,nt.fromTag("br")),Rr(ie,de)}return ie})(h,v,z,N)),Oi=(m,h)=>{m.selection.select(h.dom,!0),m.selection.collapse(!0)},Km=(m,h,v,z,N)=>{const D=(V=>{const X=V.options,ie=X.get("table_default_styles");return X.isSet("table_default_styles")?ie:((xe,de)=>pe(xe)||!no(xe)?de:le(xe)?{...de,width:ka(xe)}:{...de,width:tr})(V,ie)})(m),F={styles:D,attributes:vo(m),colGroups:Rt(m)};return m.undoManager.ignore(()=>{const V=((ie,xe,de,ge,fe,se=j1)=>{const ke=nt.fromTag("table"),We=fe!=="cells";Qa(ke,se.styles),Gs(ke,se.attributes),se.colGroups&&Rr(ke,(ut=>{const lt=nt.fromTag("colgroup");return jt(ut,()=>Rr(lt,nt.fromTag("col"))),lt})(xe));const Fe=Math.min(ie,de);if(We&&de>0){const ut=nt.fromTag("thead");Rr(ke,ut);const lt=Cv(de,xe,fe==="sectionCells"?Fe:0,ge);gi(ut,lt)}const Qe=nt.fromTag("tbody");Rr(ke,Qe);const rt=Cv(We?ie-Fe:ie,xe,We?0:de,ge);return gi(Qe,rt),ke})(v,h,N,z,Yn(m),F);Qo(V,"data-mce-id","__mce");const X=(ie=>{const xe=nt.fromTag("div"),de=nt.fromDom(ie.dom.cloneNode(!0));return Rr(xe,de),(ge=>ge.dom.innerHTML)(xe)})(V);m.insertContent(X),m.addVisual()}),$s(Vd(m),'table[data-mce-id="__mce"]').map(V=>(le(m)?Yf(V):pe(m)?sh(V):(U(m)||(X=>Co(X)&&X.indexOf("%")!==-1)(D.width))&&Gm(V),zi(V),Fo(V,"data-mce-id"),((X,ie)=>{Eo(Xa(ie,"tr"),xe=>{cd(X,xe.dom),Eo(Xa(xe,"th,td"),de=>{V1(X,de.dom)})})})(m,V),((X,ie)=>{$s(ie,"td,th").each(qe(Oi,X))})(m,V),V.dom)).getOrNull()};var Ib=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Sv="x-tinymce/dom-table-",Z1=Sv+"rows",Fb=Sv+"columns",uc=m=>{const h=Ib.FakeClipboardItem(m);Ib.write([h])},ci=m=>{var h;const v=(h=Ib.read())!==null&&h!==void 0?h:[];return H(v,z=>ve.from(z.getType(m)))},zs=m=>{ci(m).isSome()&&Ib.clear()},Ds=m=>{m.fold(la,h=>uc({[Z1]:h}))},Ua=()=>ci(Z1),la=()=>zs(Z1),xs=m=>{m.fold(Ym,h=>uc({[Fb]:h}))},ms=()=>ci(Fb),Ym=()=>zs(Fb),af=m=>Im(pl(m),Rs(m)).filter(zc),ag=(m,h)=>{const v=Rs(m),z=de=>Wr(de,v),N=de=>(ge=>Vo(pl(ge),Rs(ge)).filter(zc))(m).bind(ge=>z(ge).map(fe=>de(fe,ge))),D=de=>{m.focus()},F=(de,ge=!1)=>N((fe,se)=>{const ke=Ti(Vt(m),fe,se);de(fe,ke,ge).each(D)}),V=()=>N((de,ge)=>((fe,se,ke)=>{const We=Ns(fe);return ir(We,se).bind(Fe=>{const Qe=si(We,ke,!1),rt=On(Qe).rows.slice(Fe[0].row,Fe[Fe.length-1].row+Fe[Fe.length-1].rowspan),ut=Se(rt,xt=>{const Lt=Do(xt.cells,co=>!co.isLocked);return Lt.length>0?[{...xt,cells:Lt}]:[]}),lt=lc(ut);return ru(lt.length>0,lt)}).map(Fe=>O(Fe,Qe=>{const rt=nu(Qe.element);return Eo(Qe.cells,ut=>{const lt=Wl(ut.element);Mo(lt,"colspan",ut.colspan,1),Mo(lt,"rowspan",ut.rowspan,1),Rr(rt,lt)}),rt}))})(de,Ti(Vt(m),de,ge),Ee($t,nt.fromDom(m.getDoc()),ve.none()))),X=()=>N((de,ge)=>((fe,se)=>{const ke=Ns(fe);return hl(ke,se).map(We=>{const Fe=We[We.length-1],Qe=We[0].column,rt=Fe.column+Fe.colspan,ut=((xt,Lt,co)=>{if(cu(xt)){const vn=Do(Qc(xt),Kf(Lt,co)),Oo=O(vn,Ao=>{const qn=Wl(Ao.element);return zr(qn,"span",co-Lt),qn}),Ko=nt.fromTag("colgroup");return gi(Ko,Oo),[Ko]}return[]})(ke,Qe,rt),lt=((xt,Lt,co)=>O(xt.all,vn=>{const Oo=Do(vn.cells,Kf(Lt,co)),Ko=O(Oo,qn=>{const vs=Wl(qn.element);return zr(vs,"colspan",co-Lt),vs}),Ao=nt.fromTag("tr");return gi(Ao,Ko),Ao}))(ke,Qe,rt);return[...ut,...lt]})})(de,Ti(Vt(m),de,ge))),ie=(de,ge)=>ge().each(fe=>{const se=O(fe,ke=>Wl(ke));N((ke,We)=>{const Fe=_a(nt.fromDom(m.getDoc())),Qe=((rt,ut,lt,xt)=>({selection:it(rt),clipboard:lt,generators:xt}))(Vt(m),0,se,Fe);de(ke,Qe).each(D)})}),xe=de=>(ge,fe)=>((se,ke)=>Jo(se,ke)?ve.from(se[ke]):ve.none())(fe,"type").each(se=>{F(de(se),fe.no_events)});Xo({mceTableSplitCells:()=>F(h.unmergeCells),mceTableMergeCells:()=>F(h.mergeCells),mceTableInsertRowBefore:()=>F(h.insertRowsBefore),mceTableInsertRowAfter:()=>F(h.insertRowsAfter),mceTableInsertColBefore:()=>F(h.insertColumnsBefore),mceTableInsertColAfter:()=>F(h.insertColumnsAfter),mceTableDeleteCol:()=>F(h.deleteColumn),mceTableDeleteRow:()=>F(h.deleteRow),mceTableCutCol:()=>X().each(de=>{xs(de),F(h.deleteColumn)}),mceTableCutRow:()=>V().each(de=>{Ds(de),F(h.deleteRow)}),mceTableCopyCol:()=>X().each(de=>xs(de)),mceTableCopyRow:()=>V().each(de=>Ds(de)),mceTablePasteColBefore:()=>ie(h.pasteColsBefore,ms),mceTablePasteColAfter:()=>ie(h.pasteColsAfter,ms),mceTablePasteRowBefore:()=>ie(h.pasteRowsBefore,Ua),mceTablePasteRowAfter:()=>ie(h.pasteRowsAfter,Ua),mceTableDelete:()=>af(m).each(de=>{Wr(de,v).filter(Bt(v)).each(ge=>{const fe=nt.fromText("");if(Xi(ge,fe),lr(ge),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const se=m.dom.createRng();se.setStart(fe.dom,0),se.setEnd(fe.dom,0),m.selection.setRng(se),m.nodeChanged()}})}),mceTableCellToggleClass:(de,ge)=>{N(fe=>{const se=Vt(m),ke=tt(se,Fe=>m.formatter.match("tablecellclass",{value:ge},Fe.dom)),We=ke?m.formatter.remove:m.formatter.apply;Eo(se,Fe=>We("tablecellclass",{value:ge},Fe.dom)),dc(m,fe.dom,Zm)})},mceTableToggleClass:(de,ge)=>{N(fe=>{m.formatter.toggle("tableclass",{value:ge},fe.dom),dc(m,fe.dom,Zm)})},mceTableToggleCaption:()=>{af(m).each(de=>{Wr(de,v).each(ge=>{yi(ge,"caption").fold(()=>{const fe=nt.fromTag("caption");Rr(fe,nt.fromText("Caption")),((se,ke)=>{vc(se,0).fold(()=>{Rr(se,ke)},We=>{_t(We,ke)})})(ge,fe),m.selection.setCursorLocation(fe.dom,0)},fe=>{Fn("caption")(de)&&Pi("td",ge).each(se=>m.selection.setCursorLocation(se.dom,0)),lr(fe)}),dc(m,ge.dom,Ra)})})},mceTableSizingMode:(de,ge)=>(fe=>af(m).each(se=>{pe(m)||le(m)||U(m)||Wr(se,v).each(ke=>{fe!=="relative"||xu(ke)?fe!=="fixed"||Rc(ke)?fe!=="responsive"||Lb(ke)||sh(ke):Yf(ke):Gm(ke),zi(ke),dc(m,ke.dom,Ra)})}))(ge),mceTableCellType:xe(de=>de==="th"?h.makeCellsHeader:h.unmakeCellsHeader),mceTableColType:xe(de=>de==="th"?h.makeColumnsHeader:h.unmakeColumnsHeader),mceTableRowType:xe(de=>{switch(de){case"header":return h.makeRowsHeader;case"footer":return h.makeRowsFooter;default:return h.makeRowsBody}})},(de,ge)=>m.addCommand(ge,de)),m.addCommand("mceInsertTable",(de,ge)=>{((fe,se,ke,We={})=>{const Fe=Qe=>jr(Qe)&&Qe>0;if(Fe(se)&&Fe(ke)){const Qe=We.headerRows||0,rt=We.headerColumns||0;return Km(fe,ke,se,rt,Qe)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(m,ge.rows,ge.columns,ge.options)}),m.addCommand("mceTableApplyCellStyle",(de,ge)=>{const fe=We=>"tablecell"+We.toLowerCase().replace("-","");if(!Dt(ge))return;const se=Do(Vt(m),zc);if(se.length===0)return;const ke=((We,Fe)=>{const Qe={};return((rt,ut,lt,xt)=>{Xo(rt,(Lt,co)=>{(ut(Lt,co)?lt:xt)(Lt,co)})})(We,Fe,(rt=>(ut,lt)=>{rt[lt]=ut})(Qe),$t),Qe})(ge,(We,Fe)=>m.formatter.has(fe(Fe))&&Co(We));(We=>{for(const Fe in We)if(sr.call(We,Fe))return!1;return!0})(ke)||(Xo(ke,(We,Fe)=>{const Qe=fe(Fe);Eo(se,rt=>{We===""?m.formatter.remove(Qe,{value:null},rt.dom,!0):m.formatter.apply(Qe,{value:We},rt.dom)})}),z(se[0]).each(We=>dc(m,We.dom,Zm)))})},ah=Wf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ai={before:ah.before,on:ah.on,after:ah.after,cata:(m,h,v,z)=>m.fold(h,v,z),getStart:m=>m.fold(Go,Go,Go)},Xm=(m,h)=>({selection:m,kill:h}),Hb=(m,h)=>{const v=m.document.createRange();return v.selectNode(h.dom),v},$b=(m,h)=>{const v=m.document.createRange();return W1(v,h),v},W1=(m,h)=>m.selectNodeContents(h.dom),Ev=(m,h,v)=>{const z=m.document.createRange();var N;return N=z,h.fold(D=>{N.setStartBefore(D.dom)},(D,F)=>{N.setStart(D.dom,F)},D=>{N.setStartAfter(D.dom)}),((D,F)=>{F.fold(V=>{D.setEndBefore(V.dom)},(V,X)=>{D.setEnd(V.dom,X)},V=>{D.setEndAfter(V.dom)})})(z,v),z},q1=(m,h,v,z,N)=>{const D=m.document.createRange();return D.setStart(h.dom,v),D.setEnd(z.dom,N),D},Pl=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),ih=Wf([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Da=(m,h,v)=>h(nt.fromDom(v.startContainer),v.startOffset,nt.fromDom(v.endContainer),v.endOffset),ig=(m,h)=>{const v=((z,N)=>N.match({domRange:D=>({ltr:Kt(D),rtl:ve.none}),relative:(D,F)=>({ltr:ct(()=>Ev(z,D,F)),rtl:ct(()=>ve.some(Ev(z,F,D)))}),exact:(D,F,V,X)=>({ltr:ct(()=>q1(z,D,F,V,X)),rtl:ct(()=>ve.some(q1(z,V,X,D,F)))})}))(m,h);return((z,N)=>{const D=N.ltr();return D.collapsed?N.rtl().filter(F=>F.collapsed===!1).map(F=>ih.rtl(nt.fromDom(F.endContainer),F.endOffset,nt.fromDom(F.startContainer),F.startOffset)).getOrThunk(()=>Da(0,ih.ltr,D)):Da(0,ih.ltr,D)})(0,v)},dd=(m,h)=>ig(m,h).match({ltr:(v,z,N,D)=>{const F=m.document.createRange();return F.setStart(v.dom,z),F.setEnd(N.dom,D),F},rtl:(v,z,N,D)=>{const F=m.document.createRange();return F.setStart(N.dom,D),F.setEnd(v.dom,z),F}});ih.ltr,ih.rtl;const fc=(m,h,v,z)=>({start:m,soffset:h,finish:v,foffset:z}),Ni=(m,h,v,z)=>({start:Ai.on(m,h),finish:Ai.on(v,z)}),lh=(m,h)=>{const v=dd(m,h);return fc(nt.fromDom(v.startContainer),v.startOffset,nt.fromDom(v.endContainer),v.endOffset)},ud=Ni,Vb=(m,h,v,z,N)=>Zn(v,z)?ve.none():$f(v,z,h).bind(D=>{const F=D.boxes.getOr([]);return F.length>1?(N(m,F,D.start,D.finish),ve.some(Xm(ve.some(ud(v,0,v,Zs(v))),!0))):ve.none()}),Ub=(m,h)=>({item:m,mode:h}),jb=(m,h,v,z=Jm)=>m.property().parent(h).map(N=>Ub(N,z)),Jm=(m,h,v,z=fd)=>v.sibling(m,h).map(N=>Ub(N,z)),fd=(m,h,v,z=fd)=>{const N=m.property().children(h);return v.first(N).map(D=>Ub(D,z))},M3=[{current:jb,next:Jm,fallback:ve.none()},{current:Jm,next:fd,fallback:ve.some(jb)},{current:fd,next:fd,fallback:ve.some(Jm)}],Zb=(m,h,v,z,N=M3)=>fn(N,D=>D.current===v).bind(D=>D.current(m,h,z,D.next).orThunk(()=>D.fallback.bind(F=>Zb(m,h,F,z)))),lf=(m,h,v,z,N,D)=>Zb(m,h,z,N).bind(F=>D(F.item)?ve.none():v(F.item)?ve.some(F.item):lf(m,F.item,v,F.mode,N,D)),G1=m=>h=>m.property().children(h).length===0,lg=(m,h,v,z)=>lf(m,h,v,Jm,{sibling:(N,D)=>N.query().prevSibling(D),first:N=>N.length>0?ve.some(N[N.length-1]):ve.none()},z),zv=(m,h,v,z)=>lf(m,h,v,Jm,{sibling:(N,D)=>N.query().nextSibling(D),first:N=>N.length>0?ve.some(N[0]):ve.none()},z),ch=Ot(),Wi=(m,h)=>((v,z,N)=>lg(v,z,G1(v),N))(ch,m,h),Wb=(m,h)=>((v,z,N)=>zv(v,z,G1(v),N))(ch,m,h),dh=Wf([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Tv=m=>Wn(m,"tr"),mc={...dh,verify:(m,h,v,z,N,D,F)=>Wn(z,"td,th",F).bind(V=>Wn(h,"td,th",F).map(X=>Zn(V,X)?Zn(z,V)&&Zs(V)===N?D(X):dh.none("in same cell"):Dl(Tv,[V,X]).fold(()=>((ie,xe,de)=>{const ge=ie.getRect(xe),fe=ie.getRect(de);return fe.right>ge.left&&fe.left<ge.right})(m,X,V)?dh.success():D(X),ie=>D(X)))).getOr(dh.none("default")),cata:(m,h,v,z,N)=>m.fold(h,v,z,N)},K1=Fn("br"),vu=(m,h,v)=>h(m,v).bind(z=>Kn(z)&&Xs(z).trim().length===0?vu(z,h,v):ve.some(z)),Y1=(m,h,v,z)=>((N,D)=>vc(N,D).filter(K1).orThunk(()=>vc(N,D-1).filter(K1)))(h,v).bind(N=>z.traverse(N).fold(()=>vu(N,z.gather,m).map(z.relative),D=>(F=>za(F).bind(V=>{const X=Ts(V);return((ie,xe)=>Bi(ie,qe(Zn,xe)))(X,F).map(ie=>((xe,de,ge,fe)=>({parent:xe,children:de,element:ge,index:fe}))(V,X,F,ie))}))(D).map(F=>Ai.on(F.parent,F.index)))),Wd=(m,h)=>({left:m.left,top:m.top+h,right:m.right,bottom:m.bottom+h}),_u=(m,h)=>({left:m.left,top:m.top-h,right:m.right,bottom:m.bottom-h}),Ov=(m,h,v)=>({left:m.left+h,top:m.top+v,right:m.right+h,bottom:m.bottom+v}),Xf=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),xl=(m,h)=>ve.some(m.getRect(h)),uh=(m,h,v)=>Rn(h)?xl(m,h).map(Xf):Kn(h)?((z,N,D)=>D>=0&&D<Zs(N)?z.getRangedRect(N,D,N,D+1):D>0?z.getRangedRect(N,D-1,N,D):ve.none())(m,h,v).map(Xf):ve.none(),fh=(m,h)=>Rn(h)?xl(m,h).map(Xf):Kn(h)?m.getRangedRect(h,0,h,Zs(h)).map(Xf):ve.none(),Ll=Wf([{none:[]},{retry:["caret"]}]),cf=(m,h,v)=>is(h,tg).fold(ue,z=>fh(m,z).exists(N=>((D,F)=>D.left<F.left||Math.abs(F.right-D.left)<1||D.left>F.right)(v,N))),df={point:m=>m.bottom,adjuster:(m,h,v,z,N)=>{const D=Wd(N,5);return Math.abs(v.bottom-z.bottom)<1||v.top>N.bottom?Ll.retry(D):v.top===N.bottom?Ll.retry(Wd(N,1)):cf(m,h,N)?Ll.retry(Ov(D,5,0)):Ll.none()},move:Wd,gather:Wb},qs=(m,h,v,z,N)=>N===0?ve.some(z):((D,F,V)=>D.elementFromPoint(F,V).filter(X=>eo(X)==="table").isSome())(m,z.left,h.point(z))?((D,F,V,X,ie)=>qs(D,F,V,F.move(X,5),ie))(m,h,v,z,N-1):m.situsFromPoint(z.left,h.point(z)).bind(D=>D.start.fold(ve.none,F=>fh(m,F).bind(V=>h.adjuster(m,F,V,v,z).fold(ve.none,X=>qs(m,h,v,X,N-1))).orThunk(()=>ve.some(z)),ve.none)),mh=(m,h,v)=>{const z=m.move(v,5),N=qs(h,m,v,z,100).getOr(z);return((D,F,V)=>D.point(F)>V.getInnerHeight()?ve.some(D.point(F)-V.getInnerHeight()):D.point(F)<0?ve.some(-D.point(F)):ve.none())(m,N,h).fold(()=>h.situsFromPoint(N.left,m.point(N)),D=>(h.scrollBy(0,D),h.situsFromPoint(N.left,m.point(N)-D)))},wa={tryUp:qe(mh,{point:m=>m.top,adjuster:(m,h,v,z,N)=>{const D=_u(N,5);return Math.abs(v.top-z.top)<1||v.bottom<N.top?Ll.retry(D):v.bottom===N.top?Ll.retry(_u(N,1)):cf(m,h,N)?Ll.retry(Ov(D,5,0)):Ll.none()},move:_u,gather:Wi}),tryDown:qe(mh,df),getJumpSize:Kt(5)},qb=(m,h,v)=>m.getSelection().bind(z=>((N,D,F,V)=>(K1(D)?((ie,xe,de)=>de.traverse(xe).orThunk(()=>vu(xe,de.gather,ie)).map(de.relative))(N,D,V):Y1(N,D,F,V)).map(ie=>({start:ie,finish:ie})))(h,z.finish,z.foffset,v).fold(()=>ve.some(Yu(z.finish,z.foffset)),N=>{const D=m.fromSitus(N);return F=mc.verify(m,z.finish,z.foffset,D.finish,D.foffset,v.failure,h),mc.cata(F,V=>ve.none(),()=>ve.none(),V=>ve.some(Yu(V,0)),V=>ve.some(Yu(V,Zs(V))));var F})),X1=(m,h,v,z,N,D)=>D===0?ve.none():Qf(m,h,v,z,N).bind(F=>{const V=m.fromSitus(F),X=mc.verify(m,v,z,V.finish,V.foffset,N.failure,h);return mc.cata(X,()=>ve.none(),()=>ve.some(F),ie=>Zn(v,ie)&&z===0?Qm(m,v,z,_u,N):X1(m,h,ie,0,N,D-1),ie=>Zn(v,ie)&&z===Zs(ie)?Qm(m,v,z,Wd,N):X1(m,h,ie,Zs(ie),N,D-1))}),Qm=(m,h,v,z,N)=>uh(m,h,v).bind(D=>Jf(m,N,z(D,wa.getJumpSize()))),Jf=(m,h,v)=>{const z=Ys().browser;return z.isChromium()||z.isSafari()||z.isFirefox()?h.retry(m,v):ve.none()},Qf=(m,h,v,z,N)=>uh(m,v,z).bind(D=>Jf(m,N,D)),pc=(m,h,v,z,N)=>Wn(z,"td,th",h).bind(D=>Wn(D,"table",h).bind(F=>((V,X)=>Ji(V,ie=>za(ie).exists(xe=>Zn(xe,X)),void 0).isSome())(N,F)?((V,X,ie)=>qb(V,X,ie).bind(xe=>X1(V,X,xe.element,xe.offset,ie,20).map(V.fromSitus)))(m,h,v).bind(V=>Wn(V.finish,"td,th",h).map(X=>({start:D,finish:X,range:V}))):ve.none())),Gb=(m,h,v,z,N,D)=>D(z,h).orThunk(()=>pc(m,h,v,z,N).map(F=>{const V=F.range;return Xm(ve.some(ud(V.start,V.soffset,V.finish,V.foffset)),!0)})),Av=(m,h)=>Wn(m,"tr",h).bind(v=>Wn(v,"table",h).bind(z=>{const N=Xa(z,"tr");return Zn(v,N[0])?((D,F,V)=>lg(ch,D,X=>Vr(X).isSome(),V))(z,0,h).map(D=>{const F=Zs(D);return Xm(ve.some(ud(D,F,D,F)),!0)}):ve.none()})),J1=(m,h)=>Wn(m,"tr",h).bind(v=>Wn(v,"table",h).bind(z=>{const N=Xa(z,"tr");return Zn(v,N[N.length-1])?((D,F,V)=>zv(ch,D,X=>If(X).isSome(),V))(z,0,h).map(D=>Xm(ve.some(ud(D,0,D,0)),!0)):ve.none()})),Kb=(m,h,v,z,N,D,F)=>pc(m,v,z,N,D).bind(V=>Vb(h,v,V.start,V.finish,F)),Yb=m=>{let h=m;return{get:()=>h,set:v=>{h=v}}},uf=()=>{const m=(h=>{const v=Yb(ve.none()),z=()=>v.get().each(h);return{clear:()=>{z(),v.set(ve.none())},isSet:()=>v.get().isSome(),get:()=>v.get(),set:N=>{z(),v.set(ve.some(N))}}})($t);return{...m,on:h=>m.get().each(h)}},cg=(m,h)=>Wn(m,"td,th",h),jw=m=>El(m).exists(Na),ep={traverse:Ga,gather:Wb,relative:Ai.before,retry:wa.tryDown,failure:mc.failedDown},ph={traverse:po,gather:Wi,relative:Ai.before,retry:wa.tryUp,failure:mc.failedUp},qd=m=>h=>h===m,md=qd(38),ff=qd(40),tp=m=>m>=37&&m<=40,Q1={isBackward:qd(37),isForward:qd(39)},dg={isBackward:qd(39),isForward:qd(37)},pd=Wf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),op={domRange:pd.domRange,relative:pd.relative,exact:pd.exact,exactFromRange:m=>pd.exact(m.start,m.soffset,m.finish,m.foffset),getWin:m=>{const h=(v=>v.match({domRange:z=>nt.fromDom(z.startContainer),relative:(z,N)=>Ai.getStart(z),exact:(z,N,D,F)=>z}))(m);return nt.fromDom(Yi(h).dom.defaultView)},range:fc},gh=(m,h)=>{const v=eo(m);return v==="input"?Ai.after(m):Io(["br","img"],v)?h===0?Ai.before(m):Ai.after(m):Ai.on(m,h)},ug=m=>ve.from(m.getSelection()),qi=(m,h)=>{ug(m).each(v=>{v.removeAllRanges(),v.addRange(h)})},np=(m,h,v,z,N)=>{const D=q1(m,h,v,z,N);qi(m,D)},mf=(m,h)=>ig(m,h).match({ltr:(v,z,N,D)=>{np(m,v,z,N,D)},rtl:(v,z,N,D)=>{ug(m).each(F=>{if(F.setBaseAndExtent)F.setBaseAndExtent(v.dom,z,N.dom,D);else if(F.extend)try{((V,X,ie,xe,de,ge)=>{X.collapse(ie.dom,xe),X.extend(de.dom,ge)})(0,F,v,z,N,D)}catch{np(m,N,D,v,z)}else np(m,N,D,v,z)})}}),e0=(m,h,v,z,N)=>{const D=((F,V,X,ie)=>{const xe=gh(F,V),de=gh(X,ie);return op.relative(xe,de)})(h,v,z,N);mf(m,D)},Nv=(m,h,v)=>{const z=((N,D)=>{const F=N.fold(Ai.before,gh,Ai.after),V=D.fold(Ai.before,gh,Ai.after);return op.relative(F,V)})(h,v);mf(m,z)},fg=m=>{if(m.rangeCount>0){const h=m.getRangeAt(0),v=m.getRangeAt(m.rangeCount-1);return ve.some(fc(nt.fromDom(h.startContainer),h.startOffset,nt.fromDom(v.endContainer),v.endOffset))}return ve.none()},Rv=m=>{if(m.anchorNode===null||m.focusNode===null)return fg(m);{const h=nt.fromDom(m.anchorNode),v=nt.fromDom(m.focusNode);return((z,N,D,F)=>{const V=((ie,xe,de,ge)=>{const fe=Sl(ie).dom.createRange();return fe.setStart(ie.dom,xe),fe.setEnd(de.dom,ge),fe})(z,N,D,F),X=Zn(z,D)&&N===F;return V.collapsed&&!X})(h,m.anchorOffset,v,m.focusOffset)?ve.some(fc(h,m.anchorOffset,v,m.focusOffset)):fg(m)}},Xb=(m,h,v=!0)=>{const z=(v?$b:Hb)(m,h);qi(m,z)},Jb=m=>(h=>ug(h).filter(v=>v.rangeCount>0).bind(Rv))(m).map(h=>op.exact(h.start,h.soffset,h.finish,h.foffset)),Zw=(m,h,v)=>((z,N,D)=>((F,V,X)=>F.caretPositionFromPoint?((ie,xe,de)=>{var ge;return ve.from((ge=ie.caretPositionFromPoint)===null||ge===void 0?void 0:ge.call(ie,xe,de)).bind(fe=>{if(fe.offsetNode===null)return ve.none();const se=ie.createRange();return se.setStart(fe.offsetNode,fe.offset),se.collapse(),ve.some(se)})})(F,V,X):F.caretRangeFromPoint?((ie,xe,de)=>{var ge;return ve.from((ge=ie.caretRangeFromPoint)===null||ge===void 0?void 0:ge.call(ie,xe,de))})(F,V,X):ve.none())(z.document,N,D).map(F=>fc(nt.fromDom(F.startContainer),F.startOffset,nt.fromDom(F.endContainer),F.endOffset)))(m,h,v),mg=m=>({elementFromPoint:(h,v)=>nt.fromPoint(nt.fromDom(m.document),h,v),getRect:h=>h.dom.getBoundingClientRect(),getRangedRect:(h,v,z,N)=>{const D=op.exact(h,v,z,N);return((F,V)=>(X=>{const ie=X.getClientRects(),xe=ie.length>0?ie[0]:X.getBoundingClientRect();return xe.width>0||xe.height>0?ve.some(xe).map(Pl):ve.none()})(dd(F,V)))(m,D)},getSelection:()=>Jb(m).map(h=>lh(m,h)),fromSitus:h=>{const v=op.relative(h.start,h.finish);return lh(m,v)},situsFromPoint:(h,v)=>Zw(m,h,v).map(z=>Ni(z.start,z.soffset,z.finish,z.foffset)),clearSelection:()=>{(h=>{ug(h).each(v=>v.removeAllRanges())})(m)},collapseSelection:(h=!1)=>{Jb(m).each(v=>v.fold(z=>z.collapse(h),(z,N)=>{const D=h?z:N;Nv(m,D,D)},(z,N,D,F)=>{const V=h?z:D,X=h?N:F;e0(m,V,X,V,X)}))},setSelection:h=>{e0(m,h.start,h.soffset,h.finish,h.foffset)},setRelativeSelection:(h,v)=>{Nv(m,h,v)},selectNode:h=>{Xb(m,h,!1)},selectContents:h=>{Xb(m,h)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>(h=>{const v=h!==void 0?h.dom:document,z=v.body.scrollLeft||v.documentElement.scrollLeft,N=v.body.scrollTop||v.documentElement.scrollTop;return re(z,N)})(nt.fromDom(m.document)).top,scrollBy:(h,v)=>{((z,N,D)=>{const F=(D!==void 0?D.dom:document).defaultView;F&&F.scrollBy(z,N)})(h,v,nt.fromDom(m.document))}}),rp=(m,h)=>({rows:m,cols:h}),t0=m=>is(m,Qn).exists(Na),hh=(m,h)=>t0(m)||t0(h),o0=m=>m.dom.classList!==void 0,Dv=(m,h)=>((v,z,N)=>{const D=((F,V)=>{const X=dt(F,V);return X===void 0||X===""?[]:X.split(" ")})(v,z).concat([N]);return Qo(v,z,D.join(" ")),!0})(m,"class",h),tl=(m,h)=>{o0(m)?m.dom.classList.add(h):Dv(m,h)},Qb=(m,h)=>o0(m)&&m.dom.classList.contains(h),ey=()=>({tag:"none"}),Mv=m=>({tag:"multiple",elements:m}),Bv=m=>({tag:"single",element:m}),Pv=m=>{const h=nt.fromDom((V=>{if(Cn(V.target)){const X=nt.fromDom(V.target);if(Rn(X)&&Cn(X.dom.shadowRoot)&&V.composed&&V.composedPath){const ie=V.composedPath();if(ie)return ho(ie)}}return ve.from(V.target)})(m).getOr(m.target)),v=()=>m.stopPropagation(),z=()=>m.preventDefault(),N=(D=z,F=v,(...V)=>D(F.apply(null,V)));var D,F;return((V,X,ie,xe,de,ge,fe)=>({target:V,x:X,y:ie,stop:xe,prevent:de,kill:ge,raw:fe}))(h,m.clientX,m.clientY,v,z,N,m)},Lv=(m,h,v,z)=>{m.dom.removeEventListener(h,v,z)},Iv=Et,pg=(m,h,v)=>((z,N,D,F)=>((V,X,ie,xe,de)=>{const ge=((fe,se)=>ke=>{fe(ke)&&se(Pv(ke))})(ie,xe);return V.dom.addEventListener(X,ge,de),{unbind:qe(Lv,V,X,ge,de)}})(z,N,D,F,!1))(m,h,Iv,v),gg=Pv,ty=m=>!Qb(nt.fromDom(m.target),"ephox-snooker-resizer-bar"),bh=(m,h)=>{const v=(N=jd.selectedSelector,{get:()=>Lm(nt.fromDom(m.getBody()),N).fold(()=>Vo(pl(m),Rs(m)).fold(ey,Bv),Mv)}),z=((D,F,V)=>{const X=ge=>{Fo(ge,D.selected),Fo(ge,D.firstSelected),Fo(ge,D.lastSelected)},ie=ge=>{Qo(ge,D.selected,"1")},xe=ge=>{de(ge),V()},de=ge=>{const fe=Xa(ge,`${D.selectedSelector},${D.firstSelectedSelector},${D.lastSelectedSelector}`);Eo(fe,X)};return{clearBeforeUpdate:de,clear:xe,selectRange:(ge,fe,se,ke)=>{xe(ge),Eo(fe,ie),Qo(se,D.firstSelected,"1"),Qo(ke,D.lastSelected,"1"),F(fe,se,ke)},selectedSelector:D.selectedSelector,firstSelectedSelector:D.firstSelectedSelector,lastSelectedSelector:D.lastSelectedSelector}})(jd,(D,F,V)=>{Wr(F).each(X=>{const ie=O(D,fe=>fe.dom),xe=Js(m),de=Ee($t,nt.fromDom(m.getDoc()),xe),ge=((fe,se,ke)=>{const We=Ns(fe);return ir(We,se).map(Fe=>{const Qe=si(We,ke,!1),{rows:rt}=On(Qe),ut=((xt,Lt)=>{const co=xt.slice(0,Lt[Lt.length-1].row+1),vn=lc(co);return Se(vn,Oo=>{const Ko=Oo.cells.slice(0,Lt[Lt.length-1].column+1);return O(Ko,Ao=>Ao.element)})})(rt,Fe),lt=((xt,Lt)=>{const co=xt.slice(Lt[0].row+Lt[0].rowspan-1,xt.length),vn=lc(co);return Se(vn,Oo=>{const Ko=Oo.cells.slice(Lt[0].column+Lt[0].colspan-1,Oo.cells.length);return O(Ko,Ao=>Ao.element)})})(rt,Fe);return{upOrLeftCells:ut,downOrRightCells:lt}})})(X,{selection:Vt(m)},de).map(fe=>mi(fe,se=>O(se,ke=>ke.dom))).getOrUndefined();((fe,se,ke,We,Fe)=>{fe.dispatch("TableSelectionChange",{cells:se,start:ke,finish:We,otherCells:Fe})})(m,ie,F.dom,V.dom,ge)})},()=>(D=>{D.dispatch("TableSelectionClear")})(m));var N;return m.on("init",D=>{const F=m.getWin(),V=Vd(m),X=Rs(m),ie=((ke,We,Fe,Qe)=>{const rt=((ut,lt,xt,Lt)=>{const co=uf(),vn=co.clear,Oo=Ko=>{co.on(Ao=>{Lt.clearBeforeUpdate(lt),cg(Ko.target,xt).each(qn=>{$f(Ao,qn,xt).each(vs=>{const ja=vs.boxes.getOr([]);if(ja.length===1){const Ca=ja[0],Gi=Mm(Ca)==="false",Cu=pa(ri(Ko.target),Ca,Zn);Gi&&Cu&&Lt.selectRange(lt,ja,Ca,Ca)}else ja.length>1&&(Lt.selectRange(lt,ja,vs.start,vs.finish),ut.selectContents(qn))})})})};return{clearstate:vn,mousedown:Ko=>{Lt.clear(lt),cg(Ko.target,xt).filter(jw).each(co.set)},mouseover:Ko=>{Oo(Ko)},mouseup:Ko=>{Oo(Ko),vn()}}})(mg(ke),We,Fe,Qe);return{clearstate:rt.clearstate,mousedown:rt.mousedown,mouseover:rt.mouseover,mouseup:rt.mouseup}})(F,V,X,z),xe=((ke,We,Fe,Qe)=>{const rt=mg(ke),ut=()=>(Qe.clear(We),ve.none());return{keydown:(lt,xt,Lt,co,vn,Oo)=>{const Ko=lt.raw,Ao=Ko.which,qn=Ko.shiftKey===!0;return rc(We,Qe.selectedSelector).fold(()=>(tp(Ao)&&!qn&&Qe.clearBeforeUpdate(We),tp(Ao)&&qn&&!hh(xt,co)?ve.none:ff(Ao)&&qn?qe(Kb,rt,We,Fe,ep,co,xt,Qe.selectRange):md(Ao)&&qn?qe(Kb,rt,We,Fe,ph,co,xt,Qe.selectRange):ff(Ao)?qe(Gb,rt,Fe,ep,co,xt,J1):md(Ao)?qe(Gb,rt,Fe,ph,co,xt,Av):ve.none),ja=>{const Ca=Gi=>()=>H(Gi,vl=>((ip,ry,sy,ay,xh)=>sd(ay,ip,ry,xh.firstSelectedSelector,xh.lastSelectedSelector).map(lp=>(xh.clearBeforeUpdate(sy),xh.selectRange(sy,lp.boxes,lp.start,lp.finish),lp.boxes)))(vl.rows,vl.cols,We,ja,Qe)).fold(()=>_b(We,Qe.firstSelectedSelector,Qe.lastSelectedSelector).map(vl=>{const ip=ff(Ao)||Oo.isForward(Ao)?Ai.after:Ai.before;return rt.setRelativeSelection(Ai.on(vl.first,0),ip(vl.table)),Qe.clear(We),Xm(ve.none(),!0)}),vl=>ve.some(Xm(ve.none(),!0)));return tp(Ao)&&qn&&!hh(xt,co)?ve.none:ff(Ao)&&qn?Ca([rp(1,0)]):md(Ao)&&qn?Ca([rp(-1,0)]):Oo.isBackward(Ao)&&qn?Ca([rp(0,-1),rp(-1,0)]):Oo.isForward(Ao)&&qn?Ca([rp(0,1),rp(1,0)]):tp(Ao)&&!qn?ut:ve.none})()},keyup:(lt,xt,Lt,co,vn)=>rc(We,Qe.selectedSelector).fold(()=>{const Oo=lt.raw,Ko=Oo.which;return Oo.shiftKey===!0&&tp(Ko)&&hh(xt,co)?((Ao,qn,vs,ja,Ca,Gi,Cu)=>Zn(vs,Ca)&&ja===Gi?ve.none():Wn(vs,"td,th",qn).bind(vl=>Wn(Ca,"td,th",qn).bind(ip=>Vb(Ao,qn,vl,ip,Cu))))(We,Fe,xt,Lt,co,vn,Qe.selectRange):ve.none()},ve.none)}})(F,V,X,z),de=((ke,We,Fe,Qe)=>{const rt=mg(ke);return(ut,lt)=>{Qe.clearBeforeUpdate(We),$f(ut,lt,Fe).each(xt=>{const Lt=xt.boxes.getOr([]);Qe.selectRange(We,Lt,xt.start,xt.finish),rt.selectContents(lt),rt.collapseSelection()})}})(F,V,X,z);m.on("TableSelectorChange",ke=>de(ke.start,ke.finish));const ge=(ke,We)=>{(Fe=>Fe.raw.shiftKey===!0)(ke)&&(We.kill&&ke.kill(),We.selection.each(Fe=>{const Qe=op.relative(Fe.start,Fe.finish),rt=dd(F,Qe);m.selection.setRng(rt)}))},fe=ke=>ke.button===0,se=(()=>{const ke=Yb(nt.fromDom(V)),We=Yb(0);return{touchEnd:Fe=>{const Qe=nt.fromDom(Fe.target);if(Fn("td")(Qe)||Fn("th")(Qe)){const rt=ke.get(),ut=We.get();Zn(rt,Qe)&&Fe.timeStamp-ut<300&&(Fe.preventDefault(),de(Qe,Qe))}ke.set(Qe),We.set(Fe.timeStamp)}}})();m.on("dragstart",ke=>{ie.clearstate()}),m.on("mousedown",ke=>{fe(ke)&&ty(ke)&&ie.mousedown(gg(ke))}),m.on("mouseover",ke=>{var We;((We=ke).buttons===void 0||1&We.buttons)&&ty(ke)&&ie.mouseover(gg(ke))}),m.on("mouseup",ke=>{fe(ke)&&ty(ke)&&ie.mouseup(gg(ke))}),m.on("touchend",se.touchEnd),m.on("keyup",ke=>{const We=gg(ke);if(We.raw.shiftKey&&tp(We.raw.which)){const Fe=m.selection.getRng(),Qe=nt.fromDom(Fe.startContainer),rt=nt.fromDom(Fe.endContainer);xe.keyup(We,Qe,Fe.startOffset,rt,Fe.endOffset).each(ut=>{ge(We,ut)})}}),m.on("keydown",ke=>{const We=gg(ke);h.hide();const Fe=m.selection.getRng(),Qe=nt.fromDom(Fe.startContainer),rt=nt.fromDom(Fe.endContainer),ut=Id(Q1,dg)(nt.fromDom(m.selection.getStart()));xe.keydown(We,Qe,Fe.startOffset,rt,Fe.endOffset,ut).each(lt=>{ge(We,lt)}),h.show()}),m.on("NodeChange",()=>{const ke=m.selection,We=nt.fromDom(ke.getStart()),Fe=nt.fromDom(ke.getEnd());Dl(Wr,[We,Fe]).fold(()=>z.clear(V),$t)})}),m.on("PreInit",()=>{m.serializer.addTempAttr(jd.firstSelected),m.serializer.addTempAttr(jd.lastSelected)}),{getSelectedCells:()=>((D,F)=>{switch(D.tag){case"none":return F();case"single":return(V=>[V.dom])(D.element);case"multiple":return(V=>O(V,X=>X.dom))(D.elements)}})(v.get(),Kt([])),clearSelectedCells:D=>z.clear(nt.fromDom(D))}},ps=m=>{let h=[];return{bind:v=>{if(v===void 0)throw new Error("Event bind error: undefined handler");h.push(v)},unbind:v=>{h=Do(h,z=>z!==v)},trigger:(...v)=>{const z={};Eo(m,(N,D)=>{z[N]=v[D]}),Eo(h,N=>{N(z)})}}},Dc=m=>({registry:mi(m,h=>({bind:h.bind,unbind:h.unbind})),trigger:mi(m,h=>h.trigger)}),Gd=m=>m.slice(0).sort(),hg=(m,h)=>{const v=Do(h,z=>!Io(m,z));v.length>0&&(z=>{throw new Error("Unsupported keys for object: "+Gd(z).join(", "))})(v)},sp=m=>((h,v)=>((z,N,D)=>{if(N.length===0)throw new Error("You must specify at least one required field.");return((F,V)=>{if(!Ro(V))throw new Error("The "+F+" fields must be an array. Was: "+V+".");Eo(V,X=>{if(!Co(X))throw new Error("The value "+X+" in the "+F+" fields was not a string.")})})("required",N),(F=>{const V=Gd(F);fn(V,(X,ie)=>ie<V.length-1&&X===V[ie+1]).each(X=>{throw new Error("The field: "+X+" occurs more than once in the combined fields: ["+V.join(", ")+"].")})})(N),F=>{const V=as(F);tt(N,ie=>Io(V,ie))||((ie,xe)=>{throw new Error("All required keys ("+Gd(ie).join(", ")+") were not specified. Specified keys were: "+Gd(xe).join(", ")+".")})(N,V),z(N,V);const X=Do(N,ie=>!D.validate(F[ie],ie));return X.length>0&&((ie,xe)=>{throw new Error("All values need to be of type: "+xe+". Keys ("+Gd(ie).join(", ")+") were not.")})(X,D.label),F}})(h,v,{validate:pr,label:"function"}))(hg,m),yh=sp(["compare","extract","mutate","sink"]),oy=sp(["element","start","stop","destroy"]),em=sp(["forceDrop","drop","move","delayDrop"]),ny=()=>{const m=(()=>{const z=Dc({move:ps(["info"])});return{onEvent:$t,reset:$t,events:z.registry}})(),h=(()=>{let z=ve.none();const N=Dc({move:ps(["info"])});return{onEvent:(D,F)=>{F.extract(D).each(V=>{((ie,xe)=>{const de=z.map(ge=>ie.compare(ge,xe));return z=ve.some(xe),de})(F,V).each(ie=>{N.trigger.move(ie)})})},reset:()=>{z=ve.none()},events:N.registry}})();let v=m;return{on:()=>{v.reset(),v=h},off:()=>{v.reset(),v=m},isOn:()=>v===h,onEvent:(z,N)=>{v.onEvent(z,N)},events:h.events}},n0=m=>{const h=m.replace(/\./g,"-");return{resolve:v=>h+"-"+v}},ku=n0("ephox-dragster").resolve;var r0=yh({compare:(m,h)=>re(h.left-m.left,h.top-m.top),extract:m=>ve.some(re(m.x,m.y)),sink:(m,h)=>{const v=(V=>{const X={layerClass:ku("blocker"),...V},ie=nt.fromTag("div");return Qo(ie,"role","presentation"),Qa(ie,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),tl(ie,ku("blocker")),tl(ie,X.layerClass),{element:Kt(ie),destroy:()=>{lr(ie)}}})(h),z=pg(v.element(),"mousedown",m.forceDrop),N=pg(v.element(),"mouseup",m.drop),D=pg(v.element(),"mousemove",m.move),F=pg(v.element(),"mouseout",m.delayDrop);return oy({element:v.element,start:V=>{Rr(V,v.element())},stop:()=>{lr(v.element())},destroy:()=>{v.destroy(),N.unbind(),D.unbind(),F.unbind(),z.unbind()}})},mutate:(m,h)=>{m.mutate(h.left,h.top)}});const Mc=n0("ephox-snooker").resolve,gd=Mc("resizer-bar"),s0=Mc("resizer-rows"),$e=Mc("resizer-cols"),ap=m=>{const h=Xa(m.parent(),"."+gd);Eo(h,lr)},a0=(m,h,v)=>{const z=m.origin();Eo(h,N=>{N.each(D=>{const F=v(z,D);tl(F,gd),Rr(m.parent(),F)})})},Fv=(m,h,v,z,N)=>{const D=Fa(v),F=h.isResizable,V=z.length>0?Jl.positions(z,v):[],X=V.length>0?((de,ge)=>Se(de.all,(fe,se)=>ge(fe.element)?[se]:[]))(m,F):[];((de,ge,fe,se)=>{a0(de,ge,(ke,We)=>{const Fe=((Qe,rt,ut,lt)=>{const xt=nt.fromTag("div");return Qa(xt,{position:"absolute",left:rt+"px",top:ut-3.5+"px",height:"7px",width:lt+"px"}),Gs(xt,{"data-row":Qe,role:"presentation"}),xt})(We.row,fe.left-ke.left,We.y-ke.top,se);return tl(Fe,s0),Fe})})(h,Do(V,(de,ge)=>Ie(X,fe=>ge===fe)),D,lu(v));const ie=N.length>0?ul.positions(N,v):[],xe=ie.length>0?((de,ge)=>{const fe=[];return jt(de.grid.columns,se=>{Yl(de,se).map(ke=>ke.element).forall(ge)&&fe.push(se)}),Do(fe,se=>{const ke=Jc(de,We=>We.column===se);return tt(ke,We=>ge(We.element))})})(m,F):[];((de,ge,fe,se)=>{a0(de,ge,(ke,We)=>{const Fe=((Qe,rt,ut,lt,xt)=>{const Lt=nt.fromTag("div");return Qa(Lt,{position:"absolute",left:rt-3.5+"px",top:ut+"px",height:xt+"px",width:"7px"}),Gs(Lt,{"data-column":Qe,role:"presentation"}),Lt})(We.col,We.x-ke.left,fe.top-ke.top,0,se);return tl(Fe,$e),Fe})})(h,Do(ie,(de,ge)=>Ie(xe,fe=>ge===fe)),D,wc(v))},bg=(m,h)=>{if(ap(m),m.isResizable(h)){const v=Ns(h),z=Om(v),N=Wu(v);Fv(v,m,h,z,N)}},Bc=(m,h)=>{const v=Xa(m.parent(),"."+gd);Eo(v,h)},i0=m=>{Bc(m,h=>{Zt(h,"display","none")})},Hv=m=>{Bc(m,h=>{Zt(h,"display","block")})},$v=Mc("resizer-bar-dragging"),l0=m=>{const h=(()=>{const de=Dc({drag:ps(["xDelta","yDelta","target"])});let ge=ve.none();const fe=(()=>{const se=Dc({drag:ps(["xDelta","yDelta"])});return{mutate:(ke,We)=>{se.trigger.drag(ke,We)},events:se.registry}})();return fe.events.drag.bind(se=>{ge.each(ke=>{de.trigger.drag(se.xDelta,se.yDelta,ke)})}),{assign:se=>{ge=ve.some(se)},get:()=>ge,mutate:fe.mutate,events:de.registry}})(),v=((de,ge={})=>{var fe;return((se,ke,We)=>{let Fe=!1;const Qe=Dc({start:ps([]),stop:ps([])}),rt=ny(),ut=()=>{Lt.stop(),rt.isOn()&&(rt.off(),Qe.trigger.stop())},lt=(co=>{let vn=null;const Oo=()=>{To(vn)||(clearTimeout(vn),vn=null)};return{cancel:Oo,throttle:(...Ko)=>{Oo(),vn=setTimeout(()=>{vn=null,co.apply(null,Ko)},200)}}})(ut);rt.events.move.bind(co=>{ke.mutate(se,co.info)});const xt=co=>(...vn)=>{Fe&&co.apply(null,vn)},Lt=ke.sink(em({forceDrop:ut,drop:xt(ut),move:xt(co=>{lt.cancel(),rt.onEvent(co,ke)}),delayDrop:xt(lt.throttle)}),We);return{element:Lt.element,go:co=>{Lt.start(co),rt.on(),Qe.trigger.start()},on:()=>{Fe=!0},off:()=>{Fe=!1},isActive:()=>Fe,destroy:()=>{Lt.destroy()},events:Qe.registry}})(de,(fe=ge.mode)!==null&&fe!==void 0?fe:r0,ge)})(h,{});let z=ve.none();const N=(de,ge)=>ve.from(dt(de,ge));h.events.drag.bind(de=>{N(de.target,"data-row").each(ge=>{const fe=cl(de.target,"top");Zt(de.target,"top",fe+de.yDelta+"px")}),N(de.target,"data-column").each(ge=>{const fe=cl(de.target,"left");Zt(de.target,"left",fe+de.xDelta+"px")})});const D=(de,ge)=>cl(de,ge)-Hi(de,"data-initial-"+ge,0);v.events.stop.bind(()=>{h.get().each(de=>{z.each(ge=>{N(de,"data-row").each(fe=>{const se=D(de,"top");Fo(de,"data-initial-top"),xe.trigger.adjustHeight(ge,se,parseInt(fe,10))}),N(de,"data-column").each(fe=>{const se=D(de,"left");Fo(de,"data-initial-left"),xe.trigger.adjustWidth(ge,se,parseInt(fe,10))}),bg(m,ge)})})});const F=(de,ge)=>{xe.trigger.startAdjust(),h.assign(de),Qo(de,"data-initial-"+ge,cl(de,ge)),tl(de,$v),Zt(de,"opacity","0.2"),v.go(m.dragContainer())},V=pg(m.parent(),"mousedown",de=>{var ge;ge=de.target,Qb(ge,s0)&&F(de.target,"top"),(fe=>Qb(fe,$e))(de.target)&&F(de.target,"left")}),X=de=>Zn(de,m.view()),ie=pg(m.view(),"mouseover",de=>{var ge;(ge=de.target,Wn(ge,"table",X).filter(Na)).fold(()=>{es(de.target)&&ap(m)},fe=>{v.isActive()&&(z=ve.some(fe),bg(m,fe))})}),xe=Dc({adjustHeight:ps(["table","delta","row"]),adjustWidth:ps(["table","delta","column"]),startAdjust:ps([])});return{destroy:()=>{V.unbind(),ie.unbind(),v.destroy(),ap(m)},refresh:de=>{bg(m,de)},on:v.on,off:v.off,hideBars:qe(i0,m),showBars:qe(Hv,m),events:xe.registry}};let Vv=0;const xn=(m,h)=>{const v=(F=>!(V=>V.inline&&(X=>{var ie;if(!X.inline)return ve.none();const xe=(ie=Ln(X))!==null&&ie!==void 0?ie:"";if(xe.length>0)return $s(hi(),xe);const de=ts(X);return Cn(de)?ve.some(nt.fromDom(de)):ve.none()})(V).isSome())(F)&&ji(F)==="split")(m),z=nt.fromDom(m.getBody()),N=(F=>{const V=(ie=>{const xe=new Date().getTime(),de=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Vv++,ie+"_"+de+Vv+String(xe)})("resizer-container"),X=nt.fromTag("div");return Qo(X,"id",V),Qa(X,{position:F,height:"0",width:"0",padding:"0",margin:"0",border:"0"}),X})(v?"relative":"static"),D=hi();return v?(Xi(z,N),((F,V,X,ie)=>({parent:Kt(V),view:Kt(F),dragContainer:Kt(X),origin:()=>Fa(V),isResizable:ie}))(z,N,D,h)):(Rr(D,N),((F,V,X)=>({parent:Kt(V),view:Kt(F),dragContainer:Kt(V),origin:Kt(re(0,0)),isResizable:X}))(z,N,h))},wu=m=>Cn(m)&&m.nodeName==="TABLE",pf="bar-",c0=m=>dt(m,"data-mce-resize")!=="false",Uv=m=>{const h=uf(),v=uf(),z=uf();let N,D,F,V;const X=fe=>kv(m,fe),ie=()=>Ff(m)?Ss():Ml(),xe=(fe,se,ke,We)=>{const Fe=(ut=>{return ls(lt=ut,"corner-")?(xt=>xt.substring(7))(lt):lt;var lt})(se),Qe=cs(Fe,"e"),rt=ls(Fe,"n");if(D===""&&Gm(fe),V===""&&(ut=>{const lt=(xt=>Fd(xt)+"px")(ut);ea(ut,ve.none(),ve.some(lt)),qm(ut)})(fe),ke!==N&&D!==""){Zt(fe,"width",D);const ut=ie(),lt=X(fe),xt=Ff(m)||Qe?(Lt=>Xn(Lt).columns)(fe)-1:0;Qg(fe,ke-N,xt,ut,lt)}else if((ut=>/^(\d+(\.\d+)?)%$/.test(ut))(D)){const ut=parseFloat(D.replace("%",""));Zt(fe,"width",ke*ut/N+"%")}if((ut=>/^(\d+(\.\d+)?)px$/.test(ut))(D)&&(ut=>{const lt=Ns(ut);cu(lt)||Eo(Dn(ut),xt=>{const Lt=xi(xt,"width");Zt(xt,"width",Lt),Fo(xt,"width")})})(fe),We!==F&&V!==""){Zt(fe,"height",V);const ut=rt?0:(lt=>Xn(lt).rows)(fe)-1;R1(fe,We-F,ut)}};m.on("init",()=>{const fe=((se,ke)=>se.inline?xn(se,ke):((We,Fe)=>{const Qe=Qr(We)?(rt=>nt.fromDom(Yi(rt).dom.documentElement))(We):We;return{parent:Kt(Qe),view:Kt(We),dragContainer:Kt(Qe),origin:Kt(re(0,0)),isResizable:Fe}})(nt.fromDom(se.getDoc()),ke))(m,c0);if(z.set(fe),(se=>{const ke=se.options.get("object_resizing");return Io(ke.split(","),"table")})(m)&&ot(m)){const se=((ke,We,Fe)=>{const Qe=Jl,rt=ul,ut=l0(ke),lt=Dc({beforeResize:ps(["table","type"]),afterResize:ps(["table","type"]),startDrag:ps([])});return ut.events.adjustHeight.bind(xt=>{const Lt=xt.table;lt.trigger.beforeResize(Lt,"row");const co=Qe.delta(xt.delta,Lt);R1(Lt,co,xt.row),lt.trigger.afterResize(Lt,"row")}),ut.events.startAdjust.bind(xt=>{lt.trigger.startDrag()}),ut.events.adjustWidth.bind(xt=>{const Lt=xt.table;lt.trigger.beforeResize(Lt,"col");const co=rt.delta(xt.delta,Lt),vn=Fe(Lt);Qg(Lt,co,xt.column,We,vn),lt.trigger.afterResize(Lt,"col")}),{on:ut.on,off:ut.off,refreshBars:ut.refresh,hideBars:ut.hideBars,showBars:ut.showBars,destroy:ut.destroy,events:lt.registry}})(fe,ie(),X);m.mode.isReadOnly()||se.on(),se.events.startDrag.bind(ke=>{h.set(m.selection.getRng())}),se.events.beforeResize.bind(ke=>{const We=ke.table.dom;((Fe,Qe,rt,ut,lt)=>{Fe.dispatch("ObjectResizeStart",{target:Qe,width:rt,height:ut,origin:lt})})(m,We,Kp(We),qr(We),pf+ke.type)}),se.events.afterResize.bind(ke=>{const We=ke.table,Fe=We.dom;zi(We),h.on(Qe=>{m.selection.setRng(Qe),m.focus()}),((Qe,rt,ut,lt,xt)=>{Qe.dispatch("ObjectResized",{target:rt,width:ut,height:lt,origin:xt})})(m,Fe,Kp(Fe),qr(Fe),pf+ke.type),m.undoManager.add()}),v.set(se)}}),m.on("ObjectResizeStart",fe=>{const se=fe.target;if(wu(se)&&!m.mode.isReadOnly()){const ke=nt.fromDom(se);Eo(m.dom.select(".mce-clonedresizable"),We=>{m.dom.addClass(We,"mce-"+nc(m)+"-columns")}),!Rc(ke)&&le(m)?Yf(ke):!xu(ke)&&U(m)&&Gm(ke),Lb(ke)&&ls(fe.origin,pf)&&Gm(ke),N=fe.width,D=pe(m)?"":os(m,se).getOr(""),F=fe.height,V=Ec(m,se).getOr("")}}),m.on("ObjectResized",fe=>{const se=fe.target;if(wu(se)){const ke=nt.fromDom(se),We=fe.origin;(Fe=>ls(Fe,"corner-"))(We)&&xe(ke,We,fe.width,fe.height),zi(ke),dc(m,ke.dom,Zm)}});const de=()=>{v.on(fe=>{fe.on(),fe.showBars()})},ge=()=>{v.on(fe=>{fe.off(),fe.hideBars()})};return m.on("DisabledStateChange",fe=>{fe.state?ge():de()}),m.on("SwitchMode",()=>{m.mode.isReadOnly()?ge():de()}),m.on("dragstart dragend",fe=>{fe.type==="dragstart"?ge():de()}),m.on("remove",()=>{v.on(fe=>{fe.destroy()}),z.on(fe=>{((se,ke)=>{se.inline&&lr(ke.parent())})(m,fe)})}),{refresh:fe=>{v.on(se=>se.refreshBars(nt.fromDom(fe)))},hide:()=>{v.on(fe=>fe.hideBars())},show:()=>{v.on(fe=>fe.showBars())}}},d0=m=>{(N=>{const D=N.options.register;D("table_clone_elements",{processor:"string[]"}),D("table_use_colgroups",{processor:"boolean",default:!0}),D("table_header_type",{processor:F=>{const V=Io(["section","cells","sectionCells","auto"],F);return V?{value:F,valid:V}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),D("table_sizing_mode",{processor:"string",default:"auto"}),D("table_default_attributes",{processor:"object",default:{border:"1"}}),D("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),D("table_column_resizing",{processor:F=>{const V=Io(["preservetable","resizetable"],F);return V?{value:F,valid:V}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),D("table_resize_bars",{processor:"boolean",default:!0}),D("table_style_by_css",{processor:"boolean",default:!0}),D("table_merge_content_on_paste",{processor:"boolean",default:!0})})(m);const h=Uv(m),v=bh(m,h),z=nh(m,h,v);return ag(m,z),((N,D)=>{const F=Rs(N),V=X=>Vo(pl(N)).bind(ie=>Wr(ie,F).map(xe=>{const de=Ti(Vt(N),xe,ie);return X(xe,de)})).getOr("");Xo({mceTableRowType:()=>V(D.getTableRowType),mceTableCellType:()=>V(D.getTableCellType),mceTableColType:()=>V(D.getTableColType)},(X,ie)=>N.addQueryValueHandler(ie,X))})(m,z),Zi(m,z),{getSelectedCells:v.getSelectedCells,clearSelectedCells:v.clearSelectedCells}};Tt.add("dom",m=>({table:d0(m)}))})();tinymce.Resource.add("ui/oxide/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}@keyframes tox-rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox #accessibility-issue__subheader{font-size:16px;color:#222f3e}.tox .accessbility-sr-only{position:absolute;clip:rect(1px,1px,1px,1px);clip-path:inset(0 0 99.9% 99.9%);overflow:hidden;height:1px;width:1px;padding:0;border:0}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:16px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox #accessibility-issue__contentID{margin-top:16px;margin-bottom:16px}.tox #accessibility-issue__contentID span:first-child{font-weight:700}.tox #accessibility-issue__document{padding-bottom:8px}.tox .accessibility-issue__repair{margin-top:8px}.tox .accessibility-issue__repair .tox-form__group .tox-form__group--error{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:#e6f0fd;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{font-size:14px;color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon.accessibility-issue__icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:#fffae6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{font-size:14px;color:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon.accessibility-issue__icon svg{fill:#7a6e25}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:#fae6e6;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{font-size:14px;color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon.accessibility-issue__icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon.accessibility-issue__icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox-context-form__group .tox-button--icon,.tox-context-form__group .tox-button.tox-button--icon{margin:6px 1px 5px 0;padding:0}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-image-selector-menu .tox-collection__item,.tox .tox-image-selector-menu .tox-collection__item-image-selector{flex-direction:column}.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item .tox-collection__item-image,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-checkmark,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-icon,.tox .tox-image-selector-menu .tox-collection__item-image-selector .tox-collection__item-image{flex-grow:1}.tox .tox-image-selector-menu .tox-collection__item label,.tox .tox-image-selector-menu .tox-collection__item-image-selector label{width:48px;white-space:nowrap;overflow:hidden;font-size:12px;color:#222f3e;text-align:center;align-self:flex-end}.tox .tox-image-selector-menu .tox-collection__item-checkmark{height:24px;width:24px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tox .tox-image-selector-menu .tox-collection__item-checkmark svg path{fill:#006ce7;stroke:#006ce7}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#fff}.tox .tox-image-selector-menu .tox-image-selector__row .tox-collection__item-image-selector.tox-collection__item--enabled:not(.tox-collection__item--state-disabled){z-index:2;background-color:#fff;opacity:.8;background-clip:content-box}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-image{border:1px solid #eee;border-radius:6px;display:flex;flex-direction:column;justify-content:center;margin-bottom:4px;position:relative}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff;z-index:1}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #fff;border-radius:6px;padding:8px;padding-bottom:16px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus:last-of-type:has(textarea):after{bottom:calc((12px + 16px + 1px) * -1)}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%;font-size:16px}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment__scroll:has(textarea:focus){scroll-behavior:auto}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:tox-rotation 1s linear infinite}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #144782;color:#144782}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#144782;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled],.tox .tox-toolbar-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-focusable-wrapper:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus,.tox .tox-toolbar-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{max-width:250px;min-height:unset;height:28px;margin:5px 0 6px 0}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox .tox-textfield-size{width:80px}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-image-selector-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}.tox .tox-image-selector-loading-spinner{position:absolute;width:min(24px,30%);aspect-ratio:1;border-radius:50%;border:3px solid #006ce7;border-bottom-color:transparent;animation:tox-rotation 1s linear infinite}.tox .tox-toolbar .tox-image-selector,.tox .tox-toolbar__overflow .tox-image-selector,.tox .tox-toolbar__primary .tox-image-selector{margin:5px 0 6px 11px}.tox .tox-image-selector-menu{border:0;border-radius:3px;margin:-4px -4px;padding:4px}.tox .tox-image-selector-menu .tox-collection--list .tox-collection__group{border:0;padding:0;margin:-4px -4px}.tox .tox-image-selector-menu .tox-collection__item{max-width:48px}.tox .tox-image-selector-menu .tox-collection__item-icon{border:1px solid #eee;border-radius:3px;margin-bottom:4px;width:100%}.tox .tox-image-selector-menu .tox-collection__item-icon svg path{stroke:#c00}.tox .tox-image-selector__row{display:flex}.tox .tox-image-selector--remove{align-items:center;display:flex;justify-content:center}.tox .tox-image-selector--remove svg path{stroke:#c00}.tox .tox-image-selector-image-wrapper{width:46px;height:46px;display:flex;align-items:center;justify-content:center}.tox .tox-image-selector-image-img{max-width:100%;max-height:100%}.tox .tox-image-selector__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-image-selector__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-image-selector__picker-btn:hover{background:#f0f0f0}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-onboarding-overlay{height:100%;background-color:#f0f0f0;position:absolute;top:0;left:0;right:0;z-index:1;overflow:auto;display:grid;justify-content:center;align-items:center}.tox .tox-onboarding-dialog{max-width:512px;background-color:#fff;display:flex;flex-direction:column;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);border-radius:12px;margin:8px}.tox .tox-onboarding-dialog .tox-onboarding-header{color:#222f3e;display:flex;justify-content:center;align-items:center;font-size:20px;margin:24px 0 8px}.tox .tox-onboarding-dialog .tox-onboarding-step{display:grid;grid-template-columns:min-content 1fr min-content;align-items:center;margin:0 24px}.tox .tox-onboarding-dialog .tox-onboarding-step:not(:last-child){border-bottom:1px solid #e3e3e3}.tox .tox-onboarding-dialog .tox-onboarding-step--number{width:24px;aspect-ratio:1;border-radius:50%;border:1px solid #00ad0e;display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:700;color:#00ad0e}.tox .tox-onboarding-dialog .tox-onboarding-step--body{padding:24px 0 24px 16px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-onboarding-dialog .tox-onboarding-step--body-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-onboarding-dialog .tox-onboarding-step--action{padding-left:24px}.tox .tox-onboarding-dialog .tox-onboarding-footer{background-color:#f0f0f0;display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.tox .tox-onboarding-dialog .tox-onboarding-footer p{display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:rgba(34,47,62,.7)}.tox .tox-onboarding-dialog svg{width:24px;fill:rgba(34,47,62,0.7)}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin{display:grid;align-items:center;grid-template-columns:min-content 1fr min-content;border-bottom:1px solid #e3e3e3;padding:24px 0;margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body{margin:0 16px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-header{color:#222f3e;font-size:14px;font-weight:700;margin-bottom:4px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--body .tox-promotion-dialog-plugin-details{color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog .tox-promotion-dialog-plugin--icon{display:grid;place-content:center;width:56px;height:56px;line-height:24px;font-size:24px;border-radius:12px;background:linear-gradient(180deg,#fff 24%,#f0f0f0 100%);box-shadow:0 1px 1px 0 #222f3e12,0 3px 6px 0 #222f3e06;color:#006ce7}.tox .tox-promotion-dialog--subtitle{margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore{text-align:center;margin:16px;color:rgba(34,47,62,.7);font-size:14px}.tox .tox-promotion-dialog--explore a{color:#006ce7}.tox .tox-promotion-dialog--footer{background-color:#f0f0f0;color:rgba(34,47,62,.7);font-size:12px;text-align:center;padding:16px}.tox .tox-promotion-button{display:flex;align-items:center;height:26.6px;line-height:26.6px;font-size:14px;font-weight:700;background-color:#f1ebf9;color:#851aff;padding:8px 16px;cursor:pointer;white-space:nowrap;border-radius:5px}.tox .tox-promotion-button:focus{outline:1px solid #851AFF}.tox .tox-onboarding-dialog a,.tox .tox-promotion-dialog--footer a{color:rgba(34,47,62,.7);cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus,.tox .tox-onboarding-dialog a:hover,.tox .tox-promotion-dialog--footer a:focus,.tox .tox-promotion-dialog--footer a:hover{color:#071729;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-onboarding-dialog a:focus-visible,.tox .tox-promotion-dialog--footer a:focus-visible{border-radius:1px;outline:2px solid #144782;outline-offset:2px}.tox .tox-onboarding-dialog a:active,.tox .tox-promotion-dialog--footer a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-toolbar-slider{align-items:center;display:inline-flex;height:16px}.tox .tox-toolbar-slider__input{appearance:none;background:#eee;border-radius:16px;width:130px;height:2px}.tox .tox-toolbar-slider__input::-webkit-slider-runnable-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-moz-range-track{background-color:transparent;height:16px}.tox .tox-toolbar-slider__input::-webkit-slider-thumb{-webkit-appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input::-moz-range-thumb{appearance:none;background-color:#006ce7;border-radius:16px;border:none;height:16px;width:16px}.tox .tox-toolbar-slider__input:focus-visible{outline:0}.tox .tox-toolbar-slider__input:focus::-webkit-slider-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:focus::-moz-range-thumb{background-color:#0060ce;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7}.tox .tox-toolbar-slider__input:hover::-webkit-slider-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:hover::-moz-range-thumb{background-color:#0060ce}.tox .tox-toolbar-slider__input:active::-webkit-slider-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input:active::-moz-range-thumb{background-color:#0054b4}.tox .tox-toolbar-slider__input[disabled]::-webkit-slider-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-toolbar-slider__input[disabled]::-moz-range-thumb{background-color:rgba(255,255,255,.5)}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-label--context-toolbar{margin:6px 1px 5px 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn--bordered,.tox .tox-tbtn--bordered:focus,.tox .tox-tbtn--bordered:hover{border:1px solid #eee}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg .tox-icon-text-color__color{opacity:.3}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-focusable-wrapper{border:1px solid transparent;margin-right:2px;pointer-events:none}.tox .tox-focusable-wrapper .tox-textfield-size{pointer-events:all}.tox .tox-focusable-wrapper:focus{background-color:#f7f7f7;border-radius:6px;border-style:solid;border-width:1px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox-context-form__group{display:flex;align-items:center}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}[data-mce-name=uploadcare-enhance-filter] .color-swatch-remove-color path{fill:#c00;stroke:#c00}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);var BF={},PF={},LF;function tG(){return LF||(LF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(De,Se,tt)=>{const Uo=Se==="UL"?"InsertUnorderedList":"InsertOrderedList";De.execCommand(Uo,!1,tt===!1?null:{"list-style-type":tt})},No=De=>{De.addCommand("ApplyUnorderedListStyle",(Se,tt)=>{zo(De,"UL",tt["list-style-type"])}),De.addCommand("ApplyOrderedListStyle",(Se,tt)=>{zo(De,"OL",tt["list-style-type"])})},Yo=De=>Se=>Se.options.get(De),Co=De=>{const Se=De.options.register;Se("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Se("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},Dt=Yo("advlist_number_styles"),Ro=Yo("advlist_bullet_styles"),To=De=>De==null,Po=De=>!To(De);class lo{constructor(Se,tt){this.tag=Se,this.value=tt}static some(Se){return new lo(!0,Se)}static none(){return lo.singletonNone}fold(Se,tt){return this.tag?tt(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?lo.some(Se(this.value)):lo.none()}bind(Se){return this.tag?Se(this.value):lo.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:lo.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return Po(Se)?lo.some(Se):lo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lo.singletonNone=new lo(!1);const Cn=Array.prototype.indexOf,pr=(De,Se)=>Cn.call(De,Se),jr=(De,Se)=>pr(De,Se)>-1,$t=(De,Se,tt)=>{for(let Uo=0,So=De.length;Uo<So;Uo++){const ho=De[Uo];if(Se(ho,Uo))return lo.some(ho);if(tt(ho,Uo))break}return lo.none()},Kt=Object.keys,Go=(De,Se)=>{const tt=Kt(De);for(let Uo=0,So=tt.length;Uo<So;Uo++){const ho=tt[Uo],uo=De[ho];Se(uo,ho)}},Lo=(De,Se)=>qe(De,(tt,Uo)=>({k:Uo,v:Se(tt,Uo)})),qe=(De,Se)=>{const tt={};return Go(De,(Uo,So)=>{const ho=Se(Uo,So);tt[ho.k]=ho.v}),tt};var Bt=tinymce.util.Tools.resolve("tinymce.util.Tools");const pt=De=>/\btox\-/.test(De.className),ue=(De,Se)=>De.dom.isChildOf(Se,De.getBody()),Et=De=>Se=>Po(Se)&&De.test(Se.nodeName),ve=Et(/^(OL|UL|DL)$/),ht=Et(/^(TH|TD)$/),gs=(De,Se,tt)=>$t(Se,Uo=>ve(Uo)&&!pt(Uo),ht).exists(Uo=>Uo.nodeName===tt&&ue(De,Uo)),Nr=De=>{const Se=De.dom.getParent(De.selection.getNode(),"ol,ul"),tt=De.dom.getStyle(Se,"listStyleType");return lo.from(tt)},Io=(De,Se)=>Se!==null&&!De.dom.isEditable(Se),Ie=(De,Se)=>{const tt=De.dom.getParent(Se,"ol,ul,dl");return Io(De,tt)||!De.selection.isEditable()},jt=(De,Se)=>{const tt=De.selection.getNode();return Se({parents:De.dom.getParents(tt),element:tt}),De.on("NodeChange",Se),()=>De.off("NodeChange",Se)},O=De=>De.replace(/\-/g," ").replace(/\b\w/g,Se=>Se.toUpperCase()),Eo=De=>To(De)||De==="default"?"":De,ao=(De,Se)=>tt=>{const Uo=(ho,uo)=>{const H=ho.selection.getStart(!0);tt.setActive(gs(ho,uo,Se)),tt.setEnabled(!Ie(ho,H))};return jt(De,ho=>Uo(De,ho.parents))},Do=(De,Se,tt,Uo,So,ho)=>{const uo={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},H=Lo(uo,as=>jr(ho,as));De.ui.registry.addSplitButton(Se,{tooltip:tt,icon:So==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:as=>{const sr=Bt.map(ho,Xo=>{const mi=So==="OL"?"num":"bull",ll=Xo==="disc"||Xo==="decimal"?"default":Xo,on=Eo(Xo),Sn=O(Xo);return{type:"choiceitem",value:on,icon:"list-"+mi+"-"+ll,text:Sn}});as(sr)},onAction:()=>De.execCommand(Uo),onItemAction:(as,sr)=>{zo(De,So,sr)},select:as=>Nr(De).exists(Xo=>as===Xo||uo[Xo]===as&&!H[as]),onSetup:ao(De,So)})},Zr=(De,Se,tt,Uo,So,ho)=>{De.ui.registry.addToggleButton(Se,{active:!1,tooltip:tt,icon:So==="OL"?"ordered-list":"unordered-list",onSetup:ao(De,So),onAction:()=>De.queryCommandState(Uo)||ho===""?De.execCommand(Uo):zo(De,So,ho)})},Je=(De,Se,tt,Uo,So,ho)=>{ho.length>1?Do(De,Se,tt,Uo,So,ho):Zr(De,Se,tt,Uo,So,Eo(ho[0]))},fn=De=>{Je(De,"numlist","Numbered list","InsertOrderedList","OL",Dt(De)),Je(De,"bullist","Bullet list","InsertUnorderedList","UL",Ro(De))};var Bi=()=>{Tt.add("advlist",De=>{De.hasPlugin("lists")?(Co(De),fn(De),No(De)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};Bi()}()),PF}var IF;function oG(){return IF||(IF=1,tG()),BF}oG();var FF={},HF={},$F;function nG(){return $F||($F=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(To,Po)=>{To.focus(),To.undoManager.transact(()=>{To.setContent(Po)}),To.selection.setCursorLocation(),To.nodeChanged()},No=To=>To.getContent({source_view:!0}),Yo=To=>{const Po=No(To);To.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Po},onSubmit:lo=>{zo(To,lo.getData().code),lo.close()}})},Co=To=>{To.addCommand("mceCodeEditor",()=>{Yo(To)})},Dt=To=>{const Po=()=>To.execCommand("mceCodeEditor");To.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Po}),To.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Po})};var Ro=()=>{Tt.add("code",To=>(Co(To),Dt(To),{}))};Ro()}()),HF}var VF;function rG(){return VF||(VF=1,nG()),FF}rG();var UF={},jF={},ZF;function sG(){return ZF||(ZF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=yt=>at=>yt===at,No=zo(null),Yo=zo(void 0),Co=yt=>yt==null,Dt=yt=>!Co(yt),Ro=()=>{},Po=(yt=>()=>yt)(!1);class lo{constructor(at,Ke){this.tag=at,this.value=Ke}static some(at){return new lo(!0,at)}static none(){return lo.singletonNone}fold(at,Ke){return this.tag?Ke(this.value):at()}isSome(){return this.tag}isNone(){return!this.tag}map(at){return this.tag?lo.some(at(this.value)):lo.none()}bind(at){return this.tag?at(this.value):lo.none()}exists(at){return this.tag&&at(this.value)}forall(at){return!this.tag||at(this.value)}filter(at){return!this.tag||at(this.value)?this:lo.none()}getOr(at){return this.tag?this.value:at}or(at){return this.tag?this:at}getOrThunk(at){return this.tag?this.value:at()}orThunk(at){return this.tag?this:at()}getOrDie(at){if(this.tag)return this.value;throw new Error(at??"Called getOrDie on None")}static from(at){return Dt(at)?lo.some(at):lo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(at){this.tag&&at(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lo.singletonNone=new lo(!1);const Cn=(yt,at)=>{for(let Ke=0,eo=yt.length;Ke<eo;Ke++){const fo=yt[Ke];if(at(fo,Ke))return!0}return!1},pr=(yt,at)=>{const Ke=yt.length,eo=new Array(Ke);for(let fo=0;fo<Ke;fo++){const qo=yt[fo];eo[fo]=at(qo,fo)}return eo},jr=(yt,at)=>{for(let Ke=0,eo=yt.length;Ke<eo;Ke++){const fo=yt[Ke];at(fo,Ke)}},$t=yt=>{let at=yt;return{get:()=>at,set:fo=>{at=fo}}},Kt=(yt,at)=>{let Ke=null;const eo=()=>{No(Ke)||(clearTimeout(Ke),Ke=null)};return{cancel:eo,throttle:(...qo)=>{eo(),Ke=setTimeout(()=>{Ke=null,yt.apply(null,qo)},at)}}},Go=(yt,at)=>{yt.insertContent(at)},Lo=Object.keys,qe=Object.hasOwnProperty,Bt=(yt,at)=>{const Ke=Lo(yt);for(let eo=0,fo=Ke.length;eo<fo;eo++){const qo=Ke[eo],Tn=yt[qo];at(Tn,qo)}},pt=(yt,at)=>ue(yt,(Ke,eo)=>({k:eo,v:at(Ke,eo)})),ue=(yt,at)=>{const Ke={};return Bt(yt,(eo,fo)=>{const qo=at(eo,fo);Ke[qo.k]=qo.v}),Ke},Et=(yt,at)=>qe.call(yt,at),gs=(yt=>(...at)=>{if(at.length===0)throw new Error("Can't merge zero objects");const Ke={};for(let eo=0;eo<at.length;eo++){const fo=at[eo];for(const qo in fo)Et(fo,qo)&&(Ke[qo]=yt(Ke[qo],fo[qo]))}return Ke})((yt,at)=>at),Nr=yt=>{const at=$t(lo.none()),Ke=()=>at.get().each(yt);return{clear:()=>{Ke(),at.set(lo.none())},isSet:()=>at.get().isSome(),get:()=>at.get(),set:Qn=>{Ke(),at.set(lo.some(Qn))}}},Io=()=>{const yt=Nr(Ro);return{...yt,on:Ke=>yt.get().each(Ke)}},Ie=(yt,at,Ke)=>at===""||yt.length>=at.length&&yt.substr(Ke,Ke+at.length)===at,jt=(yt,at,Ke=0,eo)=>{const fo=yt.indexOf(at,Ke);return fo!==-1?Yo(eo)?!0:fo+at.length<=eo:!1},O=(yt,at)=>Ie(yt,at,0);var Eo=tinymce.util.Tools.resolve("tinymce.Resource");const ao="tinymce.plugins.emoticons",Do=yt=>at=>at.options.get(yt),Zr=(yt,at)=>{const Ke=yt.options.register;Ke("emoticons_database",{processor:"string",default:"emojis"}),Ke("emoticons_database_url",{processor:"string",default:`${at}/js/${Je(yt)}${yt.suffix}.js`}),Ke("emoticons_database_id",{processor:"string",default:ao}),Ke("emoticons_append",{processor:"object",default:{}}),Ke("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},Je=Do("emoticons_database"),fn=Do("emoticons_database_url"),Bi=Do("emoticons_database_id"),De=Do("emoticons_append"),Se=Do("emoticons_images_url"),tt="All",Uo={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},So=(yt,at)=>Et(yt,at)?yt[at]:at,ho=yt=>{const at=De(yt);return pt(at,Ke=>({keywords:[],category:"user",...Ke}))},uo=(yt,at,Ke)=>{const eo=Io(),fo=Io(),qo=Se(yt),Tn=Hr=>O(Hr.char,"<img")?Hr.char.replace(/src="([^"]+)"/,(Qo,Gs)=>`src="${qo}${Gs}"`):Hr.char,Qn=Hr=>{const Qo={},Gs=[];Bt(Hr,(dt,_o)=>{const Fo={title:_o,keywords:dt.keywords,char:Tn(dt),category:So(Uo,dt.category)},Ks=Qo[Fo.category]!==void 0?Qo[Fo.category]:[];Qo[Fo.category]=Ks.concat([Fo]),Gs.push(Fo)}),eo.set(Qo),fo.set(Gs)};yt.on("init",()=>{Eo.load(Ke,at).then(Hr=>{const Qo=ho(yt);Qn(gs(Hr,Qo))},Hr=>{console.log(`Failed to load emojis: ${Hr}`),eo.set({}),fo.set([])})});const Rn=Hr=>Hr===tt?Kn():eo.get().bind(Qo=>lo.from(Qo[Hr])).getOr([]),Kn=()=>fo.get().getOr([]),Qr=()=>[tt].concat(Lo(eo.get().getOr({}))),Hs=()=>Fn()?Promise.resolve(!0):new Promise((Hr,Qo)=>{let Gs=15;const dt=setInterval(()=>{Fn()?(clearInterval(dt),Hr(!0)):(Gs--,Gs<0&&(console.log("Could not load emojis from url: "+at),clearInterval(dt),Qo(!1)))},100)}),Fn=()=>eo.isSet()&&fo.isSet();return{listCategories:Qr,hasLoaded:Fn,waitForLoad:Hs,listAll:Kn,listCategory:Rn}},H=(yt,at)=>jt(yt.title.toLowerCase(),at)||Cn(yt.keywords,Ke=>jt(Ke.toLowerCase(),at)),as=(yt,at,Ke)=>{const eo=[],fo=at.toLowerCase(),qo=Ke.fold(()=>Po,Tn=>Qn=>Qn>=Tn);for(let Tn=0;Tn<yt.length&&!((at.length===0||H(yt[Tn],fo))&&(eo.push({value:yt[Tn].char,text:yt[Tn].title,icon:yt[Tn].char}),qo(eo.length)));Tn++);return eo},sr="pattern",Xo=(yt,at)=>{const Ke={pattern:"",results:as(at.listAll(),"",lo.some(300))},eo=$t(tt),fo=Qr=>{const Hs=Qr.getData(),Fn=eo.get(),Hr=at.listCategory(Fn),Qo=as(Hr,Hs[sr],Fn===tt?lo.some(300):lo.none());Qr.setData({results:Qo})},qo=Kt(Qr=>{fo(Qr)},200),Tn={label:"Search",type:"input",name:sr},Qn={type:"collection",name:"results"},Rn=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:pr(at.listCategories(),Hs=>({title:Hs,name:Hs,items:[Tn,Qn]}))},initialData:Ke,onTabChange:(Hs,Fn)=>{eo.set(Fn.newTabName),qo.throttle(Hs)},onChange:qo.throttle,onAction:(Hs,Fn)=>{Fn.name==="results"&&(Go(yt,Fn.value),Hs.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Kn=yt.windowManager.open(Rn());Kn.focus(sr),at.hasLoaded()||(Kn.block("Loading emojis..."),at.waitForLoad().then(()=>{Kn.redial(Rn()),qo.throttle(Kn),Kn.focus(sr),Kn.unblock()}).catch(Qr=>{Kn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Kn.focus(sr),Kn.unblock()}))},mi=(yt,at)=>{yt.addCommand("mceEmoticons",()=>Xo(yt,at))},ll=yt=>{yt.on("PreInit",()=>{yt.parser.addAttributeFilter("data-emoticon",at=>{jr(at,Ke=>{Ke.attr("data-mce-resize","false"),Ke.attr("data-mce-placeholder","1")})})})},on=(yt,at)=>{yt.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(Ke,eo)=>at.waitForLoad().then(()=>{const fo=at.listAll();return as(fo,Ke,lo.some(eo))}),onAction:(Ke,eo,fo)=>{yt.selection.setRng(eo),yt.insertContent(fo),Ke.hide()}})},Sn=yt=>at=>{const Ke=()=>{at.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",Ke),Ke(),()=>{yt.off("NodeChange",Ke)}},Jo=yt=>{const at=()=>yt.execCommand("mceEmoticons");yt.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:at,onSetup:Sn(yt)}),yt.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:at,onSetup:Sn(yt)})};var Ne=()=>{Tt.add("emoticons",(yt,at)=>{Zr(yt,at);const Ke=fn(yt),eo=Bi(yt),fo=uo(yt,Ke,eo);return mi(yt,fo),Jo(yt),on(yt,fo),ll(yt),{getAllEmojis:()=>fo.waitForLoad().then(()=>fo.listAll())}})};Ne()}()),jF}var WF;function aG(){return WF||(WF=1,sG()),UF}aG();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});var qF={},GF={},KF;function iG(){return KF||(KF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(q,ae,_e)=>{var He;return _e(q,ae.prototype)?!0:((He=q.constructor)===null||He===void 0?void 0:He.name)===ae.name},No=q=>{const ae=typeof q;return q===null?"null":ae==="object"&&Array.isArray(q)?"array":ae==="object"&&zo(q,String,(_e,He)=>He.isPrototypeOf(_e))?"string":ae},Yo=q=>ae=>No(ae)===q,Co=q=>ae=>typeof ae===q,Dt=q=>ae=>q===ae,Ro=Yo("string"),To=Yo("object"),Po=Yo("array"),lo=Dt(null),Cn=Co("boolean"),pr=q=>q==null,jr=q=>!pr(q),$t=Co("function"),Kt=(q,ae)=>{if(Po(q)){for(let _e=0,He=q.length;_e<He;++_e)if(!ae(q[_e]))return!1;return!0}return!1},Go=()=>{},Lo=q=>()=>q,qe=(q,ae)=>q===ae;class Bt{constructor(ae,_e){this.tag=ae,this.value=_e}static some(ae){return new Bt(!0,ae)}static none(){return Bt.singletonNone}fold(ae,_e){return this.tag?_e(this.value):ae()}isSome(){return this.tag}isNone(){return!this.tag}map(ae){return this.tag?Bt.some(ae(this.value)):Bt.none()}bind(ae){return this.tag?ae(this.value):Bt.none()}exists(ae){return this.tag&&ae(this.value)}forall(ae){return!this.tag||ae(this.value)}filter(ae){return!this.tag||ae(this.value)?this:Bt.none()}getOr(ae){return this.tag?this.value:ae}or(ae){return this.tag?this:ae}getOrThunk(ae){return this.tag?this.value:ae()}orThunk(ae){return this.tag?this:ae()}getOrDie(ae){if(this.tag)return this.value;throw new Error(ae??"Called getOrDie on None")}static from(ae){return jr(ae)?Bt.some(ae):Bt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ae){this.tag&&ae(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Bt.singletonNone=new Bt(!1);const pt=Array.prototype.indexOf,ue=Array.prototype.push,Et=(q,ae)=>pt.call(q,ae),ve=(q,ae)=>Et(q,ae)>-1,ht=(q,ae)=>{const _e=q.length,He=new Array(_e);for(let ct=0;ct<_e;ct++){const Ft=q[ct];He[ct]=ae(Ft,ct)}return He},gs=(q,ae)=>{for(let _e=0,He=q.length;_e<He;_e++){const ct=q[_e];ae(ct,_e)}},Nr=(q,ae,_e)=>(gs(q,(He,ct)=>{_e=ae(_e,He,ct)}),_e),Io=q=>{const ae=[];for(let _e=0,He=q.length;_e<He;++_e){if(!Po(q[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+q);ue.apply(ae,q[_e])}return ae},Ie=(q,ae)=>Io(ht(q,ae)),jt=(q,ae)=>{for(let _e=0;_e<q.length;_e++){const He=ae(q[_e],_e);if(He.isSome())return He}return Bt.none()},O=(q,ae,_e=qe)=>q.exists(He=>_e(He,ae)),Eo=q=>{const ae=[],_e=He=>{ae.push(He)};for(let He=0;He<q.length;He++)q[He].each(_e);return ae},ao=(q,ae)=>q?Bt.some(ae):Bt.none(),Do=q=>ae=>ae.options.get(q),Zr=q=>{const ae=q.options.register;ae("link_assume_external_targets",{processor:_e=>{const He=Ro(_e)||Cn(_e);return He?_e===!0?{value:1,valid:He}:_e==="http"||_e==="https"?{value:_e,valid:He}:{value:0,valid:He}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ae("link_context_toolbar",{processor:"boolean",default:!1}),ae("link_list",{processor:_e=>Ro(_e)||$t(_e)||Kt(_e,To)}),ae("link_default_target",{processor:"string"}),ae("link_default_protocol",{processor:"string",default:"https"}),ae("link_target_list",{processor:_e=>Cn(_e)||Kt(_e,To),default:!0}),ae("link_rel_list",{processor:"object[]",default:[]}),ae("link_class_list",{processor:"object[]",default:[]}),ae("link_title",{processor:"boolean",default:!0}),ae("allow_unsafe_link_target",{processor:"boolean",default:!1}),ae("link_quicklink",{processor:"boolean",default:!1}),ae("link_attributes_postprocess",{processor:"function"})},Je=Do("link_assume_external_targets"),fn=Do("link_context_toolbar"),Bi=Do("link_list"),De=Do("link_default_target"),Se=Do("link_default_protocol"),tt=Do("link_target_list"),Uo=Do("link_rel_list"),So=Do("link_class_list"),ho=Do("link_title"),uo=Do("allow_unsafe_link_target"),H=Do("link_quicklink"),as=Do("link_attributes_postprocess"),sr=Object.keys,Xo=Object.hasOwnProperty,mi=(q,ae)=>{const _e=sr(q);for(let He=0,ct=_e.length;He<ct;He++){const Ft=_e[He],Nt=q[Ft];ae(Nt,Ft)}},ll=q=>(ae,_e)=>{q[_e]=ae},on=(q,ae,_e,He)=>{mi(q,(ct,Ft)=>{(ae(ct,Ft)?_e:He)(ct,Ft)})},Sn=(q,ae)=>{const _e={};return on(q,ae,ll(_e),Go),_e},Jo=(q,ae)=>Xo.call(q,ae),Ne=(q,ae)=>Jo(q,ae)&&q[ae]!==void 0&&q[ae]!==null;var yt=tinymce.util.Tools.resolve("tinymce.util.URI"),at=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ke=tinymce.util.Tools.resolve("tinymce.util.Tools");const eo=q=>jr(q)&&q.nodeName.toLowerCase()==="a",fo=q=>eo(q)&&!!Qn(q),qo=(q,ae)=>{if(q.collapsed)return[];{const _e=q.cloneContents(),He=_e.firstChild,ct=new at(He,_e),Ft=[];let Nt=He;do ae(Nt)&&Ft.push(Nt);while(Nt=ct.next());return Ft}},Tn=q=>/^\w+:/i.test(q),Qn=q=>{var ae,_e;return(_e=(ae=q.getAttribute("data-mce-href"))!==null&&ae!==void 0?ae:q.getAttribute("href"))!==null&&_e!==void 0?_e:""},Rn=(q,ae)=>{const _e=["noopener"],He=q?q.split(/\s+/):[],ct=mn=>Ke.trim(mn.sort().join(" ")),Ft=mn=>(mn=Nt(mn),mn.length>0?mn.concat(_e):_e),Nt=mn=>mn.filter(br=>Ke.inArray(_e,br)===-1),wr=ae?Ft(He):Nt(He);return wr.length>0?ct(wr):""},Kn=q=>q.replace(/\uFEFF/g,""),Qr=(q,ae)=>(ae=ae||Hr(q.selection.getRng())[0]||q.selection.getNode(),Fo(ae)?Bt.from(q.dom.select("a[href]",ae)[0]):Bt.from(q.dom.getParent(ae,"a[href]"))),Hs=(q,ae)=>Qr(q,ae).isSome(),Fn=(q,ae)=>{const _e=ae.fold(()=>q.getContent({format:"text"}),He=>He.innerText||He.textContent||"");return Kn(_e)},Hr=q=>qo(q,fo),Qo=q=>Ke.grep(q,fo),Gs=q=>Qo(q).length>0,dt=q=>Hr(q).length>0,_o=q=>{const ae=q.schema.getTextInlineElements(),_e=Ft=>Ft.nodeType===1&&!eo(Ft)&&!Jo(ae,Ft.nodeName.toLowerCase());if(Qr(q).exists(Ft=>Ft.hasAttribute("data-mce-block")))return!1;const ct=q.selection.getRng();return ct.collapsed?!0:qo(ct,_e).length===0},Fo=q=>jr(q)&&q.nodeName==="FIGURE"&&/\bimage\b/i.test(q.className),Ks=q=>Nr(["title","rel","class","target"],(_e,He)=>(q[He].each(ct=>{_e[He]=ct.length>0?ct:null}),_e),{href:q.href}),pi=(q,ae)=>(ae==="http"||ae==="https")&&!Tn(q)?ae+"://"+q:q,nt=(q,ae)=>{const _e={...ae};if(Uo(q).length===0&&!uo(q)){const He=Rn(_e.rel,_e.target==="_blank");_e.rel=He||null}return Bt.from(_e.target).isNone()&&tt(q)===!1&&(_e.target=De(q)),_e.href=pi(_e.href,Je(q)),_e},qa=(q,ae,_e,He)=>{_e.each(Ft=>{Jo(ae,"innerText")?ae.innerText=Ft:ae.textContent=Ft}),q.dom.setAttribs(ae,He);const ct=q.dom.createRng();ct.setStartAfter(ae),ct.setEndAfter(ae),q.selection.setRng(ct)},Ho=(q,ae,_e,He)=>{const ct=q.dom;Fo(ae)?Hn(ct,ae,He):_e.fold(()=>{q.execCommand("mceInsertLink",!1,He);const Ft=q.selection.getEnd(),Nt=ct.createRng();Nt.setStartAfter(Ft),Nt.setEndAfter(Ft),q.selection.setRng(Nt)},Ft=>{q.insertContent(ct.createHTML("a",He,ct.encode(Ft)))})},Pi=(q,ae,_e)=>{const He=q.selection.getNode(),ct=Qr(q,He),Ft=nt(q,Ks(_e)),Nt=as(q);jr(Nt)&&Nt(Ft),q.undoManager.transact(()=>{_e.href===ae.href&&ae.attach(),ct.fold(()=>{Ho(q,He,_e.text,Ft)},wr=>{q.focus(),qa(q,wr,_e.text,Ft)})})},Zn=q=>{const ae=q.dom,_e=q.selection,He=_e.getBookmark(),ct=_e.getRng().cloneRange(),Ft=ae.getParent(ct.startContainer,"a[href]",q.getBody()),Nt=ae.getParent(ct.endContainer,"a[href]",q.getBody());Ft&&ct.setStartBefore(Ft),Nt&&ct.setEndAfter(Nt),_e.setRng(ct),q.execCommand("unlink"),_e.moveToBookmark(He)},hs=q=>{q.undoManager.transact(()=>{const ae=q.selection.getNode();Fo(ae)?El(q,ae):Zn(q),q.focus()})},Cl=q=>{const{class:ae,href:_e,rel:He,target:ct,text:Ft,title:Nt}=q;return Sn({class:ae.getOrNull(),href:_e,rel:He.getOrNull(),target:ct.getOrNull(),text:Ft.getOrNull(),title:Nt.getOrNull()},(wr,mn)=>lo(wr)===!1)},Sl=(q,ae)=>{const _e=q.options.get,He={allow_html_data_urls:_e("allow_html_data_urls"),allow_script_urls:_e("allow_script_urls"),allow_svg_data_urls:_e("allow_svg_data_urls")},ct=ae.href;return{...ae,href:yt.isDomSafe(ct,"a",He)?ct:""}},Yi=(q,ae,_e)=>{const He=Sl(q,_e);q.hasPlugin("rtc",!0)?q.execCommand("createlink",!1,Cl(He)):Pi(q,ae,He)},za=q=>{q.hasPlugin("rtc",!0)?q.execCommand("unlink"):hs(q)},El=(q,ae)=>{var _e;const He=q.dom.select("img",ae)[0];if(He){const ct=q.dom.getParents(He,"a[href]",ae)[0];ct&&((_e=ct.parentNode)===null||_e===void 0||_e.insertBefore(He,ct),q.dom.remove(ct))}},Hn=(q,ae,_e)=>{var He;const ct=q.select("img",ae)[0];if(ct){const Ft=q.create("a",_e);(He=ct.parentNode)===null||He===void 0||He.insertBefore(Ft,ct),Ft.appendChild(ct)}},po=q=>Ro(q.value)?q.value:"",Ga=q=>Ro(q.text)?q.text:Ro(q.title)?q.title:"",Ts=(q,ae)=>{const _e=[];return Ke.each(q,He=>{const ct=Ga(He);if(He.menu!==void 0){const Ft=Ts(He.menu,ae);_e.push({text:ct,items:Ft})}else{const Ft=ae(He);_e.push({text:ct,value:Ft})}}),_e},vc=(q=po)=>ae=>Bt.from(ae).map(_e=>Ts(_e,q)),Ka={sanitize:q=>vc(po)(q),sanitizeWith:vc,createUi:(q,ae)=>_e=>({name:q,type:"listbox",label:ae,items:_e}),getValue:po},Rr=q=>Ne(q,"items"),Od=(q,ae)=>jt(ae,_e=>Rr(_e)?Od(q,_e.items):ao(_e.value===q,_e)),Pa=(q,ae,_e,He)=>{const ct=He[ae],Ft=q.length>0;return ct!==void 0?Od(ct,_e).map(Nt=>({url:{value:Nt.value,meta:{text:Ft?q:Nt.text,attach:Go}},text:Ft?q:Nt.text})):Bt.none()},gi=(q,ae)=>ae==="link"?q.link:ae==="anchor"?q.anchor:Bt.none(),lr={init:(q,ae)=>{const _e={text:q.text,title:q.title},He=mn=>{var br;return ao(_e.title.length<=0,Bt.from((br=mn.meta)===null||br===void 0?void 0:br.title).getOr(""))},ct=mn=>{var br;return ao(_e.text.length<=0,Bt.from((br=mn.meta)===null||br===void 0?void 0:br.text).getOr(mn.value))},Ft=mn=>{const br=ct(mn.url),dr=He(mn.url);return br.isSome()||dr.isSome()?Bt.some({...br.map(Kc=>({text:Kc})).getOr({}),...dr.map(Kc=>({title:Kc})).getOr({})}):Bt.none()},Nt=(mn,br)=>{const dr=gi(ae,br).getOr([]);return Pa(_e.text,br,dr,mn)};return{onChange:(mn,br)=>{const dr=br.name;return dr==="url"?Ft(mn()):ve(["anchor","link"],dr)?Nt(mn(),dr):((dr==="text"||dr==="title")&&(_e[dr]=mn()[dr]),Bt.none())}}},getDelta:Pa};var ua=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ya=(q,ae,_e)=>{const He=q.selection.getRng();ua.setEditorTimeout(q,()=>{q.windowManager.confirm(ae,ct=>{q.selection.setRng(He),_e(ct)})})},nu=q=>{const ae=q.href;return ae.indexOf("@")>0&&ae.indexOf("/")===-1&&ae.indexOf("mailto:")===-1?Bt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:He=>({...He,href:"mailto:"+ae})}):Bt.none()},Wl=(q,ae)=>_e=>{const He=_e.href;return q===1&&!Tn(He)||q===0&&/^\s*www(\.|\d\.)/i.test(He)?Bt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ae}:// prefix?`,preprocess:Ft=>({...Ft,href:ae+"://"+He})}):Bt.none()},Ad={preprocess:(q,ae)=>jt([nu,Wl(Je(q),Se(q))],_e=>_e(ae)).fold(()=>Promise.resolve(ae),_e=>new Promise(He=>{Ya(q,_e.message,ct=>{He(ct?_e.preprocess(ae):ae)})}))},yn={getAnchors:q=>{const ae=q.dom.select("a:not([href])"),_e=Ie(ae,He=>{const ct=He.name||He.id;return ct?[{text:ct,value:"#"+ct}]:[]});return _e.length>0?Bt.some([{text:"None",value:""}].concat(_e)):Bt.none()}},fa={getClasses:q=>{const ae=So(q);return ae.length>0?Ka.sanitize(ae):Bt.none()}},Rd=q=>{try{return Bt.some(JSON.parse(q))}catch{return Bt.none()}},Dd={getLinks:q=>{const ae=He=>q.convertURL(He.value||He.url||"","href"),_e=Bi(q);return new Promise(He=>{Ro(_e)?fetch(_e).then(ct=>ct.ok?ct.text().then(Rd):Promise.reject()).then(He,()=>He(Bt.none())):$t(_e)?_e(ct=>He(Bt.some(ct))):He(Bt.from(_e))}).then(He=>He.bind(Ka.sanitizeWith(ae)).map(ct=>ct.length>0?[{text:"None",value:""}].concat(ct):ct))}},hi={getRels:(q,ae)=>{const _e=Uo(q);if(_e.length>0){const He=O(ae,"_blank"),ct=uo(q)===!1,Ft=wr=>Rn(Ka.getValue(wr),He);return(ct?Ka.sanitizeWith(Ft):Ka.sanitize)(_e)}return Bt.none()}},bi=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],cr={getTargets:q=>{const ae=tt(q);return Po(ae)?Ka.sanitize(ae).orThunk(()=>Bt.some(bi)):ae===!1?Bt.none():Bt.some(bi)}},Fi=(q,ae,_e)=>{const He=q.getAttrib(ae,_e);return He!==null&&He.length>0?Bt.some(He):Bt.none()},Xa=(q,ae)=>{const _e=q.dom,ct=_o(q)?Bt.some(Fn(q.selection,ae)):Bt.none(),Ft=ae.bind(dr=>Bt.from(_e.getAttrib(dr,"href"))),Nt=ae.bind(dr=>Bt.from(_e.getAttrib(dr,"target"))),wr=ae.bind(dr=>Fi(_e,dr,"rel")),mn=ae.bind(dr=>Fi(_e,dr,"class")),br=ae.bind(dr=>Fi(_e,dr,"title"));return{url:Ft,text:ct,title:br,target:Nt,rel:wr,linkClass:mn}},Ji={collect:(q,ae)=>Dd.getLinks(q).then(_e=>{const He=Xa(q,ae);return{anchor:He,catalogs:{targets:cr.getTargets(q),rels:hi.getRels(q,He.target),classes:fa.getClasses(q),anchor:yn.getAnchors(q),link:_e},optNode:ae,flags:{titleEnabled:ho(q)}}})},is=(q,ae)=>_e=>{const He=_e.getData();if(!He.url.value){za(q),_e.close();return}const ct=wr=>Bt.from(He[wr]).filter(mn=>!O(ae.anchor[wr],mn)),Ft={href:He.url.value,text:ct("text"),target:ct("target"),rel:ct("rel"),class:ct("linkClass"),title:ct("title")},Nt={href:He.url.value,attach:He.url.meta!==void 0&&He.url.meta.attach?He.url.meta.attach:Go};Ad.preprocess(q,Ft).then(wr=>{Yi(q,Nt,wr)}),_e.close()},hr=q=>{const ae=Qr(q);return Ji.collect(q,ae)},yi=(q,ae)=>{const _e=q.anchor,He=_e.url.getOr("");return{url:{value:He,meta:{original:{value:He}}},text:_e.text.getOr(""),title:_e.title.getOr(""),anchor:He,link:He,rel:_e.rel.getOr(""),target:_e.target.or(ae).getOr(""),linkClass:_e.linkClass.getOr("")}},$s=(q,ae,_e)=>{const He=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],ct=q.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Ft=q.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Nt=Bt.from(De(_e)),wr=yi(q,Nt),mn=q.catalogs,br=lr.init(wr,mn);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Io([He,ct,Ft,Eo([mn.anchor.map(Ka.createUi("anchor","Anchors")),mn.rels.map(Ka.createUi("rel","Rel")),mn.targets.map(Ka.createUi("target","Open link in...")),mn.link.map(Ka.createUi("link","Link list")),mn.classes.map(Ka.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:wr,onChange:(Kc,{name:ei})=>{br.onChange(Kc.getData,{name:ei}).each(au=>{Kc.setData(au)})},onSubmit:ae}},Wn=q=>{hr(q).then(_e=>{const He=is(q,_e);return $s(_e,He,q)}).then(_e=>{q.windowManager.open(_e)})},pa=q=>{q.addCommand("mceLink",(ae,_e)=>{(_e==null?void 0:_e.dialog)===!0||!H(q)?Wn(q):q.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Ja=q=>{q.addShortcut("Meta+K","",()=>{q.execCommand("mceLink")})},ru=q=>{let ae=q;return{get:()=>ae,set:ct=>{ae=ct}}},io=q=>{const ae=ru(Bt.none()),_e=()=>ae.get().each(q);return{clear:()=>{_e(),ae.set(Bt.none())},isSet:()=>ae.get().isSome(),get:()=>ae.get(),set:wr=>{_e(),ae.set(Bt.some(wr))}}},ks=()=>{const q=io(Go);return{...q,on:_e=>q.get().each(_e)}},ls=(q,ae)=>q.substring(ae),cs=(q,ae,_e)=>ae===""||q.length>=ae.length&&q.substr(_e,_e+ae.length)===ae,su=(q,ae)=>$r(q,ae)?ls(q,ae.length):q,$r=(q,ae)=>cs(q,ae,0);var ql=tinymce.util.Tools.resolve("tinymce.util.VK");const zl=(q,ae)=>{document.body.appendChild(q),q.dispatchEvent(ae),document.body.removeChild(q)},Zt=q=>{const ae=document.createElement("a");ae.target="_blank",ae.href=q,ae.rel="noreferrer noopener";const _e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(_e),zl(ae,_e)},Qa=q=>q.altKey===!0&&q.shiftKey===!1&&q.ctrlKey===!1&&q.metaKey===!1,xi=(q,ae)=>{if(ae){const _e=Qn(ae);if(/^#/.test(_e)){const He=q.dom.select(`${_e},[name="${su(_e,"#")}"]`);He.length&&q.selection.scrollIntoView(He[0],!0)}else Zt(ae.href)}},Vs=q=>{const ae=q.selection.getRng(),_e=ae.startContainer;return fo(_e)&&ae.startContainer===ae.endContainer&&q.dom.select("img",_e).length===1},_c=(q,ae)=>{const _e=Qo(q.dom.getParents(ae));return ao(_e.length===1,_e[0])},_r=q=>{const ae=Hr(q.selection.getRng());return ao(ae.length>0,ae[0]).or(_c(q,q.selection.getNode()))},Hi=q=>q.selection.isCollapsed()||Vs(q)?_c(q,q.selection.getStart()):_r(q),vi=q=>{const ae=ks(),_e=()=>ae.get().or(Hi(q)),He=()=>_e().each(ct=>xi(q,ct));return q.on("contextmenu",ct=>{_c(q,ct.target).each(ae.set)}),q.on("SelectionChange",()=>{ae.isSet()||Hi(q).each(ae.set)}),q.on("click",ct=>{ae.clear();const Ft=Qo(q.dom.getParents(ct.target));Ft.length===1&&ql.metaKeyPressed(ct)&&(ct.preventDefault(),xi(q,Ft[0]))}),q.on("keydown",ct=>{ae.clear(),!ct.isDefaultPrevented()&&ct.keyCode===13&&Qa(ct)&&_e().each(Ft=>{ct.preventDefault(),xi(q,Ft)})}),{gotoSelectedLink:He}},ln=q=>()=>{q.execCommand("mceLink",!1,{dialog:!0})},cl=(q,ae)=>(q.on("NodeChange",ae),()=>q.off("NodeChange",ae)),Tl=q=>ae=>{const _e=()=>{ae.setActive(!q.mode.isReadOnly()&&Hs(q,q.selection.getNode())),ae.setEnabled(q.selection.isEditable())};return _e(),cl(q,_e)},Md=q=>ae=>{const _e=()=>{ae.setEnabled(q.selection.isEditable())};return _e(),cl(q,_e)},kr=q=>ae=>{const _e=Ft=>Gs(Ft)||dt(q.selection.getRng()),He=q.dom.getParents(q.selection.getStart()),ct=Ft=>{ae.setEnabled(_e(Ft)&&q.selection.isEditable())};return ct(He),cl(q,Ft=>ct(Ft.parents))},Ta=(q,ae)=>{q.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:ln(q),onSetup:Tl(q)}),q.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ae.gotoSelectedLink,onSetup:kr(q)}),q.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>za(q),onSetup:kr(q)})},ju=(q,ae)=>{q.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ae.gotoSelectedLink,onSetup:kr(q)}),q.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ln(q),onSetup:Md(q)}),q.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>za(q),onSetup:kr(q)})},Dn=q=>{const ae="link unlink openlink",_e="link";q.ui.registry.addContextMenu("link",{update:He=>q.dom.isEditable(He)?Gs(q.dom.getParents(He,"a"))?ae:_e:""})},Gl=(q,ae)=>{const _e=Ft=>{Ft.selection.collapse(!1)},He=Ft=>{const Nt=q.selection.getNode();return Ft.setEnabled(Hs(q,Nt)&&q.selection.isEditable()),Go},ct=Ft=>{const Nt=Qr(q),wr=_o(q);if(Nt.isNone()&&wr){const mn=Fn(q.selection,Nt);return ao(mn.length===0,Ft)}else return Bt.none()};q.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Tl(q)},label:"Link",predicate:Ft=>fn(q)&&Hs(q,Ft),initValue:()=>Qr(q).fold(Lo(""),Qn),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Ft=>{const Nt=q.selection.getNode();return Ft.setActive(Hs(q,Nt)),Tl(q)(Ft)},onAction:Ft=>{const Nt=Ft.getValue(),wr=ct(Nt);Yi(q,{href:Nt,attach:Go},{href:Nt,text:wr,title:Bt.none(),rel:Bt.none(),target:Bt.from(De(q)),class:Bt.none()}),_e(q),Ft.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:He,onAction:Ft=>{za(q),Ft.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:He,onAction:Ft=>{ae.gotoSelectedLink(),Ft.hide()}}]})},Wr=q=>{const ae=vi(q);Ta(q,ae),ju(q,ae),Dn(q),Gl(q,ae)};var Us=()=>{Tt.add("link",q=>{Zr(q),pa(q),Wr(q),Ja(q)})};Us()}()),GF}var YF;function lG(){return YF||(YF=1,iG()),qF}lG();var XF={},JF={},QF;function cG(){return QF||(QF=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(S,M,U)=>{var le;return U(S,M.prototype)?!0:((le=S.constructor)===null||le===void 0?void 0:le.name)===M.name},No=S=>{const M=typeof S;return S===null?"null":M==="object"&&Array.isArray(S)?"array":M==="object"&&zo(S,String,(U,le)=>le.isPrototypeOf(U))?"string":M},Yo=S=>M=>No(M)===S,Co=S=>M=>typeof M===S,Dt=Yo("string"),Ro=Yo("object"),To=Yo("array"),Po=Co("boolean"),lo=S=>S==null,Cn=S=>!lo(S),pr=Co("function"),jr=Co("number"),$t=()=>{},Kt=(S,M)=>U=>S(M(U)),Go=S=>()=>S,Lo=(S,M)=>S===M;function qe(S,...M){return(...U)=>{const le=M.concat(U);return S.apply(null,le)}}const Bt=S=>M=>!S(M),pt=Go(!1);class ue{constructor(M,U){this.tag=M,this.value=U}static some(M){return new ue(!0,M)}static none(){return ue.singletonNone}fold(M,U){return this.tag?U(this.value):M()}isSome(){return this.tag}isNone(){return!this.tag}map(M){return this.tag?ue.some(M(this.value)):ue.none()}bind(M){return this.tag?M(this.value):ue.none()}exists(M){return this.tag&&M(this.value)}forall(M){return!this.tag||M(this.value)}filter(M){return!this.tag||M(this.value)?this:ue.none()}getOr(M){return this.tag?this.value:M}or(M){return this.tag?this:M}getOrThunk(M){return this.tag?this.value:M()}orThunk(M){return this.tag?this:M()}getOrDie(M){if(this.tag)return this.value;throw new Error(M??"Called getOrDie on None")}static from(M){return Cn(M)?ue.some(M):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(M){this.tag&&M(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const Et=Array.prototype.slice,ve=Array.prototype.indexOf,ht=Array.prototype.push,gs=(S,M)=>ve.call(S,M),Nr=(S,M)=>gs(S,M)>-1,Io=(S,M)=>{for(let U=0,le=S.length;U<le;U++){const pe=S[U];if(M(pe,U))return!0}return!1},Ie=(S,M)=>{const U=S.length,le=new Array(U);for(let pe=0;pe<U;pe++){const ot=S[pe];le[pe]=M(ot,pe)}return le},jt=(S,M)=>{for(let U=0,le=S.length;U<le;U++){const pe=S[U];M(pe,U)}},O=(S,M)=>{const U=[];for(let le=0,pe=S.length;le<pe;le++){const ot=S[le];M(ot,le)&&U.push(ot)}return U},Eo=(S,M)=>{if(S.length===0)return[];{let U=M(S[0]);const le=[];let pe=[];for(let ot=0,no=S.length;ot<no;ot++){const $o=S[ot],vo=M($o);vo!==U&&(le.push(pe),pe=[]),U=vo,pe.push($o)}return pe.length!==0&&le.push(pe),le}},ao=(S,M,U)=>(jt(S,(le,pe)=>{U=M(U,le,pe)}),U),Do=(S,M,U)=>{for(let le=0,pe=S.length;le<pe;le++){const ot=S[le];if(M(ot,le))return ue.some(ot);if(U(ot,le))break}return ue.none()},Zr=(S,M)=>Do(S,M,pt),Je=S=>{const M=[];for(let U=0,le=S.length;U<le;++U){if(!To(S[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+S);ht.apply(M,S[U])}return M},fn=(S,M)=>Je(Ie(S,M)),Bi=S=>{const M=Et.call(S,0);return M.reverse(),M},De=(S,M)=>M>=0&&M<S.length?ue.some(S[M]):ue.none(),Se=S=>De(S,0),tt=S=>De(S,S.length-1),Uo=(S,M)=>{const U=[],le=pr(M)?pe=>Io(U,ot=>M(ot,pe)):pe=>Nr(U,pe);for(let pe=0,ot=S.length;pe<ot;pe++){const no=S[pe];le(no)||U.push(no)}return U},So=(S,M,U=Lo)=>S.exists(le=>U(le,M)),ho=(S,M,U=Lo)=>uo(S,M,U).getOr(S.isNone()&&M.isNone()),uo=(S,M,U)=>S.isSome()&&M.isSome()?ue.some(U(S.getOrDie(),M.getOrDie())):ue.none(),H=8,as=11,sr=1,Xo=3,mi=(S,M)=>{const le=(M||document).createElement("div");if(le.innerHTML=S,!le.hasChildNodes()||le.childNodes.length>1){const pe="HTML does not have a single root node";throw console.error(pe,S),new Error(pe)}return Sn(le.childNodes[0])},ll=(S,M)=>{const le=(M||document).createElement(S);return Sn(le)},on=(S,M)=>{const le=(M||document).createTextNode(S);return Sn(le)},Sn=S=>{if(S==null)throw new Error("Node cannot be null or undefined");return{dom:S}},Ne={fromHtml:mi,fromTag:ll,fromText:on,fromDom:Sn,fromPoint:(S,M,U)=>ue.from(S.dom.elementFromPoint(M,U)).map(Sn)},yt=(S,M)=>{const U=S.dom;if(U.nodeType!==sr)return!1;{const le=U;if(le.matches!==void 0)return le.matches(M);if(le.msMatchesSelector!==void 0)return le.msMatchesSelector(M);if(le.webkitMatchesSelector!==void 0)return le.webkitMatchesSelector(M);if(le.mozMatchesSelector!==void 0)return le.mozMatchesSelector(M);throw new Error("Browser lacks native selectors")}},at=(S,M)=>S.dom===M.dom,Ke=(S,M)=>{const U=S.dom,le=M.dom;return U===le?!1:U.contains(le)},eo=yt,fo=typeof window<"u"?window:Function("return this;")(),qo=(S,M)=>{let U=M??fo;for(let le=0;le<S.length&&U!==void 0&&U!==null;++le)U=U[S[le]];return U},Tn=(S,M)=>{const U=S.split(".");return qo(U,M)},Qn=(S,M)=>Tn(S,M),Rn=(S,M)=>{const U=Qn(S,M);if(U==null)throw new Error(S+" not available on this browser");return U},Kn=Object.getPrototypeOf,Qr=S=>Rn("HTMLElement",S),Hs=S=>{const M=Tn("ownerDocument.defaultView",S);return Ro(S)&&(Qr(M).prototype.isPrototypeOf(S)||/^HTML\w*Element$/.test(Kn(S).constructor.name))},Fn=S=>S.dom.nodeName.toLowerCase(),Hr=S=>S.dom.nodeType,Qo=S=>M=>Hr(M)===S,Gs=S=>Hr(S)===H||Fn(S)==="#comment",dt=S=>_o(S)&&Hs(S.dom),_o=Qo(sr),Fo=Qo(Xo),Ks=Qo(as),pi=S=>M=>_o(M)&&Fn(M)===S,nt=S=>ue.from(S.dom.parentNode).map(Ne.fromDom),qa=S=>ue.from(S.dom.parentElement).map(Ne.fromDom),Ho=S=>ue.from(S.dom.nextSibling).map(Ne.fromDom),Pi=S=>Ie(S.dom.childNodes,Ne.fromDom),Zn=(S,M)=>{const U=S.dom.childNodes;return ue.from(U[M]).map(Ne.fromDom)},hs=S=>Zn(S,0),Cl=S=>Zn(S,S.dom.childNodes.length-1),Sl=S=>Ks(S)&&Cn(S.dom.host),Yi=S=>Ne.fromDom(S.dom.getRootNode()),za=S=>{const M=Yi(S);return Sl(M)?ue.some(M):ue.none()},El=S=>Ne.fromDom(S.dom.host),Hn=S=>{const M=Fo(S)?S.dom.parentNode:S.dom;if(M==null||M.ownerDocument===null)return!1;const U=M.ownerDocument;return za(Ne.fromDom(M)).fold(()=>U.body.contains(M),Kt(Hn,El))};var po=(S,M,U,le,pe)=>S(U,le)?ue.some(U):pr(pe)&&pe(U)?ue.none():M(U,le,pe);const Ga=(S,M,U)=>{let le=S.dom;const pe=pr(U)?U:pt;for(;le.parentNode;){le=le.parentNode;const ot=Ne.fromDom(le);if(M(ot))return ue.some(ot);if(pe(ot))break}return ue.none()},Ts=(S,M,U)=>po((pe,ot)=>ot(pe),Ga,S,M,U),vc=(S,M,U)=>Ga(S,le=>yt(le,M),U),_t=(S,M,U)=>po((pe,ot)=>yt(pe,ot),vc,S,M,U),Xi=S=>_t(S,"[contenteditable]"),Ka=(S,M=!1)=>Hn(S)?S.dom.isContentEditable:Xi(S).fold(Go(M),U=>Rr(U)==="true"),Rr=S=>S.dom.contentEditable,Od=(S,M)=>{nt(S).each(le=>{le.dom.insertBefore(M.dom,S.dom)})},Pa=(S,M)=>{Ho(S).fold(()=>{nt(S).each(pe=>{Li(pe,M)})},le=>{Od(le,M)})},gi=(S,M)=>{hs(S).fold(()=>{Li(S,M)},le=>{S.dom.insertBefore(M.dom,le.dom)})},Li=(S,M)=>{S.dom.appendChild(M.dom)},lr=(S,M)=>{jt(M,U=>{Od(S,U)})},ua=(S,M)=>{jt(M,U=>{Li(S,U)})},Ya=S=>{S.dom.textContent="",jt(Pi(S),M=>{nu(M)})},nu=S=>{const M=S.dom;M.parentNode!==null&&M.parentNode.removeChild(M)};var Wl=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ii=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ad=tinymce.util.Tools.resolve("tinymce.util.VK");const Nd=S=>Ie(S,Ne.fromDom),yn=Object.keys,bs=(S,M)=>{const U=yn(S);for(let le=0,pe=U.length;le<pe;le++){const ot=U[le],no=S[ot];M(no,ot)}},fa=S=>(M,U)=>{S[U]=M},Rd=(S,M,U,le)=>{bs(S,(pe,ot)=>{(M(pe,ot)?U:le)(pe,ot)})},Uu=(S,M)=>{const U={};return Rd(S,M,fa(U),$t),U},Dd=(S,M,U)=>{if(Dt(U)||Po(U)||jr(U))S.setAttribute(M,U+"");else throw console.error("Invalid call to Attribute.set. Key ",M,":: Value ",U,":: Element ",S),new Error("Attribute value was not simple")},es=(S,M)=>{const U=S.dom;bs(M,(le,pe)=>{Dd(U,pe,le)})},hi=S=>ao(S.dom.attributes,(M,U)=>(M[U.name]=U.value,M),{}),bi=(S,M)=>Ne.fromDom(S.dom.cloneNode(M)),gr=S=>bi(S,!0),cr=(S,M)=>{const U=Ne.fromTag(M),le=hi(S);return es(U,le),U},Fi=(S,M)=>{const U=cr(S,M);Pa(S,U);const le=Pi(S);return ua(U,le),nu(S),U};var Xa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ma=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ji=S=>M=>Cn(M)&&M.nodeName.toLowerCase()===S,is=S=>M=>Cn(M)&&S.test(M.nodeName),hr=S=>Cn(S)&&S.nodeType===3,yi=S=>Cn(S)&&S.nodeType===1,$s=is(/^(OL|UL|DL)$/),Wn=is(/^(OL|UL)$/),pa=Ji("ol"),Ja=is(/^(LI|DT|DD)$/),ru=is(/^(DT|DD)$/),io=is(/^(TH|TD)$/),ks=Ji("br"),ls=S=>{var M;return((M=S.parentNode)===null||M===void 0?void 0:M.firstChild)===S},cs=(S,M)=>Cn(M)&&M.nodeName in S.schema.getTextBlockElements(),su=(S,M)=>Cn(S)&&S.nodeName in M,$r=(S,M)=>Cn(M)&&M.nodeName in S.schema.getVoidElements(),ql=(S,M)=>ks(M)?S.isBlock(M.nextSibling)&&!ks(M.previousSibling):!1,zl=(S,M,U)=>{const le=S.isEmpty(M);return U&&S.select("span[data-mce-type=bookmark]",M).length>0?!1:le},Zt=(S,M)=>S.isChildOf(M,S.getRoot()),Qa=S=>M=>M.options.get(S),xi=S=>{const M=S.options.register;M("lists_indent_on_tab",{processor:"boolean",default:!0})},Vs=Qa("lists_indent_on_tab"),_c=Qa("forced_root_block"),_r=Qa("forced_root_block_attrs"),Hi=(S,M,U={})=>{const le=S.dom,pe=S.schema.getBlockElements(),ot=le.createFragment(),no=_c(S),$o=_r(S);let vo,Rt,Ln=!1;for(Rt=le.create(no,{...$o,...U.style?{style:U.style}:{}}),su(M.firstChild,pe)||ot.appendChild(Rt);vo=M.firstChild;){const ts=vo.nodeName;!Ln&&(ts!=="SPAN"||vo.getAttribute("data-mce-type")!=="bookmark")&&(Ln=!0),su(vo,pe)?(ot.appendChild(vo),Rt=null):(Rt||(Rt=le.create(no,$o),ot.appendChild(Rt)),Rt.appendChild(vo))}return!Ln&&Rt&&Rt.appendChild(le.create("br",{"data-mce-bogus":"1"})),ot},vi=Xa.DOM,ln=(S,M,U)=>{const le=Rt=>{const Ln=Rt.parentNode;Ln&&ma.each(pe,ts=>{Ln.insertBefore(ts,U.parentNode)}),vi.remove(Rt)},pe=vi.select('span[data-mce-type="bookmark"]',M),ot=Hi(S,U),no=vi.createRng();no.setStartAfter(U),no.setEndAfter(M);const $o=no.extractContents();for(let Rt=$o.firstChild;Rt;Rt=Rt.firstChild)if(Rt.nodeName==="LI"&&S.dom.isEmpty(Rt)){vi.remove(Rt);break}S.dom.isEmpty($o)||vi.insertAfter($o,M),vi.insertAfter(ot,M);const vo=U.parentElement;vo&&zl(S.dom,vo)&&le(vo),vi.remove(U),zl(S.dom,M)&&vi.remove(M)},cl=pi("dd"),Tl=pi("dt"),Md=(S,M)=>{cl(M)?Fi(M,"dt"):Tl(M)&&qa(M).each(U=>ln(S,U.dom,M.dom))},kr=S=>{Tl(S)&&Fi(S,"dd")},Ta=(S,M,U)=>{M==="Indent"?jt(U,kr):jt(U,le=>Md(S,le))},ju=(S,M)=>{if(hr(S))return{container:S,offset:M};const U=Wl.getNode(S,M);return hr(U)?{container:U,offset:M>=S.childNodes.length?U.data.length:0}:U.previousSibling&&hr(U.previousSibling)?{container:U.previousSibling,offset:U.previousSibling.data.length}:U.nextSibling&&hr(U.nextSibling)?{container:U.nextSibling,offset:0}:{container:S,offset:M}},Dn=S=>{const M=S.cloneRange(),U=ju(S.startContainer,S.startOffset);M.setStart(U.container,U.offset);const le=ju(S.endContainer,S.endOffset);return M.setEnd(le.container,le.offset),M},Gl=["OL","UL","DL"],Wr=Gl.join(","),Us=(S,M)=>{const U=M||S.selection.getStart(!0);return S.dom.getParent(U,Wr,mn(S,U))},q=(S,M)=>Cn(S)&&M.length===1&&M[0]===S,ae=S=>O(S.querySelectorAll(Wr),$s),_e=S=>{const M=Us(S),U=S.selection.getSelectedBlocks();return q(M,U)?ae(M):O(U,le=>$s(le)&&M!==le)},He=(S,M)=>{const U=ma.map(M,le=>{const pe=S.dom.getParent(le,"li,dd,dt",mn(S,le));return pe||le});return Uo(U)},ct=S=>{const M=S.selection.getSelectedBlocks();return O(He(S,M),Ja)},Ft=S=>O(ct(S),ru),Nt=(S,M)=>{const U=S.dom.getParents(M,"TD,TH");return U.length>0?U[0]:S.getBody()},wr=(S,M)=>!$s(M)&&!Ja(M)&&Io(Gl,U=>S.isValidChild(M.nodeName,U)),mn=(S,M)=>{const U=S.dom.getParents(M,S.dom.isBlock),le=ot=>ot.nodeName.toLowerCase()!==_c(S);return Zr(U,ot=>le(ot)&&wr(S.schema,ot)).getOr(S.getBody())},br=S=>nt(S).exists(M=>Ja(M.dom)&&hs(M).exists(U=>!$s(U.dom))&&Cl(M).exists(U=>!$s(U.dom))),dr=(S,M)=>{const U=S.dom.getParents(M,"ol,ul",mn(S,M));return tt(U)},Kc=S=>{const M=dr(S,S.selection.getStart()),U=O(S.selection.getSelectedBlocks(),Wn);return M.toArray().concat(U)},ei=S=>{const M=S.selection.getStart();return S.dom.getParents(M,"ol,ul",mn(S,M))},au=S=>{const M=Kc(S),U=ei(S);return Zr(U,le=>br(Ne.fromDom(le))).fold(()=>Vg(S,M),le=>[le])},Vg=(S,M)=>{const U=Ie(M,le=>dr(S,le).getOr(le));return Uo(U)},Df=S=>/\btox\-/.test(S.className),Ug=(S,M)=>Do(S,$s,io).exists(U=>U.nodeName===M&&!Df(U)),gt=(S,M)=>M!==null&&!S.dom.isEditable(M),Bd=S=>{const M=Us(S);return gt(S,M)||!S.selection.isEditable()},Yc=(S,M)=>{const U=S.dom.getParent(M,"ol,ul,dl");return gt(S,U)||!S.selection.isEditable()},Mf=(S,M)=>{const U=S.selection.getNode();return M({parents:S.dom.getParents(U),element:U}),S.on("NodeChange",M),()=>S.off("NodeChange",M)},ga=(S,M)=>{const le=document.createDocumentFragment();return jt(S,pe=>{le.appendChild(pe.dom)}),Ne.fromDom(le)},Pd=(S,M,U)=>S.dispatch("ListMutation",{action:M,element:U}),jg=(S=>M=>M.replace(S,""))(/^\s+|\s+$/g),Gp=S=>S.length>0,Zg=S=>!Gp(S),yb=S=>S.style!==void 0&&pr(S.style.getPropertyValue),Wg=(S,M,U)=>{if(!Dt(U))throw console.error("Invalid call to CSS.set. Property ",M,":: Value ",U,":: Element ",S),new Error("CSS value must be a string: "+U);yb(S)&&S.style.setProperty(M,U)},qg=(S,M,U)=>{const le=S.dom;Wg(le,M,U)},Bf=S=>eo(S,"OL,UL"),kc=S=>eo(S,"LI"),Ld=S=>hs(S).exists(Bf),Zu=S=>Cl(S).exists(Bf),Ys=S=>"listAttributes"in S,Xc=S=>"isComment"in S,Kl=S=>"isFragment"in S,pn=S=>S.depth>0,La=S=>S.isSelected,lu=S=>{const M=Pi(S),U=Zu(S)?M.slice(0,-1):M;return Ie(U,gr)},Tm=(S,M,U)=>nt(S).filter(_o).map(le=>({depth:M,dirty:!1,isSelected:U,content:lu(S),itemAttributes:hi(S),listAttributes:hi(le),listType:Fn(le),isInPreviousLi:!1})),ha=(S,M)=>{Li(S.item,M.list)},ti=S=>{for(let M=1;M<S.length;M++)ha(S[M-1],S[M])},js=(S,M)=>{uo(tt(S),Se(M),ha)},Ol=(S,M)=>{const U={list:Ne.fromTag(M,S),item:Ne.fromTag("li",S)};return Li(U.list,U.item),U},ys=(S,M,U)=>{const le=[];for(let pe=0;pe<U;pe++)le.push(Ol(S,Ys(M)?M.listType:M.parentListType));return le},sa=(S,M)=>{for(let U=0;U<S.length-1;U++)qg(S[U].item,"list-style-type","none");tt(S).each(U=>{Ys(M)&&(es(U.list,M.listAttributes),es(U.item,M.itemAttributes)),ua(U.item,M.content)})},_i=(S,M)=>{Fn(S.list)!==M.listType&&(S.list=Fi(S.list,M.listType)),es(S.list,M.listAttributes)},On=(S,M,U)=>{const le=Ne.fromTag("li",S);return es(le,M),ua(le,U),le},dl=(S,M)=>{Li(S.list,M),S.item=M},ba=(S,M,U)=>{const le=M.slice(0,U.depth);return tt(le).each(pe=>{if(Ys(U)){const ot=On(S,U.itemAttributes,U.content);dl(pe,ot),_i(pe,U)}else if(Kl(U))ua(pe.item,U.content);else{const ot=Ne.fromHtml(`<!--${U.content}-->`);Li(pe.list,ot)}}),le},Os=(S,M,U)=>{const le=ys(S,U,U.depth-M.length);return ti(le),sa(le,U),js(M,le),M.concat(le)},Qi=(S,M)=>{let U=ue.none();const le=ao(M,(pe,ot,no)=>Xc(ot)?no===0?(U=ue.some(ot),pe):ba(S,pe,ot):ot.depth>pe.length?Os(S,pe,ot):ba(S,pe,ot),[]);return U.each(pe=>{const ot=Ne.fromHtml(`<!--${pe.content}-->`);Se(le).each(no=>{gi(no.list,ot)})}),Se(le).map(pe=>pe.list)},En=(S,M)=>{switch(S){case"Indent":M.depth++;break;case"Outdent":M.depth--;break;case"Flatten":M.depth=0}M.dirty=!0},As=(S,M)=>{Ys(S)&&Ys(M)&&(S.listType=M.listType,S.listAttributes={...M.listAttributes})},Al=S=>{S.listAttributes=Uu(S.listAttributes,(M,U)=>U!=="start")},Ns=(S,M)=>{const U=S[M].depth,le=ot=>ot.depth===U&&!ot.dirty,pe=ot=>ot.depth<U;return Do(Bi(S.slice(0,M)),le,pe).orThunk(()=>Do(S.slice(M+1),le,pe))},ws=S=>(jt(S,(M,U)=>{Ns(S,U).fold(()=>{M.dirty&&Ys(M)&&Al(M)},le=>As(M,le))}),S),Mt=S=>{let M=S;return{get:()=>M,set:pe=>{M=pe}}},Nl=(S,M,U,le)=>{var pe;if(Gs(le))return[{depth:S+1,content:(pe=le.dom.nodeValue)!==null&&pe!==void 0?pe:"",dirty:!1,isSelected:!1,isComment:!0}];M.each($o=>{at($o.start,le)&&U.set(!0)});const ot=Tm(le,S,U.get());M.each($o=>{at($o.end,le)&&U.set(!1)});const no=Cl(le).filter(Bf).map($o=>dn(S,M,U,$o)).getOr([]);return ot.toArray().concat(no)},Jc=(S,M,U,le)=>hs(le).filter(Bf).fold(()=>Nl(S,M,U,le),pe=>{const ot=ao(Pi(le),(no,$o,vo)=>{if(vo===0)return no;if(kc($o))return no.concat(Nl(S,M,U,$o));{const Rt={isFragment:!0,depth:S,content:[$o],isSelected:!1,dirty:!1,parentListType:Fn(pe)};return no.concat(Rt)}},[]);return dn(S,M,U,pe).concat(ot)}),dn=(S,M,U,le)=>fn(Pi(le),pe=>{const ot=Bf(pe)?dn:Jc,no=S+1;return ot(no,M,U,pe)}),Qc=(S,M)=>{const U=Mt(!1),le=0;return Ie(S,pe=>({sourceList:pe,entries:dn(le,M,U,pe)}))},cu=(S,M)=>{const U=ws(M);return Ie(U,le=>{const pe=Xc(le)?ga([Ne.fromHtml(`<!--${le.content}-->`)]):ga(le.content),ot=Ys(le)?le.itemAttributes:{};return Ne.fromDom(Hi(S,pe.dom,ot))})},Yl=(S,M)=>{const U=ws(M);return Qi(S.contentDocument,U).toArray()},Wu=(S,M)=>fn(Eo(M,pn),U=>Se(U).exists(pn)?Yl(S,U):cu(S,U)),Ia=(S,M)=>{jt(O(S,La),U=>En(M,U))},Om=S=>{const M=Ie(ct(S),Ne.fromDom);return uo(Zr(M,Bt(Ld)),Zr(Bi(M),Bt(Ld)),(U,le)=>({start:U,end:le}))},Id=(S,M,U)=>{const le=Qc(M,Om(S));jt(le,pe=>{Ia(pe.entries,U);const ot=Wu(S,pe.entries);jt(ot,no=>{Pd(S,U==="Indent"?"IndentList":"OutdentList",no.dom)}),lr(pe.sourceList,ot),nu(pe.sourceList)})},$n=(S,M)=>{const U=Nd(au(S)),le=Nd(Ft(S));let pe=!1;if(U.length||le.length){const ot=S.selection.getBookmark();Id(S,U,M),Ta(S,M,le),S.selection.moveToBookmark(ot),S.selection.setRng(Dn(S.selection.getRng())),S.nodeChanged(),pe=!0}return pe},$i=(S,M)=>!Bd(S)&&$n(S,M),Fd=S=>$i(S,"Indent"),wc=S=>$i(S,"Outdent"),qu=S=>$i(S,"Flatten"),re="\uFEFF",ya=S=>S===re,Fa=(S,M,U)=>Ga(S,M,U).isSome(),Am=(S,M)=>Fa(S,qe(at,M));var Nm=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const ki=Xa.DOM,en=S=>{const M={},U=le=>{let pe=S[le?"startContainer":"endContainer"],ot=S[le?"startOffset":"endOffset"];if(yi(pe)){const no=ki.create("span",{"data-mce-type":"bookmark"});pe.hasChildNodes()?(ot=Math.min(ot,pe.childNodes.length-1),le?pe.insertBefore(no,pe.childNodes[ot]):ki.insertAfter(no,pe.childNodes[ot])):pe.appendChild(no),pe=no,ot=0}M[le?"startContainer":"endContainer"]=pe,M[le?"startOffset":"endOffset"]=ot};return U(!0),S.collapsed||U(),M},Ha=S=>{const M=le=>{const pe=$o=>{var vo;let Rt=(vo=$o.parentNode)===null||vo===void 0?void 0:vo.firstChild,Ln=0;for(;Rt;){if(Rt===$o)return Ln;(!yi(Rt)||Rt.getAttribute("data-mce-type")!=="bookmark")&&Ln++,Rt=Rt.nextSibling}return-1};let ot=S[le?"startContainer":"endContainer"],no=S[le?"startOffset":"endOffset"];if(ot){if(yi(ot)&&ot.parentNode){const $o=ot;no=pe(ot),ot=ot.parentNode,ki.remove($o),!ot.hasChildNodes()&&ki.isBlock(ot)&&ot.appendChild(ki.create("br"))}S[le?"startContainer":"endContainer"]=ot,S[le?"startOffset":"endOffset"]=no}};M(!0),M();const U=ki.createRng();return U.setStart(S.startContainer,S.startOffset),S.endContainer&&U.setEnd(S.endContainer,S.endOffset),Dn(U)},el=S=>{switch(S){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Rl=(S,M,U)=>{const le=U["list-style-type"]?U["list-style-type"]:null;S.setStyle(M,"list-style-type",le)},du=(S,M)=>{ma.each(M,(U,le)=>{S.setAttribute(le,U)})},Cr=(S,M,U)=>{du(M,U["list-attributes"]),ma.each(S.select("li",M),le=>{du(le,U["list-item-attributes"])})},oi=(S,M,U)=>{Rl(S,M,U),Cr(S,M,U)},Xl=(S,M,U)=>{ma.each(U,le=>S.setStyle(M,le,""))},Jl=(S,M)=>Cn(M)&&!su(M,S.schema.getBlockElements()),ed=(S,M,U,le)=>{let pe=M[U?"startContainer":"endContainer"];const ot=M[U?"startOffset":"endOffset"];yi(pe)&&(pe=pe.childNodes[Math.min(ot,pe.childNodes.length-1)]||pe),!U&&ks(pe.nextSibling)&&(pe=pe.nextSibling);const no=vo=>{for(;!S.dom.isBlock(vo)&&vo.parentNode&&le!==vo;)vo=vo.parentNode;return vo},$o=(vo,Rt)=>{var Ln;const ts=new Ii(vo,no(vo)),ji=Rt?"next":"prev";let ri;for(;ri=ts[ji]();)if(!($r(S,ri)||ya(ri.textContent)||((Ln=ri.textContent)===null||Ln===void 0?void 0:Ln.length)===0))return ue.some(ri);return ue.none()};if(U&&hr(pe))if(ya(pe.textContent))pe=$o(pe,!1).getOr(pe);else for(pe.parentNode!==null&&Jl(S,pe.parentNode)&&(pe=pe.parentNode);pe.previousSibling!==null&&(Jl(S,pe.previousSibling)||hr(pe.previousSibling));)pe=pe.previousSibling;if(!U&&hr(pe))if(ya(pe.textContent))pe=$o(pe,!0).getOr(pe);else for(pe.parentNode!==null&&Jl(S,pe.parentNode)&&(pe=pe.parentNode);pe.nextSibling!==null&&(Jl(S,pe.nextSibling)||hr(pe.nextSibling));)pe=pe.nextSibling;for(;pe.parentNode!==le;){const vo=pe.parentNode;if(cs(S,pe)||/^(TD|TH)$/.test(vo.nodeName))return pe;pe=vo}return pe},ul=(S,M,U)=>{const le=[],pe=S.dom,ot=ed(S,M,!0,U),no=ed(S,M,!1,U);let $o;const vo=[];for(let Rt=ot;Rt&&(vo.push(Rt),Rt!==no);Rt=Rt.nextSibling);return ma.each(vo,Rt=>{var Ln;if(cs(S,Rt)){le.push(Rt),$o=null;return}if(pe.isBlock(Rt)||ks(Rt)){ks(Rt)&&pe.remove(Rt),$o=null;return}const ts=Rt.nextSibling;if(Nm.isBookmarkNode(Rt)&&($s(ts)||cs(S,ts)||!ts&&Rt.parentNode===U)){$o=null;return}$o||($o=pe.create("p"),(Ln=Rt.parentNode)===null||Ln===void 0||Ln.insertBefore($o,Rt),le.push($o)),$o.appendChild(Rt)}),le},Hd=(S,M,U)=>{const le=S.getStyle(M,"list-style-type");let pe=U?U["list-style-type"]:"";return pe=pe===null?"":pe,le===pe},uu=(S,M)=>{const U=S.selection.getStart(!0),le=ed(S,M,!0,S.getBody());return Am(Ne.fromDom(le),Ne.fromDom(M.commonAncestorContainer))?M.commonAncestorContainer:U},Ql=(S,M,U)=>{const le=S.selection.getRng();let pe="LI";const ot=mn(S,uu(S,le)),no=S.dom;if(no.getContentEditable(S.selection.getNode())==="false")return;M=M.toUpperCase(),M==="DL"&&(pe="DT");const $o=en(le),vo=O(ul(S,le,ot),S.dom.isEditable);ma.each(vo,Rt=>{let Ln;const ts=Rt.previousSibling,ji=Rt.parentNode;Ja(ji)||(ts&&$s(ts)&&ts.nodeName===M&&Hd(no,ts,U)?(Ln=ts,Rt=no.rename(Rt,pe),ts.appendChild(Rt)):(Ln=no.create(M),ji.insertBefore(Ln,Rt),Ln.appendChild(Rt),Rt=no.rename(Rt,pe)),Xl(no,Rt,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),oi(no,Ln,U),mu(S.dom,Ln))}),S.selection.setRng(Ha($o))},xa=(S,M)=>$s(S)&&S.nodeName===(M==null?void 0:M.nodeName),$d=(S,M,U)=>{const le=S.getStyle(M,"list-style-type",!0),pe=S.getStyle(U,"list-style-type",!0);return le===pe},Rm=(S,M)=>S.className===M.className,fu=(S,M,U)=>xa(M,U)&&$d(S,M,U)&&Rm(M,U),mu=(S,M)=>{let U,le=M.nextSibling;if(fu(S,M,le)){const pe=le;for(;U=pe.firstChild;)M.appendChild(U);S.remove(pe)}if(le=M.previousSibling,fu(S,M,le)){const pe=le;for(;U=pe.lastChild;)M.insertBefore(U,M.firstChild);S.remove(pe)}},wi=(S,M,U,le)=>{if(M.nodeName!==U){const pe=S.dom.rename(M,U);oi(S.dom,pe,le),Pd(S,el(U),pe)}else oi(S.dom,M,le),Pd(S,el(U),M)},oo=(S,M,U,le)=>{if(M.classList.forEach((pe,ot,no)=>{pe.startsWith("tox-")&&(no.remove(pe),no.length===0&&M.removeAttribute("class"))}),M.nodeName!==U){const pe=S.dom.rename(M,U);oi(S.dom,pe,le),Pd(S,el(U),pe)}else oi(S.dom,M,le),Pd(S,el(U),M)},Ci=(S,M,U,le,pe)=>{const ot=$s(M);if(ot&&M.nodeName===le&&!td(pe)&&!Df(M))qu(S);else{Ql(S,le,pe);const no=en(S.selection.getRng()),$o=ot?[M,...U]:U,vo=ot&&Df(M)?oo:wi;ma.each($o,Rt=>{vo(S,Rt,le,pe)}),S.selection.setRng(Ha(no))}},td=S=>"list-style-type"in S,pu=(S,M,U,le)=>{if(M!==S.getBody())if(M)if(M.nodeName===U&&!td(le)&&!Df(M))qu(S);else{const pe=en(S.selection.getRng());Df(M)&&M.classList.forEach((no,$o,vo)=>{no.startsWith("tox-")&&(vo.remove(no),vo.length===0&&M.removeAttribute("class"))}),oi(S.dom,M,le);const ot=S.dom.rename(M,U);mu(S.dom,ot),S.selection.setRng(Ha(pe)),Ql(S,U,le),Pd(S,el(U),ot)}else Ql(S,U,le),Pd(S,el(U),M)},gu=(S,M,U)=>{const le=Us(S);if(Yc(S,le))return;const pe=_e(S),ot=Ro(U)?U:{};pe.length>0?Ci(S,le,pe,M,ot):pu(S,le,M,ot)},Vi=Xa.DOM,od=(S,M)=>{const U=M.parentElement;if(U&&U.nodeName==="LI"&&U.firstChild===M){const le=U.previousSibling;le&&le.nodeName==="LI"?(le.appendChild(M),zl(S,U)&&Vi.remove(U)):Vi.setStyle(U,"listStyleType","none")}if($s(U)){const le=U.previousSibling;le&&le.nodeName==="LI"&&le.appendChild(M)}},hu=(S,M)=>{const U=ma.grep(S.select("ol,ul",M));ma.each(U,le=>{od(S,le)})},Dr=(S,M,U,le)=>{let pe=M.startContainer;const ot=M.startOffset;if(hr(pe)&&(U?ot<pe.data.length:ot>0))return pe;const no=S.schema.getNonEmptyElements();yi(pe)&&(pe=Wl.getNode(pe,ot));const $o=new Ii(pe,le);U&&ql(S.dom,pe)&&$o.next();const vo=U?$o.next.bind($o):$o.prev2.bind($o);for(;pe=vo();)if(pe.nodeName==="LI"&&!pe.hasChildNodes()||no[pe.nodeName]||hr(pe)&&pe.data.length>0)return pe;return null},bu=(S,M)=>{const U=M.childNodes;return U.length===1&&!$s(U[0])&&S.isBlock(U[0])},fl=S=>ue.from(S).map(Ne.fromDom).filter(dt).exists(M=>Ka(M)&&!Nr(["details"],Fn(M))),Cc=(S,M)=>{bu(S,M)&&fl(M.firstChild)&&S.remove(M.firstChild,!0)},Pf=(S,M,U)=>{let le;const pe=bu(S,U)?U.firstChild:U;if(Cc(S,M),!zl(S,M,!0))for(;le=M.firstChild;)pe.appendChild(le)},ec=(S,M,U)=>{let le;const pe=M.parentNode;if(!Zt(S,M)||!Zt(S,U))return;$s(U.lastChild)&&(le=U.lastChild),pe===U.lastChild&&ks(pe.previousSibling)&&S.remove(pe.previousSibling);const ot=U.lastChild;ot&&ks(ot)&&M.hasChildNodes()&&S.remove(ot),zl(S,U,!0)&&Ya(Ne.fromDom(U)),Pf(S,M,U),le&&U.appendChild(le);const $o=Ke(Ne.fromDom(U),Ne.fromDom(M))?S.getParents(M,$s,U):[];S.remove(M),jt($o,vo=>{zl(S,vo)&&vo!==S.getRoot()&&S.remove(vo)})},tc=(S,M,U)=>{Ya(Ne.fromDom(U)),ec(S.dom,M,U),S.selection.setCursorLocation(U,0)},nd=(S,M,U,le)=>{const pe=S.dom;if(pe.isEmpty(le))tc(S,U,le);else{const ot=en(M);ec(pe,U,le),S.selection.setRng(Ha(ot))}},er=(S,M,U,le)=>{const pe=en(M);ec(S.dom,U,le);const ot=Ha(pe);S.selection.setRng(ot)},aa=(S,M)=>{const U=S.dom,le=S.selection,pe=le.getStart(),ot=Nt(S,pe),no=U.getParent(le.getStart(),"LI",ot);if(no){const $o=no.parentElement;if($o===S.getBody()&&zl(U,$o))return!0;const vo=Dn(le.getRng()),Rt=U.getParent(Dr(S,vo,M,ot),"LI",ot),Ln=Rt&&(M?U.isChildOf(no,Rt):U.isChildOf(Rt,no));if(Rt&&Rt!==no&&!Ln)return S.undoManager.transact(()=>{M?nd(S,vo,Rt,no):ls(no)?wc(S):er(S,vo,no,Rt)}),!0;if(Ln&&!M&&Rt!==no){const ts=vo.commonAncestorContainer.parentElement;return!ts||U.isChildOf(Rt,ts)?!1:(S.undoManager.transact(()=>{const ji=en(vo);Pf(U,ts,Rt),ts.remove();const ri=Ha(ji);S.selection.setRng(ri)}),!0)}else if(!Rt&&!M&&vo.startOffset===0&&vo.endOffset===0)return S.undoManager.transact(()=>{qu(S)}),!0}return!1},va=(S,M,U)=>{const le=S.getParent(M.parentNode,S.isBlock,U);S.remove(M),le&&S.isEmpty(le)&&S.remove(le)},ni=(S,M)=>{const U=S.dom,le=S.selection.getStart(),pe=Nt(S,le),ot=U.getParent(le,U.isBlock,pe);if(ot&&U.isEmpty(ot,void 0,{checkRootAsContent:!0})){const no=Dn(S.selection.getRng()),$o=Dr(S,no,M,pe),vo=U.getParent($o,"LI",pe);if($o&&vo){const Rt=ri=>Nr(["td","th","caption"],Fn(ri)),Ln=ri=>ri.dom===pe,ts=Ts(Ne.fromDom(vo),Rt,Ln),ji=Ts(Ne.fromDom(no.startContainer),Rt,Ln);return ho(ts,ji,at)?(S.undoManager.transact(()=>{const ri=vo.parentNode;va(U,ot,pe),mu(U,ri),S.selection.select($o,!0),S.selection.collapse(M)}),!0):!1}}return!1},$a=(S,M)=>aa(S,M)||ni(S,M),Sc=S=>{const M=S.selection.getStart(),U=Nt(S,M);return S.dom.getParent(M,"LI,DT,DD",U)||ct(S).length>0},Cs=S=>Sc(S)?(S.undoManager.transact(()=>{let M=!0;const U=()=>M=!1;S.on("input",U),S.execCommand("Delete"),S.off("input",U),M&&S.dispatch("input"),hu(S.dom,S.getBody())}),!0):!1,ia=(S,M)=>{const U=S.selection;return!Yc(S,U.getNode())&&(U.isCollapsed()?$a(S,M):Cs(S))},Lf=S=>{S.on("ExecCommand",M=>{const U=M.command.toLowerCase();(U==="delete"||U==="forwarddelete")&&Sc(S)&&hu(S.dom,S.getBody())}),S.on("keydown",M=>{M.keyCode===Ad.BACKSPACE?ia(S,!1)&&M.preventDefault():M.keyCode===Ad.DELETE&&ia(S,!0)&&M.preventDefault()})},Ge=S=>({backspaceDelete:M=>{ia(S,M)}}),Xs=(S,M)=>{const U=Us(S);U===null||Yc(S,U)||S.undoManager.transact(()=>{Ro(M.styles)&&S.dom.setStyles(U,M.styles),Ro(M.attrs)&&bs(M.attrs,(le,pe)=>S.dom.setAttrib(U,pe,le))})},Si=S=>{const M=Bi(jg(S).split("")),U=Ie(M,(le,pe)=>{const ot=le.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,pe)*ot});return ao(U,(le,pe)=>le+pe,0)},us=S=>{if(S--,S<0)return"";{const M=S%26,U=Math.floor(S/26),le=us(U),pe=String.fromCharCode(65+M);return le+pe}},Zs=S=>/^[A-Z]+$/.test(S),Ei=S=>/^[a-z]+$/.test(S),ml=S=>/^[0-9]+$/.test(S),If=S=>ml(S)?2:Zs(S)?0:Ei(S)?1:Zg(S)?3:4,Vr=S=>{switch(If(S)){case 2:return ue.some({listStyleType:ue.none(),start:S});case 0:return ue.some({listStyleType:ue.some("upper-alpha"),start:Si(S).toString()});case 1:return ue.some({listStyleType:ue.some("lower-alpha"),start:Si(S).toString()});case 3:return ue.some({listStyleType:ue.none(),start:""});case 4:return ue.none()}},tn=S=>{const M=parseInt(S.start,10);return So(S.listStyleType,"upper-alpha")?us(M):So(S.listStyleType,"lower-alpha")?us(M).toLowerCase():S.start},Ui=S=>{const M=Us(S);!pa(M)||Yc(S,M)||S.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:tn({start:S.dom.getAttrib(M,"start","1"),listStyleType:ue.from(S.dom.getStyle(M,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:U=>{const le=U.getData();Vr(le.start).each(pe=>{S.execCommand("mceListUpdate",!1,{attrs:{start:pe.start==="1"?"":pe.start},styles:{"list-style-type":pe.listStyleType.getOr("")}})}),U.close()}})},Mr=(S,M)=>()=>{const U=Us(S);return Cn(U)&&U.nodeName===M},Ur=S=>{S.addCommand("mceListProps",()=>{Ui(S)})},Dm=S=>{S.on("BeforeExecCommand",M=>{const U=M.command.toLowerCase();U==="indent"?Fd(S):U==="outdent"&&wc(S)}),S.addCommand("InsertUnorderedList",(M,U)=>{gu(S,"UL",U)}),S.addCommand("InsertOrderedList",(M,U)=>{gu(S,"OL",U)}),S.addCommand("InsertDefinitionList",(M,U)=>{gu(S,"DL",U)}),S.addCommand("RemoveList",()=>{qu(S)}),Ur(S),S.addCommand("mceListUpdate",(M,U)=>{Ro(U)&&Xs(S,U)}),S.addQueryStateHandler("InsertUnorderedList",Mr(S,"UL")),S.addQueryStateHandler("InsertOrderedList",Mr(S,"OL")),S.addQueryStateHandler("InsertDefinitionList",Mr(S,"DL"))};var Oa=tinymce.util.Tools.resolve("tinymce.html.Node");const oc=S=>S.type===3,un=S=>S.length===0,Ee=S=>{const M=(pe,ot)=>{const no=Oa.create("li");jt(pe,$o=>no.append($o)),ot?S.insert(no,ot,!0):S.append(no)},U=(pe,ot)=>oc(ot)?[...pe,ot]:!un(pe)&&!oc(ot)?(M(pe,ot),[]):pe,le=ao(S.children(),U,[]);un(le)||M(le)},_a=S=>{S.on("PreInit",()=>{const{parser:M}=S;M.addNodeFilter("ul,ol",U=>jt(U,Ee))})},Aa=S=>{S.on("keydown",M=>{M.keyCode!==Ad.TAB||Ad.metaKeyPressed(M)||S.undoManager.transact(()=>{(M.shiftKey?wc(S):Fd(S))&&M.preventDefault()})})},tr=S=>{Vs(S)&&Aa(S),Lf(S)},ka=(S,M)=>U=>{const le=pe=>{U.setActive(Ug(pe.parents,M)),U.setEnabled(!Yc(S,pe.element)&&S.selection.isEditable())};return U.setEnabled(S.selection.isEditable()),Mf(S,le)},Js=S=>{const M=U=>()=>S.execCommand(U);S.hasPlugin("advlist")||(S.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:M("InsertOrderedList"),onSetup:ka(S,"OL")}),S.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:M("InsertUnorderedList"),onSetup:ka(S,"UL")}))},Yn=(S,M)=>U=>Mf(S,pe=>U.setEnabled(Ug(pe.parents,M)&&!Yc(S,pe.element))),nc=S=>{const M={text:"List properties...",icon:"ordered-list",onAction:()=>S.execCommand("mceListProps"),onSetup:Yn(S,"OL")};S.ui.registry.addMenuItem("listprops",M),S.ui.registry.addContextMenu("lists",{update:U=>{const le=Us(S,U);return pa(le)?["listprops"]:[]}})};var Ff=()=>{Tt.add("lists",S=>(xi(S),_a(S),S.hasPlugin("rtc",!0)?Ur(S):(tr(S),Dm(S)),Js(S),nc(S),Ge(S)))};Ff()}()),JF}var e9;function dG(){return e9||(e9=1,cG()),XF}dG();var t9={},o9={},n9;function uG(){return n9||(n9=1,function(){var Tt=tinymce.util.Tools.resolve("tinymce.PluginManager");const zo=(k,T,$)=>{var Q;return $(k,T.prototype)?!0:((Q=k.constructor)===null||Q===void 0?void 0:Q.name)===T.name},No=k=>{const T=typeof k;return k===null?"null":T==="object"&&Array.isArray(k)?"array":T==="object"&&zo(k,String,($,Q)=>Q.isPrototypeOf($))?"string":T},Yo=k=>T=>No(T)===k,Co=k=>T=>typeof T===k,Dt=k=>T=>k===T,Ro=Yo("string"),To=Yo("array"),Po=Co("boolean"),lo=Dt(void 0),Cn=k=>k==null,pr=k=>!Cn(k),jr=Co("function"),$t=Co("number"),Kt=()=>{},Go=(k,T)=>$=>k(T($)),Lo=k=>()=>k,qe=k=>k,Bt=(k,T)=>k===T;function pt(k,...T){return(...$)=>{const Q=T.concat($);return k.apply(null,Q)}}const ue=k=>{k()},Et=Lo(!1),ve=Lo(!0);class ht{constructor(T,$){this.tag=T,this.value=$}static some(T){return new ht(!0,T)}static none(){return ht.singletonNone}fold(T,$){return this.tag?$(this.value):T()}isSome(){return this.tag}isNone(){return!this.tag}map(T){return this.tag?ht.some(T(this.value)):ht.none()}bind(T){return this.tag?T(this.value):ht.none()}exists(T){return this.tag&&T(this.value)}forall(T){return!this.tag||T(this.value)}filter(T){return!this.tag||T(this.value)?this:ht.none()}getOr(T){return this.tag?this.value:T}or(T){return this.tag?this:T}getOrThunk(T){return this.tag?this.value:T()}orThunk(T){return this.tag?this:T()}getOrDie(T){if(this.tag)return this.value;throw new Error(T??"Called getOrDie on None")}static from(T){return pr(T)?ht.some(T):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(T){this.tag&&T(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const gs=Object.keys,Nr=Object.hasOwnProperty,Io=(k,T)=>{const $=gs(k);for(let Q=0,be=$.length;Q<be;Q++){const Le=$[Q],ye=k[Le];T(ye,Le)}},Ie=k=>(T,$)=>{k[$]=T},jt=(k,T,$,Q)=>{Io(k,(be,Le)=>{(T(be,Le)?$:Q)(be,Le)})},O=(k,T)=>{const $={};return jt(k,T,Ie($),Kt),$},Eo=(k,T)=>{const $=[];return Io(k,(Q,be)=>{$.push(T(Q,be))}),$},ao=k=>Eo(k,qe),Do=k=>gs(k).length,Zr=(k,T)=>Je(k,T)?ht.from(k[T]):ht.none(),Je=(k,T)=>Nr.call(k,T),fn=(k,T)=>Je(k,T)&&k[T]!==void 0&&k[T]!==null,Bi=k=>{for(const T in k)if(Nr.call(k,T))return!1;return!0},De=Array.prototype.indexOf,Se=Array.prototype.push,tt=(k,T)=>De.call(k,T),Uo=(k,T)=>tt(k,T)>-1,So=(k,T)=>{for(let $=0,Q=k.length;$<Q;$++){const be=k[$];if(T(be,$))return!0}return!1},ho=(k,T)=>{const $=[];for(let Q=0;Q<k;Q++)$.push(T(Q));return $},uo=(k,T)=>{const $=k.length,Q=new Array($);for(let be=0;be<$;be++){const Le=k[be];Q[be]=T(Le,be)}return Q},H=(k,T)=>{for(let $=0,Q=k.length;$<Q;$++){const be=k[$];T(be,$)}},as=(k,T)=>{for(let $=k.length-1;$>=0;$--){const Q=k[$];T(Q,$)}},sr=(k,T)=>{const $=[],Q=[];for(let be=0,Le=k.length;be<Le;be++){const ye=k[be];(T(ye,be)?$:Q).push(ye)}return{pass:$,fail:Q}},Xo=(k,T)=>{const $=[];for(let Q=0,be=k.length;Q<be;Q++){const Le=k[Q];T(Le,Q)&&$.push(Le)}return $},mi=(k,T,$)=>(as(k,(Q,be)=>{$=T($,Q,be)}),$),ll=(k,T,$)=>(H(k,(Q,be)=>{$=T($,Q,be)}),$),on=(k,T,$)=>{for(let Q=0,be=k.length;Q<be;Q++){const Le=k[Q];if(T(Le,Q))return ht.some(Le);if($(Le,Q))break}return ht.none()},Sn=(k,T)=>on(k,T,Et),Jo=k=>{const T=[];for(let $=0,Q=k.length;$<Q;++$){if(!To(k[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+k);Se.apply(T,k[$])}return T},Ne=(k,T)=>Jo(uo(k,T)),yt=(k,T)=>{for(let $=0,Q=k.length;$<Q;++$){const be=k[$];if(T(be,$)!==!0)return!1}return!0},at=(k,T)=>{const $={};for(let Q=0,be=k.length;Q<be;Q++){const Le=k[Q];$[String(Le)]=T(Le,Q)}return $},Ke=(k,T)=>T>=0&&T<k.length?ht.some(k[T]):ht.none(),eo=k=>Ke(k,0),fo=k=>Ke(k,k.length-1),qo=(k,T)=>{for(let $=0;$<k.length;$++){const Q=T(k[$],$);if(Q.isSome())return Q}return ht.none()},Tn=8,Qn=9,Rn=11,Kn=1,Qr=3,Hs=(k,T)=>{const Q=(T||document).createElement("div");if(Q.innerHTML=k,!Q.hasChildNodes()||Q.childNodes.length>1){const be="HTML does not have a single root node";throw console.error(be,k),new Error(be)}return Qo(Q.childNodes[0])},Fn=(k,T)=>{const Q=(T||document).createElement(k);return Qo(Q)},Hr=(k,T)=>{const Q=(T||document).createTextNode(k);return Qo(Q)},Qo=k=>{if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},dt={fromHtml:Hs,fromTag:Fn,fromText:Hr,fromDom:Qo,fromPoint:(k,T,$)=>ht.from(k.dom.elementFromPoint(T,$)).map(Qo)},_o=(k,T)=>{const $=k.dom;if($.nodeType!==Kn)return!1;{const Q=$;if(Q.matches!==void 0)return Q.matches(T);if(Q.msMatchesSelector!==void 0)return Q.msMatchesSelector(T);if(Q.webkitMatchesSelector!==void 0)return Q.webkitMatchesSelector(T);if(Q.mozMatchesSelector!==void 0)return Q.mozMatchesSelector(T);throw new Error("Browser lacks native selectors")}},Fo=k=>k.nodeType!==Kn&&k.nodeType!==Qn&&k.nodeType!==Rn||k.childElementCount===0,Ks=(k,T)=>{const $=T===void 0?document:T.dom;return Fo($)?[]:uo($.querySelectorAll(k),dt.fromDom)},pi=(k,T)=>{const $=T===void 0?document:T.dom;return Fo($)?ht.none():ht.from($.querySelector(k)).map(dt.fromDom)},nt=(k,T)=>k.dom===T.dom,qa=_o;typeof window<"u"||Function("return this;")();const Ho=k=>k.dom.nodeName.toLowerCase(),Pi=k=>k.dom.nodeType,Zn=k=>T=>Pi(T)===k,hs=k=>Pi(k)===Tn||Ho(k)==="#comment",Cl=Zn(Kn),Sl=Zn(Qr),Yi=Zn(Qn),za=Zn(Rn),El=k=>T=>Cl(T)&&Ho(T)===k,Hn=k=>dt.fromDom(k.dom.ownerDocument),po=k=>Yi(k)?k:Hn(k),Ga=k=>ht.from(k.dom.parentNode).map(dt.fromDom),Ts=(k,T)=>{const $=jr(T)?T:Et;let Q=k.dom;const be=[];for(;Q.parentNode!==null&&Q.parentNode!==void 0;){const Le=Q.parentNode,ye=dt.fromDom(Le);if(be.push(ye),$(ye)===!0)break;Q=Le}return be},vc=k=>ht.from(k.dom.previousSibling).map(dt.fromDom),_t=k=>ht.from(k.dom.nextSibling).map(dt.fromDom),Xi=k=>uo(k.dom.childNodes,dt.fromDom),Ka=(k,T)=>{const $=k.dom.childNodes;return ht.from($[T]).map(dt.fromDom)},Rr=k=>Ka(k,0),Od=k=>za(k)&&pr(k.dom.host),Pa=k=>dt.fromDom(k.dom.getRootNode()),gi=k=>{const T=Pa(k);return Od(T)?ht.some(T):ht.none()},Li=k=>dt.fromDom(k.dom.host),lr=k=>{const T=Sl(k)?k.dom.parentNode:k.dom;if(T==null||T.ownerDocument===null)return!1;const $=T.ownerDocument;return gi(dt.fromDom(T)).fold(()=>$.body.contains(T),Go(lr,Li))};var ua=(k,T,$,Q,be)=>k($,Q)?ht.some($):jr(be)&&be($)?ht.none():T($,Q,be);const Ya=(k,T,$)=>{let Q=k.dom;const be=jr($)?$:Et;for(;Q.parentNode;){Q=Q.parentNode;const Le=dt.fromDom(Q);if(T(Le))return ht.some(Le);if(be(Le))break}return ht.none()},nu=(k,T,$)=>ua((be,Le)=>Le(be),Ya,k,T,$),Wl=(k,T)=>{const $=be=>T(dt.fromDom(be));return Sn(k.dom.childNodes,$).map(dt.fromDom)},Ii=(k,T,$)=>Ya(k,Q=>_o(Q,T),$),Ad=(k,T)=>Wl(k,$=>_o($,T)),Nd=(k,T)=>pi(T,k),yn=(k,T,$)=>ua((be,Le)=>_o(be,Le),Ii,k,T,$),bs=k=>yn(k,"[contenteditable]"),fa=(k,T=!1)=>lr(k)?k.dom.isContentEditable:bs(k).fold(Lo(T),$=>Rd($)==="true"),Rd=k=>k.dom.contentEditable,Uu=k=>k.nodeName.toLowerCase(),Dd=k=>dt.fromDom(k.getBody()),es=k=>T=>nt(T,Dd(k)),hi=k=>k?k.replace(/px$/,""):"",bi=k=>/^\d+(\.\d+)?$/.test(k)?k+"px":k,gr=k=>dt.fromDom(k.selection.getStart()),cr=k=>dt.fromDom(k.selection.getEnd()),Fi=k=>nu(k,El("table")).forall(fa),Xa=(k,T)=>Xo(Xi(k),T),ma=(k,T)=>{let $=[];return H(Xi(k),Q=>{T(Q)&&($=$.concat([Q])),$=$.concat(ma(Q,T))}),$},Ji=(k,T)=>Xa(k,$=>_o($,T)),is=(k,T)=>Ks(T,k),hr=(k,T,$)=>{if(Ro($)||Po($)||$t($))k.setAttribute(T,$+"");else throw console.error("Invalid call to Attribute.set. Key ",T,":: Value ",$,":: Element ",k),new Error("Attribute value was not simple")},yi=(k,T,$)=>{hr(k.dom,T,$)},$s=(k,T)=>{const $=k.dom;Io(T,(Q,be)=>{hr($,be,Q)})},Wn=(k,T)=>{const $=k.dom.getAttribute(T);return $===null?void 0:$},pa=(k,T)=>ht.from(Wn(k,T)),Ja=(k,T)=>{k.dom.removeAttribute(T)},ru=k=>ll(k.dom.attributes,(T,$)=>(T[$.name]=$.value,T),{}),io=(k,T,$=Bt)=>k.exists(Q=>$(Q,T)),ks=k=>{const T=[],$=Q=>{T.push(Q)};for(let Q=0;Q<k.length;Q++)k[Q].each($);return T},ls=(k,T,$)=>k.isSome()&&T.isSome()?ht.some($(k.getOrDie(),T.getOrDie())):ht.none(),cs=k=>k.bind(qe),su=(k,T)=>k?ht.some(T):ht.none(),$r=(k,T)=>k.substring(T),ql=(k,T,$)=>T===""||k.length>=T.length&&k.substr($,$+T.length)===T,zl=(k,T)=>Zt(k,T)?$r(k,T.length):k,Zt=(k,T)=>ql(k,T,0),xi=(k=>T=>T.replace(k,""))(/^\s+|\s+$/g),Vs=k=>k.length>0,_c=k=>!Vs(k),_r=(k,T=10)=>{const $=parseInt(k,T);return isNaN($)?ht.none():ht.some($)},Hi=k=>{const T=parseFloat(k);return isNaN(T)?ht.none():ht.some(T)},vi=k=>k.style!==void 0&&jr(k.style.getPropertyValue),ln=(k,T,$)=>{if(!Ro($))throw console.error("Invalid call to CSS.set. Property ",T,":: Value ",$,":: Element ",k),new Error("CSS value must be a string: "+$);vi(k)&&k.style.setProperty(T,$)},cl=(k,T)=>{vi(k)&&k.style.removeProperty(T)},Tl=(k,T,$)=>{const Q=k.dom;ln(Q,T,$)},Md=(k,T)=>{const $=k.dom,be=window.getComputedStyle($).getPropertyValue(T);return be===""&&!lr(k)?kr($,T):be},kr=(k,T)=>vi(k)?k.style.getPropertyValue(T):"",Ta=(k,T)=>{const $=k.dom,Q=kr($,T);return ht.from(Q).filter(be=>be.length>0)},ju=(k,T)=>{const $=k.dom;cl($,T),io(pa(k,"style").map(xi),"")&&Ja(k,"style")},Dn=(k,T,$=0)=>pa(k,T).map(Q=>parseInt(Q,10)).getOr($),Gl=(k,T)=>Wr(k,T,ve),Wr=(k,T,$)=>Ne(Xi(k),Q=>_o(Q,T)?$(Q)?[Q]:[]:Wr(Q,T,$)),Us=["tfoot","thead","tbody","colgroup"],q=k=>Uo(Us,k),ae=(k,T)=>({rows:k,columns:T}),_e=(k,T,$)=>({element:k,rowspan:T,colspan:$}),He=(k,T,$,Q,be,Le)=>({element:k,rowspan:T,colspan:$,row:Q,column:be,isLocked:Le}),ct=(k,T,$)=>({element:k,cells:T,section:$}),Ft=(k,T,$,Q)=>({startRow:k,startCol:T,finishRow:$,finishCol:Q}),Nt=(k,T,$)=>({element:k,colspan:T,column:$}),wr=(k,T)=>({element:k,columns:T}),mn=(k,T,$=Et)=>{if($(T))return ht.none();if(Uo(k,Ho(T)))return ht.some(T);const Q=be=>_o(be,"table")||$(be);return Ii(T,k.join(","),Q)},br=(k,T)=>mn(["td","th"],k,T),dr=k=>Gl(k,"th,td"),Kc=k=>_o(k,"colgroup")?Ji(k,"col"):Ne(Vg(k),T=>Ji(T,"col")),ei=(k,T)=>yn(k,"table",T),au=k=>Gl(k,"tr"),Vg=k=>ei(k).fold(Lo([]),T=>Ji(T,"colgroup")),Df=(k,T)=>uo(k,$=>{if(Ho($)==="colgroup"){const Q=uo(Kc($),be=>{const Le=Dn(be,"span",1);return _e(be,1,Le)});return ct($,Q,"colgroup")}else{const Q=uo(dr($),be=>{const Le=Dn(be,"rowspan",1),ye=Dn(be,"colspan",1);return _e(be,Le,ye)});return ct($,Q,T($))}}),Ug=k=>Ga(k).map(T=>{const $=Ho(T);return q($)?$:"tbody"}).getOr("tbody"),gt=k=>{const T=au(k),Q=[...Vg(k),...T];return Df(Q,Ug)},Bd="data-snooker-locked-cols",Yc=k=>pa(k,Bd).bind(T=>ht.from(T.match(/\d+/g))).map(T=>at(T,ve)),Mf=(k,T)=>k+","+T,ga=(k,T,$)=>ht.from(k.access[Mf(T,$)]),Pd=(k,T,$)=>{const Q=iu(k,be=>$(T,be.element));return Q.length>0?ht.some(Q[0]):ht.none()},iu=(k,T)=>{const $=Ne(k.all,Q=>Q.cells);return Xo($,T)},jg=k=>{const T={};let $=0;return H(k.cells,Q=>{const be=Q.colspan;ho(be,Le=>{const ye=$+Le;T[ye]=Nt(Q.element,be,ye)}),$+=be}),T},Gp=k=>{const T={},$=[],be=eo(k).map(Va=>Va.element).bind(ei).bind(Yc).getOr({});let Le=0,ye=0,Pt=0;const{pass:qt,fail:Mo}=sr(k,Va=>Va.section==="colgroup");H(Mo,Va=>{const si=[];H(Va.cells,lc=>{let ld=0;for(;T[Mf(Pt,ld)]!==void 0;)ld++;const Er=fn(be,ld.toString()),Es=He(lc.element,lc.rowspan,lc.colspan,Pt,ld,Er);for(let ar=0;ar<lc.colspan;ar++)for(let ir=0;ir<lc.rowspan;ir++){const hl=Pt+ir,ai=ld+ar,jf=Mf(hl,ai);T[jf]=Es,ye=Math.max(ye,ai+1)}si.push(Es)}),Le++,$.push(ct(Va.element,si,Va.section)),Pt++});const{columns:or,colgroups:nr}=fo(qt).map(Va=>{const si=jg(Va);return{colgroups:[wr(Va.element,ao(si))],columns:si}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ae(Le,ye),access:T,all:$,columns:or,colgroups:nr}},kc={fromTable:k=>{const T=gt(k);return Gp(T)},generate:Gp,getAt:ga,findItem:Pd,filterItems:iu,justCells:k=>Ne(k.all,T=>T.cells),justColumns:k=>ao(k.columns),hasColumns:k=>gs(k.columns).length>0,getColumnAt:(k,T)=>ht.from(k.columns[T])};var Ld=tinymce.util.Tools.resolve("tinymce.util.Tools");const Zu=(k,T,$)=>{const Q=k.select("td,th",T);let be;for(let Le=0;Le<Q.length;Le++){const ye=k.getStyle(Q[Le],$);if(lo(be)&&(be=ye),be!==ye)return""}return be},Ys=(k,T,$)=>{Ld.each("left center right".split(" "),Q=>{Q!==$&&k.formatter.remove("align"+Q,{},T)}),$&&k.formatter.apply("align"+$,{},T)},Xc=(k,T,$)=>{Ld.each("top middle bottom".split(" "),Q=>{Q!==$&&k.formatter.remove("valign"+Q,{},T)}),$&&k.formatter.apply("valign"+$,{},T)},Kl=(k,T,$)=>{k.dispatch("TableModified",{...$,table:T})},pn=(k,T)=>Hi(k).getOr(T),La=(k,T,$)=>pn(Md(k,T),$),lu=(k,T,$,Q)=>{const be=La(k,`padding-${$}`,0),Le=La(k,`padding-${Q}`,0),ye=La(k,`border-${$}-width`,0),Pt=La(k,`border-${Q}-width`,0);return T-be-Le-ye-Pt},Tm=(k,T)=>{const $=k.dom,Q=$.getBoundingClientRect().width||$.offsetWidth;return lu(k,Q,"left","right")},ti=k=>Tm(k);var js=tinymce.util.Tools.resolve("tinymce.Env");const Ol="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ys=ho(5,k=>{const T=`${k+1}px`;return{title:T,value:T}}),sa=uo(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],k=>({title:k,value:k.toLowerCase()})),_i="100%",On=k=>{var T;const $=k.dom,Q=(T=$.getParent(k.selection.getStart(),$.isBlock))!==null&&T!==void 0?T:k.getBody();return ti(dt.fromDom(Q))+"px"},dl=(k,T)=>$n(k)||!dn(k)?T:Id(k)?{...T,width:On(k)}:{...T,width:_i},ba=(k,T)=>$n(k)||dn(k)?T:Id(k)?{...T,width:On(k)}:{...T,width:_i},Os=k=>T=>T.options.get(k),Qi=k=>{const T=k.options.register;T("table_border_widths",{processor:"object[]",default:ys}),T("table_border_styles",{processor:"object[]",default:sa}),T("table_cell_advtab",{processor:"boolean",default:!0}),T("table_row_advtab",{processor:"boolean",default:!0}),T("table_advtab",{processor:"boolean",default:!0}),T("table_appearance_options",{processor:"boolean",default:!0}),T("table_grid",{processor:"boolean",default:!js.deviceType.isTouch()}),T("table_cell_class_list",{processor:"object[]",default:[]}),T("table_row_class_list",{processor:"object[]",default:[]}),T("table_class_list",{processor:"object[]",default:[]}),T("table_toolbar",{processor:"string",default:Ol}),T("table_background_color_map",{processor:"object[]",default:[]}),T("table_border_color_map",{processor:"object[]",default:[]})},En=Os("table_sizing_mode"),As=Os("table_border_widths"),Al=Os("table_border_styles"),Ns=Os("table_cell_advtab"),ws=Os("table_row_advtab"),Mt=Os("table_advtab"),Nl=Os("table_appearance_options"),Jc=Os("table_grid"),dn=Os("table_style_by_css"),Qc=Os("table_cell_class_list"),cu=Os("table_row_class_list"),Yl=Os("table_class_list"),Wu=Os("table_toolbar"),Ia=Os("table_background_color_map"),Om=Os("table_border_color_map"),Id=k=>En(k)==="fixed",$n=k=>En(k)==="responsive",$i=k=>{const T=k.options,$=T.get("table_default_styles");return T.isSet("table_default_styles")?$:dl(k,$)},Fd=k=>{const T=k.options,$=T.get("table_default_attributes");return T.isSet("table_default_attributes")?$:ba(k,$)},wc=(k,T)=>T.column>=k.startCol&&T.column+T.colspan-1<=k.finishCol&&T.row>=k.startRow&&T.row+T.rowspan-1<=k.finishRow,qu=(k,T)=>{let $=!0;const Q=pt(wc,T);for(let be=T.startRow;be<=T.finishRow;be++)for(let Le=T.startCol;Le<=T.finishCol;Le++)$=$&&kc.getAt(k,be,Le).exists(Q);return $?ht.some(T):ht.none()},re=(k,T)=>Ft(Math.min(k.row,T.row),Math.min(k.column,T.column),Math.max(k.row+k.rowspan-1,T.row+T.rowspan-1),Math.max(k.column+k.colspan-1,T.column+T.colspan-1)),ya=(k,T,$)=>{const Q=kc.findItem(k,T,nt),be=kc.findItem(k,$,nt);return Q.bind(Le=>be.map(ye=>re(Le,ye)))},Fa=(k,T,$)=>ya(k,T,$).bind(Q=>qu(k,Q)),Am=(k,T,$)=>{const Q=Nm(k);return Fa(Q,T,$)},Nm=kc.fromTable,ki=(k,T)=>{Ga(k).each(Q=>{Q.dom.insertBefore(T.dom,k.dom)})},en=(k,T)=>{_t(k).fold(()=>{Ga(k).each(be=>{el(be,T)})},Q=>{ki(Q,T)})},Ha=(k,T)=>{Rr(k).fold(()=>{el(k,T)},Q=>{k.dom.insertBefore(T.dom,Q.dom)})},el=(k,T)=>{k.dom.appendChild(T.dom)},Rl=(k,T)=>{ki(k,T),el(T,k)},du=(k,T)=>{H(T,($,Q)=>{const be=Q===0?k:T[Q-1];en(be,$)})},Cr=(k,T)=>{H(T,$=>{el(k,$)})},oi=k=>{const T=k.dom;T.parentNode!==null&&T.parentNode.removeChild(T)},Xl=k=>{const T=Xi(k);T.length>0&&du(k,T),oi(k)},ed=((k,T)=>{const $=Le=>{if(!k(Le))throw new Error("Can only get "+T+" value of a "+T+" node");return Q(Le).getOr("")},Q=Le=>k(Le)?ht.from(Le.dom.nodeValue):ht.none();return{get:$,getOption:Q,set:(Le,ye)=>{if(!k(Le))throw new Error("Can only set raw "+T+" value of a "+T+" node");Le.dom.nodeValue=ye}}})(Sl,"text"),ul=k=>ed.get(k),Hd=(k,T)=>ed.set(k,T);var uu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ql=()=>{const k=Mo=>dt.fromDom(Mo.dom.cloneNode(!1)),T=Mo=>po(Mo).dom,$=Mo=>Cl(Mo)?Ho(Mo)==="body"?!0:Uo(uu,Ho(Mo)):!1,Q=Mo=>Cl(Mo)?Uo(["br","img","hr","input"],Ho(Mo)):!1,be=Mo=>Cl(Mo)&&Wn(Mo,"contenteditable")==="false",Le=(Mo,or)=>Mo.dom.compareDocumentPosition(or.dom),ye=(Mo,or)=>{const nr=ru(Mo);$s(or,nr)},Pt=Mo=>{const or=Ho(Mo);return Uo(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],or)},qt=Mo=>Cl(Mo)?pa(Mo,"lang"):ht.none();return{up:Lo({selector:Ii,closest:yn,predicate:Ya,all:Ts}),down:Lo({selector:is,predicate:ma}),styles:Lo({get:Md,getRaw:Ta,set:Tl,remove:ju}),attrs:Lo({get:Wn,set:yi,remove:Ja,copyTo:ye}),insert:Lo({before:ki,after:en,afterAll:du,append:el,appendAll:Cr,prepend:Ha,wrap:Rl}),remove:Lo({unwrap:Xl,remove:oi}),create:Lo({nu:dt.fromTag,clone:k,text:dt.fromText}),query:Lo({comparePosition:Le,prevSibling:vc,nextSibling:_t}),property:Lo({children:Xi,name:Ho,parent:Ga,document:T,isText:Sl,isComment:hs,isElement:Cl,isSpecial:Pt,getLanguage:qt,getText:ul,setText:Hd,isBoundary:$,isEmptyTag:Q,isNonEditable:be}),eq:nt,is:qa}};const xa=(k,T,$,Q)=>{const be=$[0],Le=$.slice(1);return Q(k,T,be,Le)},$d=(k,T,$)=>$.length>0?xa(k,T,$,Rm):ht.none(),Rm=(k,T,$,Q)=>{const be=T(k,$);return mi(Q,(Le,ye)=>{const Pt=T(k,ye);return fu(k,Le,Pt)},be)},fu=(k,T,$)=>T.bind(Q=>$.filter(pt(k.eq,Q))),mu=$d,wi=Ql(),oo=(k,T)=>mu(wi,($,Q)=>k(Q),T),Ci=k=>Ii(k,"table"),td=(k,T)=>{const $=is(k,T);return $.length>0?ht.some($):ht.none()},pu=(k,T,$)=>Nd(k,T).bind(Q=>Nd(k,$).bind(be=>oo(Ci,[Q,be]).map(Le=>({first:Q,last:be,table:Le})))),gu=(k,T)=>td(k,T),Vi=(k,T,$)=>pu(k,T,$).bind(Q=>{const be=qt=>nt(k,qt),Le="thead,tfoot,tbody,table",ye=Ii(Q.first,Le,be),Pt=Ii(Q.last,Le,be);return ye.bind(qt=>Pt.bind(Mo=>nt(qt,Mo)?Am(Q.table,Q.first,Q.last):ht.none()))}),od=k=>uo(k,dt.fromDom),hu="data-mce-selected",Dr="data-mce-first-selected",bu="td["+Dr+"],th["+Dr+"]",fl="data-mce-last-selected",Cc="td["+fl+"],th["+fl+"]",Pf={selected:hu,firstSelectedSelector:bu,lastSelectedSelector:Cc},ec=k=>ei(k).bind(T=>gu(T,Pf.firstSelectedSelector)).fold(Lo(k),T=>T[0]),tc=k=>(T,$)=>{const Q=Ho(T),be=Q==="col"||Q==="colgroup"?ec(T):T;return yn(be,k,$)},nd=tc("th,td,caption"),er=tc("th,td"),aa=k=>od(k.model.table.getSelectedCells()),va=(k,T)=>{const $=er(k),Q=$.bind(be=>ei(be)).map(be=>au(be));return ls($,Q,(be,Le)=>Xo(Le,ye=>So(od(ye.dom.cells),Pt=>Wn(Pt,T)==="1"||nt(Pt,be)))).getOr([])},ni=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],$a=k=>({value:Lf(k)}),Sc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Cs=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ia=k=>Sc.test(k)||Cs.test(k),Lf=k=>zl(k,"#").toUpperCase(),Ge=k=>ia(k)?ht.some({value:Lf(k)}):ht.none(),Xs=k=>{const T=k.toString(16);return(T.length===1?"0"+T:T).toUpperCase()},Si=k=>{const T=Xs(k.red)+Xs(k.green)+Xs(k.blue);return $a(T)},us=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Zs=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Ei=(k,T,$,Q)=>({red:k,green:T,blue:$,alpha:Q}),ml=(k,T,$,Q)=>{const be=parseInt(k,10),Le=parseInt(T,10),ye=parseInt($,10),Pt=parseFloat(Q);return Ei(be,Le,ye,Pt)},If=k=>{const T=us.exec(k);if(T!==null)return ht.some(ml(T[1],T[2],T[3],"1"));const $=Zs.exec(k);return $!==null?ht.some(ml($[1],$[2],$[3],$[4])):ht.none()},Vr=k=>Ge(k).orThunk(()=>If(k).map(Si)).getOrThunk(()=>{const T=document.createElement("canvas");T.height=1,T.width=1;const $=T.getContext("2d");$.clearRect(0,0,T.width,T.height),$.fillStyle="#FFFFFF",$.fillStyle=k,$.fillRect(0,0,1,1);const Q=$.getImageData(0,0,1,1).data,be=Q[0],Le=Q[1],ye=Q[2],Pt=Q[3];return Si(Ei(be,Le,ye,Pt))}),tn=k=>If(k).map(Si).map(T=>"#"+T.value).getOr(k),Ui=k=>{let T=k;return{get:()=>T,set:be=>{T=be}}},Mr=k=>{const T=Ui(ht.none()),$=()=>T.get().each(k);return{clear:()=>{$(),T.set(ht.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:Pt=>{$(),T.set(ht.some(Pt))}}},Ur=()=>Mr(k=>k.unbind()),Dm=(k,T,$)=>Q=>{const be=Ur(),Le=_c($),ye=()=>{const Pt=aa(k),qt=Mo=>k.formatter.match(T,{value:$},Mo.dom,Le);Le?(Q.setActive(!So(Pt,qt)),be.set(k.formatter.formatChanged(T,Mo=>Q.setActive(!Mo),!0))):(Q.setActive(yt(Pt,qt)),be.set(k.formatter.formatChanged(T,Q.setActive,!1,{value:$})))};return k.initialized?ye():k.on("init",ye),be.clear},Oa=k=>fn(k,"menu"),oc=k=>uo(k,T=>{const $=T.text||T.title||"";return Oa(T)?{text:$,items:oc(T.menu)}:{text:$,value:T.value}}),un=k=>k.length?ht.some(oc([{text:"Select...",value:"mce-no-match"},...k])):ht.none(),Ee=(k,T,$,Q)=>uo(T,be=>{const Le=be.text||be.title;return Oa(be)?{type:"nestedmenuitem",text:Le,getSubmenuItems:()=>Ee(k,be.menu,$,Q)}:{text:Le,type:"togglemenuitem",onAction:()=>Q(be.value),onSetup:Dm(k,$,be.value)}}),_a=(k,T)=>$=>{k.execCommand("mceTableApplyCellStyle",!1,{[T]:$})},Aa=k=>Ne(k,T=>Oa(T)?[{...T,menu:Aa(T.menu)}]:Vs(T.value)?[T]:[]),tr=(k,T,$,Q)=>be=>be(Ee(k,T,$,Q)),ka=(k,T,$)=>{const Q=uo(T,be=>({text:be.title,value:"#"+Vr(be.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:Q.length>0?Q:void 0,allowCustomColors:!1},onAction:be=>{const Le=be.value==="remove"?"":be.value;k.execCommand("mceTableApplyCellStyle",!1,{[$]:Le})}}]},Js=k=>()=>{const $=k.queryCommandValue("mceTableRowType")==="header"?"body":"header";k.execCommand("mceTableRowType",!1,{type:$})},Yn=k=>()=>{const $=k.queryCommandValue("mceTableColType")==="th"?"td":"th";k.execCommand("mceTableColType",!1,{type:$})},nc=k=>un(Qc(k)).map(T=>({name:"class",type:"listbox",label:"Class",items:T})),Ff=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ni}],S=k=>Ff.concat(nc(k).toArray()),M=(k,T)=>{const Q=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(oc(Al(k)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:T==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(Q):Q}},le={normal:(k,T)=>{const $=k.dom;return{setAttrib:(ye,Pt)=>{$.setAttrib(T,ye,Pt)},setStyle:(ye,Pt)=>{$.setStyle(T,ye,Pt)},setFormat:(ye,Pt)=>{Pt===""?k.formatter.remove(ye,{value:null},T,!0):k.formatter.apply(ye,{value:Pt},T)}}}},pe=El("th"),ot=(k,T)=>k&&T?"sectionCells":k?"section":"cells",no=k=>{const T=k.section==="thead",$=io($o(k.cells),"th");return k.section==="tfoot"?{type:"footer"}:T||$?{type:"header",subType:ot(T,$)}:{type:"body"}},$o=k=>{const T=Xo(k,$=>pe($.element));return T.length===0?ht.some("td"):T.length===k.length?ht.some("th"):ht.none()},vo=k=>{const T=uo(k,be=>no(be).type),$=Uo(T,"header"),Q=Uo(T,"footer");if(!$&&!Q)return ht.some("body");{const be=Uo(T,"body");return $&&!be&&!Q?ht.some("header"):!$&&!be&&Q?ht.some("footer"):ht.none()}},Rt=k=>{let T=!1,$;return(...Q)=>(T||(T=!0,$=k.apply(null,Q)),$)},Ln=(k,T)=>qo(k.all,$=>Sn($.cells,Q=>nt(T,Q.element))),ts=(k,T,$)=>{const Q=uo(T.selection,Le=>br(Le).bind(ye=>Ln(k,ye)).filter($)),be=ks(Q);return su(be.length>0,be)},ji=(k,T)=>T.mergable,ri=(k,T)=>T.unmergable,Na=(k,T)=>ts(k,T,ve),Mm=(k,T)=>Ln(k,T).exists($=>!$.isLocked),Vd=(k,T)=>yt(T,$=>Mm(k,$)),Rs=(k,T)=>ji(k,T).filter($=>Vd(k,$.cells)),zi=(k,T)=>ri(k,T).filter($=>Vd(k,$));({...{generate:k=>{if(!To(k))throw new Error("cases must be an array");if(k.length===0)throw new Error("there must be at least one case");const T=[],$={};return H(k,(Q,be)=>{const Le=gs(Q);if(Le.length!==1)throw new Error("one and only one name per case");const ye=Le[0],Pt=Q[ye];if($[ye]!==void 0)throw new Error("duplicate key detected:"+ye);if(ye==="cata")throw new Error("cannot have a case named cata (sorry)");if(!To(Pt))throw new Error("case arguments must be an array");T.push(ye),$[ye]=(...qt)=>{const Mo=qt.length;if(Mo!==Pt.length)throw new Error("Wrong number of arguments to case "+ye+". Expected "+Pt.length+" ("+Pt+"), got "+Mo);return{fold:(...nr)=>{if(nr.length!==k.length)throw new Error("Wrong number of arguments to fold. Expected "+k.length+", got "+nr.length);return nr[be].apply(null,qt)},match:nr=>{const Br=gs(nr);if(T.length!==Br.length)throw new Error("Wrong number of arguments to match. Expected: "+T.join(",")+`
Actual: `+Br.join(","));if(!yt(T,si=>Uo(Br,si)))throw new Error("Not all branches were specified when using match. Specified: "+Br.join(", ")+`
Required: `+T.join(", "));return nr[ye].apply(null,qt)},log:nr=>{console.log(nr,{constructors:T,constructor:ye,params:qt})}}}}),$}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const os=(k,T)=>{const $=kc.fromTable(k);return Na($,T).bind(be=>{const Le=be[be.length-1],ye=be[0].row,Pt=Le.row+Le.rowspan,qt=$.all.slice(ye,Pt);return vo(qt)}).getOr("")},Ec=k=>Zt(k,"rgb")?tn(k):k,zc=k=>{const T=dt.fromDom(k);return{borderwidth:Ta(T,"border-width").getOr(""),borderstyle:Ta(T,"border-style").getOr(""),bordercolor:Ta(T,"border-color").map(Ec).getOr(""),backgroundcolor:Ta(T,"background-color").map(Ec).getOr("")}},xb=k=>{const T=k[0],$=k.slice(1);return H($,Q=>{H(gs(T),be=>{Io(Q,(Le,ye)=>{const Pt=T[be];Pt!==""&&be===ye&&Pt!==Le&&(T[be]=be==="class"?"mce-no-match":"")})})}),T},Tc=(k,T,$,Q)=>Sn(k,be=>!lo($.formatter.matchNode(Q,T+be))).getOr(""),Yp=pt(Tc,["left","center","right"],"align"),vb=pt(Tc,["top","middle","bottom"],"valign"),fs=(k,T)=>{const $=$i(k),Q=Fd(k),be=()=>({borderstyle:Zr($,"border-style").getOr(""),bordercolor:Ec(Zr($,"border-color").getOr("")),backgroundcolor:Ec(Zr($,"background-color").getOr(""))}),Le={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},ye=()=>{const or=$["border-width"];return dn(k)&&or?{border:or}:Zr(Q,"border").fold(()=>({}),nr=>({border:nr}))},Pt=T?be():{},qt=()=>{const or=Zr($,"border-spacing").or(Zr(Q,"cellspacing")).fold(()=>({}),Br=>({cellspacing:Br})),nr=Zr($,"border-padding").or(Zr(Q,"cellpadding")).fold(()=>({}),Br=>({cellpadding:Br}));return{...or,...nr}};return{...Le,...$,...Q,...Pt,...ye(),...qt()}},z1=k=>ei(dt.fromDom(k)).map(T=>{const $={selection:od(k.cells)};return os(T,$)}).getOr(""),Oc=(k,T,$)=>{const Q=(Pt,qt)=>{const Mo=Ta(dt.fromDom(qt),"border-width");return dn(k)&&Mo.isSome()?Mo.getOr(""):Pt.getAttrib(qt,"border")||Zu(k.dom,qt,"border-width")||Zu(k.dom,qt,"border")||""},be=k.dom,Le=dn(k)?be.getStyle(T,"border-spacing")||be.getAttrib(T,"cellspacing"):be.getAttrib(T,"cellspacing")||be.getStyle(T,"border-spacing"),ye=dn(k)?Zu(be,T,"padding")||be.getAttrib(T,"cellpadding"):be.getAttrib(T,"cellpadding")||Zu(be,T,"padding");return{width:be.getStyle(T,"width")||be.getAttrib(T,"width"),height:be.getStyle(T,"height")||be.getAttrib(T,"height"),cellspacing:Le??"",cellpadding:ye??"",border:Q(be,T),caption:!!be.select("caption",T)[0],class:be.getAttrib(T,"class",""),align:Yp(k,T),...$?zc(T):{}}},gl=(k,T,$)=>{const Q=k.dom;return{height:Q.getStyle(T,"height")||Q.getAttrib(T,"height"),class:Q.getAttrib(T,"class",""),type:z1(T),align:Yp(k,T),...$?zc(T):{}}},Hf=(k,T,$,Q)=>{const be=k.dom,Le=Q.getOr(T);return{width:((Pt,qt)=>be.getStyle(Pt,qt)||be.getAttrib(Pt,qt))(Le,"width"),scope:be.getAttrib(T,"scope"),celltype:Uu(T),class:be.getAttrib(T,"class",""),halign:Yp(k,T),valign:vb(k,T),...$?zc(T):{}}},Ot=(k,T)=>{const $=kc.fromTable(k),Q=kc.justCells($),be=Xo(Q,Le=>So(T,ye=>nt(Le.element,ye)));return uo(be,Le=>({element:Le.element.dom,column:kc.getColumnAt($,Le.column).map(ye=>ye.element.dom)}))},Qs=(k,T,$,Q)=>{Q("scope")&&k.setAttrib("scope",$.scope),Q("class")&&$.class!=="mce-no-match"&&k.setAttrib("class",$.class),Q("width")&&T.setStyle("width",bi($.width))},Pm=(k,T,$)=>{$("backgroundcolor")&&k.setFormat("tablecellbackgroundcolor",T.backgroundcolor),$("bordercolor")&&k.setFormat("tablecellbordercolor",T.bordercolor),$("borderstyle")&&k.setFormat("tablecellborderstyle",T.borderstyle),$("borderwidth")&&k.setFormat("tablecellborderwidth",bi(T.borderwidth))},rd=(k,T,$,Q)=>{const be=T.length===1;H(T,Le=>{const ye=Le.element,Pt=be?ve:Q,qt=le.normal(k,ye),Mo=Le.column.map(or=>le.normal(k,or)).getOr(qt);Qs(qt,Mo,$,Pt),Ns(k)&&Pm(qt,$,Pt),Q("halign")&&Ys(k,ye,$.halign),Q("valign")&&Xc(k,ye,$.valign)})},Dl=(k,T)=>{k.execCommand("mceTableCellType",!1,{type:T.celltype,no_events:!0})},Ud=(k,T,$,Q)=>{const be=O(Q,(Le,ye)=>$[ye]!==Le);Do(be)>0&&T.length>=1&&ei(T[0]).each(Le=>{const ye=Ot(Le,T),Pt=Do(O(be,(Mo,or)=>or!=="scope"&&or!=="celltype"))>0,qt=Je(be,"celltype");(Pt||Je(be,"scope"))&&rd(k,ye,Q,pt(Je,be)),qt&&Dl(k,Q),Kl(k,Le.dom,{structure:qt,style:Pt})})},$f=(k,T,$,Q)=>{const be=Q.getData();Q.close(),k.undoManager.transact(()=>{Ud(k,T,$,be),k.focus()})},rc=(k,T)=>{const $=ei(T[0]).map(Q=>uo(Ot(Q,T),be=>Hf(k,be.element,Ns(k),be.column)));return xb($.getOrDie())},_b=k=>{const T=aa(k);if(T.length===0)return;const $=rc(k,T),Q={type:"tabpanel",tabs:[{title:"General",name:"general",items:S(k)},M(k,"cell")]},be={type:"panel",items:[{type:"grid",columns:2,items:S(k)}]};k.windowManager.open({title:"Cell Properties",size:"normal",body:Ns(k)?Q:be,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$,onSubmit:pt($f,k,T,$)})},sd=k=>un(cu(k)).map(T=>({name:"class",type:"listbox",label:"Class",items:T})),Lm=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],yu=k=>Lm.concat(sd(k).toArray()),it=(k,T,$)=>{$("class")&&T.class!=="mce-no-match"&&k.setAttrib("class",T.class),$("height")&&k.setStyle("height",bi(T.height))},ad=(k,T,$)=>{$("backgroundcolor")&&k.setStyle("background-color",T.backgroundcolor),$("bordercolor")&&k.setStyle("border-color",T.bordercolor),$("borderstyle")&&k.setStyle("border-style",T.borderstyle)},Gu=(k,T,$,Q)=>{const Le=T.length===1?ve:Q;H(T,ye=>{const Pt=Ji(dt.fromDom(ye),"td,th"),qt=le.normal(k,ye);it(qt,$,Le),ws(k)&&ad(qt,$,Le),Q("height")&&H(Pt,Mo=>{k.dom.setStyle(Mo.dom,"height",null)}),Q("align")&&Ys(k,ye,$.align)})},sc=(k,T)=>{k.execCommand("mceTableRowType",!1,{type:T.type,no_events:!0})},id=(k,T,$,Q)=>{const be=O(Q,(Le,ye)=>$[ye]!==Le);if(Do(be)>0){const Le=Je(be,"type"),ye=Le?Do(be)>1:!0;ye&&Gu(k,T,Q,pt(Je,be)),Le&&sc(k,Q),ei(dt.fromDom(T[0])).each(Pt=>Kl(k,Pt.dom,{structure:Le,style:ye}))}},Ku=(k,T,$,Q)=>{const be=Q.getData();Q.close(),k.undoManager.transact(()=>{id(k,T,$,be),k.focus()})},ns=k=>{const T=va(gr(k),Pf.selected);if(T.length===0)return;const $=uo(T,ye=>gl(k,ye.dom,ws(k))),Q=xb($),be={type:"tabpanel",tabs:[{title:"General",name:"general",items:yu(k)},M(k,"row")]},Le={type:"panel",items:[{type:"grid",columns:2,items:yu(k)}]};k.windowManager.open({title:"Row Properties",size:"normal",body:ws(k)?be:Le,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Q,onSubmit:pt(Ku,k,uo(T,ye=>ye.dom),Q)})},jd=(k,T,$)=>{const Q=$?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],be=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Le=Nl(k)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],ye=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Pt=T.length>0?[{name:"class",type:"listbox",label:"Class",items:T}]:[];return Q.concat(be).concat(Le).concat(ye).concat(Pt)},Ti=(k,T,$,Q)=>{if(T.tagName==="TD"||T.tagName==="TH")Ro($)&&pr(Q)?k.setStyle(T,$,Q):k.setStyles(T,$);else if(T.children)for(let be=0;be<T.children.length;be++)Ti(k,T.children[be],$,Q)},yr=(k,T,$,Q)=>{const be=k.dom,Le={},ye={},Pt=dn(k),qt=Mt(k),Mo=parseFloat($.border)===0;if(!lo($.class)&&$.class!=="mce-no-match"&&(Le.class=$.class),ye.height=bi($.height),Pt?ye.width=bi($.width):be.getAttrib(T,"width")&&(Le.width=hi($.width)),Pt?(Mo?(Le.border=0,ye["border-width"]=""):(ye["border-width"]=bi($.border),Le.border=1),ye["border-spacing"]=bi($.cellspacing)):(Le.border=Mo?0:$.border,Le.cellpadding=$.cellpadding,Le.cellspacing=$.cellspacing),Pt&&T.children){const or={};if(Mo?or["border-width"]="":Q.border&&(or["border-width"]=bi($.border)),Q.cellpadding&&(or.padding=bi($.cellpadding)),qt&&Q.bordercolor&&(or["border-color"]=$.bordercolor),!Bi(or))for(let nr=0;nr<T.children.length;nr++)Ti(be,T.children[nr],or)}if(qt){const or=$;ye["background-color"]=or.backgroundcolor,ye["border-color"]=or.bordercolor,ye["border-style"]=or.borderstyle}be.setStyles(T,{...$i(k),...ye}),be.setAttribs(T,{...Fd(k),...Le})},Im=(k,T,$,Q)=>{const be=k.dom,Le=Q.getData(),ye=O(Le,(Pt,qt)=>$[qt]!==Pt);Q.close(),k.undoManager.transact(()=>{if(!T){const Pt=_r(Le.cols).getOr(1),qt=_r(Le.rows).getOr(1);k.execCommand("mceInsertTable",!1,{rows:qt,columns:Pt}),T=er(gr(k),es(k)).bind(Mo=>ei(Mo,es(k))).map(Mo=>Mo.dom).getOrDie()}if(Do(ye)>0){const Pt={border:Je(ye,"border"),bordercolor:Je(ye,"bordercolor"),cellpadding:Je(ye,"cellpadding")};yr(k,T,Le,Pt);const qt=be.select("caption",T)[0];(qt&&!Le.caption||!qt&&Le.caption)&&k.execCommand("mceTableToggleCaption"),Ys(k,T,Le.align)}if(k.focus(),k.addVisual(),Do(ye)>0){const Pt=Je(ye,"caption"),qt=Pt?Do(ye)>1:!0;Kl(k,T,{structure:Pt,style:qt})}})},Vo=(k,T)=>{const $=k.dom;let Q,be=fs(k,Mt(k));T?(be.cols="1",be.rows="1",Mt(k)&&(be.borderstyle="",be.bordercolor="",be.backgroundcolor="")):(Q=$.getParent(k.selection.getStart(),"table",k.getBody()),Q?be=Oc(k,Q,Mt(k)):Mt(k)&&(be.borderstyle="",be.bordercolor="",be.backgroundcolor=""));const Le=un(Yl(k));Le.isSome()&&be.class&&(be.class=be.class.replace(/\s*mce\-item\-table\s*/g,""));const ye={type:"grid",columns:2,items:jd(k,Le.getOr([]),T)},Pt=()=>({type:"panel",items:[ye]}),qt=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[ye]},M(k,"table")]}),Mo=Mt(k)?qt():Pt();k.windowManager.open({title:"Table Properties",size:"normal",body:Mo,onSubmit:pt(Im,k,Q,be),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:be})},Vt=k=>{const T=$=>{Fi(gr(k))&&$()};Io({mceTableProps:pt(Vo,k,!1),mceTableRowProps:pt(ns,k),mceTableCellProps:pt(_b,k),mceInsertTableDialog:pt(Vo,k,!0)},($,Q)=>k.addCommand(Q,()=>T($)))},Zi=(k,T)=>Ad(k,T).isSome(),Yu=qe,Vf=k=>{const T=(Q,be)=>pa(Q,be).exists(Le=>parseInt(Le,10)>1),$=Q=>T(Q,"rowspan")||T(Q,"colspan");return k.length>0&&yt(k,$)?ht.some(k):ht.none()},Gg=(k,T,$)=>T.length<=1?ht.none():Vi(k,$.firstSelectedSelector,$.lastSelectedSelector).map(Q=>({bounds:Q,cells:T})),ur=k=>({element:k,mergable:ht.none(),unmergable:ht.none(),selection:[k]}),kb=(k,T,$)=>({element:$,mergable:Gg(T,k,Pf),unmergable:Vf(k),selection:Yu(k)}),T1=k=>{const T=Ui(ht.none()),$=Ui([]);let Q=ht.none();const be=El("caption"),Le=gn=>Q.forall(rs=>!rs[gn]),ye=()=>nd(gr(k),es(k)),Pt=()=>nd(cr(k),es(k)),qt=()=>ye().bind(gn=>cs(ls(ei(gn),Pt().bind(ei),(rs,ii)=>nt(rs,ii)?be(gn)?ht.some(ur(gn)):ht.some(kb(aa(k),rs,gn)):ht.none()))),Mo=gn=>ei(gn.element).map(ii=>{const yl=kc.fromTable(ii),Yg=Na(yl,gn).getOr([]),wb=ll(Yg,(Ac,Zf)=>(Zf.isLocked&&(Ac.onAny=!0,Zf.column===0?Ac.onFirst=!0:Zf.column+Zf.colspan>=yl.grid.columns&&(Ac.onLast=!0)),Ac),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Rs(yl,gn).isSome(),unmergeable:zi(yl,gn).isSome(),locked:wb}}),or=()=>{T.set(Rt(qt)()),Q=T.get().bind(Mo),H($.get(),ue)},nr=gn=>(gn(),$.set($.get().concat([gn])),()=>{$.set(Xo($.get(),rs=>rs!==gn))}),Br=(gn,rs)=>nr(()=>T.get().fold(()=>{gn.setEnabled(!1)},ii=>{gn.setEnabled(!rs(ii)&&k.selection.isEditable())})),Va=(gn,rs,ii)=>nr(()=>T.get().fold(()=>{gn.setEnabled(!1),gn.setActive(!1)},yl=>{gn.setEnabled(!rs(yl)&&k.selection.isEditable()),gn.setActive(ii(yl))})),si=gn=>Q.exists(rs=>rs.locked[gn]),lc=gn=>Br(gn,rs=>!1),ld=gn=>Br(gn,rs=>be(rs.element)),Er=gn=>rs=>Br(rs,ii=>be(ii.element)||si(gn)),Es=gn=>rs=>Br(rs,ii=>be(ii.element)||gn().isNone()),ar=(gn,rs)=>ii=>Br(ii,yl=>be(yl.element)||gn().isNone()||si(rs)),ir=gn=>Br(gn,rs=>Le("mergeable")),hl=gn=>Br(gn,rs=>Le("unmergeable")),ai=gn=>Va(gn,Et,rs=>ei(rs.element,es(k)).exists(yl=>Zi(yl,"caption"))),jf=(gn,rs)=>ii=>Va(ii,yl=>be(yl.element),()=>k.queryCommandValue(gn)===rs),bl=jf("mceTableRowType","header"),Kg=jf("mceTableColType","th");return k.on("NodeChange ExecCommand TableSelectorChange",or),{onSetupTable:lc,onSetupCellOrRow:ld,onSetupColumn:Er,onSetupPasteable:Es,onSetupPasteableColumn:ar,onSetupMergeable:ir,onSetupUnmergeable:hl,resetTargets:or,onSetupTableWithCaption:ai,onSetupTableRowHeaders:bl,onSetupTableColumnHeaders:Kg,targets:T.get}};var je=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Xu="x-tinymce/dom-table-",Fm=Xu+"rows",Ju=Xu+"columns",Qu=k=>{var T;const $=(T=je.read())!==null&&T!==void 0?T:[];return qo($,Q=>ht.from(Q.getType(k)))},ac=()=>Qu(Fm),Ml=()=>Qu(Ju),Ss=k=>T=>{const $=()=>{T.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},Xn=(k,T)=>{k.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Ss(k),fetch:Pt=>Pt("inserttable | cell row column | advtablesort | tableprops deletetable")});const $=Pt=>()=>k.execCommand(Pt),Q=(Pt,qt)=>{k.queryCommandSupported(qt.command)&&k.ui.registry.addButton(Pt,{...qt,onAction:jr(qt.onAction)?qt.onAction:$(qt.command)})},be=(Pt,qt)=>{k.queryCommandSupported(qt.command)&&k.ui.registry.addToggleButton(Pt,{...qt,onAction:jr(qt.onAction)?qt.onAction:$(qt.command)})};Q("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:T.onSetupTable}),Q("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:T.onSetupTable}),Q("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:T.onSetupCellOrRow}),Q("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:T.onSetupMergeable}),Q("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:T.onSetupUnmergeable}),Q("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:T.onSetupCellOrRow}),Q("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:T.onSetupCellOrRow}),Q("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:T.onSetupCellOrRow}),Q("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:T.onSetupCellOrRow}),Q("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:T.onSetupColumn("onFirst")}),Q("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:T.onSetupColumn("onLast")}),Q("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:T.onSetupColumn("onAny")}),Q("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:T.onSetupCellOrRow}),Q("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:T.onSetupCellOrRow}),Q("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:T.onSetupPasteable(ac)}),Q("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:T.onSetupPasteable(ac)}),Q("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:T.onSetupColumn("onAny")}),Q("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:T.onSetupColumn("onAny")}),Q("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:T.onSetupPasteableColumn(Ml,"onFirst")}),Q("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:T.onSetupPasteableColumn(Ml,"onLast")}),Q("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Ss(k)});const Le=Aa(Yl(k));Le.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:tr(k,Le,"tableclass",Pt=>k.execCommand("mceTableToggleClass",!1,Pt)),onSetup:T.onSetupTable});const ye=Aa(Qc(k));ye.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:tr(k,ye,"tablecellclass",Pt=>k.execCommand("mceTableCellToggleClass",!1,Pt)),onSetup:T.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:tr(k,ni,"tablecellverticalalign",_a(k,"vertical-align")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:tr(k,As(k),"tablecellborderwidth",_a(k,"border-width")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:tr(k,Al(k),"tablecellborderstyle",_a(k,"border-style")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Pt=>Pt(ka(k,Ia(k),"background-color")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Pt=>Pt(ka(k,Om(k),"border-color")),onSetup:T.onSetupCellOrRow})),be("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),be("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Js(k),onSetup:T.onSetupTableRowHeaders}),be("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Yn(k),onSetup:T.onSetupTableColumnHeaders})},Sr=k=>{const T=Q=>k.dom.is(Q,"table")&&k.getBody().contains(Q)&&k.dom.isEditable(Q.parentNode),$=Wu(k);$.length>0&&k.ui.registry.addContextToolbar("table",{predicate:T,items:$,scope:"node",position:"node"})},ef=k=>T=>{const $=()=>{T.setEnabled(k.selection.isEditable())};return k.on("NodeChange",$),$(),()=>{k.off("NodeChange",$)}},Zd=(k,T)=>{const $=nr=>()=>k.execCommand(nr),Q=(nr,Br)=>k.queryCommandSupported(Br.command)?(k.ui.registry.addMenuItem(nr,{...Br,onAction:jr(Br.onAction)?Br.onAction:$(Br.command)}),!0):!1,be=(nr,Br)=>{k.queryCommandSupported(Br.command)&&k.ui.registry.addToggleMenuItem(nr,{...Br,onAction:jr(Br.onAction)?Br.onAction:$(Br.command)})},Le=nr=>{k.execCommand("mceInsertTable",!1,{rows:nr.numRows,columns:nr.numColumns})},ye=[Q("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:T.onSetupCellOrRow}),Q("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:T.onSetupCellOrRow}),Q("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:T.onSetupCellOrRow}),Q("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:T.onSetupCellOrRow}),Q("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:T.onSetupCellOrRow}),Q("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:T.onSetupCellOrRow}),Q("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:T.onSetupPasteable(ac)}),Q("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:T.onSetupPasteable(ac)})],Pt=[Q("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:T.onSetupColumn("onFirst")}),Q("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:T.onSetupColumn("onLast")}),Q("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:T.onSetupColumn("onAny")}),Q("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:T.onSetupColumn("onAny")}),Q("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:T.onSetupColumn("onAny")}),Q("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:T.onSetupPasteableColumn(Ml,"onFirst")}),Q("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:T.onSetupPasteableColumn(Ml,"onLast")})],qt=[Q("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:T.onSetupCellOrRow}),Q("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:T.onSetupMergeable}),Q("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:T.onSetupUnmergeable})];Jc(k)?k.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Le}],onSetup:ef(k)}):k.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:ef(k)}),k.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:$("mceInsertTableDialog"),onSetup:ef(k)}),Q("tableprops",{text:"Table properties",onSetup:T.onSetupTable,command:"mceTableProps"}),Q("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:T.onSetupTable,command:"mceTableDelete"}),Uo(ye,!0)&&k.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Lo("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Uo(Pt,!0)&&k.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Lo("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Uo(qt,!0)&&k.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Lo("tablecellprops tablemergecells tablesplitcells")}),k.ui.registry.addContextMenu("table",{update:()=>(T.resetTargets(),T.targets().fold(Lo(""),nr=>Ho(nr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Mo=Aa(Yl(k));Mo.length!==0&&k.queryCommandSupported("mceTableToggleClass")&&k.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ee(k,Mo,"tableclass",nr=>k.execCommand("mceTableToggleClass",!1,nr)),onSetup:T.onSetupTable});const or=Aa(Qc(k));or.length!==0&&k.queryCommandSupported("mceTableCellToggleClass")&&k.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ee(k,or,"tablecellclass",nr=>k.execCommand("mceTableCellToggleClass",!1,nr)),onSetup:T.onSetupCellOrRow}),k.queryCommandSupported("mceTableApplyCellStyle")&&(k.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ee(k,ni,"tablecellverticalalign",_a(k,"vertical-align")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ee(k,As(k),"tablecellborderwidth",_a(k,"border-width")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ee(k,Al(k),"tablecellborderstyle",_a(k,"border-style")),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>ka(k,Ia(k),"background-color"),onSetup:T.onSetupCellOrRow}),k.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>ka(k,Om(k),"border-color"),onSetup:T.onSetupCellOrRow})),be("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:T.onSetupTableWithCaption}),be("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Js(k),onSetup:T.onSetupTableRowHeaders}),be("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Yn(k),onSetup:T.onSetupTableRowHeaders})},ic=k=>{const T=T1(k);Qi(k),Vt(k),Zd(k,T),Xn(k,T),Sr(k)};var Uf=()=>{Tt.add("table",ic)};Uf()}()),o9}var r9;function fG(){return r9||(r9=1,uG()),t9}fG();var mG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],pG=function(Tt){return mG.map(function(zo){return zo.toLowerCase()}).indexOf(Tt.toLowerCase())!==-1},gG=function(Tt,zo,No){Object.keys(zo).filter(pG).forEach(function(Yo){var Co=zo[Yo];typeof Co=="function"&&(Yo==="onInit"?Co(Tt,No):No.on(Yo.substring(2),function(Dt){return Co(Dt,No)}))})},hG=function(Tt,zo,No,Yo){var Co=Tt.modelEvents?Tt.modelEvents:null,Dt=Array.isArray(Co)?Co.join(" "):Co;gP(Yo,function(Ro,To){No&&typeof Ro=="string"&&Ro!==To&&Ro!==No.getContent({format:Tt.outputFormat})&&No.setContent(Ro)}),No.on(Dt||"change input undo redo",function(){zo.emit("update:modelValue",No.getContent({format:Tt.outputFormat}))})},bG=function(Tt,zo,No,Yo,Co,Dt){Yo.setContent(Dt()),No.attrs["onUpdate:modelValue"]&&hG(zo,No,Yo,Co),gG(Tt,No.attrs,Yo)},s9=0,m9=function(Tt){var zo=Date.now(),No=Math.floor(Math.random()*1e9);return s9++,Tt+"_"+No+s9+String(zo)},yG=function(Tt){return Tt!==null&&Tt.tagName.toLowerCase()==="textarea"},a9=function(Tt){return typeof Tt>"u"||Tt===""?[]:Array.isArray(Tt)?Tt:Tt.split(" ")},xG=function(Tt,zo){return a9(Tt).concat(a9(zo))},vG=function(Tt){return Tt==null},i9=function(){return{listeners:[],scriptId:m9("tiny-script"),scriptLoaded:!1}},_G=function(){var Tt=i9(),zo=function(Co,Dt,Ro,To){var Po=Dt.createElement("script");Po.referrerPolicy="origin",Po.type="application/javascript",Po.id=Co,Po.src=Ro;var lo=function(){Po.removeEventListener("load",lo),To()};Po.addEventListener("load",lo),Dt.head&&Dt.head.appendChild(Po)},No=function(Co,Dt,Ro){Tt.scriptLoaded?Ro():(Tt.listeners.push(Ro),Co.getElementById(Tt.scriptId)||zo(Tt.scriptId,Co,Dt,function(){Tt.listeners.forEach(function(To){return To()}),Tt.scriptLoaded=!0}))},Yo=function(){Tt=i9()};return{load:No,reinitialize:Yo}},kG=_G(),wG=function(){return typeof window<"u"?window:global},fv=function(){var Tt=wG();return Tt&&Tt.tinymce?Tt.tinymce:null},CG={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(Tt){return Tt==="html"||Tt==="text"}}},$g=function(){return $g=Object.assign||function(Tt){for(var zo,No=1,Yo=arguments.length;No<Yo;No++){zo=arguments[No];for(var Co in zo)Object.prototype.hasOwnProperty.call(zo,Co)&&(Tt[Co]=zo[Co])}return Tt},$g.apply(this,arguments)},SG=function(Tt,zo,No,Yo){return Tt(Yo||"div",{id:zo,ref:No})},EG=function(Tt,zo,No){return Tt("textarea",{id:zo,visibility:"hidden",ref:No})},pP={selector:void 0,target:void 0},zG=yP({props:CG,setup:function(Tt,zo){var No=Tt.init?$g($g({},Tt.init),pP):$g({},pP),Yo=$q(Tt),Co=Yo.disabled,Dt=Yo.modelValue,Ro=Yo.tagName,To=D3(null),Po=null,lo=Tt.id||m9("tiny-vue"),Cn=Tt.init&&Tt.init.inline||Tt.inline,pr=!!zo.attrs["onUpdate:modelValue"],jr=!0,$t=Tt.initialValue?Tt.initialValue:"",Kt="",Go=function(Bt){return pr?function(){return Dt!=null&&Dt.value?Dt.value:""}:function(){return Bt?$t:Kt}},Lo=function(){var Bt=Go(jr),pt=$g($g({},No),{readonly:Tt.disabled,target:To.value,plugins:xG(No.plugins,Tt.plugins),toolbar:Tt.toolbar||No.toolbar,inline:Cn,license_key:Tt.licenseKey,setup:function(ue){Po=ue,ue.on("init",function(Et){return bG(Et,Tt,zo,ue,Dt,Bt)}),typeof No.setup=="function"&&No.setup(ue)}});yG(To.value)&&(To.value.style.visibility=""),fv().init(pt),jr=!1};gP(Co,function(Bt){var pt;Po!==null&&(typeof((pt=Po.mode)===null||pt===void 0?void 0:pt.set)=="function"?Po.mode.set(Bt?"readonly":"design"):Po.setMode(Bt?"readonly":"design"))}),gP(Ro,function(Bt){var pt;pr||(Kt=Po.getContent()),(pt=fv())===null||pt===void 0||pt.remove(Po),wF(function(){return Lo()})}),Vq(function(){if(fv()!==null)Lo();else if(To.value&&To.value.ownerDocument){var Bt=Tt.cloudChannel?Tt.cloudChannel:"7",pt=Tt.apiKey?Tt.apiKey:"no-api-key",ue=vG(Tt.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(pt,"/tinymce/").concat(Bt,"/tinymce.min.js"):Tt.tinymceScriptSrc;kG.load(To.value.ownerDocument,ue,Lo)}}),Uq(function(){fv()!==null&&fv().remove(Po)}),Cn||(jq(function(){jr||Lo()}),Zq(function(){var Bt;pr||(Kt=Po.getContent()),(Bt=fv())===null||Bt===void 0||Bt.remove(Po)}));var qe=function(Bt){var pt;Kt=Po.getContent(),(pt=fv())===null||pt===void 0||pt.remove(Po),No=$g($g($g({},No),Bt),pP),wF(function(){return Lo()})};return zo.expose({rerender:qe,getEditor:function(){return Po}}),function(){return Cn?SG(CF,lo,To,Tt.tagName):EG(CF,lo,To)}}});const TG=1e3*60,l9=new Map;function OG(){const Tt=xP(),zo=async Co=>{let Dt=l9.get(Co);if(!Dt||Dt.timestamp<Date.now()-TG){const{Conventions:Po,Organisations:lo}=await Tt.getPermissionAccessList(Co);Dt={conventions:Po,organisations:lo,timestamp:Date.now()},l9.set(Co,Dt)}const Ro=Dt.conventions,To=Dt.organisations;return{Conventions:Ro,Organisations:To}};return{getConventionsWithPermission:async Co=>{const{Conventions:Dt}=await zo(Co);return Dt},getOrganisationsWithPermission:async Co=>{const{Organisations:Dt}=await zo(Co);return Dt}}}const AG=1e3*30,aR={templates:[],timestamp:0};function rK(){const Tt=xP(),{getConventionsWithPermission:zo}=OG();return{getEmailTemplateList:async(Yo,Co,Dt)=>{let Ro=aR.templates;aR.timestamp<Date.now()-AG&&(Ro=await Tt.getEmailTemplates(),aR.templates=Ro,aR.timestamp=Date.now());const To=await zo(Hq.PERMISSION_TYPE_EDIT_CONVENTION);return(()=>{switch(Yo){case Rf.TARGET_TYPE_SYSTEM:return Ro.filter(lo=>lo.OwnerType===Rf.TARGET_TYPE_SYSTEM);case Rf.TARGET_TYPE_ORGANISATION:return Co?Ro.filter(lo=>lo.OwnerType===Rf.TARGET_TYPE_ORGANISATION&&lo.OwnerUUID===Co):Ro.filter(lo=>lo.OwnerType===Rf.TARGET_TYPE_ORGANISATION);case Rf.TARGET_TYPE_CONVENTION:return Dt?Ro.filter(lo=>lo.OwnerType===Rf.TARGET_TYPE_CONVENTION&&lo.OwnerUUID===Dt):Co?Ro.filter(lo=>lo.OwnerType===Rf.TARGET_TYPE_CONVENTION&&!!To.find(Cn=>Cn.OrganisationUUID===Co)):Ro.filter(lo=>lo.OwnerType===Rf.TARGET_TYPE_CONVENTION)}return[]})().sort((lo,Cn)=>lo.Title.localeCompare(Cn.Title))}}}const c9=new Map;async function NG(){var Co;const Tt=xP(),No=((Co=Wq().params.convention)==null?void 0:Co.toString())||"";if(!No)return;const Yo=c9.get(No);if(!Yo||!Yo.value||Yo.timestamp<Date.now()-1e3*60*5)try{const Dt=await Tt.getConvention(No);return c9.set(No,{timestamp:Date.now(),value:Dt}),Dt}catch{return}return Yo.value}const RG=yP({__name:"HTMLEditor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(Tt,{expose:zo}){const No={license_key:"gpl",content_style:"body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }",relative_urls:!1,convert_urls:!1},Yo=hP(Tt,"modelValue"),Co=d9("editBox");return zo({insertText:Ro=>{Co.value&&Co.value.getEditor().execCommand("mceInsertContent",!1,Ro)}}),(Ro,To)=>(bP(),u9(f9(zG),{modelValue:Yo.value,"onUpdate:modelValue":To[0]||(To[0]=Po=>Yo.value=Po),"license-key":"gpl",plugins:"advlist code emoticons link lists table",init:No,ref:"editBox"},null,8,["modelValue"]))}}),sK=yP({__name:"EmailEditor",props:qq({ownerType:{default:()=>Rf.TARGET_TYPE_SYSTEM},ownerUuid:{default:""}},{modelValue:{},modelModifiers:{},convention:{required:!1,default:void 0},conventionModifiers:{}}),emits:["update:modelValue","update:convention"],async setup(Tt){var $t,Kt;let zo,No;const Yo=hP(Tt,"modelValue"),Co=hP(Tt,"convention");Co.value||(Co.value=([zo,No]=SF(()=>NG()),zo=await zo,No(),zo));const Dt=d9("editor"),Ro=D3([]),To=D3(),Po=D3(),lo=D3([{title:"Account Display Name",subtitle:"The users current profile name",value:"ACCOUNT_DISPLAY_NAME"},{title:"Email Login Recovery URL",subtitle:"One use URL for a user to access their account.",value:"ACCOUNT_RECOVERY_URL"},{title:"Convention Name",subtitle:"The convention's name",value:"CONVENTION_NAME"},{title:"Email Verification URL",subtitle:"URL used to confirm a users email address",value:"EMAIL_VERIFICATION_URL"},{title:"Organisation Name",subtitle:"The organisation's name",value:"ORGANISATION_NAME"},{title:"Payment Details",subtitle:"A list of the items being charged for and the total",value:"PAYMENT_DETAILS"},{title:"Form Name",subtitle:"Name of the form that triggered this email",value:"SUBMISSION_FORM_NAME"},{title:"Registration Reference",subtitle:"Unique reference for this registration. E.g. Badge number",value:"REGISTRATION_REFERENCE"},{title:"Submission Details",subtitle:"Auto-generated details of ticket, accommodation, cost etc.",value:"SUBMISSION_DETAILS"}]);if(Co&&Tt.ownerType===Rf.TARGET_TYPE_CONVENTION&&(($t=Co.value)!=null&&$t.ConventionUUID||Tt.ownerUuid)){let Go=((Kt=Co.value)==null?void 0:Kt.ConventionUUID)||Tt.ownerUuid;const Lo=([zo,No]=SF(()=>Xq(Go)),zo=await zo,No(),zo);Lo&&Lo.length>0&&(Lo.forEach(qe=>qe.Sections.forEach(Bt=>Bt.Fields&&Ro.value.push(...Bt.Fields.map(pt=>{var Et;return{subtitle:`${qe.Name} - ${Bt.Name}`,title:`${(Et=pt.Field)==null?void 0:Et.Name}`,value:pt.SectionFieldUUID,object:pt}})))),Ro.value.sort(Jq("title")))}const Cn=()=>{To.value!==void 0&&jr(`[%FORM_${To.value.title}_${To.value.value}%]`)},pr=()=>{Po.value!==void 0&&jr(`[%${Po.value.value}%]`)},jr=Go=>{Dt.value&&Dt.value.insertText(Go)};return(Go,Lo)=>(bP(),Gq(Kq,null,[Td(fP,null,{default:Vu(()=>[Td(R3,{cols:"12"},{default:Vu(()=>[Td(RG,{modelValue:Yo.value,"onUpdate:modelValue":Lo[0]||(Lo[0]=qe=>Yo.value=qe),ref_key:"editor",ref:Dt},null,8,["modelValue"])]),_:1})]),_:1}),Td(fP,null,{default:Vu(()=>[Td(R3,{cols:"9",sm:"9"},{default:Vu(()=>[Td(TF,{modelValue:Po.value,"onUpdate:modelValue":Lo[1]||(Lo[1]=qe=>Po.value=qe),label:"Other Data",items:lo.value,"item-title":"title","item-value":qe=>qe,variant:"outlined","hide-details":"",density:"compact",clearable:""},{item:Vu(({props:qe,item:Bt})=>[Td(OF,zF(qe,{subtitle:Bt.raw.subtitle}),null,16,["subtitle"])]),selection:Vu(({item:qe,index:Bt})=>[E1("div",null,[EF(sR(qe.title)+" ",1),Lo[3]||(Lo[3]=E1("br",null,null,-1)),E1("small",null,sR(qe.raw.subtitle),1)])]),_:1},8,["modelValue","items","item-value"])]),_:1}),Td(R3,{cols:"3",sm:"3",class:"text-right"},{default:Vu(()=>[Td(AF,{color:"primary",style:{"min-width":"40px"},onClick:pr},{default:Vu(()=>[Td(NF,{icon:"mdi:mdi-plus",class:"d-sm-none"}),Lo[4]||(Lo[4]=E1("span",{class:"d-none d-sm-inline"},"Add Item",-1))]),_:1})]),_:1})]),_:1}),Go.ownerType===f9(Rf).TARGET_TYPE_CONVENTION?(bP(),u9(fP,{key:0},{default:Vu(()=>[Td(R3,{cols:"9",sm:"9"},{default:Vu(()=>[Td(TF,{modelValue:To.value,"onUpdate:modelValue":Lo[2]||(Lo[2]=qe=>To.value=qe),label:"Form Data",items:Ro.value,"item-title":"title","item-value":qe=>qe,variant:"outlined","hide-details":"",density:"compact",clearable:""},{item:Vu(({props:qe,item:Bt})=>[Td(OF,zF(qe,{subtitle:Bt.raw.subtitle}),null,16,["subtitle"])]),selection:Vu(({item:qe,index:Bt})=>[E1("div",null,[EF(sR(qe.title)+" ",1),Lo[5]||(Lo[5]=E1("br",null,null,-1)),E1("small",null,sR(qe.raw.subtitle),1)])]),_:1},8,["modelValue","items","item-value"])]),_:1}),Td(R3,{cols:"3",sm:"3",class:"text-right"},{default:Vu(()=>[Td(AF,{color:"primary",style:{"min-width":"40px"},onClick:Cn},{default:Vu(()=>[Td(NF,{icon:"mdi:mdi-plus",class:"d-sm-none"}),Lo[6]||(Lo[6]=E1("span",{class:"d-none d-sm-inline"},"Add Field",-1))]),_:1})]),_:1})]),_:1})):Yq("",!0)],64))}});export{zG as E,Rf as T,sK as _,rK as a,nK as b,NG as u};
