import{n as oe}from"./VGrid-lnm4LJRy.js";import{p as N,ai as V,c,r as ne,bf as $,K as R,ax as E,s as Z,o as ae,aa as X,aO as se,aI as ue,aH as le,b as ie,bh as re,bi as ce}from"./index-HJU8uDYG.js";const D=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),U=1e3,pe=N({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),me=N({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ge(){const n=V(D);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function Ie(n){const o=V(D);if(!o)throw new Error("[Vuetify] Could not find injected layout");const u=n.id??`layout-item-${se()}`,i=E("useLayoutItem");X(q,{id:u});const a=Z(!1);ue(()=>a.value=!0),le(()=>a.value=!1);const{layoutItemStyles:v,layoutItemScrimStyles:l}=o.register(i,{...n,active:c(()=>a.value?!1:n.active.value),id:u});return ie(()=>o.unregister(u)),{layoutItemStyles:v,layoutRect:o.layoutRect,layoutItemScrimStyles:l}}const ve=(n,o,u,i)=>{let a={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...a}}];for(const l of n){const p=o.get(l),m=u.get(l),z=i.get(l);if(!p||!m||!z)continue;const I={...a,[p.value]:parseInt(a[p.value],10)+(z.value?parseInt(m.value,10):0)};v.push({id:l,layer:I}),a=I}return v};function he(n){const o=V(D,null),u=c(()=>o?o.rootZIndex.value-100:U),i=ne([]),a=$(new Map),v=$(new Map),l=$(new Map),p=$(new Map),m=$(new Map),{resizeRef:z,contentRect:I}=oe(),F=c(()=>{const t=new Map,d=n.overlaps??[];for(const e of d.filter(r=>r.includes(":"))){const[r,s]=e.split(":");if(!i.value.includes(r)||!i.value.includes(s))continue;const y=a.get(r),g=a.get(s),S=v.get(r),w=v.get(s);!y||!g||!S||!w||(t.set(s,{position:y.value,amount:parseInt(S.value,10)}),t.set(r,{position:g.value,amount:-parseInt(w.value,10)}))}return t}),h=c(()=>{const t=[...new Set([...l.values()].map(e=>e.value))].sort((e,r)=>e-r),d=[];for(const e of t){const r=i.value.filter(s=>{var y;return((y=l.get(s))==null?void 0:y.value)===e});d.push(...r)}return ve(d,a,v,p)}),H=c(()=>!Array.from(m.values()).some(t=>t.value)),b=c(()=>h.value[h.value.length-1].layer),W=c(()=>({"--v-layout-left":R(b.value.left),"--v-layout-right":R(b.value.right),"--v-layout-top":R(b.value.top),"--v-layout-bottom":R(b.value.bottom),...H.value?void 0:{transition:"none"}})),x=c(()=>h.value.slice(1).map((t,d)=>{let{id:e}=t;const{layer:r}=h.value[d],s=v.get(e),y=a.get(e);return{id:e,...r,size:Number(s.value),position:y.value}})),K=t=>x.value.find(d=>d.id===t),M=E("createLayout"),T=Z(!1);ae(()=>{T.value=!0}),X(D,{register:(t,d)=>{let{id:e,order:r,position:s,layoutSize:y,elementSize:g,active:S,disableTransitions:w,absolute:G}=d;l.set(e,r),a.set(e,s),v.set(e,y),p.set(e,S),w&&m.set(e,w);const j=re(q,M==null?void 0:M.vnode).indexOf(t);j>-1?i.value.splice(j,0,e):i.value.push(e);const k=c(()=>x.value.findIndex(L=>L.id===e)),P=c(()=>u.value+h.value.length*2-k.value*2),J=c(()=>{const L=s.value==="left"||s.value==="right",C=s.value==="right",ee=s.value==="bottom",O=g.value??y.value,te=O===0?"%":"px",B={[s.value]:0,zIndex:P.value,transform:`translate${L?"X":"Y"}(${(S.value?0:-(O===0?100:O))*(C||ee?-1:1)}${te})`,position:G.value||u.value!==U?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!T.value)return B;const f=x.value[k.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const A=F.value.get(e);return A&&(f[A.position]+=A.amount),{...B,height:L?`calc(100% - ${f.top}px - ${f.bottom}px)`:g.value?`${g.value}px`:void 0,left:C?void 0:`${f.left}px`,right:C?`${f.right}px`:void 0,top:s.value!=="bottom"?`${f.top}px`:void 0,bottom:s.value!=="top"?`${f.bottom}px`:void 0,width:L?g.value?`${g.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),Q=c(()=>({zIndex:P.value-1}));return{layoutItemStyles:J,layoutItemScrimStyles:Q,zIndex:P}},unregister:t=>{l.delete(t),a.delete(t),v.delete(t),p.delete(t),m.delete(t),i.value=i.value.filter(d=>d!==t)},mainRect:b,mainStyles:W,getLayoutItem:K,items:x,layoutRect:I,rootZIndex:u});const Y=c(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),_=c(()=>({zIndex:o?u.value:void 0,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:Y,layoutStyles:_,getLayoutItem:K,items:x,layoutRect:I,layoutRef:z}}const be=N({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function xe(n,o){let u=()=>{};function i(l){u==null||u();const p=Number(l?n.openDelay:n.closeDelay);return new Promise(m=>{u=ce(p,()=>{o==null||o(l),m(l)})})}function a(){return i(!0)}function v(){return i(!1)}return{clearDelay:u,runOpenDelay:a,runCloseDelay:v}}function Se(){const o=E("useScopeId").vnode.scopeId;return{scopeId:o?{[o]:""}:void 0}}export{D as V,pe as a,Se as b,he as c,ge as d,be as e,xe as f,me as m,Ie as u};
